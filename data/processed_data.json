{"description":"Update activ job basic md Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus Solid Queue is not in the list of Job backend in the ActiveJob guid Detail This Pull Request add Solid Queue to the list of backend for ActiveJob and link to the README for Solid Queue Addition inform Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip doc add around updat callback exampl Motiv Background This Pull Request has been creat becaus there no exampl for around callback so I think it use for newcom like me Detail This Pull Request chang file ad an exampl for an around updat callback activerecord lib activ record callback rb guid sourc activ record callback md Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"RF DOCS Active Model Basic Document ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat to updat the Active Model Basic Document Detail This Pull Request add the follow two section AttributeAssign Attribut It updat the rest of the section by tri to provid more inform be more clear and includ more exampl In some part it refer the API where more inform about the method can be provid I also address these as part of the chang There the new ActiveModel API modul that was essenti a split from ActiveModel Model this differ can be better explain in the guid as it is in the origin PR https github com rail rail pull The Lint Test section exampl show ActiveModel Model it should probabl be ActiveModel API Its possibl to expand valid with how to check for error and other common usag As well as differ type of callback exampl Some exampl use send those can be updat to use public send instead Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":1,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveStorag race condit on attach Ive ran into a race condit on attach a file to a has mani attach associ It tri to creat ActiveStorag Attachment record even though I attach on file so the other file is actual an ActiveStorag Blob that was alreadi creat by anoth request Ive done a littl research and found that when the model get save the attach chang imag send subchang has record Chang CreateOneOfMani for the exist ActiveStorag Blob Chang CreateOneOfMani for the new ActionDispatch Http UploadedFil I think the problem is that when the subchang get built it load record attach right befor the blob is creat in anoth request and after the blob is creat in anoth request it load all blob for the subchang So in the end it perceiv the blob as a complet new attach My specif case is super simpl I dont need to know anyth about alreadi exist attach so the on thing I need is to correct save and upload the file So I came up with the next workaround subchang ActiveStorag Attach Chang CreateOneOfMani new imag storag param imag storag imag attach subchang attach subchang upload Step to reproduc rubi class Storag ApplicationRecord has mani attach imag end class Storag ImagesControl ApplicationControl def creat storag attach param imag end end Expect behavior When were do multipl request simultan all the imag should get save success in other word on pair of ActiveStorag Attachment and ActiveStorag Blob is creat Actual behavior ActiveRecord RecordNotUniqu PG UniqueViol ERROR duplic key valu violat uniqu constraint index activ storag attach uniqu DETAIL Key record type record id name blob id Storag e d fe cc ee e imag f f bc f aaf b ba e alreadi exist System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add valu format option to numer length and comparison valid Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR In current implement format numer or date valu in messag generat by valid typic requir specifi the messag option or implement custom valid Howev I on want to format the count and do not need to handl the messag apart from the messag option so I believ it should be a nativ featur of the framework Detail This pull request introduc the valu format option for valid such as numer length and comparison With this option it becom possibl to format the valu pass to count in i n messag e g messag like must be equal to can now be generat rubi class MyModel ApplicationRecord valid my attribut numer equal to valu format valu valu to fs delimit end Addition inform There have been sever similar PRs submit in the past https github com rail rail pull https github com rail rail pull Compar them There is no impact on exist implement sinc it can be specifi with option It also support length and comparison where count is use not limit to numer If there are ani error or inconsist in the English languag in the chang log or document plea point them out Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov tool profil Motiv Background Run this on modern rubi version fail on I believ this has been a chang made in Rubi This also fix deprec warn be print The altern have been ad more than a decad ago I doubt version from then would even run on Rubi anymor https github com rubi prof rubi prof commit cdb d b dce f dad f d b f Now if nobodi has notic this breakag perhap this is just dead code and should be remov instead I was just curious what this one was about Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix index method for non exist MySQL tabl Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":1,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Mysql adapt rai when queri index that do not exist Step to reproduc rubi requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem mysql gem sqlite end requir activ record requir minitest autorun requir logger opt adapt mysql host localhost usernam root password root databa mysql adapt index diff ActiveRecord Base establish connect opt except databa ActiveRecord Base connect drop databa opt databa ActiveRecord Base connect creat databa opt databa ActiveRecord Base establish connect opt ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end end class Post ActiveRecord Base end class BugTest Minitest Test def test mysql index error klass Post assert rai ActiveRecord StatementInvalid klass connect index tabl that doe not exist end end sqlite ActiveRecord Base establish connect adapt sqlite databa memori class BugTest Minitest Test def test sqlite empti array klass Post assert empti klass connect index tabl that doe not exist end end Expect behavior In the mysql test it should return an empti array instead of rai This would match the behavior for postgr and sqlite adapt If you can uncom the necessari sqlite test case you can see that the test pass in return an empti array Actual behavior Mysql adapt rai when queri for index that dont exist System configur Rail version Using rail Using mysql Rubi version rubi p revi ba cf f c arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":1,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add dirti option to Model uncach Motiv Background This is an altern to https github com rail rail pull For Solid Cach https github com rail solid cach we want to be abl to read and write from the cach databa without use the queri cach We also dont want to expir the queri cach on other connect pool when we write Write to the Rail cach shouldnt invalid the main queri cach cc byroot jeremi Detail This add a dirti option to ActiveRecord Base uncach and ActiveRecord ConnectionAdapt ConnectionPooluncach Set dirti to fal mean databa write to the connect pool will not mark ani queri cach as dirti The option default to true which retain the exist behaviour and clear queri cach on all connect pool use by the current thread Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add a miss method as opposit for a exist Motiv Background This Pull Request has been creat becaus we have so mani syntax sugar like for present method we have blank and so on so that would be realli nice to add opposit method for a exist instead of write alway or use unless Detail This Pull Request chang add just an invert exist method call miss So it realli simpl but power chang Rework of PR Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Circular data structur rai SystemStackError when serial them with to json Circular data structur rai a non help error messag when serial them with to json Here on array and hash are cover but I assum it could also appli to other arbitrari complex structur such as depend Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main end requir activ support requir activ support core ext object blank requir minitest autorun class BugTest Minitest Test def test to json for circular array self nest array Array new tap a a append a assert equal self nest array to json end def test to json for circular hash self nest hash self nest hash self nest hash assert equal self nest hash to json end end Expect behavior Prefer Base on the pure rubi output Id assum a serial valu of for the repres of the nest object like array and hash rubi irb main h h h irb main h to s irb main a a a irb main a to s Acceptabl Rai a more help error messag similar to what is return from the json gem irb main h to json irb in to json nest of is too deep JSON NestingError from irb in from User jorgseitz asdf instal rubi lib rubi gem gem irb exe irb in from User jorgseitz asdf instal rubi bin irb in load from User jorgseitz asdf instal rubi bin irb in irb main a a a irb main a to json irb in to json nest of is too deep JSON NestingError from irb in from User jorgseitz asdf instal rubi lib rubi gem gem irb exe irb in from User jorgseitz asdf instal rubi bin irb in load from User jorgseitz asdf instal rubi bin irb in Actual behavior It rai SystemStackError stack level too deep due to an infinit loop and while this is unlik it could theoret lead to a segment fault crash the rubi process System configur rubi version Addition inform mayb it help To work around this issu our team had the follow monkey patch in the codeba rubi requir set Handl circular refer modul SaneAsJSON def protect sane as json block old Thread current seen Thread current seen Set new Thread current seen id block ensur Thread current seen old end def as json option nil nodoc if s Thread current seen and s member id self el protect sane as json super end end end Array Hash each klass klass prepend SaneAsJSON This stop work due to the follow chang which is whi Im bring it up now https github com rail rail commit e e f db e bcace a c fa bb d diff split w diff c bc ddd f d fb f a e ff b c fc aR R","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update mysql gem Motiv Background This Pull Request has been creat becaus new version has updat that requir on my Apple M chip processor and I guess for other peopl it also use becaus of easier instal and just lib updat Detail This Pull Request updat a mysql gem to version Addition inform I have no addit info Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"chore updat mysql to Motiv Background fix https github com rail rail issu This Pull Request has been creat becaus MySQL remov a few APIs https dev mysql com doc relnot mysql en news html that the mysql gem reli upon This is fix in the next patch relea of brianmario mysql v https github com brianmario mysql relea tag Detail This Pull Request chang the specifi version of the mysql gem to be to avoid instal a version that is incompat with recent MySQL version name Addition inform FWIW I am not familiar enough with Rail and it relianc on this gem to proper diagno ani potenti negat side effect with this chang It solv the immedi problem for me local but there is probabl more due dilig to be done here and Id heart some guidanc on the best way to ensur this chang is solid Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number N A Test are ad or updat if you fix a bug or add a featur N A CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":1,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"bundl instal fail on Edge mysql gem incompat with MySQL Step to reproduc Clone a fresh copi of Rail sh git clone git github com rail rail git Install MySQL sh brew instal mysql at this time instal Attempt to Install depend sh cd rail bundl instal Note the error specif sh client c error call to undeclar function mysql ssl set ISO C and later do not support implicit function declar Wimplicit function declar mysql ssl set wrapper client Expect behavior bundl instal succeed unceremoni Actual behavior Bundler fail to instal mysql with the follow error sh client c error call to undeclar function mysql ssl set ISO C and later do not support implicit function declar Wimplicit function declar mysql ssl set wrapper client Addition Informat I dont think this is specif to my system although spec are list below My understand of the issu after poke around the interweb the last coupl even stem from the fact that MySQL remov a few APIs that the mysql gem reli upon This is fix in the next patch relea of brianmario mysql v https github com brianmario mysql relea tag Simpli upgrad this gem local allow bundl instal to pass as expect although Im not familiar enough with the Rail project to proper triag ani potenti side effect System configur Rail version Edge Rubi version rubi revi f ac x darwin System spec if it help Mac OSX G CPU GHz Quad Core Intel Core i GPU Intel HD Graphic MB RAM GB MHz LPDDR","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":1,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix document and sampl code for ActiveSupport Logger logger output to Fix incorrect document for ActiveSupport Logger logger output to The method expect the first argument to be a Logger object and subsequ variad argument to be either IO object or string repr file path Also correct the sampl code in CHANGELOG md which previous on pass a singl argument not reflect the correct usag relat PR https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add x linux platform to Gemfil lock Motiv Background This Pull Request has been creat becaus I notic that the build job in the RuboCop GitHub Action workflow is fail owe to a miss platform set Detail This Pull Request add x linux to the PLATFORMS section of Gemfil lock Addition inform The PLATFORMS section seem to vari wild across time and stabl branch in this repo So Im not terribl sure what should be list here but at the veri least this chang unblock the GitHub Action workflow Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport CVE to stabl branch Motiv Background This Pull Request has been creat becaus there hasnt yet been a patch appli to the stabl branch resolv CVE The secur announc https discuss rubyonrail org t possibl xss vulner in action control make no mention of backport those fix to stabl See also radar That the background Id say my motiv is that Id like to unblock myself and anyon el wait for the backport Detail This Pull Request appli exist commit in the stabl branch relat to resolv CVE Appli the fix did requir ish backport the ActiveSupport HtmlSafeTransl modul I suppo the patch could be appli without ad that modul but that was the easiest path I could identifi Most of the cherri pick introduc conflict that I resolv by hand to the best of my abil Im certain open to feedback on that approach or on ani addit chang that should be made Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Do NOT add Brakeman by default to new Rail app due to Non Commerci licen Issue I love the idea of ad SAST as a default for new Rail project but Im concern about the licen relat stuff Brakeman was bought by Synopsi back in and is non longer MIT licen Brakeman is free for non commerci use on imag https github com rail rail asset ad ac e bc b ce cc e Code commit on or after June is licen under the Brakeman Public Use Licen https github com presidentbeef brakeman blob main LICENSE md and is own by Synopsi Inc Code commit prior to June is licen under the MIT licen and is own by the respect copyright holder https github com presidentbeef brakeman blob main COPYING md Current Brakeman licen https github com presidentbeef brakeman blob main LICENSE md I had the issu with Brakeman licen in the past due to Auditor not like the current state of the Brakeman licen as this point is not veri clear while Brakeman is be use as part of the CI CD servic Exampl of Commerci Uses includ but are not limit to Using the Softwar as a compon of a valu ad servic product I think someon with experi relat to Licen should look into that befor Brakeman is ad as a default to all new Rail project Adding Brakeman might caus some issu to the new potenti commerci Rail app where dev are not concern with licen stuff If You think that the non issu plea confirm that Brakeman can be use with Rail project without licen issu Timelin issu open by dhh https github com rail rail issu at st Dec Brakeman https brakemanscann org is a great way to prevent common secur vulner in Rail from go into product We should be encourag that for new applic Especial for newcom to the framework who might otherwi make rooki mistak So let add it in the same way we just ad Rubocop skip brakeman if you dont want it otherwi we add to default gemfil and creat a default binstub in bin brakeman PR for ad Brakeman open by vipulnsward https github com rail rail pull at st Dec issu open by dhh https github com rail rail issu at st Dec issu open by dhh https github com rail rail pull at st Jan Background Rail licen Screenshot at https github com rail rail asset b f b f dde d d eab Rubi on Rail is on use permiss licen current MIT BSD APACHE Brakeman will be the first default gem that is use non permiss licen Default current upcom gem Im awar of Gem Licen rail MIT kredi MIT sprocket rail MIT pg BSD CLAUSE puma BSD CLAUSE importmap rail MIT turbo rail MIT stimulus rail MIT jbuilder MIT redi MIT bcrypt MIT bootsnap MIT imag process MIT debug BSD CLAUSE web consol MIT rack mini profil MIT spring MIT error highlight MIT capybara MIT selenium webdriv APACHE rspec MIT kamal MIT propshaft MIT solid queue MIT solid cach MIT","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport Update doc for erb trim mode ci skip Backport cc ad effc be f a d b e so that we dont need to wait for for the doc to be updat Fix https github com rail rail issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Migrat current version to instanti SchemaMigr correct This was miss in https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make connect alway return a perman lea connect Ref https github com rail rail pull Redo of https github com rail rail pull The introduct of ActiveRecord Base with connect somewhat broke some expect name that call connect would caus the connect to be permen lea henc that futur call to it would return the same connect with all it possibl environ chang So ani call to connect even insid with connect should caus the lea to be sticki and persist beyond the with connect block After discuss with matthewd one big worri is that peopl might hold onto the return valu of Base connect beyond the scope of the transact block which could leak to segfault or wor data leak So in the end I think we need to do this That make https github com rail rail pull a bit harder to achiev but not the end of the world","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Set action mailer default url option valu in develop and test Motiv Background Prior to this commit new Rail applic would rai ActionView Templat Error if a mailer includ a url built with a path helper Sinc we alreadi know new app will be serv on localhost new app we set this as the valu in develop In an effort to remain consist with exist patter we set the host to www exampl com in test new app https github com rail rail blob db d d b f c dad dacdacd README mdplain L Addition inform If we feel this is not the right solut how do we feel about at least ad these valu but comment out Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Plea relea a version with a patch for CVE This commit https github com rail rail commit a ef ad b e ebe d f f e is present on the stabl and stabl branch As per Rail Mainten Polici stabl should have also receiv this patch Could you plea add this patch to stabl as well","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Handl array valu of belong to primari key option Motiv Background Resolv Resolv by allow user to set all queri constraint on associ definit leav model in a state compat with activ storag and activ text associ Detail This PR merg handl of primari key by belong to associ and has associ into one render afor associ behaviour expect symmetr Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"add linestr and multilinestr for mysql Motiv Background In mysql there are two column data type linestr and multilinestr At the moment we cannot creat those two use rb t column test col linestr t column test mcol multilinestr When run db migrat it will print to schema rb rb Could not dump tabl test becaus of follow StandardError Unknown type linestr for column ls Test repo https github com zgid test mysql data type Detail I follow this PR https github com rail rail pull to add those two type I still not know how to write unit test for this case Plea help me this one Addition inform Here the result after the fix rb ActiveRecord Schema defin version do creat tabl test charset utf mb forc cascad do t t string name t decim number preci t linestr ls t multilinestr mls t datetim creat at null fal t datetim updat at null fal end end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix typo ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Fix a typo","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Doc Encourag html safe method for safe join ci skip Motiv Background This method is about proper escap html Let use safe method when it make sen for the exampl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Explore way to reload gem Discuss start in https github com fxn zeitwerk issu The purpo of this ticket would be to explor way to let Rail reload some gem This could be use if the gem is be activ develop The document of Zeitwerk warn https github com fxn zeitwerktab readm ov filerul of thumb this may be tricki In a given process ideal there should be at most one loader with reload enabl Technic you can have more but it may get tricki if one refer to constant manag by the other one Do that on if you know what you are do In the propo use case the applic refer to constant in the gem and the gem doe not refer to constant from the applic This is import cc matthewd","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip Add warn about dedupl of after xxx commit shortcut Motiv Background Im not the first person to be bitten by dedupl of after xxx commit shortcut Detail Adds document to warn about this","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"previous chang overwritten upon multipl save with a transact block Problem More of a featur request previous chang get overwritten everi time an ActiveRecord is save This mean that if a record is save multipl time in a transact block upon commit there might be field chang persist upon commit that are not includ in previous chang This becom a problem if we are reli on previous chang to condit execut code in an after commit Anecdot this has lead to silent skip of execut in some import after commit s becaus of this non obvious behavior This has been discuss befor but the issu link https github com rail rail issu issuecom is broken Im veri curious what was discuss Request either chang previous chang implement to accumul chang over multipl save in the lifecycl of the AR instanc add a method like previous chang that doe this Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi class User ActiveRecord Base t string first name t string last name end init record user User new first name Jeff last name Bezo user save ApplicationRecord transact do employ first name Bill employ save same behavior for updat employ last name Gate employ save end expect previous chang key first name last name print employ previous chang key actual output last name System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update layout and render md Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus of an incorrect refer to the act of renam a partial when in fact it is a local variabl that would be renam instead Detail This Pull Request chang that refer from partial to local variabl as it is refer to in a previous section in this same guid document Addition inform Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"DOCS Confus descript and broken link for config action view erb trim mode Give the trim mode to be use by ERB It default to which turn on trim of tail space and newlin when use or See the Erubi document http www kuwata lab com erubi user guid htmltopic trimspac for more inform The on possibl option for config action view erb trim mode is which if set enabl trim mode https github com rail rail blob db d d b f c dad dacdacd actionview lib action view templat handler erb rbL and it not use anywh el Ani other option is not possibl Previous tri to fix it https github com rail rail pull was reject but this actual correcti describ current behaviour Also Erubi document link is broken It constant give Error Server Error Im not sure if this is need at all consid the on possibl option is","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix flaki multi db migrat test rb test Fix In the touch in this PR test case migrat were not proper revert and so this migrat from the fail test case was not run https github com rail rail blob b e f ddd e c a activerecord test case migrat compat test rbL L becaus we alreadi have a migrat with version migrat cc yahonda","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Fix upgrad guid AR hash digest class ci skip Motiv Background While the configur guid for config activ record encrypt hash digest class is correct regard the start version in which this configur is default to SHA the upgrad guid say that the start version is which is incorrect This can caus someon upgrad an app that was creat with Rail to to think that they are safe becaus they are alreadi use SHA when they are not Detail This Pull Request chang the upgrad guid guid sourc upgrad rubi on rail md by mention that SHA was the default config activ record encrypt hash digest class befor Rail not Rail Addition inform See https edgeguid rubyonrail org configur htmlconfig activ record encrypt hash digest class This configur guid is correct We just need to fix the upgrad guid to make it match with it Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Introduc Rail Gener Test Assertionsassert initi Motiv Background Compliment the exist initi generat action initi https api rubyonrail org class Rail Gener Action htmlmethod i initi Detail rb assert initi mail interceptor rb assert initi mail interceptor rb SandboxEmailInterceptor assert initi mail interceptor rb do initi assert match SandboxEmailInterceptor initi end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor FixtureSet to deal with connect pool Extract from https github com rail rail pull Allow to check the cach without check out a connect","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont requir an activ connect for tabl and column quot Extract from https github com rail rail pull Right now quot tabl or column name requir a lea Adapter instanc even though none of the implement actual requir an activ connect The idea here is to move these method to the class so that the quot can be done without lea a connect or even need the connect to ever have been establish I also check activerecord sqlserver adapt FYI aidanharan and oracl enhanc FYI yahonda gem and neither need an activ connect Also FYI matthewd as you may have opinion Im a bit on the fenc about move these to the class an altern could be to move them to a differ object but Im think this keep the Adapter interfac simpler","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Handl bad URIs when filter redirect Motiv Background rail rail introduc paramet filter for redirect We didnt account for invalid URIs though and it chang the behaviour of redirect to to rai URI error when we tri to filter a bad URI Instead we should fallback to filter bad URIs entir to preserv behaviour This Pull Request has been creat becaus rail rail chang the behaviour of redirect and Im concern it will break applic Detail This Pull Request chang redirect filter to fallback to filter the entir URI when we cant par the URI Addition inform We seem to do this for permit host check etc so I think this is the correct behaviour Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"CompatibilityTest test datetim doesnt set preci on chang column fail Step to reproduc Manag to reproduc CI failur at https buildkit com rail rail night build dd ac bb b b e e a rubi git clone https github com rail rail cd rail activerecord bundl exec rake db mysql rebuild bundl instal ARCONN mysql bin test test case multi db migrat test rb test case migrat compat test rb n MultiDbMigratorTest test migrat db has no schema migrat tabl CompatibilityTest test datetim doesnt set preci on chang column seed Expect behavior It should pass Actual behavior rubi ARCONN mysql bin test test case multi db migrat test rb test case migrat compat test rb n MultiDbMigratorTest test migrat db has no schema migrat tabl CompatibilityTest test datetim doesnt set preci on chang column seed Using mysql Run option n MultiDbMigratorTest test migrat db has no schema migrat tabl CompatibilityTest test datetim doesnt set preci on chang column seed Run F Failur CompatibilityTest test datetim doesnt set preci on chang column test case migrat compat test rb Expect fal to be truthi bin test test case migrat compat test rb Finish in s run s assert s run assert failur error skip System configur Rail version main branch Rubi version rubi revi f ac x linux","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":1,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"If you set after destroy commit after creat commit call the same method Onli one fire Step to reproduc have after destroy commit and after creat commit callback call the same method after destroy commit increment count after creat commit increment count rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl foo forc true do t end creat tabl bar forc true do t end creat tabl counter forc true do t t integ count default end end class Foo ActiveRecord Base after destroy commit increment count after creat commit increment count def increment count counter Counter first counter count counter count counter save end end class Bar ActiveRecord Base after destroy commit increment count a after creat commit increment count b def increment count a counter Counter first counter count counter count counter save end def increment count b counter Counter first counter count counter count counter save end end class Counter ActiveRecord Base end class BugTest Minitest Test def test callback on share method counter Counter creat assert equal counter reload count foo Foo creat assert equal counter reload count foo destroy assert equal counter reload count end Just for good measur pass test where the on differ is that callback call differ method def test callback on differ method counter Counter creat assert equal counter reload count bar Bar creat assert equal counter reload count bar destroy assert equal counter reload count end end Expect behavior Both callback fire Actual behavior Onli the second callback fire after creat commit in this exampl The root of this seem to be that both callback are alia for after commit which then presum use the call method as a key in some way Howev this conflict is both surpri and as far as I can tell not warn about in the doc System configur Rail version Install rail Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update deleg type use deleg type attribut produc orphan children Step to reproduc rubi requir bundler inlin gemfil true do sourc https rubygem org gem rail gem sqlite platform mri end requir activ record requir minitest autorun ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl product do t t refer purcha polymorph true t text name t timestamp end creat tabl digit good do t t boolean drm free t timestamp end creat tabl physic good do t t decim weight t timestamp end end class ApplicationRecord ActiveRecord Base self abstract class true end class Product ApplicationRecord deleg type purcha type w DigitalGood PhysicalGood accept nest attribut for purcha end class DigitalGood ApplicationRecord has one product as purcha touch true end class PhysicalGood ApplicationRecord has one product as purcha touch true end class BugTest Minitest Test def setup Product destroy all PhysicalGood destroy all DigitalGood destroy all end def test deleg type updat Product creat name CD purcha type PhysicalGood purcha attribut weight Product creat name Video purcha type DigitalGood purcha attribut drm free true Product last purcha updat drm free fal assert equal Product count assert equal PhysicalGood count assert equal DigitalGood count end def test deleg type updat with purcha attribut Product creat name CD purcha type PhysicalGood purcha attribut weight Product creat name Video purcha type DigitalGood purcha attribut drm free true Product last updat purcha attribut drm free fal assert equal Product count assert equal PhysicalGood count assert equal DigitalGood count a child get orphan here end end Expect behavior In the same way we creat record use the parent class we expect to be abl to updat the associ child deleg type record as well i e both of our test exampl should be pass Actual behavior When the deleg type attribut e g purcha attribut are use in the updat call a new child deleg type record will be creat and the parent will updat it foreign key refer to the new child This leav an orphan record in the child tabl i e as a result our test deleg type updat with purcha attribut test fail becaus the number of child record name DigitalGood has chang System configur Rail version Rail Rubi version rubi p revi bb a arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Doc ActiveRecord valid Skip Valid fail to mention callback timestamp in some case Step to reproduc https guid rubyonrail org activ record valid htmlskip valid list a bunch of method that skip valid One of these is updat column which in addit to skip valid also skip callback and doesnt updat timestamp This is explain in the method doc at https api rubyonrail org class ActiveRecord Persist htmlmethod i updat column but should also be mention there Other list method like do someth similar Expect behavior Doc should mention what other consequ there are to use these method apart from just skip valid Might be fine to just put this as a general note urg the user to look up the doc for the method they are interst in use Mayb method doc can be link to direct from the list instead of just use method name code block","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ConnectionPool handl schema reflect be re assign This fix a regress recent introduc that a schema reflect assign from take effect FYI jenshenni","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Fix issu with IDs reader on preload associ for composit primari key Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix https github com rail rail issu Detail When use composit primari key in a model the primari key will be an array This rai an issu when call the id method on a preload associ Internal Rail use the pluck method from Enumer to retriev the preload result Howev the pluck method doe not accept an array as it argument To accommod that we need to use the splat oper to split the array into multipl argument dynam Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Retri SELECT queri on connect relat except Motiv Background SELECT queri are idempot and thus safe to retri automat This commit leverag allow retri to enabl automat retri on queri that go through ActiveRecord ConnectionAdaptersDatabaseStatementsselect This should help with connect relat except stem from network issu Notabl at Shopifi our applic have been encount sporad Trilog EOFError except on find relat load Detail Pass allow retri true when call intern exec queri from ActiveRecord ConnectionAdaptersDatabaseStatementsselect Addition inform There was discuss around retri UPDATE and DELETE queri as well This is potenti still valuabl though most Active Record updat and delet are wrap insid transact that are retri abl anyway Retri SELECT queri will make a far more signif differ so were propo we start by make these queri retri abl Wed also like to make the case to backport this to stabl some of Shopifi Rail applic are have troubl move to trilog becaus connect relat except have been pop up and the DB adapt hasnt been abl to retri reconnect Its unclear whi Trilog in particular is experienc these issu but Trilog is not usabl for some of our applic without these chang Make this avail in the next patch relea would help Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Model queri constraint with singl non primari key column rai incorrect error Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix Detail This Pull Request chang ActiveRecord Reflect AssociationReflectiond fk queri constraint to rai an exist more appropri error if Model queri constraint is given a singl non primari key column argument Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Model queri constraint with a singl non primari key column rai a confus error Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Using Model queri constraint with a singl column that not the primari key rai an error meant for pass more than column This issu has exist sinc these rai were origin ad in rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail path rail gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl organi forc true do t end creat tabl employ forc true do t t integ organi id end end class Organi ActiveRecord Base has mani employ end class Employ ActiveRecord Base queri constraint organi id belong to organi end class BugTest Minitest Test def test queri constraint with singl non primari key column org Organi creat org employ Employ creat assert equal org employ count rai as it should but with a confus messag end end Expect behavior It turn out there is alreadi an appropri error for this case https github com rail rail blob f dec ea a f e e cf ea da d c activerecord lib activ record reflect rbL L We never reach it becaus of the incorrect condit for the error befor I would expect this to get rai rubi Error BugTesttest associ stuff ArgumentError The queri constraint on the Employ model doe not includ the primari key so Active Record is unabl to deriv the foreign key constraint for the associ You need to explicit defin the queri constraint for this associ test rb in test queri constraint with singl non primari key column Actual behavior Rai this error rubi Error BugTesttest associ stuff ArgumentError The queri constraint list on the Employ model has more than attribut Active Record is unabl to deriv the queri constraint for the associ You need to explicit defin the queri constraint for this associ test rb in test queri constraint with singl non primari key column System configur Rail version main Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Set an asset prefix lead to error on POST request I tri to get my app run under a special path with RAILS RELATIVE URL ROOT I do that becaus my app run in a kubernet cluster and I need a specif rout e g localhost team tracker But if I set the asset prefix path the site and style are work but the POST request are fail like that POST http team tracker import extern issu RAILS RELATIVE URL ROOT team tracker I have my rout scope like that rout rb Rail applic rout draw do scope ENV RAILS RELATIVE URL ROOT do resourc board issu resourc board list resourc home post import extern issu to issuesimport extern issu end end Then I set an asset prefix so that my asset are link correct develop rb config asset prefix ENV RAILS RELATIVE URL ROOT asset But this step break the POST request Am I dong someth wrong Is there an easier way to use an ingress with a special rout Step to reproduc Set RAILS RELATIVE URL ROOT and a correspond asset prefix Expect behavior POST request are work the same like without set the asset prefix Actual behavior POST request dont work POST http team tracker import extern issu System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor InternalMetadata MigrationContext to belong to the pool Extract from https github com rail rail pull Similar to the recent refactor of schema cach rather than to direct hold a connect they now hold a pool and checkout a connect when need NB I did spot one leaki failur to investig bin test seed","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Defin AR migrat generat default databa config Motiv Background This PR defin a new Active Record configur to tune the default databa that get use when generat migrat Applicat that have shard DBs usual defin a primari databa where most of the metadata rout tabl are while keep most of the data in the shard DB instanc In these scenario most if not all of the schema chang are creat to target the shard DB schema not the primari one Make the default databa migrat point to configur simplifi develop experi Addition inform The lack of this configur option is make Shopifi to monkey patch the MigrationGen class Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"may have broken stimulus control Step to reproduc I happen to be creat a new Rail test app a few hour ago when was relea A stimulus control Ive use for year all of a sudden produc an error rubi The resourc http localhost asset control flashIt control d fc bd d b faec c d bb e a f f a f de js was preload use link preload but not use within a few second from the window load event Plea make sure it wasnt preload for noth The markup that load the control slim div col span flash each do name msg if msg is a String flash box w anim right p data control flashIt data flashIt target flashBox class name to s notic text green bg green px p text red bg red px content tag span content tag strong msg The control javascript import Control from hotwir stimulus export default class extend Control static target flashBox connect this closeFlashIt closeFlashIt var box this flashBoxTarget setTimeout function var op initi opac var timer setInterv function if op clearInterv timer box style display none box style opac op box style filter alpha opac op op op The flash messag will show up if there is a flash messag but it wont fade out The messag first show up in the js consol short after the page is load it on everi page sinc it in the menubar I open the consol when the messag did not fade out Expect behavior Actual behavior System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix beginless and endless rang comparison Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus some endless and beginless rang comparison rai RangeError due to ActiveSupport CompareWithRang Detail This Pull Request chang the CompareWithRang and CompareWithRangeinclud method to support begin and endless rang on the left and right hand side of the comparison Addition inform POR rubi fal fal Rail rubi RangeError cannot get the last element of endless rang from activesupport lib activ support core ext rang compar rang rb in last RangeError cannot get the first element of beginless rang from activesupport lib activ support core ext rang compar rang rb in first This PR rubi true fal fal true Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord queri against an unmigr databa break Zeitwerk Step to reproduc Defin a has and belong to mani relationship on a model for exampl rubi class Apple ApplicationRecord has and belong to mani orang end Setup the relationship use creat join tabl in a migrat file Write code to use the relationship such as rubi file rb Apple join orang first line Use schema format sql Run the migrat from step to updat db structur sql Roll the databa back Run bin rail zeitwerk check Expect behavior All is good output Actual behavior This is output ActiveRecord StatementInvalid PG UndefinedT ERROR relat orang appl doe not exist LINE FROM appl INNER JOIN orang User person file rb Commentari The obvious solut is to run the migrat Howev it not alway possibl to run the migrat befor run some other code that Zeitwerk will eager load on For exampl in a product scenario I need to build the deploy and then run the migrat later through the built deploy code Dure asset precompil in the build phase I am see the abov style of error in connect with this kind of error ERROR in app javascript other afil js erb Modul build fail from node modul rail erb loader index js Error rail erb loader fail with code at ChildProcess tmp build e a node modul rail erb loader index js at ChildProcess emit node event at maybeClo node intern child process at ChildProcess handl onexit node intern child process app javascript applic js webpack compil with error in ms fxn System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip Update ActiveStorag Doc Include document around usag of the key paramet in attach method to specifi folder within S Bucket for organ file and store them with intuit name","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Respect rai on miss translat in control translat Previous rai on miss translat was not be respect in a control This commit bring back the correct behaviour This will be backport to stabl and stabl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Default docker setup is not resili to host abrupt shutdown ex power loss Puma wont due to unclean PID file Step to reproduc Gener new rail project Deploy it to a server use a templat Dockerfil and docker entrypoint script with docker restart option restart unless stop Power off the server Power on the server The contain will fail to start Inspect docker log will show Boot Puma Rail applic start in stage Run bin rail server help for more startup option A server is alreadi run pid file rail tmp pid server pid Exite I do not see a way to write a test case for it Sorri Expect behavior The server would start after host power is restor Actual behavior The server cannot start the contain keep restart System configur Rail version Rubi version I encount this issu when work with Kamal gem The solut I use is expand a docker entrypoint script bin docker entrypoint bash bin bash e If there is an exist PID puma file then remov it if f rail tmp pid server pid then rm rail tmp pid server pid fi If run the rail server then creat or migrat exist databa if bin rail server then bin rail db prepar fi exec","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make connect alway return a perman lea connect Ref https github com rail rail pull The introduct of ActiveRecord Base with connect somewhat broke some expect name that call connect would caus the connect to be permen lea henc that futur call to it would return the same connect with all it possibl environ chang So ani call to connect even insid with connect should caus the lea to be sticki and persist beyond the with connect block cc bensheldon matthewd as discuss on the previous PR To be frank Im a bit on the fenc about this one I total understand the compat argument but this make https github com rail rail pull way harder if not imposs to achiev Unless we introduc some privat altern to connect which essenti doe the same but doesnt extend the lea","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix code format in layout and render guid skip ci","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont forc clear temporarili disabl queri cach Followup https github com rail rail pull The behavior chang to alway clear the queri cach as soon as it disabl on the assumpt that onc queri have been perform without it all bet are off Howev that isnt quit true we can appli the same clear logic than when it enabl If you perform read on queri without the cach there is no reason to clear it","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"clear queri cach for current thread avoid pin all connect Ref https github com rail rail pull discuss r Now that the pool is own by the pool we can clear it without hace to checkout a connect cc matthewd bensheldon","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont forc control or integr test to load https github com rail rail pull replac refer to ActionControl TestCa and ActionDispatch IntegrationTest in this file with lazi load hook to avoid load them prematur but these requir meant that they were still load anyway Aside from the direct benefit of load as littl as possibl until necessari this will allow user of https github com amatsuda rout lazi rout to run e g a model test without load the applic rout which can reduc boot time signif for larg applic","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"find or creat by behavior rai RecordNotFound in Rail Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch stabl Switch to below work gem rail github rail rail branch stabl gem mysql end requir activ record requir minitest autorun requir logger opt databa uniqu key test adapt mysql usernam root ActiveRecord Base logger Logger new STDOUT ActiveRecord Base establish connect opt except databa ActiveRecord Base connect drop databa opt databa ActiveRecord Base connect creat databa opt databa ActiveRecord Base establish connect opt ActiveRecord Schema defin do creat tabl tag forc true do t t string foo t bigint foo id t string name t index foo foo id uniqu true end end class Tag ActiveRecord Base end class BugTest Minitest Test def test find or creat by time do t begin Tag find or creat by foo Foo foo id name foo t rescu ActiveRecord RecordNotUniqu some app logic that handl RecordNotUniqu end end assert equal Tag count end end Expect behavior This is almost the same as https github com rail rail issu but without concurr involv In Rail find or creat by with duplic uniqu constraint rai ActiveRecord RecordNotUniqu error Actual behavior In Rail the abov exampl rai ActiveRecord RecordNotFound with follow sql queri D T DEBUG Tag Load ms SELECT tag FROM tag WHERE tag foo Foo AND tag foo id AND tag name foo LIMIT D T DEBUG TRANSACTION ms BEGIN D T DEBUG Tag Creat ms INSERT INTO tag foo foo id name VALUES Foo foo D T DEBUG TRANSACTION ms COMMIT D T DEBUG Tag Load ms SELECT tag FROM tag WHERE tag foo Foo AND tag foo id AND tag name foo LIMIT D T DEBUG TRANSACTION ms BEGIN D T DEBUG Tag Creat ms INSERT INTO tag foo foo id name VALUES Foo foo D T DEBUG TRANSACTION ms ROLLBACK D T DEBUG Tag Load ms SELECT tag FROM tag WHERE tag foo Foo AND tag foo id AND tag name foo LIMIT System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Increa assert output timeout for FullStackConsoleTest and ApplicationTest ServerTest Motiv Background This pull request address the follow failur at Rail Night CI with assert enabl Rubi that has been built with cppflag DENABLE PATH CHECK DRUBi DEBUG optflag O fno inlin https buildkit com rail rail night build dc d baa ae a c ab f https buildkit com rail rail night build dc d c c b c f d a fb Relat to Detail Failur fix by this commit rubi rubi v rubi dev T Z master c cb cf x linux bin test test applic consol test rb n test sandbox Run option n test sandbox seed F Failur FullStackConsoleTesttest sandbox test consol helper rb expect but got app templat dev quapp templat dev quiapp templat dev quit Expect r napp templat dev quapp templat dev quiapp templat dev quit to includ bin test test applic consol test rb Finish in s run s assert s run assert failur error skip rubi bin test test applic server test rb Run option seed F Failur ApplicationTest ServerTesttest restart rail server with custom pid file path test consol helper rb Listen expect but got Expect to includ Listen bin test test applic server test rb F Failur ApplicationTest ServerTesttest run server block after the server start test consol helper rb Hello world expect but got Expect to includ Hello world bin test test applic server test rb Finish in s run s assert s run assert failur error skip Addition inform Note These failur depend on assert timeout and test environ If these failur do not reproduc local set short timeout should reproduc them diff git diff diff git a railti test consol helper rb b railti test consol helper rb index d a d ed a railti test consol helper rb b railti test consol helper rb end modul ConsoleHelp def assert output expect io timeout def assert output expect io timeout timeout Time now timeout output Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"url for helper incorrect combin queri paramet on rout with a default paramet Step to reproduc Defin a rout with a queri paramet in the rout Call url for to generat that rout provid addit queri paramet rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org gem rail end requir action control railti class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger rout draw do get foobar baz testindex as foo end end requir minitest autorun requir rack test class BugTest Minitest Test includ Rack Test Method def test return success assert equal url helper foo path queri param foobar baz queri param end privat def url helper Rail applic rout url helper end end Expect behavior The addit URL paramet should be ad use an Actual behavior The addit URL paramet are ad use an System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov all deprec code from Active Record Part of","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix typo ci skip x This Pull Request is relat to one chang x Commit messag has a detail descript of what chang and whi","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Setter sometim doesnt updat the chang and therefor doesnt save later on Step to reproduc Here is an issu that appear some time in one of our job but that we dont manag to reproduc consist The assign attribut sometim doe chang my object valu but doesnt mark them as chang and therefor wont be save when I do a save no UPDATE SQL queri sent rubi class ExamReserv ApplicationRecord belong to select exam center class name Locat I remov all the stuff not relat There are a few callback but noth that should be relat def my flacki method some param Initial need variabl from some param logger warn DEBUG my method Exam reserv to param befor assign attribut object inspect object valid valid error error full messag chang chang assign attribut drive exam start at start at Date status Status DRIVING EXAM BOOKED string comment comment nil or string select exam center exam center Locat object automat book true logger warn DEBUG my method Exam reserv to param befor save after assign attribut object inspect object valid valid error error full messag chang chang save valid fal logger warn DEBUG my method Exam reserv to param after save object inspect object valid valid error error full messag chang chang end reload logger warn DEBUG my method Error on to param after save inspect end Expect behavior We would expect in our log the object to have valu modifi and the chang method to contain the valu modifi by the assign attribut Actual behavior We DO have the field modifi in our object accord to the log status select exam center id howev we have an empti valu return by the chang method and therefor the save valid fal doe noth This behavior happen on sometim though even for the same object do it again with the same paramet sometim pass Feb W T WARN BOOKING DEBUG my method Exam reserv befor assign attribut object object valid true error chang Feb W T WARN BOOKING DEBUG my method Exam reserv befor save after assign attribut object object valid true error chang Feb W T WARN BOOKING DEBUG my method Exam reserv after save object object valid true error chang Feb D T DEBUG BOOKING ExamReserv Load ms SELECT exam reserv FROM exam reserv WHERE exam reserv id LIMIT Feb W T WARN BOOKING DEBUG appli book Error on after save System configur Rail version Rubi version Note we didnt overrid the setter getter method anywh el rubi er ExamReserv find method er method status method super method nil er method select exam center er method select exam center er method select exam center super method nil I know that I dont have someth to reproduc but the bug happen from time to time feel free to ask ani more data that could help clarifi the bug","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix predic builder for polymorph model referenc model with composit primari key This is backport of to stabl cc eileencod","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor BindParameterTest Ref https github com rail rail pull Make it more clear that the expect behavior realli is","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix lint error for generat system test case Fix Offen test applic system test case rb C Correct Style TrailingCommaInHashLit Avoid comma after the last item of a hash url http ENV SELENIUM HOST","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Address ApplicationTest DBConsoleTest failur against asserion enabl Rubi Motiv Background Manag to address CI failur https buildkit com rail rail night build dc d c b a c b ebdb by increa timeout valu from to for assert output method Detail Rubi built with debug option that take more than second and get fail Here the Rubi is built with these option cppflag DENABLE PATH CHECK DRUBi DEBUG optflag O fno inlin rubi rubi v rubi dev T Z master c cb cf x linux time bin test test applic dbconsol test rb Run option seed F Failur ApplicationTest DBConsoleTesttest use valu defin in environ file in databa yml test consol helper rb sqlite expect but got Expect to includ sqlite bin test test applic dbconsol test rb F Failur ApplicationTest DBConsoleTesttest respect environ option test consol helper rb sqlite expect but got Expect to includ sqlite bin test test applic dbconsol test rb Finish in s run s assert s run assert failur error skip real m s user m s sys m s Addition inform Rubi built without debug option that finish less than second rubi rubi v rubi dev T Z master c cb cf x linux time bin test test applic dbconsol test rb Run option seed Finish in s run s assert s run assert failur error skip real m s user m s sys m s Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Relationwh build BoundSqlLit rather than eager interpol Ref https github com rail rail pull To make not cach connect checkout viabl we need to reduc the amount of place where we need a connect Once big sourc of this is queri relat build where in mani case it eager quot and interpol bound valu in SQL fragment Do this requir an activ connect becaus both MySQL and Postgr may quot valu differ base on the connect set Instead of eager do all this we can instead just insert these as bound valu in the Arel AST For adapt with prepar statement this is better anyway as it will avoid leak statement and for those that dont support it it will simpli delay the quot to just befor the queri is execut Howev the API where titl s someth cant realist be fix this way but I dont see much valu in it and it probabl should be deprec and remov Also CC matthewd becaus I notic https github com rail rail pull so it look like you were head in this same direct Perhap you have some insight to share","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add syntax sugar as invert exist method Motiv Background This Pull Request has been creat becaus we have so mani syntax sugar like for present method we have blank and so on so that would be realli nice to add opposit method for a exist instead of write alway or use unless Detail This Pull Request chang add just an invert exist method call miss So it realli simpl but power chang Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Support IN queri on array column Motiv Background A non array column can be queri via where name valu valu which is automat convert to name IN valu valu in SQL An array column would treat that array as the valu to search for so itd be natur to expect an array of array would result in an IN queri Unfortun that wasnt the case as where name valu valu would return name valu valu in SQL instead of name IN valu valu Detail That behavior stem from the fact that Active Record would forc equal comparison for array column if the valu was an array In order to allow IN queri this check was chang to check whether it a one dimens array by check that the first item of is not an array After these chang the follow logic appli for queri array column Using a one dimens array result in an ordinari equal queri Using a two dimens array produc an IN queri Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add permit column to ActiveRecord inver of ignor column Motiv Background Current column that are mark for remov from the databa must first be ad to the ignor column list lest we suffer a fail deploy that requir manual interv This critic step can be overlook becaus it an addit chang in a situat where code is typic be remov from a codeba and tri to prevent this situat with linter and autom test is tricki It would be great to be abl to lean in the opposit direct by explicit defin which column the model has access to similar to how we defin strong param When it time to remov a column from the db the column name is remov from permit column and all of it refer are remov from the model elimin the need to modifi ignor column Detail This Pull Request add permit column and permit column to ActiveRecord ModelSchema which act as an inver to ignor column When set on column specifi in permit column will be referenc by the model If a column name is specifi in both permit column and ignor column then it is ignor Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Address ApplicationTest FrameworksTest failur on Ubuntu Motiv Background This commit address Rail Night failur at https buildkit com rail rail night build dc d fb c ad d bd Detail This issu reproduc when the default mysql client apt packag instal mysql client that rai CR CONN HOST ERROR which is map to ActiveRecord DatabaseConnectionError while mariadb client rai CR CONNECTION ERROR error which is map to ActiveRecord ConnectionNotEstablish In this test whichev except ActiveRecord ConnectionNotEstablish or DatabaseConnectionError is fine as long as the connect is invalid Step to reproduc Run this step at Linux box on Ubuntu Jammi or whatev default mysql client instal MySQL client not MariaDB one git clone https github com rail rail cd rail railti bundl instal bin test test applic initi framework test rb Failur fix by this commit rubi bin test test applic initi framework test rb Run option seed F Failur ApplicationTest FrameworksTesttest expir schema cach dump if the version cant be check becaus the databa is unhealthi test applic initi framework test rb Expect Fail to valid the schema cach becaus of ActiveRecord ConnectionNotEstablish to match Fail to valid the schema cach becaus of ActiveRecord DatabaseConnectionError There is an issu connect with your hostnam n nPlea check your databa configur and ensur there is a valid connect to your databa n bin test test applic initi framework test rb Finish in s run s assert s run assert failur error skip Addition inform default mysql client packag use by Rail CI https github com rail buildkit config blob d b da a f af f ac f b DockerfileL default mysql client instal differ packag per distribut https packag ubuntu com jammi default mysql client https packag debian org bookworm default mysql client Each error messag are defin in these line by these commit MariaDB https github com MariaDB server blob eeba ed d fd bbb abef sql common errmsg cL https github com MariaDB server commit dbf ef e d e a be e MySQL https github com mysql mysql server blob e b f daf d f f b a ed e fb libmysql errmsg ccL https github com mysql mysql server commit d fdb c cd b f a fbb ce Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve titl tag for new app Motiv Background This Pull Request aim to a common pattern observ where develop frequent modifi the titl in new project for better readabl A similar initi was discuss and implement in PR https github com rail rail pull which underscor the valu of make the applic name more user friend in the generat HTML This modif result in more human readabl titl for new applic For exampl an applic generat with rail new club invoc would have a titl of Club Invoce instead of the less readabl ClubInvoc Detail To address this the propo chang involv modifi the titl generat logic to replac camel case with space thus improv the readabl of the applic name in the titl tag Addition inform This chang is straightforward and focus sole on improv the default user experi with minim impact on the exist codeba It align with Rail philosophi provid sensibl default that meet the expect of the major of develop Also I fix the regex introduc in PR https github com rail rail pull as it was not test what it should test titl tag on Checklist x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix deleg type exampl ci skip Must specifi account paramet becaus of the associ defin in Entri Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus I believ at least base on my test that the exampl of creat an Entri use the deleg type is incorrect becaus it is miss a paramet In the exampl the Entri model has a belong to account associ declar howev the exampl of creat an Entri with a Comment Entri creat entryabl Comment new content Hello creator Current user provid a Creator but no Account The factori model below that exampl also requir modif Appreciat this may have been written this way for specif reason or I mayb incorrect in my understand I do think most lesser experienc develop myself includ appreci when provid exampl more or less work as defin i e can be copi and past in the consol and work without modif Thank Detail Include the account kwarg in the Entri creat exampl Include the account kwarg in the Entri creat with comment exampl Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve the exampl of ActiveSupport Cach Storefetch Motiv Background The origin exampl has race condit issu that the output of the exampl isnt consist see https github com rail rail issu The chang improv the exampl by remov unnecessari thread and add detail comment In the new exampl there will be race condit on if ActiveSupport Cach MemoryStor took longer than second to extend expiri but that unlik to happen Detail The PR improv the exampl of ActiveSupport Cach Storefetch Addition inform The exampl rubi frozen string liter true requir bundler inlin gemfil do sourc https rubygem org gem activesupport requir activ support end cach ActiveSupport Cach MemoryStor new expir in cach write foo origin valu val nil val nil p cach read foo origin valu sleep wait until the cach expir t Thread new do fetch doe the follow get an recent expir entri extend the expiri by second race condit ttl regen the new valu val cach fetch foo race condit ttl do sleep new valu end end Wait until t extend the expiri of the entri but befor generat the new valu sleep val cach fetch foo race condit ttl do This block wont be execut becaus t extend the expiri new valu end t join p val new valu p val oritin valu p cach fetch foo new valu The entri requir second to expir expir in race condit ttl We have wait second alreadi sleep t join thus we need to wait more second to see the entri expir sleep p cach fetch foo nil Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ I am not sure if I should check the last item if there is neither a bug featur commit or a a behavior chang","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add paramet filter capabl for redirect locat Motiv Background This PR aim to complet an accept pull request submit year ago becaus the author seem have no time keep work on it Detail It use the config filter paramet to match what need to be filter The result would be like this Redirect to http secret foo barusernam roqu password FILTERED Also did reba and improv to make the code clearer Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix typo in devcontain Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus there are typo and variabl are incorrect name in Detail This Pull Request chang fix typo in network name for devcontain and improv the name of variabl for devcontain test Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Array primari key e g composit break collect singular id method when use preload Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end creat tabl comment forc true do t t integ post id end end class Post ActiveRecord Base self primari key id has mani comment end class Comment ActiveRecord Base self primari key id belong to post end class BugTest Minitest Test def test associ stuff post Post creat post comment creat assert equal post comment count assert equal Comment count assert equal post id Comment take post id assert equal Comment id Post take comment id assert equal Comment id Post preload comment take comment id end end Expect behavior collect singular id should work the same when preload or not Actual behavior Preload associ collect singular id return an array of nil valu when associ was preload Analysi The problem lie in differ handl of array argument to Enumerablepluck and ActiveRecord Relationpluck rubi def id reader if load target pluck reflect associ primari key Enumerablepluck elsif target empti load target pluck reflect associ primari key Enumerablepluck el associ id scope pluck reflect associ primari key ActiveRecord Relationpluck end end ActiveRecord Relationpluck efect flatten it argument in arel column call wherea Enumerablepluck use them as is Incident argument flatten result in column name not be process with arel column System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov codespel from contribut guid skip ci Backport https github com rail rail pull to stabl as we alreadi remov codespel from stabl as well https github com rail rail pull Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail ActiveRecord Basequeri constraint and composit key are incompat with ActiveStorag Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record railti requir activ storag engin requir tmpdir class TestApp Rail Applicat config load default Rail VERSION STRING to f config root dir config host exampl org config eager load fal config session store cooki store key cooki store key config secret key base secret key base config logger Logger new stdout Rail logger config logger config activ storag servic local config activ storag servic configur local root Dir tmpdir servic Disk end ENV DATABASE URL sqlite memori Rail applic initi requir ActiveStorag Engine root join db migrat creat activ storag tabl rb to s ActiveRecord Schema defin do CreateActiveStorageT new chang creat tabl user forc true do t t bigint tenant id null fal t index tenant id id uniqu true end creat tabl cat primari key breed color forc true do t t string color null fal t string breed null fal end end class User ActiveRecord Base queri constraint tenant id id has one attach profil end class Cat ActiveRecord Base has one attach profil end requir minitest autorun class BugTest Minitest Test def test upload and download queri constraint user User creat tenant id profil content type text plain filenam dummi txt io StringIO new dummi assert equal dummi user profil download end def test upload and download primari key cat Cat creat breed cat color orang profil content type text plain filenam dummi txt io StringIO new dummi assert equal dummi cat profil download end end Expect behavior Sinc ActiveStorag storag tabl are not configur it should simpli work Attach a file should result in an attach file Actual behavior queri constraint rout result in an attempt to queri non exist column on activ storag attach Redefin relat on a model doesnt help sinc inver belong to associ then attempt to compar two column to one in ActiveRecord AutosaveAssociationcomput primari key Composit primari key rout doesnt work unless the key contain id column Note This is kind of solvabl by ad exttra column to activ storag attach but that can get out of hand real fast Incident allow belong to to accept an array primari key would solv the problem by let the record have a regular id for use by ActiveSupport but configur relat between model use composit key Right now this rout doesnt work https github com rail rail issu due to ActiveRecord Reflect BelongsToReflectionassoci primari key transform primari key option with to s System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action Cabl assert broadcast API doc ci skip Motiv Background Follow up to Revert Detail The captur broadcast helper was introduc in to remov the return valu from the assert broadcast call The behavior was chang but the correspond document for the assert broadcast method did not revert the chang ad in Addition inform This chang should probabl also get backport to stabl https github com rail rail pull https github com rail rail pull","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Support filenam in Logger logger output to Logger logger output to on support STDOUT and STDERR not File object or plain filenam","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Map enum use array to the correct column type Motiv Background Previous enum without keyword were alway map to integ and index by posit now it is convert base on the column type it work for string and databa enum as well rubi Befor enum status propo propo written written publish publish After enum status propo written publish Detail This Pull Request close Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActionView Templat Error undefin method variant for an instanc of ActiveStorag Attach One i have in my model class Profil ApplicationRecord has one attach photo do attach attach variant thumb resiz to limit end end After creat profll profil photo attach true pri pri pri profil photo url NoMethodError undefin method url for an instanc of ActiveStorag Attach One from home lap rbenv version dev lib rubi gem gem activesupport lib activ support core ext modul deleg rb in method miss pri pri rail blob path profil photo NoMethodError undefin method filenam for an instanc of ActiveStorag Attach One from home lap rbenv version dev lib rubi gem gem activesupport lib activ support core ext modul deleg rb in method miss pri pri profil photo variant thumb NoMethodError undefin method variant for an instanc of ActiveStorag Attach One from home lap rbenv version dev lib rubi gem gem activesupport lib activ support core ext modul deleg rb in method miss pri pri profil photo blob url ActiveStorag Blob Load ms SELECT activ storag blob FROM activ storag blob WHERE activ storag blob id LIMIT id LIMIT pri S Storag ms Gener URL for file at key jys zcmi blkdz r y ffyd fs https bubbliest stage test s ap southeast amazonaw com jys zcmi blkdz r y ffyd fsrespon content disposit inlin B filenam D iffa jpeg B filenam A DUTF iffa jpeg respon content type imag Fjpeg X Amz Algorithm AWS HMAC SHA X Amz Credenti AKIAWSRNAFXKRHEB W F Fap southeast Fs Faw request X Amz Date T Z X Amz Expire X Amz SignedHead host X Amz Signatur ca b c debb beb ddd e e abe a a cf f https bubbliest stage test s ap southeast amazonaw com jys zcmi blkdz r y ffyd fsrespon content disposit inlin B filenam D iffa jpeg B filenam A DUTF iffa jpeg respon content type imag Fjpeg X Amz Algorithm AWS HMAC SHA X Amz Credenti AKIAWSRNAFXKRHEB W F Fap southeast Fs Faw request X Amz Date T Z X Amz Expire X Amz SignedHead host X Amz Signatur ca b c debb beb ddd e e abe a a cf f These method not work plea help profil photo variant thumb profil photo url rail blob path profil photo","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"updat all rai an except with an empti list of attribut but updat not Step to reproduc When Im do model relat updat all it rai an except ArgumentError Empti list of attribut to chang but when I do model updat there is no except and it return true Whi is there a differ Expect behavior The behaviour of updat and pdate all should be equiv Actual behavior updat all rai an except with the valu but updat not System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix AllowBrow version Motiv Background The new AllowBrow featur was ad in It permit set minimum browser version for an applic defin and document a modern version set as requir a list of certain featur and add that option to the default config for new app This PR has been creat to make two minor correct to modern one to it version one to it document Detail In baeae d aa b fcb e a cc a adjust the modern browser version to match the descript of requir featur Specif CSS nest isnt support by Chrome until Opera until https canius com css nest https develop mozilla org en US doc Web CSS Nest selectorbrow compat In ff a c f c a f fc bd bdbc remov badg from the document list of requir featur becaus it still a spec https www w org TR badg that isnt fulli implement by ani current browser https canius com mdn api notif badg https develop mozilla org en US doc Web API Badg APIbrowser compat Addition inform Person Im not convinc this featur will be a good default for new app but if it go to be offer it should be correct for it state purpo For fun I benchmark UserAgent par browser on my laptop and it run in about microsecond which is faster than Id expect But the runtim requir userag ad millisecond to the first request The userag gem was last updat https github com gshutler userag five year ago and it browser recognit code is all to year old https github com gshutler userag tree master lib user agent browser It seem inappropri to have a modern default that doesnt recogn Edge There a fork by art https github com art userag that recogn Edge but it add other browser too so it has x the LoC and it requir is millisecond Someth in between might be nice I made a googl spreadsheet https doc googl com spreadsheet d hz ndUBDeTqAKwYCv CyAMGpcCVkc hwJ Is BG qo editgid list browser version that support each of the modern featur list The tl dr is that badg and css nest are the most restrict requir for everi major browser except Firefox which was late to support css has","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add link to config activ job default queue name ci skip","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow raw CTEs in with queri method Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus Ive found the with method to be a littl over restrict in particular I would like to be abl to name the column of the CTE which would allow me to use express without column name e g VALUES Detail Support for the with queri method was ad in https github com rail rail pull The hash base syntax ad in that PR support Relat Arel SelectManag and SqlLiter as express but on allow simpl name for the CTEs In some circumst it use to be abl to name the column of the CTE as well as the tabl For exampl if the express is a ValuesList WITH magic a b c AS VALUES SELECT a b c FROM magic we need to be abl to name the column in order to refer them later One use case for have this support in ActiveRecord with queri method is join the result from a previous queri to a subsequ one For exampl if you were walk through an org chart but you couldnt use recur CTEs you could use this approach to keep inform about the manag path big boss Employ where manag nil pluck id first level Employ with Arel Node Cte new Arel sql boss id Arel Node Group new Arel Node ValuesList new big boss join INNER JOIN employ ON emplooy manag boss id pluck employ id boss id second level Employ with Arel Node Cte new Arel sql boss id grand boss id Arel Node Group new Arel Node ValuesList new first level join INNER JOIN employ ON emplooy manag boss id pluck employ id boss id boss grand boss id and so on not test Im not sure about this use case particular but I imagin there are a few other situat where it use to have more control over the name of the CTE than we current have Addition inform https github com rail rail pull origin PR to add the with queri method Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pass connect pool to more databa relat except rai Follow up to https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActionDispatch recogn path trip over domain constraint Step to reproduc The follow line of code may under rare condit caus problem https github com rail rail blob db bbfcbe ac f f b a b f actionpack lib action dispatch rout rout set rbL This mock request work fine for most Rail app howev if the app handl multipl domain and contain domain specif constraint thing go kaboom Say you have a constraint like this one rubi get path to domainsredirect constraint request do request host myserv com end Thing such a DomainsControl might do Redirect www myserv com to myserv com or redirect shortcut such as yourproject myserv com to myserv com yourproject With such an entri in rout rb the mock request misbehav becaus it is on fed with the path and therefor use the hardcod fallback server name https github com rack rack blob ae d a a b e c a f fe lib rack mock request rbL exampl org And sinc exampl org myserv com the remaind of recogn path work off the wrong rout The solut is quit simpl someth along the line of rubi replac env Rack MockRequest env for path method method with env Rack MockRequest env for url helper root url delet r path method method By pass the real URL instead of just the path the mock request no longer use the fallback but hit the router as a real request would Ill work around this for now and take a look at the correspond test to check whether I can solder togeth a PR System configur Rail version but the code hasnt chang on main as of today Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Handl empti array valu in queri builder tupl syntax Specif where id is now equiv to where id Motiv Background This behaviour fix collect singular id for relat with composit queri constraint when use in form as id writer compact blank valu befor look up match record efect call where primari key when for exampl all checkbox were deselect by a user on a form The error indic of the behaviour that this commit attempt to fix Arel Visitor UnsupportedVisitError Unsupport argument type NilClass Construct an Arel node instead Detail reduc return nil when oper on empti collect This commit add a separ branch for handl an empti queri set in PredicateBuildergroup queri Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Chang Default Variant Format from PNG to WEBP Use WEBP as the default format for repres This pull request updat the default variant format method in the repres rb file Previous the default imag format was PNG With this chang the default imag format is now WEBP This chang is made to improv the perform of our web page as all major browser support WEBP imag https canius com webp which are general smaller in size compar to PNG imag without ani signif loss in imag qualiti This will help in faster load of imag and improv the over user experi Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Set through target for new record Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix Detail Update load target in ActiveRecord Associat CollectionAssoci and ActiveRecord Associat Associat which is inherit by ActiveRecord Associat SingularAssoci to set the through associ target use the middl record when the current record has not yet been persist Addition inform I usual includ coverag befor open a PR but Id like some initi feedback on this befor I do that given that it a chang to a core part of AR and Im not certain that a patch will be accept for this issu Howev Ive got a reproduct script https github com rail rail issu issuecom which pass against this branch There also seem to have been anoth attempt patch https github com rail rail pull which didnt end up get merg Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document miss activ storag queue config ref https github com rail rail pull discuss r Document preview imag and transform List the queue config in alphabet order","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail Gener GeneratedAttributeto s Motiv Background Im write my own generat concept and would like to easili call the model generat This Pull Request has been creat becaus it wasnt easi to convert a generat attribut option pass to the generat to a string to be pass to anoth generat Detail This Pull Request chang Rail Gener GeneratedAttributeto s Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail Deseri Date Rang with Infiniti incorrect with Postgr adapt Step to reproduc Creat a tabl with a postgr date rang column tsrang for exampl Creat an entri in that tabl witha date rang that has infin on one end and save it rang test RangeTest creat date rang DateTim new DateTim Infiniti new Reload that entri from the databa deseri it rang test reload Look at the infinit part of the rang now and it no longer is infinit it is nil put rang test date rage end class return NilClass In previous version of rail for exampl it actuallli return a Float INFINITi class this was a littl off but closer to the mark than nil At least with that we could to a check like date rang end to s Infiniti in our logic which look reason rubi requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem pg end requir activ record requir minitest autorun requir logger You may need to chang your pg set accord db config adapt postgresql databa rang test host Chang this to your PostgreSQL host port usernam postgr Chang this to your PostgreSQL usernam password test Chang this to your PostgreSQL password begin ActiveRecord Base establish connect db config except databa ActiveRecord Base connect drop databa db config databa rescu nil ActiveRecord Base connect creat databa db config databa end ActiveRecord Base establish connect db config ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl rang test do t t tsrang date rang t timestamp end end class RangeTest ActiveRecord Base end class BugTest Minitest Test def test date rang infin deseri rang DateTim new DateTim Infiniti new rang test RangeTest creat date rang rang assert equal DateTim Infiniti rang test date rang end class Need to reload to deseri the rang back out from the DB to see the problem rang test reload Interest even befor rail the end rang would deseri to a Float INFINITi So were check the to s repres to show the chang in behavior assert equal Infiniti rang test date rang end to s end end Expect behavior Frank it was a bit of a bug befor in that this would return a Float INFINITi object befor where it should have return a DateTim INFINITi At least with that you could for exampl check date rang end to s Infiniti for some kind of logic check for an infinit rang start or end Return nil seem to be undocu chang in behavior at the veri least Actual behavior The date rang return a nil object for whichev end of the rang may be infinit System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Accept a child index lambda on field for with an argument Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR While field for current accept a lambda as an argument for child index that lambda is call without ani argument Be that we are enum the associ on field for at the time the lambda is call we have an opportun to pass the child of the associ down to the lambda This could simplifi the case where you may want to use the id of an Active Record object as the index So with this chang you could do someth like this html erb book book id do book form Prior to this you would have had to enum the associ yourself html erb Detail Accept pass the associ child as an argument in a lambda as the child index option in field for Addition inform Used PR https github com rail rail pull as a guid when pass a lambda to child index was origin introduc Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Remov sourc argument from report method call in stabl Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background In the latest stabl branch we are see ArgumentError unknown keyword sourc in render error report The ArgumentError happen becaus ActiveSupport ErrorReporterreport doe not take a sourc argument This chang was ad in https github com rail rail pull filesdiff e a cb f cc cd c d e aebef dda cf e R Detail This PR remov the sourc argument from the report method call sinc we do not have the updat method signatur https github com rail rail blob main activesupport lib activ support error report rbL in Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov sourc argument from method call Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background In the latest stabl branch we are see ArgumentError unknown keyword sourc in render error report The ArgumentError happen becaus ActiveSupport ErrorReporterreport doe not take a sourc argument This chang was ad in https github com rail rail pull filesdiff e a cb f cc cd c d e aebef dda cf e R Detail This PR remov the sourc argument from the report method call Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Do not report render error except TLDR Context https github com rail rail pull chang result in error track servic be pollut with ActionControl RoutingError which are not action and we dont want them there Context In https github com rail rail pull commit c a da a e a d f c ActionDispatch Executor start to report all error even the one that were handl by the applic This lead to error like ActionControl RoutingError pollut error tracker while not be action sinc they do not repr an except situat This commit chang the behavior to on report error that are not consid handl base on the ActionDispatch ExceptionWrapp rescu respon list Alternat solut What I have consid and what might actual be a better solut for the long term is to report handl except as handl true This way subscrib can decid how they want to proceed report someth that has alreadi been handl Exampl While I strong believ that ActionControl RoutingError should not be present on the error tracker in the same way as someth like rai boom I can see that some applic may want to soft report them in a way that doesnt trigger ani alert and doesnt requir ani attent For exampl Its total expect to have ActionControl RoutingError except but if the number of ActionControl RoutingError spike it may indic that either some link that use to be access becam unaccess or a wrong link was post render somewh which make such event action and worth report But regardless ActionControl RoutingError and similar except should not sudden be report as part of a patch version upgrad It should be a major chang with perhap a configur option to allow applic to adapt and make a deci on how to proceed Im open for the discuss and eager to learn what are your expect on this behavior","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add tool version with yarn and nodej Motiv Background When use asdf the yarn and the node command are not defin if there is no tool version This Pull Request has been creat becaus I had two error when run rake on railti Detail This Pull Request add a tool version file with nodej and yarn Addition inform I think asdf is pretti popular and support for it would be nice Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"DatabaseTask run in both develop and test environ when RAILS ENV develop Step to reproduc rubi Command execut with the expect of affect on the develop environ RAILS ENV develop rake db creat RAILS ENV develop rake db schema load RAILS ENV develop rake db drop Addition oper like purg prepar also includ The command abov impact both the develop and test environ despit my expect for them to affect on the develop environ Is this expect Expect behavior The databa creation schema load and drop should be confin to the develop environ Actual behavior The databa is creat and the schema is load among other action in both the develop and test environ System configur Rail Version issu persist in earlier version as well Rubi version Rubi Version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ignore devcontain file in docker imag Follow up to https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix db test prepar when use shard and test primari config is name differ than develop primari config When use shard and the test primari config is name differ than develop primari config like yml develop primari can be ani name not necessari primari adapt sqlite databa dev db secondari adapt sqlite databa secondari dev db schema dump fal test primari test note the differ name adapt sqlite databa test db secondari test adapt sqlite databa secondari test db schema dump fal rail is unabl to use the default schema rb file when run rail db test prepar It generat the follow error app db shard one test schema rb doesnt exist yet Run bin rail db migrat to creat it then tri again If you do not intend to use a databa you should instead alter app config applic rb to limit the framework that will be load When they both are name the same rail just erron use the one from the develop configur and it succeed","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add MessagePackMessageSeri for binari data Motiv Background ActiveRecord Encryption MessageSeri creat serial JSON The JSON valu are Base encod to ensur that the data can store in text databa column without encod issu Binari column howev can store arbitrari data so wont have the encod issu By use a MessagePack base serial we can store data more effici without the Base overhead about Detail Add a new serial ActiveRecord Encryption MessagePackMessageSeri that serial encrypt data to the MessagePack format for effici storag in binari column To prevent it be use with text column valid that we on tri to store binari data in binari column The serial is not autoload becaus it reli on the option msgpack gem Usage rubi requir activerecord encrypt messag pack messag serial class Foo ApplicationRecord encrypt bar messag serial ActiveRecord Encryption MessagePackMessageSeri new end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update test suit for compat with Rubi dev https bug rubi lang org issu and https bug rubi lang org issu slight chang how backtrac are render which make a few test fail FYI yahonda","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":1,"activejob":1,"activemodel":1,"activerecord":1,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Encryption allow turn on support unencrypt data at a per attribut level https github com rail rail pull allow you to turn support unencrypt data on a global level then turn it off for specif attribut But it didnt allow the inver you couldnt turn the config off global and then turn it on for a specif attribut This PR add support for that which should make the set behaviour less surpri","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add a new option ear expir to ActiveSupport Cach Storefetch to avoid dog pile effect Motiv Background I encount an issu that race condit ttl can still suffer from dog pile effect in the use case of high inten servic becaus dure the period of extend expir time other process can still access the same entri and tri to regen the cach at the same time While search for solut I realiz probabilist ear expir approach might be a simpler and more effici solut It is a techniqu to avoid the dog pile effect aka cach stamp by expir the cach befor the TTL I implement this method base on the paper which use probabilist deci with the exponenti function Exp and demonstr to be optim Vattani A Chierichetti F Lowenstein K Optimal Probabilist Cach Stamp Prevent Proce of the VLDB Endowment VLDB https cseweb ucsd edu avattani paper cach stamp pdf Detail Add new option ear expir to ActiveSupport Cach Storefetch Add new method ActiveSupport Cach Entryshould expir ear beta Add new instanc variabl generat time to ActiveSupport Cach Entri Here is a simpl implement to illustr the approach rubi def x fetch key ttl beta valu delta expiri read key if valu nil Time now delta beta Math log rand expiri start Time now valu yield delta Time now start write key valu delta ttl end return valu end Addition inform I creat a stack histogram compar the stamp size between race condit ttl fetch and ear expir x fetch k histogram https github com rail rail asset dc a e ad c f f b As the histogram show ear expir has smaller stamp size compar to race condit ttl For the definit of the stamp size plea refer to the paper https cseweb ucsd edu avattani paper cach stamp pdf Note that the benchmark is generat use thread The differ could be more signif with higher number of thread For more inform plea refer to the benchmark repositori https github com tonytonyjan rail cach stamp benchmark The benchmark repositori https github com tonytonyjan rail cach stamp benchmark The paper https cseweb ucsd edu avattani paper cach stamp pdf Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont clear the local cach on each request with with local cach Motiv Background The ActiveSupport LocalCach Middlewar clear the local cach after each request but when use the with local cach method this could be counter intuit as this method is suppo to use a local cach for the durat of the block rubi Rail cach with local cach do get Befor this patch Cach is clear here end After this patch Cach is clear here Assert on the state of the cach in an integr test isnt possibl by default in test environ the store is a NullStor unless the cach strategi is temporari chang This patch make it easier to check the cach after a request but also allow make subsequ request to hit the cach rubi Rail cach with local cach get get assert no cach miss end This Pull Request has been creat becaus REPLACE ME Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord TestCa reap all leak connect on teardown Some test do leak connect which caus some other test to stall for a veri long time when they call clear all connect Each leak connect take second to be clear becaus of the checkout timeout So on teardown to inspect all pool to make sure noth was leak and if some connect were leak we cleanup the state","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Miss templat error page show incorrect view path exampl for nest control path Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix Detail Update the error page display when a view templat is miss to account for nest control path in the suggest correct path for the miss templat Addition inform Test step https github com rail rail issu issuecom Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":1,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Miss view templat error page exampl doe not account for nest control path Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report When rout with nest control path e g in this setup https github com joshuay miss exact templat nest control demo app blob fc b d a d bc d dee config rout rbL L if a view templat is miss for a nest control the error page dsiplay suggest the incorrect expect path for the correspond view templat This is pretti confus if your see this error for the veri first time which is how I ran into this sinc it happen to one of our Junior dev Error snapshot Clone https github com joshuay miss exact templat nest control demo app Run bundl Run rail s Navig to http user post Expect behavior Exampl suggest that the view templat need to be locat at app view user post index html erb Actual behavior Exampl suggest that the view templat need to be locat at app view post index html erb System configur Rail version main Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use consist ENV fetch style Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Simplifi use ENV fetch in place that do not requir a block to make it more consist Detail Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action View Test Case render memoiz Motiv Background The introduct of memoiz as an optim pose a backward incompat chang to View test that call render multipl time Detail Follow up to Follow up to This commit chang the render instanc variabl from a String to an instanc of the RenderedViewCont special String subclass The end result is that there is no memoiz to reset and the memoiz optim side effect is preserv after render for test case where render or parser method like render html might be invok more than onc https github com rail rail pull issuecom https github com rail rail pull filesdiff ce a f a d bd bb fcca e a fa d c ddfa aR Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Syntax error are not present correct in ERB templat Another ERB regress Here the templat Post Here the except screen CleanShot at x https github com rail rail asset d fe e af f","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor SchemaCach to hold a ConnectionPool Another refactor in relat to https github com rail rail pull but it make sen even without it Also ref https github com rail rail pull Rather than each connect have it own BoundSchemaReflect we can instead have BoundSchemaReflect hold a ConnectionPool from which it can checkout a connect to perform queri when need If the current thread alreadi lea a connect it will be use This simplifi the interfac quit a bit","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Exception rai from templat should show templat code not compil method Seem like weve regress on except rai from within ERB templat Theyr show the backtrac of the compil method instead of the under templat That not veri help CleanShot at x https github com rail rail asset e df c c a a f bfb","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use rubi file rubi version when possibl Bundler has a nice new featur to get the rubi version from rubi version Would be nice to take advantag of that when possibl So the default Gemfil should generat rubi file rubi version when we can","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Suggest puma dev configur in bin setup puma dev is the golden path for develop multipl Rail applic local if your not use Docker Let suggest how to get that setup for app with bin setup","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow test by default in develop Fix https github com rail rail issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add test to default allow host in develop mode By default puma dev use the test TLD to rout develop request and we should ensur that this work out of the box Right now youll get this error messag CleanShot at x https github com rail rail asset a ae dfac af f b e beed f d That pretti unfriend for a golden path like puma dev So let add test as a default allow TLD","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add miss super in prune thread cach method Followup to https github com rail rail pull QueryCach ConnectionPoolConfigur is prepend to ConnectionPool and it prune thread cach method doesnt call super so this method was never call Its also unnecessari reap connect are alreadi remov from thread cach conn by the remov connect from thread cach call in steal","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont overrid LD PRELOAD valu Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Prevent conflict by on set LD PRELOAD if it not alreadi defin the script avoid potenti issu with overrid exist valu and ensur compat with other tool or librari that might reli on specif LD PRELOAD set Detail This pull request propo a chang to the Docker entrypoint script in the Rail codeba to prevent potenti issu with overrid the LD PRELOAD environ variabl if it alreadi set The current script includ a line that set LD PRELOAD to includ the path to libjemalloc so if the librari exist Howev this approach doesnt consid the possibl that LD PRELOAD might alreadi be defin with other valu for differ purpo In such case blind append libjemalloc so could lead to unexpect behavior or conflict To address this concern the pull request introduc a modif that check if LD PRELOAD is alreadi set befor ad libjemalloc so This ensur that the exist valu remain intact while still allow the inclus of jemalloc if it not alreadi present Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add ActiveRecord Base with connect as a shortcut Extract from https github com rail rail pull The lea connect is yield and for the durat of the block ani call to ActiveRecord Base connect will yield that same connect This is use to perform a few databa oper without caus a connect to be lea for the entir durat of the request or job","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Path traver in AcitveStorag and lead RCE Need secret key base From https hackeron com report Treat as Informat The danger of deseri has been reduc in Rail by increa the number of set that do not use Marshal in MessageVerifi Howev anoth danger remain with AcitveStorag servic Disk which allow path traver use the key valu Howev the attack must know the valu of secret key base Step to reproduc rubi v rubi revi bb ac a arm darwin rail new disk traver G M C A J T Rail bin rail activ storag instal RAILS ENV product bin rail db migrat edit config product rb config forc ssl true config activ support messag serial json start server RAILS ENV product bundl exec rail s traver rb rubi content disposit inlin content type text plain name disk secret key base Rail applic secret key base key generat ActiveSupport CachingKeyGen new ActiveSupport KeyGen new secret key base iter secret key generat generat key ActiveStorag serial ActiveStorag verifi instanc variabl get serial put serial put key config master key verifi ActiveSupport MessageVerifi new secret serial serial read token verifi generat key key disposit content disposit content type content type servic name name purpo blob key put read token put read token put read curl put curl http rail activ storag disk read token test put target file app view user show text erb content verifi ActiveSupport MessageVerifi new secret serial serial token write verifi generat key target file disposit content disposit content type content type content length content byte servic name name purpo blob token put write target file put target file put write token put token write put write curl put curl X PUT H Content type content type d content http rail activ storag disk token write RAILS ENV product bundl exec rail runner traver rb W T WARN You are run SQLite in product this is general not recommend You can disabl this warn by set config activ record sqlite product warn fal ActiveSupport Messag SerializerWithFallback JsonWithFallback read token eyJfcmFpbHMiOnsiZGF YSI eyJrZXkiOiIuLi vLi vY uZmlnL hc Rlci rZXkiLCJkaXNwb NpdGlvbiI ImlubGluZSIsImNvbnRlbnRfdHlwZSI InRleHQvcGxhaW iLCJzZXJ aWNlX hbWUiOiJkaXNrIn sInB ciI ImJsb Jfa V In bb d e b f bedd a f deff read curl curl http rail activ storag disk eyJfcmFpbHMiOnsiZGF YSI eyJrZXkiOiIuLi vLi vY uZmlnL hc Rlci rZXkiLCJkaXNwb NpdGlvbiI ImlubGluZSIsImNvbnRlbnRfdHlwZSI InRleHQvcGxhaW iLCJzZXJ aWNlX hbWUiOiJkaXNrIn sInB ciI ImJsb Jfa V In bb d e b f bedd a f deff test write target file app view user show text erb write token eyJfcmFpbHMiOnsiZGF YSI eyJrZXkiOiIuLi hcHAvdmlld MvdXNlcnMvc hvdi ZXh LmVyYiIsImRpc Bvc l aW uIjoiaW saW lIiwiY udGVudF eXBlIjoidGV dC wbGFpbiIsImNvbnRlbnRfbGVuZ RoIjoyMCw VydmljZV uYW lIjoiZGlzayJ LCJwdXIiOiJibG iX Rva VuIn e a a b c acd a e write curl curl X PUT H Content type text plain d http rail activ storag disk eyJfcmFpbHMiOnsiZGF YSI eyJrZXkiOiIuLi hcHAvdmlld MvdXNlcnMvc hvdi ZXh LmVyYiIsImRpc Bvc l aW uIjoiaW saW lIiwiY udGVudF eXBlIjoidGV dC wbGFpbiIsImNvbnRlbnRfbGVuZ RoIjoyMCw VydmljZV uYW lIjoiZGlzayJ LCJwdXIiOiJibG iX Rva VuIn e a a b c acd a e Access to read curl will get the file at ani path and access to write curl will write to ani path and confirm the RCE Expect behavior Path traver is prevent Actual behavior If secret key base is leak there is a risk of read and write file on the server and therebi an RCE","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor some Active Record test Most extract from https github com rail rail pull Use adapt name instead of class ADAPTER NAME Avoid monkey patch some connect instanc Ignore SCHEMA queri in some asssert","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Run test with profil on CI Debug whi a CI job get stuck is particular pain as the output doesnt contain ani inform whatsoev By enabl verbo we ensur the last line of the CI job is the name of the test that got stuck help debug Similar it hard to figur out whi a particular job is slow so enabl profil would make it easi to spot some low hang fruit to improv CI speed Edit verbo is a bit too much so leav it out for now","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":1,"actiontext":1,"actionview":1,"activejob":1,"activemodel":1,"activerecord":1,"activestorage":1,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update Methoddupl to be consist with Rubi Fix https github com rail rail issu Method and UnboundMethod use to rai on dup but not clone this wasnt so much a featur but a bug It was fix in https github com rubi rubi pull cc yahonda","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix overrid exist join type in the queri in the where associ method Motiv Background Current the where associ method in Rail on allow filter associ record with an inner join which can potenti overrid exist join type in the queri The fix ensur that the associ is join use the appropri join type either inner join or left outer join base on the exist join in the scope This prevent unint overrid of exist join type and ensur consist in the generat SQL queri Exampl rubi User left outer join order where associ order count Old queri sql SELECT COUNT FROM user INNER JOIN order ON order user id user id WHERE order id IS NOT NULL after fix the issu the queri New Queri sql SELECT COUNT FROM user LEFT OUTER JOIN order ON order user id user id WHERE order id IS NOT NULL This enhanc empow develop with greater flexibl in queri associ data facilit scenario such as Retriev post with author even if some post lack an assign author util left join Obtain comment associ with specif user encompass orphan comment without a user employ multipl join with vari type Detail The pivot improv in this Pull Request is the inclus of a check ensur that associ are join use the appropri join type either inner join or left outer join base on exist join within the scope This safeguard against unint overrid of exist join type and foster consist in the generat SQL queri Addition Informat This refin is inform by common requir articul by Rail develop in various forum and discuss Analog function is preval in certain popular ORM exten underscor it util The implement is craft to preserv clariti and coher within the exist codeba Note This is a draft descript and should be adapt to your specif implement detail and the project context FYI After merg this PR I will check the miss method and fix this issu in a separ PR altern same PR Perform Benchmark Befor the fix Benchmark ip do x x report join User join comment order where associ order x report left join User left join comment order where associ order x report left outer join User left outer join comment order where associ order x report with out join User where associ order end info Warm up join k i ms left join k i ms left outer join k i ms with out join k i ms Calcul join k i s k in s left join k i s k in s left outer join k i s k in s with out join k i s k in s Benchmark After the fix Benchmark ip do x x report join User join comment order where associ order x report left join User left join comment order where associ order x report left outer join User left outer join comment order where associ order x report with out join User where associ order end Warm up join k i ms left join k i ms left outer join k i ms with out join k i ms Calcul join k i s k in s left join k i s k in s left outer join k i s k in s with out join k i s k in s Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add PNPM and NPM support in bin setup script Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Current the Rail setup script on support yarn as the packag manag This limit user who prefer pnpm or npm and can creat friction dure project bootstrap Provid offici support for both these packag manag would Enhanc user experi and choic Cater to a wider rang of develop prefer enabl seamless project initi regardless of packag manag prefer Promot inclus and flexibl Embrace the diver of tool choic within the communiti Detail This pull request add support for pnpm and npm to the Rail setup script in the follow way pnpm Detect exist pnpm lock yaml file for initi Install depend use pnpm instal verifi lockfil npm Detect exist packag lock json file for initi Install depend use npm instal Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Address Defin enum with keyword argument warn in Action Mai Motiv Background This commit address DEPRECATION WARNING Defin enum with keyword argument is deprec and will be remov warn in Action Mailbox Detail Step to reproduc rubi git clone https github com rail rail cd rail actionmailbox bundl instal bin test test unit router test rb Without this commit rubi bin test test unit router test rb snip DEPRECATION WARNING Defin enum with keyword argument is deprec and will be remov in Rail Posit argument should be use instead enum status pend process deliv fail bounc call from at home yahonda src github com rail rail actionmailbox app model action mailbox inbound email rb Run option seed Finish in s run s assert s run assert failur error skip Addition inform Follow up https github com rail rail pull Refer to https github com rail rail pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"DuplicableTesttest duplic failur with rubi dev Manag to reproduc CI failur at https buildkit com rail rail night build da eb c b b e fdb a Step to reproduc Install rubi dev that includ https github com rubi rubi commit de a ecc ee f f c a a a rubi git clone https github com rail rail cd rail rm Gemfil lock bundl instal cd activesupport bin test test core ext object duplic test rb n test duplic Expect behavior It should pass Actual behavior It fail as follow rubi F Failur DuplicableTesttest duplic test core ext object duplic test rb Method TypeError expect but noth was rai bin test test core ext object duplic test rb Finish in s run s assert s run assert failur error skip System configur Rail version main branch Rubi version rubi dev T Z master de a ecc x linux","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":1,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add a db prepar option to run check and run migrat when boot the server The current docker entrypoint will slow down start rail server becaus it will first load anoth Rail process to check and run databa migrat which is necessari becaus not all runtim platform support deploy task https github com rail rail blob fc ed c ea e a d d cbe b railti lib rail generat rail app templat docker entrypoint ttL L It would be nice if someth like a bin rail db prepar flag exist that could check for migrat and run them if necessari and on have to boot a singl Rail app and thus boot the server faster While briefli talk through this with matthewd he imagin it might be abl to work like this Do a check if migrat are need inlin while boot the Rail server If there are pend migrat run a subprocess or fork if possibl that would be equiv to the db prepar task We consid but didnt think it would be safe to also run the migrat in the same rail server process becaus it possibl it could leak databa connect or other state","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Match default thread count to puma set everywh Weve chang the default thread count from to in the puma config We should match that everywh","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rai error for Trilog when prepar statement is true Trilog doesnt current support prepar statement The error that applic would see is a StatementInvalid error This doesnt quit point you to the fact this isnt support So rai a more appropri error point to what to chang","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix creat tabl if not exist guard S prevent forc drop tabl Solv https github com rail rail issu Im on familiar with write rail test in rspec I wrote a test after skim the other syntax in the file but plea let me know if there is a better way record reload should rai an except if the record was delet by creat tabl drop the tabl NOTE Current limit to a web editor so I dont have the abil to squash commit or run the full test suit will tri to grab some time to clean up the branch and valid test when my person machin is access Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus https github com rail rail issu Detail This Pull Request chang creat tabl to ignor the forc option which drop the tabl if the if not exist option is present Addition inform If you copi a creat tabl migrat from a schema dump and add the if not exist guard but forget to remov forc it will drop your tabl when you migrat it Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add support join type in where associ method","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Issue creat tabl bug WARNING Had to submit this in a web editor and realiz my fork is way out of date will fix the extra commit on here Solv https github com rail rail issu Im on familiar with write rail test in rspec I wrote a test after skim the other syntax in the file but plea let me know if there is a better way Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus https github com rail rail issu Detail This Pull Request chang creat tabl to ignor the forc option which drop the tabl if the if not exist option is present Addition inform If you copi a creat tabl migrat from a schema dump and add the if not exist guard but forget to remov forc it will drop your tabl when you migrat it Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont load test rb file from the fixtur folder Motiv Background Dont load test rb file from the fixtur folder Detail If an applic has file name test rb in the fixtur file folder they were pick up to be load In most case this would result in a LoadError as it like those file includ code that cant be load Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"creat tabl forc option drop tabl when if not exist option is present The problem is here https github com rail rail blob c bcb e ee c f a fe bb ca activerecord lib activ record connect adapt abstract schema statement rbL L I cant submit this from my work comput but can somebodi put up a PR to make this chang to L rubi drop tabl tabl name forc forc if exist true unless td if not exist Edge case where this occur Adding guard migrat to make migrat schema consist with schema dump for DB that has migrat appli to it that are not in the schema histori If you copi the tabl definit from the schema dump and add the if not exist run the migrat will drop the tabl if it exist","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix bi direct destroy of has one through With a bi direct has one through associ where the join model belong to each parent with depend destroy destroy either parent should destroy the through record and the other parent class Left ActiveRecord Base has one middl depend destroy has one right through middl end class Middl ActiveRecord Base belong to left depend destroy belong to right depend destroy end class Right ActiveRecord Base has one middl depend destroy has one left through middl end Howev this on work from one end When destroy the non work end the join model was correct destroy but the other end was not In the exampl abov right destroy correct destroy it middl and it left left destroy destroy it middl but not it right The end which work depend on the order of belong to statement in the join model This commit ensur that the no matter which end you destroy the far end is destroy along with the join record Fix Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Autosav chang disappear and speed improv Motiv Background When autosav true is set on both end of a relat save and or valid can be call more than onc remov the chang that just happen dure the current save and make previous chang and empti hash Addition when there is a lot of record in memori save on a sub record can be call a signif amount of time It seem that the child model are save and valid in everi permut possibl This PR result in everi record be call at most time and can signif reduc CPU usag and time to save in this situat Detail This PR add memori to ensur that each record on get save and or valid on onc while traver the autosav tree ensur the chang are avail after save via the previous chang method Fix suggest ad a variabl to avoid clear the chang on the root record which work but would not fix the issu if the two model with the autosav true are relat to anoth separ model that is be save or updat Fix This PR also supplant and enhanc it by be abl to work across connect and increa speed by on allow autosav child model to be save or valid on onc Checklist x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ CI is pass","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix typo in Debug Guid ciskip While I was read the Debug Rail Applicat guid this typo threw me off and I had to re read it to understand the intend mean so it seem like it worth fix One of the paramet name to the break method in the debug gem was incorrect bad copi past I think in the guid Checklist N A","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Speedup Docker Build Time Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This pull request aim to reduc Docker build time within the Rail codeba by elimin redund oper impact develop effici and product Detail Previous individu layer within the Dockerfil instal some same depend repeat caus redund and build time increa This chang Move common use depend to the base layer of the Dockerfil Other layer now inherit these depend from the base layer avoid redund instal This approach leverag Docker layer mechan to ensur all layer have access to requir depend while elimin unnecessari repetit Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"has mani through alia method We are tri to do someth like this has mani sourc track alia method sourc object sourc track has mani sourc object genr through sourc object Howev it seem like ActiveRecord doe not recogn the alia method for sourc object ActiveRecord HasManyThroughAssociationNotFoundError Could not find the associ sourc object Is that someth that could get ad System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport to stabl Ref https github com rail rail pull Opene a PR becaus the patch didnt appli clean","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Address ActiveStorag VariantTesttest resiz variat of WEBP blob failur at Rail Night CI Motiv Background Manag to reproduc Rail Night CI failur at https buildkit com rail rail night build d b d fa d a df f f d This commit allow both and as it height becaus this issu is isol that the differ come from libvip and or rubi vip behavior differ not Active Storag Detail Step to reproduc Run this test on Ubuntu It should not reproduc on Ubuntu rubi git clone https github com rail rail cd rail rm Gemfil lock cd activestorag bin test test model variant test rb n test resiz variat of WEBP blob Expect behavior It should pass Actual behavior It fail becaus the height of the thumbnail is rubi bin test test model variant test rb n test resiz variat of WEBP blob F Failur ActiveStorag VariantTesttest resiz variat of WEBP blob test model variant test rb Expect Actual bin test test model variant test rb Addition inform Refer to https github com libvip rubi vip issu Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add support join type in where associ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Merg pull request from p activesupport document time zone cr eat Improve document of ActiveSupport TimeZon creat ci skip","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Merg pull request from p activerecord document alia attribut","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Invalid rout POST request result in key space error instead of Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report It is possibl to craft a POST request that result in a exceed avail paramet key space error even though the request is target a rout that doesnt exist Weve seen this error occur in product due to malici request but we dont actual have such a craft POST request at hand to reproduc Config We dont have Rack Util key space limit configur so it should be the default valu pri main Rack Util key space limit Expect behavior a error is return Actual behavior an intern server error is return Invalid or incomplet POST param Error dure failsaf respon exceed avail paramet key space usr local bundl gem rack lib rack queri parser rb in usr local bundl gem rack lib rack queri parser rb in normal param usr local bundl gem rack lib rack queri parser rb in block in par nest queri usr local bundl gem rack lib rack queri parser rb in each usr local bundl gem rack lib rack queri parser rb in par nest queri usr local bundl gem rack lib rack request rb in par queri usr local bundl gem rack lib rack request rb in POST usr local bundl gem actionpack lib action dispatch http request rb in block level in POST usr local bundl gem actionpack lib action dispatch http paramet rb in block in par format paramet usr local bundl gem actionpack lib action dispatch http paramet rb in fetch usr local bundl gem actionpack lib action dispatch http paramet rb in par format paramet usr local bundl gem actionpack lib action dispatch http request rb in block in POST usr local bundl gem rack lib rack request rb in fetch usr local bundl gem rack lib rack request rb in fetch header usr local bundl gem actionpack lib action dispatch http request rb in POST usr local bundl gem actionpack lib action dispatch http paramet rb in paramet usr local bundl gem actionpack lib action dispatch http mime negoti rb in param readabl usr local bundl gem actionpack lib action dispatch http mime negoti rb in block in format usr local bundl gem rack lib rack request rb in fetch usr local bundl gem rack lib rack request rb in fetch header usr local bundl gem actionpack lib action dispatch http mime negoti rb in format usr local bundl gem actionpack lib action dispatch middlewar show except rb in fallback to html format if invalid mime type usr local bundl gem actionpack lib action dispatch middlewar show except rb in render except usr local bundl gem actionpack lib action dispatch middlewar show except rb in rescu in call usr local bundl gem actionpack lib action dispatch middlewar show except rb in call usr local bundl gem railti lib rail rack logger rb in call app usr local bundl gem railti lib rail rack logger rb in block in call usr local bundl gem activesupport lib activ support tag log rb in block in tag usr local bundl gem activesupport lib activ support tag log rb in tag usr local bundl gem activesupport lib activ support tag log rb in tag usr local bundl gem railti lib rail rack logger rb in call usr local bundl gem actionpack lib action dispatch middlewar remot ip rb in call usr local bundl gem actionpack lib action dispatch middlewar request id rb in call usr local bundl gem rack lib rack method overrid rb in call usr local bundl gem rack lib rack runtim rb in call usr local bundl gem activesupport lib activ support cach strategi local cach middlewar rb in call usr local bundl gem actionpack lib action dispatch middlewar executor rb in call usr local bundl gem actionpack lib action dispatch middlewar static rb in call usr local bundl gem rack lib rack sendfil rb in call usr local bundl gem actionpack lib action dispatch middlewar host author rb in call usr local bundl gem ddtrace lib datadog trace contrib rack middlewar rb in call usr local bundl gem railti lib rail engin rb in call usr local bundl gem railti lib rail railti rb in public send usr local bundl gem railti lib rail railti rb in method miss usr local bundl gem unicorn lib unicorn http server rb in process client usr local bundl gem unicorn worker killer lib unicorn worker killer rb in process client usr local bundl gem unicorn lib unicorn http server rb in worker loop usr local bundl gem unicorn lib unicorn http server rb in spawn miss worker usr local bundl gem unicorn lib unicorn http server rb in maintain worker count usr local bundl gem unicorn lib unicorn http server rb in join usr local bundl gem unicorn bin unicorn rail in usr local bundl bin unicorn rail in load usr local bundl bin unicorn rail in usr local lib rubi bundler cli exec rb in load usr local lib rubi bundler cli exec rb in kernel load usr local lib rubi bundler cli exec rb in run usr local lib rubi bundler cli rb in exec usr local lib rubi bundler vendor thor lib thor command rb in run usr local lib rubi bundler vendor thor lib thor invoc rb in invok command usr local lib rubi bundler vendor thor lib thor rb in dispatch usr local lib rubi bundler cli rb in dispatch usr local lib rubi bundler vendor thor lib thor base rb in start usr local lib rubi bundler cli rb in start usr local lib rubi gem gem bundler libexec bundl in block in usr local lib rubi bundler friend error rb in with friend error usr local lib rubi gem gem bundler libexec bundl in usr local bin bundl in load usr local bin bundl in This seem to be relat to https github com rail rail issu System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add preview doc rake task for generat API and Guid static site Exampl deploy https ed f zzak rail page dev made with rail buildkit config","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Do not forc limit on nest record mark for destruct Fix Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus the limit for nest attribut didnt reject record mark for destruct Detail This Pull Request ensur record mark for destruct wont interf on limit Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor Rail Rack Logger to avoid ad a new param to call app ref https github com rail rail pull issuecom This refactor the implement from that PR so that we dont need a new param on the call app method This mean we dont break ani gem or app that have overridden it cc KJTsanaktsidi rafaelfranca","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"New find or creat by behavior in Rail can introduc subtransact in PostgreSQL In https github com rail rail pull find or creat by was modifi to call creat or find by but that method https github com rail rail blob a eb c a d a d d da activerecord lib activ record relat rbL L can introduc subtransact in PostgreSQL via the transact requir new true call rubi def creat or find by attribut block transact requir new true creat attribut block rescu ActiveRecord RecordNotUniqu find by attribut end As I mention in https about gitlab com blog whi we spent the last month elimin postgresql subtransact we spent a lot of effort to get rid of subtransact becaus they suffer from signif perform issu at scale We saw all our databa replica stall out at time as a result In a busi databa it possibl for the size of the subtransact log to grow so larg that the work set no longer fit into memori This result in a lot of cach miss which in turn caus a high amount of disk I O and CPU as PostgreSQL furious tri to load data from disk to keep up with all the lookup Has this been solv in PostgreSQL yet No The commit highlight in https postgr ai blog postgresql subtransact consid harmfulidea for postgresql develop havent made it into PostgreSQL upstream yet I see there is recent activ in this thread https www postgresql org messag id flat CAFiTN vzDvNz ExGXz gdyjtzGixKSq mKHMmaQ sOSEFZ A mail gmail com For now were go to patch ActiveRecord to revert the chang but Id suggest revert this or make it some option for those who realli need to deal with the raci condit outlin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"GlobalID Locat locat sign cannot find SGIDs creat in a Rail app Step to reproduc Attach ActiveRecord item in an ActionText in a Rail app Update the app to Rail Display the action text but all attach are miss I found that Rail applic key generat generat key sign global id generat differ key in Rail and so I guess it a config chang in the key generat itself This look like a duplic of but in my case the secret key base has not been chang as shown in the bug report below Peopl have report the same problem in the forum https discuss rubyonrail org t rail give for actiontext attach but the solut isnt applic in my situat Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Gist https gist github com goulvench c bc ed c be da fa or script below rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem rail github rail rail branch main gem sqlite end requir activ record railti requir activ storag engin requir action text engin requir tmpdir class TestApp Rail Applicat config load default config root dir config host exampl org config eager load fal config session store cooki store key cooki store key config secret key base secret key base config activ storag servic local config activ storag servic configur local root Dir tmpdir servic Disk Disabl log for a cleaner output config logger Logger new nil end ENV DATABASE URL sqlite memori Rail applic initi requir ActiveStorag Engine root join db migrat creat activ storag tabl rb to s Disabl migrat log for a cleaner output ActiveRecord Migrat verbo fal ActiveRecord Schema defin do CreateActiveStorageT new chang creat tabl user forc true end class User ActiveRecord Base has one attach profil end requir minitest autorun class BugTest Minitest Test def test blob sgid after rail upgrad user User creat profil content type text plain filenam dummi txt io StringIO new dummi put Rail version Rail VERSION STRING rail sgid eyJfcmFpbHMiOnsibWVzc FnZSI IkJBaEpJalJuYVdRNkx OTBaWE wTFdGd NDOUJZM JwZG WVGRHOXlZV RsT pwQ JHOWlMekUvWlhod FYSmxjMTlwYmdZNkJrVlUiLCJleHAiOm bGwsInB ciI ImF dGFjaGFibGUifX aa e af ec ce af ade ea c assert equal rail sgid user profil blob attach sgid end end Expect behavior rubi GlobalID Locat locat sign rail sgid Origin attach Actual behavior rubi GlobalID Locat locat sign rail sgid nil System configur Rail version and edg Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActionDispatch Executor report error handl by ShowExcept Fix https github com rail rail issu In the default middlewar stack the ShowExcept middlewar is lower than ActionDispatch Execturor and will handl most except caus Executor not to wit ani Instead we need to reli on action dispatch except be ad into the request env FYI fractaledmind rafaelfranca To be backport to and","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"DOCS Warn against uniqu valid when creat or find by is use ci skip Motiv Background It can be realli confus when use you have uniqu valid and tri to use creat by find by eg https github com rail rail issu Checklist x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Block host site com To allow request to these host make sure they are valid hostnam contain on number letter dash and dot then add the follow to your environ configur config host site com For more detail view the Host Author guid Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi Your reproduct script goe here Load the Rail applic requir relat applic Initial the Rail applic Rail applic configur do Add site com to allow host config host site com end Rail applic initi Expect behavior the domain should be access without error Actual behavior Block host site com To allow request to these host make sure they are valid hostnam contain on number letter dash and dot then add the follow to your environ configur config host site com For more detail view the Host Author guid https guid rubyonrail org configur htmlactiondispatch hostauthor System configur Rail version Rail Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":1,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add queri doc for deleg type ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Expand some document and exampl for queri across multipl record that implement deleg type Detail This Pull Request chang document in ActiveRecord Deleg Type Addition inform N A Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveModel Dirti is broken in after commit broke the expect and document https github com rail rail blob main guid sourc activ record callback mdplain L L behaviour by introduc a break chang in Rail It lead to hard to find silent bug and should be revert there no workaround except disabl it complet with config activ record run commit callback on first save instanc in transact true The problem it was tri to solv is well document and easili dealt with reload Step to reproduc Oversimplifi exampl rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t t integ comment count null fal default end creat tabl comment forc true do t t boolean hidden null fal default fal t integ post id end end class Post ActiveRecord Base has mani comment def updat comment count self updat comment count comment size end end class Comment ActiveRecord Base belong to post after commit updat post def updat post if save chang to post id post updat comment count end end end class BugTest Minitest Test def test associ stuff post Post creat post comment creat assert equal post comment count post Post creat comment post comment build Post transact do comment save comment updat hidden true end assert equal post comment count assert equal post comment count end end Expect behavior save chang to post id true Actual behavior save chang to post id fal System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Deprec provid a non boolean argument to distinct Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix Detail Update the document ActiveRecord QueryMethodsdistinct and undocu ActiveRecord QueryMethodsdistinct method to rai an ArgumentError log a deprec warn if given a non boolean argument Addition inform None Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Relat distinct doesnt rai an error for invalid argument Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report distinct https api rubyonrail org class ActiveRecord QueryMethod htmlmethod i distinct on take in a singl valu argument that default to true This determin whether or not the distinct claus is appli to the relat Howev the argument isnt valid and is alway treat as truthi or falsey e g in this condit https github com rail rail blob f aaa ca b ebf b d d c cae fc activerecord lib activ record relat rbL This mean that a non boolean argument can be pass in with certain expect e g a column that not the primari key expect the queri to result in a DISTINCT ON but the DISTINCT claus will alway on either appli or not appli on the base tabl primari key Ive had to explain that pass a truthi argument this way doesnt chang the outcom of the claus to junior engin a coupl of time so I feel like this is someth that should be valid The script below is a good exampl of how one could misunderstand this API rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl author forc true do t end creat tabl post forc true do t t integ author id end end class Author ActiveRecord Base has mani post end class Post ActiveRecord Base belong to author end class BugTest Minitest Test def test distinct with non boolean argument author Author creat post Post creat author author post Post creat author author Pass as expect assert equal Post where id post id post id select DISTINCT author id count Fail with expect got which is correct but it should rai an ArgumentError sinc the distinct argument is invalid and the DISTINCT claus is on id and not author id assert equal Post where id post id post id distinct author id count end end Expect behavior An ArgumentError should be rai Actual behavior No error is rai argument is treat the same as true if truthi and fal if falsey System configur Rail version latest main Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"ActionCabl allow to pass websocket close arg This PR allow you to set code and reason when close a WebSocket connect Its veri use when hack ActionCabl In addit I small refactor the file to avoid potenti nil error I can remov this chang Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Outdat CORS initi ci skip Motiv Background The current secur guid contain outdat inform about the CORS initi Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"no implicit conver of String into Integer TypeError env name Step to reproduc I have a Rail app where the version is point to the main branch and just this morn I notic the follow error pop up on my Sentri rubi TypeError no implicit conver of String into Integer TypeError env name from rack lib rack request rb in from rack lib rack request rb in get header from rail a af b actionpack lib action dispatch middlewar show except rb in rescu in call from rail a af b actionpack lib action dispatch middlewar show except rb in call from lograg lib lograg rail ext rack logger rb in call app from rail a af b railti lib rail rack logger rb in call from rail a af b actionpack lib action dispatch middlewar remot ip rb in call from request store lib request store middlewar rb in call from rail a af b actionpack lib action dispatch middlewar request id rb in call from rack lib rack method overrid rb in call from rack lib rack runtim rb in call from rail a af b activesupport lib activ support cach strategi local cach middlewar rb in call from rail a af b actionpack lib action dispatch middlewar executor rb in call from rail a af b actionpack lib action dispatch middlewar static rb in call from rack lib rack sendfil rb in call from rail a af b actionpack lib action dispatch middlewar assum ssl rb in call from rail a af b railti lib rail engin rb in call from prometheus client mmap x linux lib prometheus client rack export rb in call from rack lib rack deflat rb in call from puma lib puma configur rb in call from puma lib puma request rb in block in handl request from puma lib puma thread pool rb in with forc shutdown from puma lib puma request rb in handl request from puma lib puma server rb in process client from puma lib puma server rb in block in run from puma lib puma thread pool rb in block in spawn thread I revert a coupl of version and track it down to this commit https github com rail rail commit cd bcedcec f a a abdfa ca dcd c Befor this commit it work with this commit and after it trigger the error abov System configur Rail version latest from main Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":1,"With reproduction steps":0}
{"description":"remov unknown rollup input option breakOnWarn Motiv Background As seen in https buildkit com rail rail build d dc b bc a c bbcf f eb breakOnWarn doe not seem to be a valid option for Rollup and caus a Warn Unknown input option breakOnWarn Detail I cannot find the option in the offici document https rollupj org configur option and therefor I think it can safe be remov Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update relea note re inflect and the onc autoload I realiz this while chat with zenspid about a poltergeist he had upgrad an app The workaround is suboptim In Rail the plan is that new applic will have inflect generat in a differ place and load earlier so user wont need to think about this This patch will be backport to stabl and stabl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rewrit connect reaper test with timeout Tri to debug reaper test rb","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix deprec enum syntax in test Follow up to https github com rail rail pull https buildkit com rail rail build d a b e ef a f deb c f cc skipkayhil","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add a basic railti integr test for Active Storag As part of remov the dummi app in it was suggest to look at way to improv test coverag from the point of view of Railti This PR is a first take at that and alway open to feedback suggest bow","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Transform actionc document to Markdown Relat to https github com rail rail issu tool rdoc to md a on actionc to reproduc the result","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov initi that was eager load the schema cach dump This will be eager load by the defin attribut method initi now that the schema cach can be automat load for all connect if the file is present on disk after https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"gitignor templat refer git default instead of custom config Motiv Background The current gitignor file generat by the rail app templat encourag custom git core excludesFil option It seem counter to the Rail etho of leverag convent and default to activ suggest a bespok custom This chang now document the exist default global excludesFil locat instead Detail git config core excludesFil default to XDG CONFIG HOME config git ignor This Pull Request chang the gitignor templat in the rail app generat to suggest the default file locat instead of configur a custom locat Addition inform This is essenti a doc chang as it on updat a code comment in generat templat Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur n a x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ n a","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Disambigu languag around when control code stop re redirect to ci skip Motiv Background Descript Chang to Layout and Render The Differ Between render and redirect to https guid rubyonrail org layout and render htmlthe differ between render and redirect to The chang paragraph tend to caus confust with Rail develop who have just learn the correct control flow of redirect to and render A phrase abov it in the Avoid Doubl Render Error section clear up a common misunderstand that render will stop execut within a control action That misunderstand is further clarifi with a follow phrase But this will not stop the rest of the code in the show action from run This section is often enough to get the point across for newer develop who might often be run into doubl render error but soon after the phrase which attempt the same illustr of redirect to s execut confus the matter by use the same languag as the earlier statement to mean the opposit Sometim inexperienc develop think of redirect to as a sort of goto command move execut from one place to anoth in your Rail code This is not correct Your code stop run and wait for a new request from the browser Here Your code stop run mean that the action will run to complet and not jump to anoth site in control code where the other phrase stop the rest of the code from run is use to illustr the misunderstand and mean the action will not run to complet This often re confus the concept theyv just learn and undermin their understand By be more specif in the second phrase we can reinforc the concept instead The chang Open to feedback around the particular phrase or format the import part is chang the re use of the stop run terminolog Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Copi over rubi version prior to initi bundl in generat Dockerfil Motiv Background This Pull Request has been creat becaus the default Dockerfil will fail to build when it attempt to bundl gem when there is no rubi version file for it to refer to if develop have updat the Gemfil rubi refer in a certain but valid way Bundler https github com rubygem rubygem blob master bundler CHANGELOG md august introduc https github com rubygem rubygem pull the abil to read in the version of Rubi from the rubi version file rubi file rubi version Rail doesnt current use this pattern set the Rubi version in both the rubi version file and the Gemfil Howev some develop will updat the Gemfil to use the new file syntax as it is a perfect valid way of referenc the rubi version Detail This Pull Request chang the generat Dockerfil so that it copi over the rubi version file at the same time as the Gemfil and Gemfil lock so bundler has everyth it need to bundl regardless of which method develop have chosen to specifi the Rubi version in the Gemfil Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix race condit for multipl preprocess video variant This PR supers which Ill close This fix race condit in Active Storag when multipl preprocess variant are defin for a Preview file is attach Background When a variant is specifi for a preview file type e g video or PDF attach a preview imag attach is first creat and attach on the origin blob and then ani user specifi variant are deriv from that preview imag When those variant are name and have preprocess true the job to creat those variant are queu simultan Exampl from my case rubi has one attach file depend purg later do attach attach variant preview resiz to fill preprocess true attach variant still format jpg saver qualiti preprocess true end The issu When a Preview attach is creat a video in my case TransformJob perform later is call for each name variant with preprocess true Unless your queue adapt is synchron e g inlin or test this result in a race condit in which everi such variant worker will check process see that no preview imag attach exist yet on the ActiveStorag Blob and Redund download the file from storag Creat duplic ActiveStorag Attachment and ActiveStorag Blob record for the preview imag attach all but one of which will be orphan from the origin blob has one attach preview imag Creat variant blob and associ ActiveStorag VariantRecord that are similar orphan by virtu of be a variant of an orphan preview imag blob As a result if the video is ever purg PurgeJob will on find the current has one attach preview imag and whatev variant demand it into exist then leav the rest as orphan record in the databa and in storag The fix Queue a PreviewImageJob instead of N TransformJob job and have it on after preview imag is attach enqueu ani subsequ TransformJob job Test caveat Write a reproduct test case for this insid Rail would be difficult becaus it would requir run the result TransformJob job concurr I start a test https github com searl rail blob fix video duplic preview variant activestorag test model variant with record test rbL L but fail to reproduc in part becaus the test queue adapt will perform enqueu job inlin instead of concurr In order to write a test that replic the issu appropri we might first need a new option for perform enqueu job async true If your interest this gist https gist github com searl b abe b f ea c d aab includ a driver script and output befor and after the patch show it work Evaluat impact on exist Active Storag user I on found this becaus Im a total cheapskat and was liter count record in my S bucket to ensur PurgeJob work Then I wast the next two day tri to figur out whi befor land on this I strong suspect that ActiveStorag user who host video and take advantag of preprocess true name variant will have a lot of orphan stuff float around their bucket To see if you have ani such zombi preview imag and presum associ variant float around your applic that would surviv call to purg on the own attach you could write a queri like this ActiveStorag Attachment join INNER JOIN activ storag attach as other attach ON activ storag attach record id other attach record id AND activ storag attach id other attach id where name preview imag record type ActiveStorag Blob other attach name preview imag other attach record type ActiveStorag Blob distinct Clear out one product databa and backend storag to get this all right size should be a fun exerci for the reader","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"nest attribut for limit doe not account for record mark for delet Notic that when an updat to a model that accept nest attribut with a limit specifi that ani batch updat of nest record will count ani record mark for delet along with ani new one which rai Workaround for now is to remov limit on the nest attribut for call and write a custom valid rubi class Post ApplicationRecord has mani comment depend destroy accept nest attribut for comment allow destroy true valid valid comment count privat def valid comment count count comment count c c mark for destruct if count error add base A post can have at most comment end end end Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end creat tabl comment forc true do t t integ post id end end class Post ActiveRecord Base has mani comment accept nest attribut for comment allow destroy true limit end class Comment ActiveRecord Base belong to post end class BugTest Minitest Test def test nest attribut limit post Post creat comment attribut first comment second comment post comment post updat comment attribut first comment attribut second comment attribut merg destroy end end Expect behavior The limit valid should reject ani associ record mark for delet Actual behavior It instead count all associ record System configur Rail version Rubi version rubi revi f ac arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add new middlewar to ensur error are alway report to the AS error report Motiv Background This Pull Request has been creat becaus it was report in https github com rail rail issu issuecom that the Rail error report is not report error in product Fix Detail This move the report to insid a new middlewar ReportError which is alway hit in prod and develop and remov the report from the Executor middlewar Move it here ensur error are alway report regardless of the environ Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix NoMethodError in Active Record after backport stabl Ref connect on exist on main but was includ in a backport https github com rail rail commit eb da a ea a f c d d cc byroot","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Move where error are report to ensur they are report in product Motiv Background As report in https github com rail rail issu issuecom the Rail error report is not report error in product Fix Detail This move the report to insid the DebugExcept middlewar which is alway hit in prod and develop and remov the report from the Executor middlewar Move it here also ensur they are report in develop Initial i had want it in ShowExcept but in develop DebugExcept swallow it first Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Workaround a Rubi bug that can caus a VM crash See https bug rubi lang org issu The bug exist all the way sinc Rubi if you clone a Proc object on which you alreadi access object id when it clone is GCed Rubi will crash By access the clone object id right away we prevent the crash","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ensure error are report even when render and not rai Motiv Background Resolv Detail This Pull Request ensur that error are report even when render and not rai Addition inform I am not sure how to test this Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow templat to return ani kind of object Fix https github com rail rail issu While Action View is predomin meant to render text in some case it use to render more complex object So we shouldnt assum run return a buffer FYI kuwabarahiroshi julik","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ensure requir version of Bundler to be instal in the contain PR enforc bundler version from Gemfil lock to be instal When use bundler differ from the version that is instal by default in your Rubi version you may experi an error To instal the version of bundler this project requir run gem instal bundler v Activat bundler fail Could not find bundler did find bundler Check in GEM PATH rail local share gem rubi usr local lib rubi gem usr local bundl execut gem env for more inform PR is base on the Bundler document and it will be a default behaviour for the futur version of the Bundler https bundler io blog solut for cant find gem bundler with execut bundl html","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make various minor fix to the Active Record test suit Extract from https github com rail rail pull Make fixtur setup and teardown method privat Dont run adapt thread safeti test with sqlite mem Make foreign key test more resili to leak state Use exit in fork to avoid at exit side effect Disabl transact fixtur in test that do a lot of low level assert on connect or connect pool","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"FileNotFoundError in AnalyzeJob Our app https github com hackclub hackathon backend run on the edg and after this week Rail updat https github com hackclub hackathon backend pull we start get the Active Storag error https github com hackclub hackathon backend issu Revert fix the problem","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov memoiz to accept key provid overridden by with encrypt context Somewhat similar to but with a differ caus as of we werent correct observ key provid when overridden with with encrypt context I believ this regress in though it feel possibl in some case there would have been a memoiz problem beforehand Report by ksteven Thank you Ill also backport this to stabl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pure rubi view templat page and compon Came across this project call Matestack UI Core https github com matestack matestack ui core and couldnt help but think it pretti cool What your opinion on make rubi the languag to write the templat instead of html and also write abstract to reduc the need of js Here a quick look at how it work For control pretti standard stuff rubi class ItemsControl ApplicationControl def index item Item all end def show item Item find param id render Item ShowPag new item end end And then instead of juggl between HTML and Rubi you keep it all Rubi view index rb rubi h Item item each do item div do link to item titl item path item end end span Item count item count page item show page rubi modul Item class ShowPag includ ActivePag attr reader item def initi item item item end def templat page titl div class card do div do h item titl link to Item item path render Item ItemDetailsCompon new item end end end def page titl h Show Item class titl end def style h color red end end end And you can defin compon like so compon item item detail compon rubi modul Item class ItemDetailsCompon includ ActiveCompon attr reader item def initi item item item end def templat tabl do Detail go here end end end end Im think this could realli simplifi how we handl view and frontend logic in Rail app Plus it Rubi through and through which is alway a plus Also there is matestack ui vuej https github com matestack matestack ui vuej which has some realli interest way to hide the use of js This could pave the path to leverag power compon librari similar to those avail in React such as Ant Design or Materi UI While Hotwir offer a solid approach the eleg of pure Rubi coupl with it dynam natur allow us to util JSX like templat effect dhh","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve document of ActiveSupport TimeZon creat ci skip The creat method is current mark as an alia of new Howev becaus new is later overridden it no longer an alia This requir wrap the alia method with stopdoc startdoc as the method is still mark as an alia otherwi ad nodoc to alia method doesnt work yet https github com rubi rdoc pull The initi method has to be wrap with stopdoc startdoc as well as the new method will still be document for the initi Adding a nodoc instead will remov document for all follow method Befor After Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document that lock version column is integ Motiv Background The Rail document doe not reflect that the lock version column must be of type integ Detail This PR add the requir type to the ActiveRecord Lock Optimist document","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"render fizz and render partial fizz behav differ when given a block Step to reproduc The follow demonstr the error rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main end requir minitest autorun requir action view class BugTest ActionView TestCa def setup control append view path end def test stuff page ERB Partial Bug This work The first partial This fail The third partial This achiev the intend outcom of pass a block into a partial render The second partial ERB partial ERB Start End ERB File write partial html erb partial render inlin page end end Expect behavior Both block in the script abov should behav the same Actual behavior The follow except is rai ActionView Templat Error nil is not an ActiveModel compat object It must implement to partial path System configur Rail version Rail Rubi version rubi revi f ac arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Read the Rubi Version in Gemfil Instead of Hardcod the Version Step to reproduc Creat a new rail project The generat Gemfil has rubi rubi Enhancement Use the file argument of rubygem rubi rubi file rubi version Expect behavior The Rubi version must be specifi on onc Current it is specifi in multipl locat which is not ideal Actual behavior Rubi version is hard code in Gemfil when the Rail project is generat System configur Rail version Rubi version More detail here https andycrol com rubi read rubi version in your gemfil","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use file option to determin Rubi version in Gemfil Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background At the moment a fresh new Rail app will defin the current Rubi version in differ place the rubi version file the top of the Gemfil with the rubi method call This duplic can be a problem when for exampl bump Rubi to an higher version someon might forget to chang the number in one place Here an issu https github com rubygem rubygem issu from Bundler where this concept is explain more deepli In order to solv this Bundler https github com rubygem rubygem blob master bundler CHANGELOG md august add the possibilti of specifi the Rubi version in the Gemfil by direct point to a file contain that version This is the PR https github com rubygem rubygem pull that introduc such enhanc Detail With that be said have someth like this in the Gemfil of a new Rail app rb rubi file rubi version avoid duplic and can make life easier when upgrad Rubi Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Proper synchron Mysql Adapteract and TrilogyAdapteract As well as disconnect and verifi This general isnt a big problem as connect must not be share between thread but is requir when run transact test or system test and could lead to a SEGV Found while work on https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Revert Pin minitest version to Revert rail rail was relea to address this hope pray","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Grace handl transact fixtur leak Extract from https github com rail rail pull Some test may use the connect in way that caus the fixtur transact to be commit or roll back The typic case be do schema chang queri in MySQL which automat commit the transact But ther ear more subtl case The general idea here is to ensur our transact is correct roll back dure teardown If it fail then we assum someth might have mutat some of the insert fixtur so we invalid the cach to ensur the next test will reset them This issu is particular common in Active Record own test suit sinc transact fixtur are enabl by default but we have mani test creat tabl and such We could treat this case as an error but sinc we can grace recov from it I dont think it worth it","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add shard key shard on all shard method to AR Model Motiv Background Current there is no simpl way to ask a model if it connect to a singl databa or to multipl shard Furthermor without loop through a model connect I dont believ there an easi way to return a list of shard a model can connect to Detail This commit add a shard key ivar that set whenev connect to is call It set the ivar to the result of shard key shard in connect to default to an empti hash and therefor when call connect to databa shard key will be set to an empti array shard key is set befor the follow line rubi if shard empti shard default databa end This condit set the one and on shard default to the valu of databa that we pass to connect to This allow for call connect to shard default on model configur to on connect to a databa e g rubi class UnshardedBa ActiveRecord Base self abstract class true connect to databa write primari end class UnshardedModel UnshardedBa end UnshardedBa connect to shard default UnshardedBa connect pool db config name primari This is ultim still an unshard model which is whi shard key get set befor the condit With the new shard key ivar we need a way for descend of the abstract AR model to return that same valu For that we leverag the exist connect class for self method That method return the ancestor of the model where connect to was call or return self if it the connect class rubi class UnshardedBa ActiveRecord Base self abstract class true connect to databa write primari end class UnshardedModel UnshardedBa end ActiveRecord Base connect class for self ActiveRecord Base UnshardedBa connect class for self UnshardedBa abstract UnshardedModel connect class for self UnshardedBa abstract The new shard key method is a getter which return the valu of shard key from the connect class or it return an empti array The empti array is necessari in case where connect to was never call Final Ive ad an on all shard method which take all of the argument for connect to except for shard Instead it loop through everi shard key and then deleg everyth el to connect to Ive use map instead of each so that we can collect the result of each block Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pass an array to the model paramet of form with doe not work with singular unpersist resourc Step to reproduc Pass an array to the model paramet of form with when the termin resourc in the array is singular AND unpersist generat an incorrect path In the exampl below ActionDispatch generat a name path of post comment path which doe not exist becaus the rout defin a singular comment resourc so the valid path should be post comment path In my test this issu on appear of the resourc is unpersist so work fine if the form is updat a save resourc but not when creat a new resourc My own high inexperienc analysi discov that the PolymorphicRout class will return a singular resourc path if the resourc is persist https github com rail rail blob c bcb e ee c f a fe bb ca actionpack lib action dispatch rout polymorph rout rbL If the resourc is new then the code run this line to generat a plural path https github com rail rail blob c bcb e ee c f a fe bb ca actionpack lib action dispatch rout polymorph rout rbL I understand that this might be an intent design or may be justifi for some reason beyond my understand Also I appreci that it may not be possibl for ActionDispatch to be awar if the resourc is singular or plural rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite gem debug end requir action control railti requir activ record requir action view This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end creat tabl comment forc true do t t integ post id end end class Post ActiveRecord Base has one comment end class Comment ActiveRecord Base belong to post end class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger rout draw do get testindex resourc post do resourc comment end end end requir minitest autorun requir rack test class BugTest ActionView TestCa includ ActionView Helper FormHelp includ Rail applic rout url helper def test someth post Post creat result form with model post Comment new assert result match r post comment end privat def app Rail applic end end Expect behavior ActionDispatch should return the correct path use a singular child resourc post comment Actual behavior ActionDispatch return the incorrect path use a plural child resourc post comment System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Deprec config activ record warn on record fetch greater than Deprec config activ record warn on record fetch greater than set in favor of The same function and more can now be achiev by subscrib to sql activ record notif imag https github com rail rail asset b bca c c d b b db abc Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Par test with prism Motiv Background This is a refactor PR to chang TestPar to par use the prism parser if it is avail instead of the ripper librari Detail Prism provid a simpler interfac with consist field name so it should be easier to maintain go forward It also has a guarant stabl API as oppo to ripper which can chang between patch version of Rubi It also result in less code Addition inform I benchmark this chang and it appear to have no visibl differ it within the margin of error My benchmark script is below Benchmark rubi frozen string liter true requir activ support test case requir prism requir ripper requir benchmark ip class PrismPar def self definit for method filepath start line method sourc locat queue Prism par file filepath valu while node queue shift case node type when def node if node name start with test node locat start line start line return filepath start line node locat end line end when call node if node name test node locat start line start line return filepath start line node locat end line end end queue concat node compact child node end nil end end class RipperPar Ripper def self definit for method obj path begin line method obj sourc locat begin to end new File read path path par return unless end line begin to end begin line path begin line end line end def initi A hash map the index line number that test start on to where they end begin to end super end def par super begin to end end def on def begin line begin to end begin line lineno end def on method add block begin line end line if begin line end line begin to end begin line end line end end def on command call begin lineno arg begin lineno end def first arg arg arg end def just lineno lineno end alia on method add arg first arg alia on command first arg alia on stmts add first arg alia on arg paren first arg alia on bodystmt first arg alia on ident just lineno alia on do block just lineno alia on stmts new just lineno alia on brace block just lineno def on arg new end def on arg add part part part part end def on arg add block arg rest arg first end end class ExampleTest ActiveSupport TestCa def test method assert true end def test onelin assert true end test declar do assert true end test declar w paren do assert true end self test declar explicit receiv do assert true end test declar onelin assert true test declar onelin do do assert true end test declar multilin w brace assert true refut fal end method ExampleTest instanc method grep test map method ExampleTest instanc method method Benchmark ip do x x report Prism method each method PrismPar definit for method x report Ripper method each method RipperPar definit for method x compar end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail test command suggest similar test file when the given file is not found For exampl if you run rail test test model usr tsst rb and the file doe not exist Rail will suggest test model user test rb as a possibl file Could not load test file test model usr tsst rb Did you mean test model user test rb After investig I was inspir to add this featur to Rail Credit to tenderlov for the minitest implement","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"RF DOCS Add document for perform all later to Active Job Basic guid ci skip Overview Add document relat to perform all later for bulk enqueu job Test Test the new method in app use sidekiq local Also test document by run guid generat guid valid and guid lint local","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":1,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Sidekiq ActiveJob adapt reset provid job id on with retri job Issue The retri job method on ActiveJob job is basic a wrapper for enqueu Enqueue for Sidekiq just call the factori for wrap the ActiveJob job in a Sidekiq JobWrapp See https github com rail rail blob babad a ae fff aa a de b activejob lib activ job queue adapt sidekiq adapt rbL The issu is that when that happen it is effect a complet new Sidekiq job Sever of the attribut of the origin ActiveJob instanc get pass into a set on that Sidekiq job but the provid job id is not one of them Expect behavior retri job should result in the job have the same provid job id as it did befor the retri Actual behavior retri job result in a chang to the provid job id everi time System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail error report doesnt report except in product In product an except that occur in the HTTP request lifecycl is render and not rai The Executor middlewar report on rai except https github com rail rail blob main actionpack lib action dispatch middlewar executor rbL L This sever neuter IMHO the valu of the new error report Expect behavior Exception that occur within the HTTP request lifecycl in product while still be render are also report to the error report Actual behavior Exception that occur within the HTTP request lifecycl in product are not report to the error report System configur Rail version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Share alreadi load fixtur across test class self class is a fair narrow cach key so it doesnt hit that much but more import sinc noth clear that cach on larg test suit it keep grow extrem larg Using the list of fixtur as a cach key doesnt strict solv the growth issu but most class actual load all fixtur so this should shrink the cach size consid Instead we can use the paramet of load fixtur as a cach key and clear the entir cach when chang this both improv the hit rate and solv a memori leak cc ChrisBr","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix a race condit in FutureResultinstru We must wait until the event is fulli record befor ad it to the list otherwi it might be flush while incomplet","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Decoupl transact fixtur and activ connect Ref https github com rail rail pull Transact fixtur are current tight coupl with the pool activ connect It assum call pool connect will memoiz the check out connect and leverag that to start a transact on it and ensur all subsequ access will get the same connect To allow to remov checkout cach or make it option we first must decoupl transact fixtur to not reli on it The idea is to behav similar but store the connect in the pool as a special pin connect and not as the regular activ connect This allow to alway return the same pin connect but without necessarili assign it as the activ connect Addition this pin impact all thread and fiber so that all thread have a consist view of the databa state FYI matthewd","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"stabl Update minitest to includ fix for test run filter Similar to for stabl branch minitest minitest f f de","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update minitest to includ fix for test run filter This PR revert and bump the version of minitest in our Gemfil lock","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"stabl Pin minitest version to Backport to stabl while Im not so sure this qualifi as backport materi it is a major problem that none of the test are run Origin descript Manag to reproduc CI failur at https buildkit com rail rail night build d bb a e d cb b It would also reproduc against the relea version of Rubi becaus this is trigger by minitest v chang https github com minitest minitest commit ebb c c eea bd a c e To avoid all of railti CI failur pin minitest version to tentat Step to reproduc rubi git clone https github com rail rail cd rail rm Gemfil lock bundl instal cd railti bin test test applic test runner test rb n test system test are not run with the default test command Expect behavior It should pass Actual behavior rubi bin test test applic test runner test rb n test system test are not run with the default test command Run option n test system test are not run with the default test command seed F Failur ApplicationTest TestRunnerTesttest system test are not run with the default test command test applic test runner test rb Expect run assert failur error skip to match Noth ran for filter nRun test in a singl process parallel threshold is nRun option seed n n Run n n bin test test applic test runner test rb Finish in s run s assert s run assert failur error skip","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"stabl Fix Active Storag test configur for CI Appli to stabl to simplifi the test for metadata and correct the test configur path with improv to the readabl This chang improv upon in that it remov the need to stringifi or symbol ani key sinc we are compar the metadata with string key This is a follow up to Sorri this took me PRs bow","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document ActiveRecord alia attribut ci skip This document how alia attribut work includ for queri Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Trilog EOFError cannot be recov on ActiveRecord Step to reproduc rubi requir json requir rack requir base requir bundler Bundler requir default app Rack Builder par file dir config ru first RELATIVE URL ROOT ENV RAILS RELATIVE URL ROOT ActiveRecord Base establish connect adapt trilog databa test host xxxx usernam xxxxx password xxxxx port ssl mode VERIFi IDENTITi encod utf mb collat utf mb general ci pool checkout timeout connect timeout read timeout idl timeout reap frequenc Dir app model rb each do file requir file end def handler event context httpMethod event fetch httpMethod STDOUT write Process pid STDOUT write n STDOUT write httpMethod STDOUT write n if httpMethod POST discard Messag take as json STDOUT write discard STDOUT write n discard return return statusCod bodi discard el return statusCod bodi pong end end We are use ActiveRecord on AWS Lambda Function to connect to databa use Trilog driver We found occas there are EOFError We tri to reproduc it and find when a connect is check out from the pool after some time https doc aw amazon com vpc latest userguid nat gateway troubleshoot htmlnat gateway troubleshoot timeout when the under TCP connect is broken follow queri on the connect could trigger the error On AWS Lambda Function we could steadili reproduc it with all x version work well Cant reproduc it local And pool configur like idl timeout reap frequenc doesnt chang anyth img v q a dfe e b ac d fc dg https github com rail rail asset e bbf b d e c c fcf b Expect behavior The broken connect could be recov and doesnt affect applic Actual behavior Error is rai System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont pop logger tag in Rail Rack Logger until request is finish Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background At the moment Rail Rack Logger tag the logger if it ActiveSupport TaggedLog for the durat of the app call but on fire the request action dispatch event later on bodi close That mean anyth log in request action dispatch handler wont have the same tag as the rest of the request Detail Fix this by defer the pop of tag into finish request instrument in the same way that finish the instrument handl is defer Addition inform There didnt seem to be ani test case relat to request log tagger so I ad one Also I dont know if this is import enough for a changelog entri but it seem harmless enough to add a one liner in there Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"jemalloc Dockerfil configur may be problemat across architectur i just note https github com rail rail pull merg which is awesom howev i think there may be some issu when run on differ architectur see this comment https github com docker librari rubi issu for a solut im not sure how to appli this to the Dockerfil generat in rail otherwi id creat a pr but i know local we had to do this to ensur our Dockerfil ran our rail app jemalloc across the follow architectur aarch linux arm darwin x darwin x linux also i havent test the other simpler solut https github com docker librari rubi issu issuecom propo in this issu either but mayb it the way to go","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add minimum size to connect pool Motiv Background This PR implement the minimum connect pool size idea describ in The primari motiv with this is to ensur that we alway have at least N connect establish to the DB so that we dont need to spend time connect to the DB dure the handl of a request Fix Detail In ConnectionPool renam size to max size and add min size as a configur option min size is initi from db config min size where Ive also ad a new configur option ConnectionPoolin call a new method ensur minimum connect when min size is In ConnectionPoolflush we need to pay attent to the minimum pool size and make sure that we dont close too mani connect Final ConnectionPool Reaper also call into ensur minimum connect after reap flush to ensur that we alway have the desir number of establish connect activ Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add the abil to configur minimum number of activ connect for connect pool Current ActiveRecord connect pool support configur a maximum size via the pool https api rubyonrail org class ActiveRecord ConnectionAdapt ConnectionPool html text databa connect configur A pool A maximum number of configur set Establish new connect to the DB can be a relat expen oper and so we want to tri and make sure that the applic alway has a minimum number of establish connect to the DB We can do that in our applic initi path but connect which have been idl for too long will get clean up by the reaper Id like to add support for specifi a minimum pool size to the connect pool so that we can ensur we alway have a certain number of activ connect to the DB establish As a start point I propo the follow chang Renam size to max size in ConnectionPool https api rubyonrail org class ActiveRecord ConnectionAdapt ConnectionPool html Alia size to max size for backward compat Add min size as a support option to ActiveRecord DatabaseConfigur HashConfig https api rubyonrail org class ActiveRecord DatabaseConfigur HashConfig html Optional renam pool to max size for clariti and add an alia for pool for backward compat Modifi ConnectionPool and ConnectionPool Reaper to respect the minimum pool size I will add a PR that implement these idea","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve dom id uniqu in guid All header in a guid get a uniqu dom id to make anchor link work If a header is alreadi present we would prefix it and it duplic with the dom id of the parent node This would rai an error for header without parent node rail guid rail guid markdown rb in dom id undefin method for nil NilClass NoMethodError dom id node id dom id This commit simplifi the dom id uniqu by on prepend the parent node if it exist This can still result in duplic at the same level but for these we alreadi show a warn DUPLICATE ID some id plea make sure that there are no head with the same name at the same level Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Deprec defin enum with keyword arg Motiv Background Enum have histor been defin use keyword argument rubi class Function ApplicationRecord enum color red blue type instanc class scope fal This has the advantag of be abl to defin multipl enum at onc with the same option Howev it also has a downsid that enum option must be prefix with an underscor to separ them from the enum definit to enabl model to have enum with the same name as an option In Rail a new syntax was introduc to instead defin enum with posit argument rubi class Function ApplicationRecord enum color red blue scope fal enum type instanc class scope fal This new syntax elimin the need to prefix option with an underscor and the doc were updat to recommend this new syntax Howev both version of the API have been support sinc and it has start to caus some problem The first issu is that the avail option have drift In Rail an option was ad to make assign an invalid enum valu use valid error instead of runtim error Howev the equiv underscor prefix option was not ad for the origin enum syntax Articl have been creat that describ the new option in Rail but the exampl in the articl use un prefix option with the old syntax This confus has also lead to issu open ask whi that incorrect syntax is not work Addition the presenc of underscor option is just general confus becaus it tend to impli an option is for intern use Detail This commit aim to fix all of these issu by deprec the old enum syntax With on one way to defin enum option cannot drift and there will be less confus around how enum should be defin https github com rail rail commit d d a aea c aec ff a e d f Addition inform Close Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Delet EncryptionPerformanceTest On my machin run the whole Active Record test suit take second and of these are spent in encrypt test Some of them also happen to occas flake becaus of random blip I appreci the care that has been put into ensur the overhead of encrypt is reason but I dont think these test justifi their cost Befor Finish in s run s assert s run assert failur error skip You have skip test Run with verbo for detail Top slowest test second of total time ActiveRecord Encryption EncryptionPerformanceTesttest read an encrypt attribut multipl time is as fast as read a regular attribut second test case encrypt perform encrypt perform test rb ActiveRecord Encryption EnvelopeEncryptionPerformanceTesttest read an encrypt attribut multipl time is as fast as read a regular attribut second test case encrypt perform envelop encrypt perform test rb ActiveRecord Encryption ExtendedDeterministicQueriesPerformanceTesttest find with prepar statement cach by determinist encrypt column second test case encrypt perform extend determinist queri perform test rb ActiveRecord Encryption ExtendedDeterministicQueriesPerformanceTesttest find without prepar statement cach by encrypt column determinist second test case encrypt perform extend determinist queri perform test rb EagerLoadingTooManyIdsTesttest preload too mani id second test case associ eager test rb ActiveRecord Encryption EncryptionPerformanceTesttest perform when save record second test case encrypt perform encrypt perform test rb ActiveRecord Encryption EnvelopeEncryptionPerformanceTesttest perform when save record second test case encrypt perform envelop encrypt perform test rb SecurePasswordTesttest authent by take the same amount of time regardless of whether record is found second test case secur password test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest disconnect and clear reload connect attempt to wait for thread to return their conn second test case connect pool test rb ActiveRecord ConnectionAdapt SchemaCacheTesttest gzip dump ident second test case connect adapt schema cach test rb After Finish in s run s assert s run assert failur error skip You have skip test Run with verbo for detail Top slowest test second of total time EagerLoadingTooManyIdsTesttest eager load too mani id second test case associ eager test rb SecurePasswordTesttest authent by take the same amount of time regardless of whether record is found second test case secur password test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest disconnect and clear reload connect attempt to wait for thread to return their conn second test case connect pool test rb ActiveRecord ConnectionAdapt SchemaCacheTesttest gzip dump ident second test case connect adapt schema cach test rb EagerLoadingTooManyIdsTesttest preload too mani id second test case associ eager test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest checkout fair second test case connect pool test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest checkout fair by group second test case connect pool test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest connect pool stat second test case connect pool test rb ActiveRecord ConnectionAdapt ConnectionPoolFiberTesttest connect pool stat second test case connect pool test rb ActiveRecord ConnectionAdapt ConnectionPoolThreadTesttest concurr connect establish second test case connect pool test rb","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Speedup ConnectionPoolTest Most of the time was spent wait on the default second checkout timeout Reduc in for just these test save about minut of run time but more import save me from tri to figur out if my refactor introduc a deadlock of some sort Befor real m s After real m s","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Implement Rail TestUnitReporterprerecord This is invok by Minitest befor invok the test allow to print the test name in advanc This is use to debug slow and stuck test by turn on verbo mode This way the stuck test name is print befor the process deadlock Otherwi you have to resort to dirti trick to figur out which test is not return This is also how the default Minitest report work in verbo mode","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix counter cach to work for model with composit primari key Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix JSON encod ActiveStorag Filenam Motiv Background ActiveStorag Filenam was miss quot when encod generat invalid json like this rubi JSON generat foo ActiveStorag Filenam new bar pdf foo bar pdf Detail Delet to json and reli on the implement from ActiveSupport ToJsonWithActiveSupportEncod Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"allow browser may prevent your site from be crawl https github com rail rail pull was merg a few week ago which block user agent that dont match a specif set of browser version Base on the PR it look like this is the default sinc it includ in the generat output This run the risk of prevent your site from be crawl by various search engin Googl has a number of specif crawler https develop googl com search doc crawl index overview googl crawler that wont match the agent suppli in that PR imag video etc It will also prevent anyon from access your site with curl or other popular HTTP client unless they manual defin an agent that mimic a modern browser This could be an undesir effect as a default especi without document state that","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail async find by sql need promi valu valu Step to reproduc When call async find by sql sinc upgrad from Rail to Rail the promi no longer return it result when call valu but instead we need to call valu twice in order to actual get the valu Expect behavior promi valu should return the result Actual behavior Sinc Rail need to call promi valu valu instead System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action Cabl server adapt Motiv Background This PR aim to make Action Cabl more flexibl and exten as a librari framework by separ low level implement specif detail e g handl WebSocket deal with concurr from abstract Connect Channel class That would make it possibl to use user level Action Cabl code with altern web server or execut model e g Fiber without rewrit it or monkey patch intern TIP You can find a more detail descript of the problem motiv and potenti benefit of such refactor in this document https doc googl com document d oGf NAzQL sDw rTfUNSe mzzg wX sc D EDI edithead h d db fd ano NOTE This PR doe not introduc ani new featur or public API break chang It doesnt affect the exist function of built in Action Cabl server Detail The chang are group into commit to reflect the follow major chang Reorgan thread executor Action Cabl reli on two thread executor right now one to perform user space code Worker and anoth one to perform intern async oper around pub sub The latter was for some histor reason hidden within the StreamEventLoop class that implement and IO loop to perform read write oper on socket Ive extract the executor and promot it into a server attribut independ of IO event loop The main motiv of this extract is not on in enforc SoC but to separ WebSocket specif code from more generic async executor use throughout the codeba Ive also wrap the Concurr Rubi thread executor into a custom class with a minim interfac post timer and shutdown method so it will be possibl to configur a custom executor for a server in the futur one use case we have in mind is use a Fiber base executor instead of a Thread base one Note that this PR doesnt includ ani configur relat code e g to support smth like config action cabl async executor fiber but Im consid ad someth like that in the follow up PRs Limit the scope of async oper This step is the follow up to the async executor extract We have a few place in the Channel intern which direct refer to the event loop but theyr all relat to pub sub oper So to avoid unnecessari async oper at the abstract level I move all it to the pub sub layer by and standard it across adapt by use a SubscriberMap Async subclass Previous we might have doubl async call when perform stream from one from the channel and one from the pub sub adapt now it up to the adapt whether to creat subscript asynchron or not We shouldnt duplic this logic Split ActionCabl Connect Base into ActionCabl Connect Base and ActionCabl Server Connect Today the Connect class know about everyth from perform user code to set up WebSocket event listen to deal with Rail executor wrap That prevent from reus this class in environ when we dont need to deal with all of these non WebSocket server or unit test more about them below This chang is most code reorgan and minor test updat e g we no longer need to alway use run in eventmachin becaus now we deal with pure Rubi class So now we have two type of connect low level Server Connect and applic level Connect Base The communic with each other via the follow interfac mermaid classDiagram class PubSub subscrib channel handler callback void unsubscrib channel handler void class Executor post block void timer interv block handl class Server pubsub PubSub executor Executor config Configur class ServerConn logger Logger env Hash String untyp request Request protocol String initi Server env void transmit untyp void close void perform work untyp receiv method name Symbol untyp arg void class Connect initi Server ServerConn void handl open void handl incom payload void handl close void beat void statist Hash Symbol untyp Server PubSub Server Executor Connect ServerConn Connect Server Exampl follow up Action Cabl test Here is an exampl commit one of the futur PRs demonstr how this refactor simplifi Action Cabl test and make it more robust no patch real connect and channel class etc https github com palkan rail commit ba d c faeb b f aab da b Action Cabl over SSE Here is a sketch of how SSE transport for Action Cabl can be implement base on the chang from this PR https gist github com palkan a e b d fe ad ec b Addition inform Here is a Discord thread https discord com channel where we discuss the project There is an old PR attempt to achiev the same goal https github com rail rail pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ cc ioquatix matthewd rafaelfranca","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pin minitest version to Motiv Background Manag to reproduc CI failur at https buildkit com rail rail night build d bb a e d cb b It would also reproduc against the relea version of Rubi becaus this is trigger by minitest v chang https github com minitest minitest commit ebb c c eea bd a c e To avoid all of railti CI failur pin minitest version to tentat Detail Step to reproduc rubi git clone https github com rail rail cd rail rm Gemfil lock bundl instal cd railti bin test test applic test runner test rb n test system test are not run with the default test command Expect behavior It should pass Actual behavior rubi bin test test applic test runner test rb n test system test are not run with the default test command Run option n test system test are not run with the default test command seed F Failur ApplicationTest TestRunnerTesttest system test are not run with the default test command test applic test runner test rb Expect run assert failur error skip to match Noth ran for filter nRun test in a singl process parallel threshold is nRun option seed n n Run n n bin test test applic test runner test rb Finish in s run s assert s run assert failur error skip Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"RF DOCS Action Text Document ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background The Action Text document benefit from some more exampl and explan of some of the concept that are mention as well as the introduct of some new one Detail This Pull Request updat the document for Action Text It add reorder and in general creat clear instruct for use Action Text","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":1,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveSupport TimeZon new rai ArgumentError Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Instantiat an ActiveSupport TimeZon object use the initi syntax https github com rail rail blob f aa c cfad b bb a f ee b activesupport lib activ support valu time zone rbL rubi ActiveSupport TimeZon new America Toronto Expect behavior An object should be return of ActiveSupport TimeZon class Actual behavior An except is rai ArgumentError wrong number of argument given expect This occur becaus the new method https github com rail rail blob f aa c cfad b bb a f ee b activesupport lib activ support valu time zone rbL over write the initi method https github com rail rail blob f aa c cfad b bb a f ee b activesupport lib activ support valu time zone rbL and it on expect one argument System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Enhanc databa config templat for flexibl env connect Motiv Background This Pull Request has been creat to enhanc the flexibl and usabl of the Rail databa yml configur for PostgreSQL databa Current Rail applic default to connect to PostgreSQL through a local Unix socket for develop environ This setup work well for local develop but becom cumbersom when develop use Docker PostgreSQL instanc or switch between local and Docker environ bash rail db prepar bin rail abort ActiveRecord ConnectionNotEstablish connect to server on socket tmp s PGSQL fail No such file or directori ActiveRecord ConnectionNotEstablish Is the server run local and accept connect on that socket Caus by PG ConnectionBad connect to server on socket tmp s PGSQL fail No such file or directori PG ConnectionBad Is the server run local and accept connect on that socket By facilit easi switch between these environ without the need to manual edit the databa yml file this PR aim to streamlin the develop workflow make it more effici and less error prone Detail This Pull Request chang the PostgreSQL databa configur templat postgresql yml tt by introduc dynam environ variabl support for the host usernam and password set in the default configur Specif it allow these set to be overridden via environ variabl with default provid for local develop This approach enabl develop to easili switch between a local PostgreSQL server and a Docker PostgreSQL instanc by simpli set or unset environ variabl without the need for manual configur file edit Addition inform This approach support the idea in https github com rail rail pull discuss r I do not like to use in variabl name but I follow the name in https github com rail rail blob c fe fa aba a d ff ee d e dda b railti lib rail generat rail app templat config databa postgresql yml ttL As suggest in https github com rail rail pull discuss r I would rather use DATABASE URL POSTGRES USER and POSTGRES PASSWORD Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ I am not abl to run the test in Dev Contain or local on macOS it crash Of cour I would love to add or fix test need more tome to set up the local environ But I could creat a new app from local branch which includ correct generat Postgr databa config https edgeguid rubyonrail org contribut to rubi on rail htmlrun an applic against your local branch","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Active Record mark attribut as chang after dup ing a persist instanc Similar to https github com rail rail issu to the point where I suspect the fix may end up be the same for both Ill be work on this bug open an issu for visibl and in case if someon disagr that this is a bug Context Current call dup on a persist object with non default attribut valu make all attribut as chang regardless of the actual state Instead it should preserv the state of the dupe object Reproduct script rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem sqlite gem debug end requir debug requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl peopl forc true do t t string name t integ age end end class Person ActiveRecord Base end class BugTest Minitest Test def test dup doe not chang attribut properti person Person creat name Nikita age person name Nikita V assert predic person name chang refut predic person age chang person dup person dup assert predic person dup name chang refut predic person dup age chang end def test clone doe not chang attribut properti person Person creat name Nikita age person name Nikita V assert predic person name chang refut predic person age chang person dup person clone assert predic person dup name chang refut predic person dup age chang end end Failur Failur BugTesttest dup doe not chang attribut properti Expect to not be age chang NOTE clone exampl pass as is Adding it to make sure that chang around this area wont accid break clone","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"RF DOCS Action Mailbox Document ci skip Overview Action Mailbox is a pretti use interest sub framework of Rail that more app probabl could benefit from It doe have a number of move part so I focus on explain the flow of how thing work I did a lot of in app test of the doc by implement it featur in a rail app and explor what miss in the doc New section Here are the new thing I ad in addit to clarifi the exist text Process Income Email more of a step by step of the flow Mail object and it field List of Inbound Email status valu ActiveJob that are part of Action Mailbox Rout and Inciner Test In addit to test the Action Mailbox featur in app I also ran guid generat and guid valid local I perus the generat html local as well I also test the instruct for one real ingress Postmark local with ngrok","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":1,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov codespel from contribut guid ci skip We are no longer use codespel in rail repositori so we can remov it from guid as well Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Active Record mark attribut as came from user after dup Ill be work on this bug Opene an issu for visibl and to allow communiti to disagr whether the behavior is intend or not Context Call dup on an Active Record instanc caus all attribut to be mark as came from user despit of their origin state This seem like a bug as it lead to complet untouch attribut to return true from came from user call The on small concern I have is that the came from user method dont seem to be public document Howev I assum they intend to becom public and also Rail itself reli on the method to work correct so it should be worth fix Reproduct script rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem sqlite gem debug end requir debug requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl peopl forc true do t t string name t integ age end end class Person ActiveRecord Base end class BugTest Minitest Test def test dup doe not chang attribut valu type person Person new name Nikita assert predic person name came from user refut predic person age came from user person dup person dup assert predic person dup name came from user refut predic person dup age came from user end def test clone doe not chang attribut valu type person Person new name Nikita assert predic person name came from user refut predic person age came from user person copi person clone assert predic person copi name came from user refut predic person copi age came from user end end Failur Failur BugTesttest dup doe not chang attribut valu type Expect to not be age came from user Note clone exampl work as is Im ad it just to ensur that the fix doesnt sudden break clone behavior","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Backport to stabl Ref https github com rail rail pull Opene a PR becaus the patch didnt appli clean This should make rubi head pass on Rubi dev","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Support sourc locat tag option for queri log tag Follow up to as discuss in https github com rail rail pull issuecom We lost the abil to use the line option with QueryLog https github com rail rail pull issuecom while there is one in the marginalia It was cost to use it befor in the gem but we made it fast https github com basecamp marginalia pull so it is not that cost and peopl delib decid if they want to use it I would like to have the line option upd decid to name it as sourc locat it is veri much use Without it if we have a slow db queri log for exampl it is veri hard to know from which part of the codeba the queri was generat Even have an action compon you need to investig the unfamiliar codeba to find out where the queri was trigger cc byroot","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"counter cach doesnt work with composit PKs Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl test background check request forc true do t t integ candid id t integ account id t string name end creat tabl test candid forc true primari key i candid id account id do t t integ candid id t integ account id t integ test background check request count t string name end end class TestCandid ActiveRecord Base self primari key i candid id account id has mani test background check request queri constraint candid id account id inver of test candid end class TestBackgroundCheckRequest ActiveRecord Base belong to test candid counter cach true queri constraint candid id account id end class BugTest Minitest Test def test associ stuff test candid TestCandid creat candid id account id name Foo Barson test candid test background check request creat candid id account id name Background check request assert equal TestBackgroundCheckRequest count assert equal test candid reload test background check request count end end Expect behavior It is expect that the creation of the TestBackgroundCheckRequest will succeed and that the associ TestCandid would have a test background check request count of Actual behavior The creation of the TestBackgroundCheckRequest fail with the follow except candid test background check request creat candid id account id name Background check request D T DEBUG TRANSACTION ms begin transact D T DEBUG TestBackgroundCheckRequest Creat ms INSERT INTO test background check request candid id account id name VALUES RETURNING id candid id account id name Background check request D T DEBUG TRANSACTION ms rollback transact User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in block level in expand from hash Expect correspond valu for candid id account id to be an Array ArgumentError rai ArgumentError Expect correspond valu for key to be an Array unless id set is a Array from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in map from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in block in expand from hash from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in each from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in flat map from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in expand from hash from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat predic builder rb in build from hash from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat queri method rb in build where claus from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record relat queri method rb in where from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record counter cach rb in updat counter from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record lock optimist rb in updat counter from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record persist rb in increment from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record lock optimist rb in increment from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record callback rb in increment from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record associ belong to associ rb in updat counter from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record associ belong to associ rb in increment counter from User markosfragkaki rvm gem rubi bundler gem rail add dba f activerecord lib activ record counter cach rb in block in creat record level System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Fix Active Storag test configur for CI This chang is an up port of which appli a similar fix to stabl Sinc these test werent run befor we didnt notic when the DirectUpload control test were broken My theori is that it has someth to do with chang respon par bodi to return a HWIA in This chang is differ from the stabl PR in that it remov the need to stringifi or symbol ani key sinc we are compar the metadata with string key This is a follow up to This PR came out of the work in but sinc I was abl to reproduc these failur on main I want to fix them first","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"rail new fail if bootsnap is miss from the Gemfil use to run the rail new command updat Step to reproduc im launch this from a root dir with a gemfil point to rail rail latest greatest as of today some alpha version in other word bash be rail new rail blank alpha css tailwind a propshaft note that move into the dir and then manual do the rail importmap instal actual work Expect behavior a rail app readi to get roll Actual behavior run bundl instal quiet run bundl lock add platform x linux Write lockfil to User koenhandekyn Work rail blank alpha Gemfil lock run bundl lock add platform aarch linux Write lockfil to User koenhandekyn Work rail blank alpha Gemfil lock run bundl binstub bundler rail importmap instal in requir cannot load such file bootsnap setup LoadError from in requir from User koenhandekyn Work rail blank alpha config boot rb in from bin rail in requir relat from bin rail in rail turbo instal stimulus instal in requir cannot load such file bootsnap setup LoadError from in requir from User koenhandekyn Work rail blank alpha config boot rb in from bin rail in requir relat from bin rail in rail tailwindcss instal in requir cannot load such file bootsnap setup LoadError from in requir from User koenhandekyn Work rail blank alpha config boot rb in from bin rail in requir relat from bin rail in System configur Rail version alpha Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Enum should accept a proc for default Step to reproduc Tri to defin a flexibl henc a lambda default for an enum on a model rubi enum status STATUSES key default account in i superadmin admin to valid valid Expect behavior It should take into account the attribut of the current model instanc Actual behavior rubi NoMethodError undefin method account for User Class Did you mean account System configur Rail version Rubi version I would love to contribut by submit a PR for this","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve rout sourc locat detect Followup https github com rail rail pull Instead of stop on the first frame that isnt in Action Dispatch we should return the first frame that isnt filter by the backtrac cleaner cc yahonda","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve ActiveStorag Proxi Document The current guid https edgeguid rubyonrail org activ storag overview htmlauthent control for build an authent control in rail proxi mode isnt complet If you follow the includ exampl you will end up with the follow error ArgumentError Cannot generat URL for xxxxxxxx jpg use Disk servic plea set ActiveStorag Current url option rubi app control logo control rb class LogosControl ApplicationControl Through ApplicationControl includ Authent SetCurrentAccount def show redirect to Current account logo url end end The propo fix for this is to set the current host option by prepend includ ActiveStorag SetCurr at the top of the control rubi app control logo control rb class LogosControl ApplicationControl includ ActiveStorag SetCurr Through ApplicationControl includ Authent SetCurrentAccount def show redirect to Current account logo url end end","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update some creat has one failur test descript Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Update some creat has one test descript to indic failur when use the creat constructor Detail I ran into these test when look into a separ issu and found the failur confus when run against my chang The descript were chang in this PR https github com rail rail pull but I think the reason there is incorrect These are ind creation failur and I have ad an addit assert to make that clear Addition inform None Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":1,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord Attribut ClassMethodattribut default proc should be evalu in subclass or instanc context Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t t string type null fal t string titl null fal end end class Post ActiveRecord Base attribut titl default default titl end class InternalPost Post def self default titl Untitl Internal Post Feel like it should call this def default titl Untitl Internal Post or mayb this end class ExternalPost Post def self default titl Untitl External Post def default titl Untitl External Post end class BugTest ActiveSupport TestCa test default titl is assign base on subclass do assert equal Untitl Internal Post InternalPost new titl NameError undefin local variabl or method default titl for class Post assert equal Untitl External Post ExternalPost new titl end end Expect behavior The attribut default proc should be evalu in the context of the model be creat or the instanc be creat Actual behavior The attribut default proc should be evalu in the context it close around This make it imposs to defin default which differ per subclass within an inherit hierarchi System configur Rail version rail Rubi version rubi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord Store with JSON column use nil as default valu instead of Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl nullabl set forc true do t t json set end creat tabl non nullabl set forc true do t t json set null fal end end class BugTest ActiveSupport TestCa self test order sort Not requir but make it easier to look at the debug output setup ActiveRecord Base logger debug name test creat nullabl set without set save nil do assert store nil Class new ActiveRecord Base do model model tabl name nullabl set end end test creat non nullabl set without set rai error do assert rai not null violat Class new ActiveRecord Base do model model tabl name non nullabl set end end test creat nullabl set with attribut default save empti hash do assert store empti hash Class new ActiveRecord Base do model model tabl name nullabl set model attribut set json default end end test creat non nullabl set with attribut default save empti hash do assert store empti hash Class new ActiveRecord Base do model model tabl name non nullabl set model attribut set json default end end test creat nullabl set with store save nil do assert store nil Class new ActiveRecord Base do model model tabl name nullabl set model store set end end test creat non nullabl set with store rai error do assert store empti hash Class new ActiveRecord Base do model model tabl name non nullabl set model store set end fail NotNullViol end test creat nullabl set with store and attribut default save nil do assert store empti hash Class new ActiveRecord Base do model model tabl name nullabl set model attribut set json default model store set end fail nil not end test creat non nullabl set with store and attribut default rai error do assert store empti hash Class new ActiveRecord Base do model model tabl name non nullabl set model attribut set json default model store set end fail NotNullViol end privat def assert store nil model assert nil model creat set befor type cast def assert rai not null violat model assert rai ActiveRecord NotNullViol model creat def assert store empti hash model assert equal model creat set befor type cast rescu ActiveRecord NotNullViol error flunk error messag end end Expect behavior When use ActiveRecord Store with a column of type json the default valu written to the databa should be an empti Hash serial as an empti JSON object especi if the attribut is mark as have a default valu of Actual behavior When use ActiveRecord Store with a column of type json the default valu written to the databa is nil This is problemat when use non nullabl JSON column which cannot accept default at the databa schema level as there is no way to avoid violat the NULL constraint System configur Rail version rail Rubi version rubi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Bug Develop of Add valid option for enum is incomplet Step to reproduc Accord to the changelog https github com rail rail relea tag v Find Add valid option for enum there is a new featur introduc in Rail where is is possibl to add valid true to an enum to avoid rai an except as soon as an invalid valu is assign to an enum It seem the work was proper done but on to one of the possibl syntax rubi Fine enum someth i test test valid true Not fine enum someth el test test test test valid true Expect behavior Both should behav the same Actual behavior The second line will prevent Rail to even boot as it will consid valid true to be an enum valu and will rai rai ArgumentError Enum valu valu must be either a non empti hash or an array System configur Rail version Rubi version How to fix Rail activerecord lib activ record enum rb rubi def enum name nil valu nil option if name valu option option unless valu return enum name valu option end HERE Simpli add valid to definit becaus the signatur of enum is def enum name valu prefix nil suffix nil scope true instanc method true valid fal option definit option slice prefix suffix scope default instanc method valid option transform key key key definit each name valu enum name valu option end","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add miss alia to error array it use to be that the oper was abl to add error messag dure the valid process this restor that function Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus error in activ record valid seem to be miss the function it use to have Detail This Pull Request chang the array return by ar error Addition inform Just want to restor the alia of to add Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"esbuild precompil error in rail Step to reproduc creat a new rail Project with esbuild bash rail new app javascript esbuild and tri to build the docker imag without do ani chang bash docker build f Dockerfil t app test docker run p v rail app test env RAILS MASTER KEi xxx Expect behavior The imag should build Actual behavior yarn throw an error while precompil the asset yarn run v esbuild app javascript bundl sourcemap format esm outdir app asset build public path asset ERROR Could not resolv hotwir turbo rail app javascript applic js import hotwir turbo rail The command bin sh c SECRET KEi BASE DUMMi bin rail asset precompil return a non zero code System configur Ubuntu version Rail version Rubi version rubi p revi db f x linux gnu gem version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add webp as a default to activ storag web imag content type Motiv Background Custom are upload webp imag to our app and expect them to be render just like other imag instead of be convert to the fallback PNG format Detail Follow https github com rail rail pull and https github com rail rail pull At the time webp browser support was limit Now of browser support webp https canius com search webp This PR add webp as a default imag type Addition inform I think this is a sensibl default in but altern each Rail app may choo Rail applic configur do config activ storag web imag content type imag webp end Changelog Ive not ad a changelog entri in line with https github com rail rail pull discuss r but Id be happi to add one if it felt use now Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ cc jeremi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Tini updat to callback doc ci skip Motiv Background The follow was ad to the ActiveJob Callback ActiveModel Callback and AbstractControl Callback doc in NOTE Call the same callback multipl time will overwrit previous callback definit The comment refer to call callback but seem to be about defin callback as mention in the PR descript In the ActiveJob and AbstractControl doc I believ this will be misinterpret as refer to set callback which as far as I can tell doe not have such a restrict In the ActiveModel doc I believ it would be slight clearer to replac call with defin Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":1,"activemodel":1,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"set default enforc utf to fal enforc utf is fal by deault in form for We normal dont need to consid old IE anymor","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add class name to enum valid except messag Motiv Background In general valid error should includ more inform on where it has happen Detail This PR updat activerecord lib activ record enum rb valid except messag and just add class name Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":1,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add a Rail Guid for tune perform for deploy This pull request add a new Rail Guid call Tune Perform for Deploy Motiv Background A few week ago there was an issu to chang the default thread count for Puma in Rail https github com rail rail issu and a PR to make that chang https github com rail rail pull The PR mention that a perform tune guid would be the right way to document some issu but no such guid exist I wrote a basic guid and incorpor a lot of feedback from byroot Jean Boussier who wrote the thread count PR This pull request add the suggest Rail Guid CC nateberkopec though I know your veri busi right now Detail Its imposs to have a detail guid for all possibl Rail deploy option This guid focus on Puma the default server and CRubi and on give a good start to peopl who dont alreadi know deploy well Ive tri to mention core perform issu without explain everi possibl configur chang Next time there is a deploy configur chang there will be a place to document the tradeoff Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Destroy bi direct has one through associ on work from one end Summari Given a has one through associ with depend destroy destroy the parent destroy the through record and the far end Howev if the associ is bi direct destroy on work from one end and the end which succeed depend on the order of belong to declar in the join model I believ it should work from both end Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem sqlite end requir activ record requir minitest autorun requir logger ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl left forc true do t end creat tabl right forc true do t end creat tabl middl forc true do t t refer left foreign key true t refer right foreign key true end end class Left ActiveRecord Base has one middl depend destroy has one right through middl end class Middl ActiveRecord Base belong to left depend destroy belong to right depend destroy end class Right ActiveRecord Base has one middl depend destroy has one left through middl end class BugTest Minitest Test def test destroy left destroy right left Left creat right Right creat middl Middl creat left left right right left destroy assert right destroy end def test destroy right destroy left left Left creat right Right creat middl Middl creat left left right right right destroy assert left destroy end end Expect behavior I expect left destroy to also destroy it middl and it right right destroy to also destroy it middl and it left Actual behavior right destroy destroy it middl and it left left destroy destroy it middl but doe not destroy it right Howev if I rever the order of Middl s belong to declar right destroy stop work and left destroy start work Patch This patch fix the behaviour and doe not break ani exist test via bundl exec rake test sqlite diff diff git i activerecord lib activ record callback rb w activerecord lib activ record callback rb index c d e c b i activerecord lib activ record callback rb w activerecord lib activ record callback rb modul ClassMethod def destroy nodoc destroy callback alreadi call fal return if destroy callback alreadi call return true if destroy callback alreadi call destroy callback alreadi call true run destroy callback super rescu RecordNotDestroy e Credit for the patch belong to Alex https stackoverflow com a System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveStorag IntegrityError ActiveStorag IntegrityError Step to reproduc I have upgrad my rail applic from to and then to So I am get ActiveStorag IntegrityError ActiveStorag IntegrityError while I am tri to get rubi attach variant resiz to limit resiz process url Expect behavior It should not give this error Actual behavior Get this ActiveStorag IntegrityError ActiveStorag IntegrityError Error System configur Rail version Rubi version Plea provid me the solut to resolv this problem I am stuck on it sinc a week","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix error rai when run db schema load name and test DB config is miss Motiv Background Fix Detail The task db schema load name depend on db test purg name sinc adb db which requir the DB config to be present otherwi an error is rai bin rail db schema load one trace Invoke db schema load one first time Invoke db test purg one first time Invoke db load config first time Invoke environ first time Execut environ Execut db load config Invoke db check protect environ first time Invoke db load config Execut db check protect environ Execut db test purg one Execut db schema load one This commit fix the problem by return ear when the DB config is ind miss Addition inform The task db schema load may need to be updat to depend on db test purg too to keep it consist with db schema load name Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Introduc today or futur method Motiv Background This Pull Request introduc a conveni helper to check if a date time is either today or in the futur Draw inspir from https github com rail rail pull which introduc local helper for environ check Detail This Pull Request chang ActiveSupport TimeWithZon DateAndTim Calcul Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Enabl DependencyTrack to evalu interpol path Previous neither the PrismRenderPar nor the RipperRenderPar would consid an interpol string as a depend The RubyTrack even includ a line to explcit filter out interpol path return from the RipperRenderPar sinc they would end in a Howev the RubyTrack doe includ the abil to evalu explicit Templat Depend comment with wildcard node This commit extend the RipperRenderPar and PrismRenderPar to convert interpol string into wildcard glob Addition it chang the RubyTrack to evalu wildcard the same for both implicit and explicit depend This enabl the RubyTrack to identifi potenti depend for interpol render which it was previous unabl to do cc jhawthorn if you think this is a good idea I can tri to appli it to ActionView Precompil as well","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Setup jemalloc in default Dockerfil to optim memori alloc Rubi use of malloc can creat memori fragment problem especi when use multipl thread https www speedshop co malloc doubl rubi memori html like Puma doe Switch to an alloc that use differ pattern to avoid fragment can decrea memori usag by a substanti margin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve the output of RailsInspect Cli Motiv Background This Pull Request has been creat becaus I want to improv the output of RailsInspector Cli The first time I ran into an error from rail inspector I was confus what it want me to do and had to read through the code to understand that I was miss ad my new configur to cofigur md Detail This Pull Request add and addit line to the output of rail inspector to give the develop more direct and also prompt them to use the autocorrect flag Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Retri ActionableError s when run test Motiv Background This Pull Request has been creat becaus I want to make it easier to retri action error that occur when run test Rail alreadi know how to recov these error so let make it possibl for the user to recov from them and run their test without exit the process Detail Allow Actionabl Error encount when run test to be retri This can be configur by config action command line error and is true in the test environ unless the CI env variabl is set and fal otherwi Migrat are pend To resolv this issu run bin rail db migrat You have pend migrat db migrat add a to b rb Run pend migrat Yn Y AddAToB migrat AddAToB migrat s Run test in a singl process parallel threshold is Run option seed Run Finish in s run s assert s run assert failur error skip Addition inform Right now this is on implement in the Test Runner but Id also like to follow up with a similar implement for Rail Command CorrectableNameError s Also we could introduc a new framework default for the configur if this is the direct in this PR is accept Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use ActiveSupport TestCa for Tracker test Minitest Test doe not support all of the same option as ActiveSupport TestCa such as run bin test and n regex Tri to use these option on this file would just run all of the Minitest Test no matter what option were pass This commit fix the abil to use those option by use ActiveSupport TestCa like everi other test in the repo Befor bin test test templat depend tracker test rb Run test in parallel use process Run option seed Finish in s run s assert s run assert failur error skip After bin test test templat depend tracker test rb Run test in parallel use process Run option seed Finish in s run s assert s run assert failur error skip","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Should there be a RAILS MASTER KEi DUMMi like SECRET KEi BASE DUMMi Step to reproduc Have a rail app with config requir master key true RAILS ENV product SECRET KEi BASE DUMMi bin rail asset precompil Expect behavior It ignor the master key requir Actual behavior Error Miss encrypt key to decrypt file with Ask your team for your master key and write it to rail config master key or put it in the ENV RAILS MASTER KEi System configur Rail version Rail Rubi version rubi revi bb ac a arm darwin What about a RAILS MASTER KEi DUMMi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor QueryCach to be own by the pool Ref https github com rail rail pull If we want to stop cach the check out connect then we must persist the cach in the pool and assign it to the connect when it check out The pool becom respon for manag the cach lifecycl This also open the door to share the cach between multipl connect which is valuabl for read replica etc This chang on realli make sen if we go through with no longer cach check out connect Otherwi it just extra complex","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action Text Document updat ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background This Pull Request has been creat becaus we need to updat the document for Action Text to be more clear and conci Detail This Pull Request chang the document for Action Text Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Correct error in the document for queri constraint ci skip Motiv Background Found a document that did not make sen to me on the first look The context of this exampl suggest what it realli want to point to is queri constraint instead of queri by Also appli the fix width font to the refer to the method correct Sinc both of these chang belong to the doc of the same method I have pack them in one commit Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add abil to see on which shard the migrat is be run Current when the app use shard and the migrat is run there is not way to tell on which shard it is be run This is a problem becaus when the migrat add a uniqu index and we have some duplic the migrat blow up with a ActiveRecord RecordNotUniqu error and there is no way to easili know on which shard exact The problem can be solv in at least way somehow put shard info when run a migrat we have a connect pool object attach to the mention ActiveRecord RecordNotUniqu error thank to https github com rail rail pull but the error messag is not includ this info https github com rail rail pull issuecom so need to fix that I would like to provid a PR but need a suggest on which path to choo byroot you help to implement the link PR can you plea suggest","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor QueryCacheTest In prepar of an upcom queri cach refactor The main chang is to not test the clear caus by cach and what insid the block","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip doc Update doc to indic that mysql support the algorithm Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus algorithm option for creat index is avail even if you are use mysql Detail This Pull Request chang document for algorithm option for creat index Addition inform https github com rail rail blob b f c fa d a d d b activerecord lib activ record connect adapt abstract mysql adapt rbL L Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail undefin method purg same for variant use rubi dev irb main imag ActiveStorag Attachment x ff c a id name imag record type New record id blob id creat at Wed Jan UTC irb main irb main irb main imag class ActiveStorag Attachment id integ name string record type string record id integ blob id integ creat at datetim irb main irb main irb main irb main imag purg home lap rbenv version dev lib rubi gem gem activemodel lib activ model attribut method rb in method miss undefin method purg for an instanc of ActiveStorag Attachment NoMethodError","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":1,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"deprec pass nil as model arg instead of rai ArgumentError Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus we want to first show a deprec warn about chang the default valu of the model argument to form with Detail This Pull Request remov the chang introduc in sinc these chang are break chang Instead we will first deprec the current default valu of the model argument in form with Addition inform Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail doesnt render Enumer in view correct Prior to Rail return an Enumer in a view render the content correct Howev start from Rail it appear to render on the Enumer string repres Enumeratorto s result in a respon like Set self respon bodi Enumer new in an action work for both and fix in https github com rail rail issu Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail work gem rail fail end requir action control railti class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger rout draw do get enum in action control test get enum in view control test end end class TestControl ActionControl Base def enum in action self respon bodi Enumer new do buff time buff to s end end def enum in view render inlin EOS layout fal type rubi Enumer new do buff time buff to s end EOS end end requir minitest autorun requir rack test class BugTest Minitest Test includ Rack Test Method def test enum in action get enum in action assert equal last respon bodi end def test enum in view get enum in view assert equal last respon bodi end privat def app Rail applic end end Expect behavior The content should be render by evalu the Enumer Im not sure whether it is guarant behavior in specif when it return from view but I expect it work as was the case until Rail Actual behavior It current render the Enumer string repres such as System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix VideoAnalyzerTesttest analyz a rotat HDR video failur with ffmpeg Background Fix https github com rail rail issu Detail Big thank to yahonda for explain the anomali with ffprobe v versus v This chang ensur the test work with both version similar to how we handl it in test analyz a rotat video","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix race condit for multipl preprocess video variant This fix race condit in Active Storag when multipl preprocess variant are defin for a Preview file is attach Background When a variant is specifi for a preview file type e g video or PDF attach a preview imag attach is first creat and attach on the origin blob and then ani user specifi variant are deriv from that preview imag When those variant are name and have preprocess true the job to creat those variant are queu simultan Exampl from my case rubi has one attach file depend purg later do attach attach variant preview resiz to fill preprocess true attach variant still format jpg saver qualiti preprocess true end The issu When a Preview attach is creat a video in my case TransformJob perform later is call for each name variant with preprocess true Unless your queue adapt is synchron e g inlin or test this result in a race condit in which everi such variant worker will check process see that no preview imag attach exist yet on the ActiveStorag Blob and Redund download the file from storag Creat duplic ActiveStorag Attachment and ActiveStorag Blob record for the preview imag attach all but one of which will be orphan from the origin blob has one attach preview imag Creat variant blob and associ ActiveStorag VariantRecord that are similar orphan by virtu of be a variant of an orphan preview imag blob As a result if the video is ever purg PurgeJob will on find the current has one attach preview imag and whatev variant demand it into exist then leav the rest as orphan record in the databa and in storag The fix Pretti simpl wrap the first step of the job in blob with lock By pessimist lock on the blob we can prevent process the preview imag multipl time by multipl TransformJob job run concurr Alternat approach would all be more work Queu a PreviewImag job instead of N TransformJob and have it on after preview imag is attach enqueu those TransformJob job Batch up all the name variant transform into a singl meta job Test caveat Write a test for this insid Rail would be difficult becaus it would requir run the result TransformJob job concurr I start a test https github com searl rail blob fix video duplic preview variant activestorag test model variant with record test rbL L but fail to reproduc in part becaus the test queue adapt will perform enqueu job inlin instead of concurr In order to write a test that replic the issu appropri we might first need a new option for perform enqueu job async true If your interest this gist https gist github com searl b abe b f ea c d aab includ a driver script and output befor and after the patch show it work Evaluat impact on exist Active Storag user I on found this becaus Im a total cheapskat and was liter count record in my S bucket to ensur PurgeJob work Then I wast the next two day tri to figur out whi befor land on this I strong suspect that ActiveStorag user who host video and take advantag of preprocess true name variant will have a lot of orphan stuff float around their bucket To see if you have ani such zombi preview imag and presum associ variant float around your applic that would surviv call to purg on the own attach you could write a queri like this ActiveStorag Attachment join INNER JOIN activ storag attach as other attach ON activ storag attach record id other attach record id AND activ storag attach id other attach id where name preview imag record type ActiveStorag Blob other attach name preview imag other attach record type ActiveStorag Blob distinct Clear out one product databa and backend storag to get this all right size should be a fun exerci for the reader","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix problem with empti string from cach right now the cach wont trigger write over an empti string return from the cach store This will ensur that an option pass down call no blank no blank true will make it so that if the cach return and empti string we will trigger a write over Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Right now if a key has an empti string from the cach store an empti string will just be render to the page as the fragment For my app fragment kept come up blank and the write was not be trigger So in a sen it was stuck This will ensur that an option pass down call blank ok blank ok true fal will make it so that if the cach return and empti string we will trigger a write over or it will return the empti string if it is set to true the default valu is fal must explicit pass true to get blank string back This Pull Request has been creat becaus my app had to way of escap blank string be return from the cach Detail This Pull Request chang the way that cach write are trigger Addition inform For my app I simpli monkey patch the action view helper but I would like to move away from that and tri to contribut bug fix I found use Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add to namespac the modul we deleg to What are you tri to accomplish We should add to namespac the modul we deleg to when the caller is a modul Without the Rubi will perform relat name resolut which can lead to unexpect behaviour if there are nest constant with the same name gmcgibbon help creat a code snippet that demonstr the problem Current bug behaviour B a rubi modul A modul Deleg def self call owner owner modul eval def a B a end FILE LINE end end modul B def self a rai Dont call this end end end modul B def self a rai This should be call end end class C A Deleg self end C new a C new a irb in a Dont call this RuntimeError With this chang B a rubi modul A modul Deleg def self call owner owner modul eval def a B a end FILE LINE end end modul B def self a rai Dont call this end end end modul B def self a rai This should be call end end class C A Deleg self end C new a C new a irb in a This should be call RuntimeError","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Upgrade Rail to broke ActionText attach in develop After upgrad from to imag that had been upload via ActionText all start ing Initial I thought this was due to the digest chang from SHA to SHA when Turbo Rail went to https github com hotwir turbo rail blob main UPGRADING mdkey digest chang in see also https github com hotwir turbo rail issu but that was a red herring In fact my Turbo Rail was alreadi past when I upgrad Rail to Eventual I reali the breakag was in fact due to the secret key base move for local environ https github com rail rail pull In the local environ both the develop and test secret key base valu will be fetch from tmp develop secret txt befor Rail or tmp local secret txt from Rail This file will have the valu which will be use as secret key base Rail Store secret key base In Credenti For Local Environ https blog saeloun com rail store secret key base in rail config And of cour for me the two file differ So the solut is mv tmp develop secret txt tmp local secret txt in develop Fortun product is unaffect becaus Rail look elsewh for the secret key base valu and this did not chang Im post this here in the hope that it help anybodi el who run into the same problem","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveStorag Analyz VideoAnalyzerTesttest analyz a rotat HDR video fail at Rail Night Manag to reproduc https buildkit com rail rail night build d ac e d d a f ca fc with Docker unabl to reproduc it local Step to reproduc rubi cd rail git clone https github com rail buildkit config buildkit RUBi IMAGE rubylang rubi master night jammi docker compo f buildkit docker compo yml build base CI docker compo f buildkit docker compo yml run default runner activestorag rake test Expect behavior It should pass Actual behavior It get this failur rubi Failur ActiveStorag Analyz VideoAnalyzerTesttest analyz a rotat HDR video test analyz video analyz test rb Expect Actual bin rail test rail activestorag test analyz video analyz test rb System configur Rail version main branch Rubi version rubi dev T Z master bff e c x linux docker run rm t rubylang rubi master night jammi rubi v rubi dev T Z master bff e c x linux","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":1,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"BacktraceClean silenc core intern method by default Ref https bug rubi lang org issu In recent Rubi version some pure C function have been move into some semi rubi code and now have an locat They should be silenc like stdlib etc cc yahonda","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix load schema cach when all databa have disabl databa task Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Requir uri explicit to address NameError unin constant ToQueryTest URI Motiv Background This commit address CI failur at https buildkit com rail rail night build d ac f a f b a b a Detail This commit address the follow NameError unin constant ToQueryTest URI rubi rubi v rubi dev T Z master fd d x linux rm Gemfil lock bundl instal cd activesupport bin test test core ext object to queri test rb n test hash not sort lexicograph for nest structur snip E Error ToQueryTesttest hash not sort lexicograph for nest structur NameError unin constant ToQueryTest URI test core ext object to queri test rb in test hash not sort lexicograph for nest structur bin test test core ext object to queri test rb Finish in s run s assert s run assert failur error skip Addition inform This behavior has been introduc sinc Rubi dev vendor URI from top level to Gem URI via https github com rubi rubi commit d d b c bec a fe c b ec e a b Here is the origin one that explain some reason whi https github com rubygem rubygem pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Support encrypt binari column Motiv Background ActiveRecord Encryption doesnt prevent you from encrypt binari column but it doesnt have proper support for it either When the data is fed through encrypt decrypt it is convert to a String This mean that the the encrypt layer is not transpar to binari data which should be pass as Type Binari Data As a result the data is not proper escap in the SQL queri or deseri correct after decrypt Howev it just happen to work fine for MySQL and SQLite becaus the MessageSeri doesnt use ani charact that need to be encod Howev if you tri to use a custom serial that doe then it break PostgreSQL on the other hand doe not work becaus the Bytea type is pass a String rather than a Type Binari Data to deseri it attempt to unescap the data and either mangl it or rai an error if it contain null byte Detail The commit fix the issu by reseri the data after encrypt and decrypt For text data that a no op but for binari data well convert it back to a Type Binari Data","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add negat scope option to ActiveRecord enum method Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR In certain situat we might need to store and queri negat valu Have the option to bypass the auto generat negat scope can avoid the conflict Detail Add negat scope option to ActiveRecord Enumenum this offer the flexibl to option skip the creation of negat scope Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"More effici reset inspect implement Not that inspect is anywh close to be a hostspot but just to not allow a less deffici pattern Instead of alloc an UnboundMethod and bind call it we can direct replac the method","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add support for rail new server falcon Motiv Background This Pull Request has been creat becaus use falcon or ind ani other server e g pitchfork should be easi Detail This Pull Request chang rail new and add support for server puma or server falcon Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Unexpect control prefix path de duplic in view partial lookup path Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Creat nest control and nest object view where there is overlap between the control and object namespac For exampl Cour Quiz Question and Cour Quiz QuestionsControl Cour Quiz Question and Learn Quiz Extra QuestionsControl Cour Quiz Question and Learn Cour Quiz QuestionsControl rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org gem rail end requir action control railti requir activ model railti class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger rout draw do get unrel learn questionsnew get duplic cour quiz questionsnew get colli learn quiz extra questionsnew get repetit learn cour quiz questionsnew end end modul Cour modul Quiz class Question includ ActiveModel Model attr accessor name end class QuestionsControl ActionControl Base def new render partial Cour Quiz Question new name partial end end end end modul Learn class QuestionsControl ActionControl Base def new render partial Cour Quiz Question new name partial end end modul Quiz modul Extra class QuestionsControl ActionControl Base def new render partial Cour Quiz Question new name partial end end end end modul Cour modul Quiz class QuestionsControl ActionControl Base def new render partial Cour Quiz Question new name partial end end end end end requir minitest autorun requir rack test class BugTest Minitest Test includ Rack Test Method def setup super view Dir mktmpdir ActionControl Base prepend view path view end PASSES def test unrel partial view file learn cour quiz question question html erb Nest get unrel assert equal Nest partial last respon bodi end PASSES def test duplic view file cour quiz question question html erb De duplic get duplic assert equal De duplic partial last respon bodi end FAILS AbstractRenderermerg prefix into object path break after the first match skip extra def test colli view file learn cour quiz question question html erb Harm de duplic view file learn cour extra cour quiz question question html erb Nest get colli assert equal Colli partial last respon bodi end FAILS AbstractRenderermerg prefix into object path fail to find overlap becaus offset do not align def test repetit view file learn cour quiz question question html erb De duplic view file learn cour quiz cour quiz question question html erb Nest get repetit assert equal De duplic partial last respon bodi end privat def app Rail applic end def view file name content path Pathnam new view join name path dirnam tap mkpath path write content end end Expect behavior Cour Quiz Question and Cour Quiz QuestionsControl modul duplic is detect and remov Cour Quiz Question and Learn Quiz Extra QuestionsControl quiz extra suffix on the control doe not match the quiz prefix on the model so no de duplic is perform Partial should be learn cour extra cour quiz question question html erb Cour Quiz Question and Learn Cour Quiz QuestionsControl cour quiz suffix on control match cour quiz prefix on model so repetit is remov Partial should be learn cour quiz question question html erb Actual behavior Cour Quiz Question and Cour Quiz QuestionsControl modul duplic is detect and remov Cour Quiz Question and Learn Quiz Extra QuestionsControl Quiz is detect as overlap and Extra is drop from the partial path this is confus and inconsist Cour Quiz Question and Learn Cour Quiz QuestionsControl no modul duplic is detect so full modul path to control is prefix on the object path deep repetit System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix teardown callback Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus ActiveRecord TestFixtur teardown fixtur method doe not get call if a MiniTest Assertion error is rai in ActiveSupport TestCa teardown callback Test Case to Reproduc the Problem rubi class DrinkTest ActiveSupport TestCa teardown do if failur test flunk end end test should fail do failur test true Drink creat name test end test should pass do assert equal Drink where name test size end end Run the abov test case with a seed that run should fail and then should pass bundl exec rubi test model drink test rb Run test in a singl process parallel threshold is Run option seed Run F Failur DrinkTesttest should fail test model drink test rb Epic Fail bin rail test test model drink test rb F Failur DrinkTesttest should pass test model drink test rb Expect Actual bin rail test test model drink test rb Finish in s run s assert s run assert failur error skip Run the test file with a seed with the follow order should pass should fail bundl exec rubi test model drink test rb Run test in a singl process parallel threshold is Run option seed Run F Failur DrinkTesttest should fail test model drink test rb Epic Fail bin rail test test model drink test rb Finish in s run s assert s run assert failur error skip Specif rubi rail minitest OS MacOS arm darwin Databa SQLite Detail This Pull Request chang the follow file ActiveSupport Test SetupAndTeardown Renam the follow class method in after teardown teardown befor setup setup Whi switch from after teardown to teardown and befor setup to setup When a user defin a teardown callback block in their test case it will actual run in the after teardown Minitest Lifecycl hook This is confus and has a major side effect that if a user defin an assert in that teardown code it will rai out without get rescu see the call code https github com rail rail blob main activesupport lib activ support test setup and teardown rbL This mean super will never get call ActiveRecord TestFixtur teardown fixtur will never run and the databa state will not get roll back By move the teardown callback to run in the teardown lifecycl all after teardown code will run sinc the error will get rescu by Minitest lifecycl manag Lifecycl hook https github com minitest minitest blob master lib minitest test rbL L captur except https github com minitest minitest blob master lib minitest test rbL Minitest also provid recommend about when to use after teardown and befor setup https doc seattlerb org minitest Minitest Test LifecycleHook html after teardown Run after everi test after teardown This hook is meant for librari to extend minitest It is not meant to be use by test develop There is a slight grey area here where the setup and teardown callback are code written and provid by the test develop It was surpri at least to me to find that they were not run in setup and teardown Minitest Lifecycl hook but rather befor setup and after teardown Move the callback to run in their respect Minitest Lifecycl hook proper will follow Minitest recommend and clear up ani confus about where these callback are run ActiveRecord TestFixtur after teardown Wrap teardown fixtur in ensur block to alway run the code that roll back the test databa transact Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":1,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Gener devcontain file by default https github com rail rail issu Motiv Background This Pull Request has been creat to generat devcontain file for new Rail app Detail This Pull Request add templat for devcontain file devcontain json Dockerfil and docker compo yml to be generat on rail new By default the devcontain contain the follow A redi contain for use with Kredi Action Cabl etc A databa SQLite Postgr MySQL or MariaDB A Headless chrome contain for system test Active Storag configur to use the local disk and with preview featur work If rail new is call with option to skip ani of the abov they will be remov from the dev contain config The dev contain can be skip entir with the skip devcontain option Addition inform A few chang are need to other file generat by rail new to make sure new Rail app can be develop both in a contain and local Differenti CABLE REDIS URL and JOBS REDIS URL instead of just use REDIS URL for both A PR will need to be open to turbo rail to make this chang as well For MariaDB and MySQL use the RAILS DATABASE HOST if it set which it will be in a contain and fallback to localhost For Postgr set the host RAILS DATABASE HOST usernam and password when in a contain Base on feedback receiv I revert the abov Instead we will just REDIS URL and DB HOST For system test we need to configur the Capybara host and port to the selenium contain Rather than expo the implement detail of Capybara to the develop we creat a new serv by method on SystemTestCa to configur these Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":1,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add activesupport bug report templat Introduc Active Support bug report templat for contributor to reproduc issu with a fail Minitest Test","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov stolen data price from the secur guid I dont think that assum bad actor intent and list dark market price probabl outdat for stolen data help peopl learn about secur their web applic So Im propo we drop this section as irrelev and as it creat a soft oblig of keep this info up to date If there is a reason this section was ad to the guid or you have a differ opinion feel free to speak up","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use httpclient to run Daili build with Rubi head Motiv Background This pull request address Daili build with Rubi head failur https buildkit com rail rail night build d b de b d c f a Detail Action Mailbox need webmock which depend on httpclient httpclient master branch that ad mutex m as a depend via https github com nahi httpclient pull to support Rubi dev Step to reproduc rubi cd actionmailbox bundl exec rake test Without this commit rubi snip home yahonda rbenv version rubi dev lib rubi gem gem webmock lib webmock http lib adapt httpclient adapt rb in alia method undefin method do get block for class WebMockHTTPCli NameError alia method do get block without webmock do get block from home yahonda rbenv version rubi dev lib rubi gem gem webmock lib webmock http lib adapt httpclient adapt rb in from home yahonda rbenv version rubi dev lib rubi gem gem webmock lib webmock http lib adapt httpclient adapt rb in from home yahonda rbenv version rubi dev lib rubi gem gem webmock lib webmock rb in requir relat from home yahonda rbenv version rubi dev lib rubi gem gem webmock lib webmock rb in from in requir from in requir from home yahonda rbenv version rubi dev lib rubi bundl gem rb in block level in replac requir from home yahonda rbenv version rubi dev lib rubi gem gem zeitwerk lib zeitwerk kernel rb in requir from home yahonda rbenv version rubi dev lib rubi bundler runtim rb in block level in requir from in each from home yahonda rbenv version rubi dev lib rubi bundler runtim rb in block in requir from in each from home yahonda rbenv version rubi dev lib rubi bundler runtim rb in requir from home yahonda rbenv version rubi dev lib rubi bundler rb in requir from home yahonda src github com rail rail actionmailbox test dummi config applic rb in from home yahonda src github com rail rail actionmailbox test dummi config environ rb in requir relat from home yahonda src github com rail rail actionmailbox test dummi config environ rb in from home yahonda src github com rail rail actionmailbox test test helper rb in requir relat from home yahonda src github com rail rail actionmailbox test test helper rb in from home yahonda rbenv version rubi dev lib rubi bundl gem rb in requir from home yahonda rbenv version rubi dev lib rubi bundl gem rb in block level in replac requir from home yahonda src github com rail rail actionmailbox test control ingress mailgun inbound email control test rb in from home yahonda rbenv version rubi dev lib rubi bundl gem rb in requir from home yahonda rbenv version rubi dev lib rubi bundl gem rb in block level in replac requir from home yahonda rbenv version rubi dev lib rubi gem gem rake lib rake rake test loader rb in block in from home yahonda rbenv version rubi dev lib rubi gem gem rake lib rake rake test loader rb in select from home yahonda rbenv version rubi dev lib rubi gem gem rake lib rake rake test loader rb in rake abort Command fail with status rubi w Ilib test home yahonda rbenv version rubi dev lib rubi gem gem rake lib rake rake test loader rb test control ingress mailgun inbound email control test rb test control ingress mandril inbound email control test rb test control ingress postmark inbound email control test rb test control ingress relay inbound email control test rb test control ingress sendgrid inbound email control test rb test control rail action mailbox inbound email control test rb test generat mailbox generat test rb test job incin job test rb test migrat test rb test model tabl name test rb test unit inbound email incin test rb test unit inbound email messag id test rb test unit inbound email test rb test unit mail ext address equal test rb test unit mail ext address wrap test rb test unit mail ext address test rb test unit mailbox bounc test rb test unit mailbox callback test rb test unit mailbox notif test rb test unit mailbox rout test rb test unit mailbox state test rb test unit relay test rb test unit router test rb test unit test helper test rb in each in each home yahonda rbenv version rubi dev bin bundl in load home yahonda rbenv version rubi dev bin bundl in Task TOP test See full trace by run task with trace Addition inform httpclient gem that includ https github com nahi httpclient pull has not been relea to rubygem org yet In the meantim I want to make Daili build with Rubi head green Once the newer version of http client is relea this commit can be revert Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Command rail server fail if all db config have databa task fal Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Just put databa task fal in all config in databa yml file and tri run rail server Expect behavior Server should run success Actual behavior rail server fail to run rubi Boot Puma Rail applic start in develop Run bin rail server help for more startup option Instrument OpenTelemetri Instrument Faraday was success instal Instrument OpenTelemetri Instrument Rack was success instal Instrument OpenTelemetri Instrument ActionPack was success instal Instrument OpenTelemetri Instrument ActiveSupport was success instal Instrument OpenTelemetri Instrument Rail was success instal Instrument OpenTelemetri Instrument ConcurrentRubi was success instal Instrument OpenTelemetri Instrument Redi was success instal Instrument OpenTelemetri Instrument Mysql was success instal Instrument OpenTelemetri Instrument PG was success instal Instrument OpenTelemetri Instrument AwsSdk was success instal Exite User pjartarkar rvm gem rubi gem activerecord lib activ record railti rb in block level in undefin method name for nil NilClass NoMethodError db config name from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in class eval from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in block in execut hook from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in with execut control from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in execut hook from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in block in on load from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in each from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in on load from User pjartarkar rvm gem rubi gem activerecord lib activ record railti rb in block level in from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in block in execut hook from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in with execut control from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in execut hook from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in block in run load hook from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in each from User pjartarkar rvm gem rubi gem activesupport lib activ support lazi load hook rb in run load hook from User pjartarkar rvm gem rubi gem railti lib rail applic finish rb in block in from User pjartarkar rvm gem rubi gem railti lib rail initializ rb in instanc exec from User pjartarkar rvm gem rubi gem railti lib rail initializ rb in run from User pjartarkar rvm gem rubi gem railti lib rail initializ rb in block in run initi from User pjartarkar rvm rubi rubi lib rubi tsort rb in block in tsort each from User pjartarkar rvm rubi rubi lib rubi tsort rb in block level in each strong connect compon from User pjartarkar rvm rubi rubi lib rubi tsort rb in each strong connect compon from from User pjartarkar rvm rubi rubi lib rubi tsort rb in block in each strong connect compon from User pjartarkar rvm rubi rubi lib rubi tsort rb in each from User pjartarkar rvm rubi rubi lib rubi tsort rb in call from User pjartarkar rvm rubi rubi lib rubi tsort rb in each strong connect compon from User pjartarkar rvm rubi rubi lib rubi tsort rb in tsort each from User pjartarkar rvm rubi rubi lib rubi tsort rb in tsort each from User pjartarkar rvm gem rubi gem railti lib rail initializ rb in run initi from User pjartarkar rvm gem rubi gem railti lib rail applic rb in initi from User pjartarkar Desktop project myapp config environ rb in from config ru in requir relat from config ru in block in from User pjartarkar rvm gem rubi gem rack lib rack builder rb in eval from User pjartarkar rvm gem rubi gem rack lib rack builder rb in new from string from User pjartarkar rvm gem rubi gem rack lib rack builder rb in load file from User pjartarkar rvm gem rubi gem rack lib rack builder rb in par file from User pjartarkar rvm gem rubi gem rack lib rack server rb in build app and option from config from User pjartarkar rvm gem rubi gem rack lib rack server rb in app from User pjartarkar rvm gem rubi gem rack lib rack server rb in wrap app from User pjartarkar rvm gem rubi gem railti lib rail command server server command rb in log to stdout from User pjartarkar rvm gem rubi gem railti lib rail command server server command rb in start from User pjartarkar rvm gem rubi gem railti lib rail command server server command rb in block in perform from in tap from User pjartarkar rvm gem rubi gem railti lib rail command server server command rb in perform from User pjartarkar rvm gem rubi gem thor lib thor command rb in run from User pjartarkar rvm gem rubi gem thor lib thor invoc rb in invok command from User pjartarkar rvm gem rubi gem railti lib rail command base rb in invok command from User pjartarkar rvm gem rubi gem thor lib thor rb in dispatch from User pjartarkar rvm gem rubi gem railti lib rail command base rb in perform from User pjartarkar rvm gem rubi gem railti lib rail command rb in block in invok from User pjartarkar rvm gem rubi gem railti lib rail command rb in with argv from User pjartarkar rvm gem rubi gem railti lib rail command rb in invok from User pjartarkar rvm gem rubi gem railti lib rail command rb in from in requir from in requir from User pjartarkar rvm gem rubi gem bootsnap lib bootsnap load path cach core ext kernel requir rb in requir from bin rail in System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip doc make increment requir explicit Motiv Background As of Decemb ActionControl Metal RateLimit https github com rail rail blob main actionpack lib action control metal rate limit rb provid rate limit through the increment method of ani cach store RateLimit reli on a featur of the under store This featur need to be document so that it remain support and so altern store know to support it This PR has been creat to document this behavior Detail The featur is that increment when pass expir in will set expir time when the key is first creat and ignor that option if the key alreadi exist That function is alreadi test here https github com rail rail blob cf c babca e c d e ae activesupport test cach behavior cach increment decrement behavior rbL in the CacheIncrementDecrementBehavior test modul This Pull Request chang the document of ActiveSupport Cach Store increment to reflect a now requir featur of exist store","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Skip CSS when creat APIs Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus Tailwind CSS was includ when generat APIs Detail This Pull Request chang the behavior of skip CSS for APIs Addition inform It address part of Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Comment out line in railsrc file should not be treat as argument Comment out line in rc file should not be treat as argument when use rail new generat command Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus railsrc file doesnt handl comment out line Issue Detail This Pull Request chang Railti ARGVScrubber to ignor text after symbol Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Chang skeleton test to assert exact file output Previous the skeleton test would assert that everi file in the default file list exist Howev sinc there is no requir that a file is ad to this list when ad to the generat the list can and has becom out of sync with the exact generat output This commit refactor the skeleton test to gather the full list of file creat by the generat so that it can be compar exact to the list of default file This ensur the generat file list must be updat when ani file is ad or remov from the generat Addition by use array equal the sort of the default file list is enforc it was previous most alphabet but not fulli The new skeleton test assert was written to on assert file instead of folder for a few reason assert that folder exist is redund if a file exist within a folder and the default file list would be signif longer with all folder ani folder generat without ani file insid it will not be track by Git so other code cannot assum these empti folder exist Becaus of these reason this patch also includ a chang to no longer generat the tmp cach asset folder by default The folder is an implement detail of Sprocket and doesnt need ani special treatment in Rail The Sprocket Cach FileStor will creat the directori if it doe not exist which it usual wont sinc tmp cach is exclud from Git by the gitignor and the tmp cach clear task alreadi clear all subdirectori of tmp cach Final some test make assert about the default output of the app generat were remov as they have been made redund by the improv to the skeleton test Assert exact file output for plugin too https github com rail rail pull commit c ae b c d fb f a c In a previous commit the App Gener skeleton test was updat to verifi the exact file output when generat a new applic This commit appli the same chang to the Plugin Gener At first I was hesit to add the list of dummi app file to the default file for the Plugin Gener test howev it quick becam appar that it was a good idea Make this chang expo that recent file addit to the App Gener were ad to the plugin dummi app as well Thing like CI file rubocop configur and a brakeman command should not be creat for a dummi app and are now proper exclud Similar to the App Gener commit this chang also remov test that are now redund due to the skeleton test verifi the exact list of file generat https github com rail rail commit e e b bceb ffb edd ad b d","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov add autoload path to load path doc from autoload guid Id suggest to deempha add autoload path to load path in the doc by remov it section from the autoload guid As we say https github com rail rail blob main guid sourc upgrad rubi on rail mdautoload path are no longer in load path in the upgrad guid for we discourag enabl this class and modul in the autoload path are meant to be autoload That is just refer them If we document that you can toggl this in the autoload guid we should follow with someth like this would make sen for exampl if and I dont see a use case The upgrad guid is right Your not suppo to issu requir call for stuff in the autoload path therefor there should be no API for that So I would just remov these doc If someon find this in their code base the configur guid document it Id also backport this to stabl whose autoload guid is incorrect right now https github com rail rail blob c a ea e cea cc bbf e b d guid sourc autoload and reload constant mdload pathload path it say this is true by default byroot what do you think Could we even perhap consid this flag to be a transit aid that could be deprec and later delet cc siaw","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Autosav has one set foreign key attribut when unchang Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix https github com rail rail issu Similar to https github com rail rail pull Detail Update ActiveRecord AutosaveAssociationsav has one associ to on updat the foreign key attribut on the child record if it has chang This make it behaviour consist with belong to associ and ensur that ActiveRecord ReadOnlyAttributeError isnt rai when no chang have been made to the attribut Addition inform None Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make it possibl to skip CSS when generat APIs or bring the possibl to skip entir railsrc or templat file Step to reproduc Here is the relev railsrc file rubi databa trilog css tailwind skip jbuilder templat Develop Rail templat rb And this is the outcom when tri to creat an API on app use file Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report shell ruy devast D Rail rail new api chaotic api Using databa trilog css tailwind skip jbuilder templat Develop Rail templat rb from home ruy railsrc Base on the specifi option the follow option will also be activ skip javascript due to api skip hotwir due to skip javascript skip asset pipelin due to api Fetch gem metadata from https rubygem org Resolv depend Bundl complet Gemfil depend gem now instal Use bundl info gemnam to see where a bundl gem is instal run bundl lock add platform x linux Write lockfil to home ruy Develop Rail chaotic api Gemfil lock run bundl binstub bundler rail tailwindcss instal bin rail abort Dont know how to build task asset precompil See the list of avail task with bin rail task home ruy Develop Rail chaotic api Rakefil in Expect behavior Skip CSS when generat APIs on Make it possibl to skip entir railsrc file Make it possibl to skip templat file on the command line Actual behavior Cannot generat API on app System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow comment on railsrc Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Allow comment on railsrc file as right now theyr treat as argument rubi ruy devast D Rail rail new api chaotic api Using databa trilog css tailwind skip jbuilder templat Develop Rail templat rb from home ruy railsrc Base on the specifi option the follow option will also be activ skip javascript due to api skip hotwir due to skip javascript skip asset pipelin due to api Expect behavior Comment out line are not treat as argument Actual behavior Comment behav like command line argument System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow custom to consol prompt format Allow more custom of the new consol prompt instead of on look at the Rail env with newli introduc environ variabl RAILS PROMPT PREFIX will replac the dev test prod word regardless the env This can be use in case of multipl product environ or stage environ that also use the product rail env RAILS PROMPT COLOR can be use to overrid the colour This can be use to differenti between a real product environ and a stage QA environ that run in product mode Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus we often work with differ product like environ eg they all use the same set in product but are for differ case Eg one could be a stage environ or even multipl product environ eg differ instal for differ tenant In this case we still want to color the environ eg red for all actual product environ but cyan for stage environ correct name them Detail This Pull Request chang https github com rail rail pull Addition inform I took the liberti to chang the last ChangeLog entri and add my name instead of creat a new changelog entri as the chang relat to the latest chang anyway Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Incorrect rai ReadonlyAttributeError when autosav has one associ with readon foreign key Rail set rai on assign to attr readon to true In the follow repro I set a column unrel to attr readon yet the error is still be set If I stop set this column the error goe away Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord rai on assign to attr readon true ActiveRecord Schema defin do creat tabl forum topic forc true do t t integ updat id t text titl end creat tabl forum post forc true do t t integ updat id t integ forum topic id t text bodi end end class ForumTop ActiveRecord Base has one origin forum post order forum post id asc class name ForumPost inver of forum topic valid associ origin forum post accept nest attribut for origin forum post end class ForumPost ActiveRecord Base attr readon forum topic id belong to forum topic befor valid do rec next Skip set this column make the error go away if persist rec updat id el rec updat id end end end class BugTest Minitest Test def test readon attr except topic ForumTop creat titl Hi origin forum post attribut bodi What up topic updat titl nevermind ActiveRecord ReadonlyAttributeError forum topic id assert equal topic origin forum post updat id end end System configur Rail version master Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve ActionView Helper UrlHelper button to explan ci skip Motiv Background This Pull Request has been creat becaus the current button to method document in Rail API lack clariti regard it default HTTP request behavior base on the object persist This updat aim to explicit differenti between POST and PATCH request in the method document provid clearer guidanc for develop especi when handl object with differ persist state Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Enhanc ActiveStorag variant track control Motiv Background My Specif Use Case In my project where ActiveStorag track variant true I need to generat a variant of an imag a thumbnail for a room on a floorplan but did not want to creat a variant record of the origin imag record This is becaus I intend to save the variant on a child relat separ from the origin imag record The Challeng With ActiveStorag track variant true everi variant generat through ActiveStorag is automat track in the databa to the origin record There are case in this applic where we do want to track these variant record so I was unabl to chang the default configur This meant to proper generat my variant I had to use ImageProcess Vip direct to not generat the variant record This work but generat two concern for me This specif code is depend on ImageProcess Vip and if we were to ever migrat to anoth imag processor we would have to rememb to updat this code as well instead of just reli on the ActiveStorag default processor It stray enough from the standard pattern when generat ActiveStorag variant that without good document it can becom confus to maintain Detail This pull request add the track option to the variant method which allow for overrid of the ActiveStorag track variant This is use when in case where you want to stray from the applic standard configur rubi ActiveSupport track variant true user avatar variant track fal resiz to limit and rubi ActiveSupport track variant fal user avatar variant track true resiz to limit Addition inform This is my first time contribut to Rail and I appreci anyon who take the time to read all this I tri my best to follow all convent and to keep all current function but in the case that I miss someth Id be happi to discuss and fix whatev is need Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add cost argument to has secur password Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR There may be instanc where a develop is work in an environ where a higher cost than the default for BCrypt is requir either due to arbitrari secur requir or the recommend minimum chang and the version of bcrypt use isnt updat Detail This chang add a cost argument to has secur password If provid it will use that valu for the password cost Its valu is valid to make sure it between BCrypt Engine MIN COST and BCrypt Engine MAX COST Addition password attribut cost is expo as a conveni method to determin the cost use for the set password hash This can be use to review the current cost from a user record and either transpar upgrad the user password or forc a password reset Addition inform Im not marri to use cost as the argument name as it affect on new password creat for the record go forward Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Unifi the logic to determin the default schema cach path for a databa configur When the applic has more than one databa configur on the primari was be load by default on boot time All the other connect pool were load the schema cach lazili This logic can be found in https github com rail rail blob a d bc e cc d ced dc d e dc activerecord lib activ record connect adapt pool config rbL https github com rail rail blob a d bc e cc d ced dc d e dc activerecord lib activ record railti rbL L The lazi code path wasnt use the same logic to determin the name of the default schema cach file that the Railti use so it was load the schema cach of the primari config to all the other config If no tabl name coincid noth bad would happen but if tabl name coincid the schema would be complet wrong in all non primari connect","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document Expand document on has one attach method ci skip Motiv Background Give further context about the requir for use the has one attach method I have an applic that doe not have an ActiveJob Backend queue adapt When I tri to destroy a record it rai an error that I need a queue adapt There is a depend between the has one attach method and a queue adapt That is whi ad more context about the function and requir about use the has one attach method is import Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Clean up trilog error translat This commit make a few chang to our trilog error translat https github com trilog librari trilog pull introduc Trilog EOFError which we can use instead of match on TRILOGi CLOSED CONNECTION https github com trilog librari trilog pull introduc Trilog ConnectionClo which inherit from IOError for backward compat As far as I can tell that the on IOError trilog can rai so this commit rescu the trilog specif error instead As far as I can tell Trilog doe not rai SocketError so dont bother translat that Dont treat TRILOGi UNEXPECTED PACKET as a connect error If we get this it probabl a bug in trilog that we should fix Id like to eventu get rid of TRILOGi INVALID SEQUENCE ID too but were current reli on it in a few test relat to trilog miss cach sha password auth support if I recal correct Im kinda hope well eventu be abl to simplifi this to someth like rb if except is a Trilog ConnectionError ConnectionFail new messag connect pool pool el super end but wed need more chang to trilog befor that is possibl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make ActiveSupport DelegationError Sorbet friend Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Fix ActiveSupport DelegationError to not caus issu with Sorbet Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Detail DelegationError ActiveSupport DelegationError was caus the follow Sorbet error Error Sorbet Cannot initi the class DelegationError by constant assign Occur at sorbet rbi gem activesupport alpha c df cea rbi Made the chang suggest in Sorbet error guid https sorbet org doc error refer Addition inform Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Introduc ActiveSupport TestCa around Motiv Background When discuss test framework for new project the absenc of around hook is usual a focal point of the conver that push consensus toward altern test har Minitest itself will not support built in around hook https github com minitest minitest issu While the minitest hook https github com jeremyevan minitest hook gem provid support for around Active Support callback system make ad around hook fair trivial and is guarant to be implement in the same way as all other callback Control Job Mailer etc Detail Add a callback which run around TestCasesetup the test block and TestCaseteardown Yield the test class instanc and the test case to the block rubi class Test ActiveSupport TestCa around do test case block Client with stub true block end end Addition Informat To support this chang renam the activesupport test test after teardown test rb file to activesupport test test callback test rb Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make DelegationError Sorbet friend Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus REPLACE ME Detail This Pull Request chang REPLACE ME Addition inform Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add row count field to sql activ record notif Motiv Background In Intercom we are work on detect queri with larg result set as Vitess base databa like in our case Planetsc block queri that return more than by default k result set row We have an intern patch for this that work well for us but thought to contribut this upstream so other can benefit Detail This Pull Request chang Adapter log which emit sql activ record notif Previous the instrument call on log inform that goe into a request but allow the caller insid the block to modifi the payload We make use of this insid each adapt to add a new field to each sql activ record notif with the number of result row be return in each queri This allow consum of this notif exampl https github com DataDog dd trace rb blob master lib datadog trace contrib activ record event sql rb to consum this metric There is previous work in this regard with the RecordFetchWarn https github com rail rail blob main activerecord lib activ record relat record fetch warn rb modul that can be includ which demonstr the need to monitor queri with larg result set In our case these log line werent easi to integr into our observ stack and have a numer valu attach to each sql trace allow us to use the full power of our observ suit This pr also includ three test in the instrument test suit that verifi this work for model instanc queri direct valu queri like pluck and raw ActiveRecord Base connect execut sql queri Perform The chang ask the resultset how mani element it has Expectat was that that should be a constant lookup and benchmark suggest this to be true I have test this chang with exampl perform on adapt sqlite mysql and postgresql with no measur differ in perform less than when standard deviat was Addition inform I origin approach this insid abstract adapt but it turn out everi adapt Result use a differ method so I move the call into each adapt respect usag of log RecordFetchWarn https github com rail rail blob main activerecord lib activ record relat record fetch warn rb work by patch exec queri so it aggreg the result set size of multipl queri into one which is less help for this case as the limit impo by Vitess are per queri Addition this doe not support the case of execut raw SQL on the connect which is someth that this patch captur As for the field name on the payload row count seem like a good name as it follow the same pattern as result count doe in https guid rubyonrail org activ support instrument htmlinstanti activ record Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Dont duplic select inner and outer join when merg with STI Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix https github com rail rail issu Detail This Pull Request chang merg select valu merg join and merg outer join in ActiveRecord Relat Merger to unioni select inner and outer join when the two sourc of a merg are relat via STI Addition inform The on similar case left in ActiveRecord Relat Merger is when merg preload https github com rail rail blob ead c ae add dfa d d e activerecord lib activ record relat merger rbL I dont think that is similar to these case sinc the preload valu are simpli use to preload associ I thought I would just mention it anyway Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document Attach Modelattach chang ci skip Motiv Background Adds document for the attach chang method of Active Storag Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ReferenceError File is not defin Im use the activestorag npm packag in a NextJ app I have import the DirectUpload compon import DirectUpload from activestorag Error emerg when this code to upload the file is hit const uploadFil file RcFile const upload new DirectUpload file api default baseURL rail activ storag direct upload upload creat error Error blob ActiveStorag Blob if error consol error error el consol log blob Error stack Import trace for request modul node modul activestorag app asset javascript activestorag js src compon admin form product NewProduct tsx Compil in ms modul Fast Refresh had to perform a full reload due to a runtim error ReferenceError File is not defin at home annastacia webcaf dawatel web node modul activestorag app asset javascript activestorag js I have use this befor in a Vite ReactJS app recent and I dont encount the same error","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Put plural inver associ infer behind a configur flag Ref https github com rail rail pull While have the inver associ configur it general posit as it avoid some extra queri etc infer it may break legeci code as evidenc by how it broke ActiveStorag Blob in https github com rail rail pull As such we cant just enabl this behavior immedi we need to provid and upgrad path for user At this stage this PR is just a quick draft to discuss how exact we should gate this We can just make it a regular framework default but perhap emit a deprec warn when we would have infer the inver relat would help user upgrad cc rafaelfranca as you general have great insight on this kind of new framework default","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Prevent rdoc task from exclud the main page Motiv Background There was a bug where the main page becom unabl to be found and this chang ensur that it doe not happen Close https github com rail rail issu Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update cach with rail md regard exten in filenam ci skip Motiv Background This Pull Request has been creat becaus the document is out of sync Detail Sinc exten in filenam are deprec ship with Rail And has been remov in Rail Addition inform N A Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number N A Test are ad or updat if you fix a bug or add a featur N A CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use uniform space in new framework default Onli the last five entri have two newlin between them and I cant see a good reason for that see In addit to be inconsist this trip RuboCop with Layout EmptyLin which is enabl by default","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Transform actionpack document to Markdown Relat to tool rdoc to md a on actionpack to reproduc the result","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Revert help on unrecogn bare option Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus creat issu when run with trace Detail This Pull Request revert chang in and add a test for trace which fail in the afor PR Addition inform We specif ran into troubl when run bin rail trace db test prepar Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Move server shutdown translat to abstract mysql adapt is the server shutdown error code We see these fair often at GitHub when for exampl shut down Vitess vtage process for mainten Translat the error to ConnectionFail allow us to treat these as retryabl connect error so we can reconnect and hit a new vtage process This is all true regardless of whether the adapt is trilog or mysql or whatev so this commit move the translat out into the abstract mysql adapt","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow encrypt without compress Motiv Background You may want to avoid compress when use ActiveRecord encrypt Reason includ Your data is alreadi compress Avoid reveal inform about the entropi of the encrypt valu see https github blog whi and how github encrypt sensit databa column use activerecordencrypt turn off compress by default Detail Add a compress option to ActiveRecord Encryption Encryptor which default to true When set to fal the encryptor will never compress the data This can be use with the encryptor option in the model rubi class Record ApplicationRecord encrypt field encryptor ActiveRecord Encryption Encryptor new compress fal end","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow trace to be first command when run bin rail Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background A recent PR https github com rail rail pull contain a bug where if trace is use as the first argument a help screen is shown This break exist allow practic This PR allow trace to be use Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Detail This Pull Request chang one of the check to explicit allow command line option https github com rubi rake blob f a a aac e e a a c doc command line usag rdocL to work Another option would be to roll back Addition inform cc jonathanhefn who made the origin PR Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc correct fix width font document Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Detail This Pull Request correct some fix width font document of the ActiveJob Exception modul Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":1,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"dump schema ignor tabl from ani postgr schema Motiv Background this pull request improv the current implement of ignor tabl dure the schema dump by allow to ignor tabl from other postgr schema than public Detail This Pull Request chang REPLACE ME Addition inform the propo implement lack the abil to specifi exact from which schema the tabl is ignor but I think that even do it better than the current implement pg dump document https www postgresql org doc current app pgdump html pattern document https www postgresql org doc current app psql htmlAPP PSQL PATTERNS Checklist Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ I feel that the code chang is too small to request updat CHANGELOG or write new test","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve Active Support deleg There is a hand of differ cleanup and optim See each individu commit for the full context The implement has move into ActiveSupport Deleg Moduledeleg and Moduledeleg to miss are now just thin deleg This allow to stop ad constant such as RUBi RESERVED KEYWORDS into Modul Moduledeleg no longer accept the privat and undocu as paramet Its for intern use on Internal user are convert to call ActiveSupport Deleg generat Gener more optim code for the veri common deleg to class Allow intern user to provid the method signatur direct Idealli Modul DelegationError should be deprec but Im kinda worri about defin Moduleconst miss to do that I fear it might have unintend consequ But there is littl reason whi someon would rescu DelegationError so perhap we can just remov it without a deprec cycl For now I left it as a nodoc alia","accepted":0,"actioncable":1,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Run bundl exec rake rdoc more than onc doe not work Step to reproduc Run bundl exec rake rdoc to fulli generat doc rdoc content Touch ani file that should contain API document Run again bundl exec rake rdoc Expect behavior Onli generat document for file that have been chang sinc the API was generat accord to the comment https github com rail rail blob v railti lib rail api task rbL L Actual behavior Abort with messag like Par sourc railti lib rail api task rb Gener API format into workspac rail doc rdoc rake abort Could not find main page workspac rail railti RDOC MAIN md among render file Note The commit https github com rail rail commit e e e b ee d c c b fe f introduc the mtime base enhanc for those who work on the API document local Howev it logic even filter out the main page name railti RDOC MAIN md which I seldom touch but is necessari for rdoc to build Not be abl to execut the task more than onc seem to be a bug on one hand but on the other hand the fact no one has ever fix it sinc the chang took place year ago make me bias to believ this is not a bug Ive follow the rdoc section in the guid https edgeguid rubyonrail org api document guidelin htmlrdoc and got stuck That whi I believ someth can be fix but Im afraid Im not abl to tell if this is a program issu or a document issu So Id like to seek advic Has anybodi come across the same issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add tool rdoc to md script Ref Gener the idea is use Prism to par the file into AST Comment transform each comment block into plain RDoc instead of RDoc in a comment use RDoc ToMarkdown class to get a Markdown repres of the comment transform the Markdown repres back into a comment write a new file skip the line that were previous RDoc comment and instead insert the new Markdown comment A littl extra work has to be down for metaprogram document becaus ToMarkdown turn RDoc direct into H s So for these case the direct is first split off the top befor do the ToMarkdown transform and then ad back afterward","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ensure all RubyTrack RenderPar are test Motiv Background Previous on the PrismRenderPar or RipperRenderPar would be test depend on if the Prism gem is avail This meant that PrismRenderPar was be test on Rubi and RipperRenderPar was test on Rubi Addition if someon were to add prism to the rail rail Gemfil becaus they wrote a tool that use it then the RipperRenderPar would end up complet untest Detail This commit is a small refactor to enabl test both RenderPar in all Rubi version so that the prism gem can be ad to the Gemfil","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Compar Time object with an integ doesnt throw an error Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main end requir activ support requir activ support core ext time requir minitest autorun class BugTest Minitest Test def test stuff This would have rai an argument error in Rubi for tri to compar a Time object with an Integer assert Time now Time now to i assert Time now to i Time now to i end end Expect behavior Im not sure but I would expect one of the follow Rai an argument error like what Rubi doe when tri to compar a Time object with an Integer Convert the Time object to an Integer befor compar Convert the Integer to a Time object befor compar Actual behavior No error are rai and the code will alway evalu to fal System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Initial ActiveRecord Migrat migrat path at applic initi This is alreadi done in rake task in the load config task Howev if migrat want to be manipul use by a non rake program this initi would miss ani extra directori configur by the user We move the initi to an initi block With this we can remov the rake config sinc it depend on environ anyway Motiv Background In our app we use schema base multiten which mean we need to setup and migrat for each tenant We have creat a few helper to aid in this task Recent we began modular our app and start move our migrat into pack Then we start face issu with migrat that tri to run more than onc We diagno the root caus that our tenant creation command was not invok db load config befor load the schema This result in pack migrat not be record in the initi seed of the schema migrat tabl Then when we attempt to run migrat on that tenant those migrat would tri to run and fail This Pull Request has been creat becaus a fix for this is to ensur whenev the app is load the correct default path are load Detail This Pull Request chang the initi from a rake task to the app initi process Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"mysql Fix primari key auto popul for model back by view Fix https github com rail rail issu but for mysql This commit address the same issu fix by c c f ae d daa db f de cf but for MySQL The main fix is the remov of unnecessari read attribut column check which was prevent the auto generat PK valu from be set on the record This chang also reveal an issu with the return column for insert list built when use one of the MySQL adapt The list had excess number of column name even though MySQL is on capabl of return one column valu which is the last insert ID This commit overrid the return valu after insert for mysql adapt to on return true for auto increment column unless databa support RETURNING statement","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Scaffold view templat use Strict Local Motiv Background Strict templat local were introduc as part of the Relea Detail To encourag their use within new applic and file this commit chang scaffold for exampl form html erb and MODEL html erb templat to use Strict Local In addit to scaffold this commit includ app view activ storag blob blob html erb sinc it copi into host applic as part of rail actiontext instal Relea https edgeguid rubyonrail org relea note htmlallow templat to set strict local Strict Local https guid rubyonrail org v action view overview htmlstrict local Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Mention Strict Local in more document Motiv Background Strict Local support was introduc in and announc as part of the Relea There are sever mention across the Guid but support is rare mention in the API document Detail This commit add two test case to ensur support for splat addit argument and for forbid block and posit argument It also make mention of strict local in more place and link to the guid https github com rail rail pull Relea https edgeguid rubyonrail org relea note htmlallow templat to set strict local","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Merg pull request from p doc relat includ ci skip Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":0,"actiontext":1,"actionview":1,"activejob":1,"activemodel":1,"activerecord":1,"activestorage":1,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Accept Tempfil as ActiveStorag attach File is alreadi accept as an attach so whi not","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActionView Rai on invalid format Motiv Background Fix Detail This Pull Request add a check in ActionView PathSetfind all to ensur all pass format are valid Sinc find all is use by exist and find the check is extend to all the public method in the class that search templat Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add key to the abstract namespac ci skip Motiv Background The section Error Messag Scope describ how the Rail look up the namespac for a valid error messag with code snippet The first code snippet show abstract namespac like error attribut attribut name while the second one demonstr the materi one like error attribut name blank The first code snippet lack the valid error key My team member was confus and creat a translat without key so I think it would be help to add key to the abstract namespac Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Dont mutat row array that come back from the databa adapt In SQLite Rubi version I would like to make row array frozen I test the chang and it on break this test so Im chang the test I dont think we should be mutat the object that the databa adapt return","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Support option for ActionMail deliveri callback Close https github com rail rail issu The code work but doc test etc are current miss I want to valid the approach befor proceed Inside action mailer I am reus privat method from the implement of callback from the action control see https github com rail rail blob main actionpack lib abstract control callback rb The question to consid are Should the mailer callback realli depend on the intern of control callback consid that it alreadi includ it https github com rail rail blob ff a b bdbd d ca fa b actionmail lib action mailer base rbL Control callback have a rai on miss callback action see https github com rail rail blob ff a b bdbd d ca fa b actionpack lib abstract control callback rbL which can be set via config action control rai on miss callback action This kinda make sen for action mailer too so should we introduc config action mailer rai on miss callback action config Control callback use the word control see https github com rail rail blob ff a b bdbd d ca fa b actionpack lib abstract control callback rbL while for mailer we should use the mailer word or should we make the messag text more generic cc bensheldon","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":1,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"eager load includ load wrong data use composit primari key and queri constraint Thank you for ad support for composit primari key for Rail I believ Ive found a use case where incorrect ActiveRecord object are be return when use eager load or includ on a has one associ with composit primari key preload work as expect Repro rubi This code is under MIT licen See full licen https github com rail rail blob main MIT LICENSE frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org gem activerecord gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Schema defin do creat tabl compani do t end creat tabl user primari key id compani id forc true do t t integ id t integ compani id end creat tabl profil primari key id compani id forc true do t t integ id t integ compani id t integ user id end end class Compani ActiveRecord Base has mani user end class User ActiveRecord Base belong to compani has one profil queri constraint user id compani id end class Profil ActiveRecord Base belong to user queri constraint user id compani id end class BugTest Minitest Test FAIL def test eager load compani Compani creat user User creat id compani id Profil creat id compani id user user user User creat id compani id Profil creat id compani id user user relat compani user join profil assert equal relat map profil relat eager load profil map profil end FAIL def test includ compani Compani creat user User creat id compani id Profil creat id compani id user user user User creat id compani id Profil creat id compani id user user relat compani user join profil assert equal relat map profil relat includ profil map profil end PASS def test preload compani Compani creat user User creat id compani id Profil creat id compani id user user user User creat id compani id Profil creat id compani id user user relat compani user join profil assert equal relat map profil relat preload profil map profil end end In that test we are traver the associ from compani user and want to load each user profil to avoid N queri Howev the queri is return the first profil for all user The generat SQL queri look correct to me sql SELECT user id AS t r user compani id AS t r profil id AS t r profil compani id AS t r profil user id AS t r FROM user INNER JOIN profil ON profil user id user id AND profil compani id user compani id WHERE user compani id which lead me to believ that the issu is when convert to ActiveRecord object The bug seem to on be present when the composit primari key is setup as id foreign key id When setup the other way around foreign key id id as is the case in the Rail test schema https github com rail rail blob eceb db b d f a d cc ddeba b activerecord test schema schema rbL the bug is not present Thank you so much for your work","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document autosav valid behavior for ActiveRecord associ ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background This Pull Request need to be merg to document the behavior of autosav true enabl valid for belong to and has one associ in ActiveRecord Current this behavior is implement in the code but not mention in the offici document This can lead to confus for develop who reli on the Rail guid for accur inform on how ActiveRecord associ work Include this inform will improv the clariti and comprehen of the Rail document Detail This Pull Request add document comment to the belong to and has one method in ActiveRecord Associat to explain that autosav true also enabl valid by default This is to reflect the actual behavior of these method as describ in the sourc code and observ in applic behavior Addition inform Refer to the issu discuss in Rail Undocument valid enabl by autosav Inline gemfil with bundler exampl rubi requir bundler inlin gemfil do sourc https rubygem org gem rail gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl author do t t string name end creat tabl book do t t belong to author t string titl end end class Author ActiveRecord Base has one book autosav true end class Book ActiveRecord Base belong to author valid titl presenc true end class BugTest Minitest Test def test autosav with valid author Author new name J K Rowl author build book Not set a titl to trigger valid failur refut author save Author should not be save due to book valid failur assert author book error full messag includ Titl cant be blank Book should contain error on titl end end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang specif the addit of document for autosav true behavior x Commit messag includ a detail descript of the chang for exampl Doc Document autosav valid behavior for associ x Test are not requir as this is a document updat x CHANGELOG is not updat sinc this is a minor document chang and doe not affect librari behavior","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Display dev test env in consol prompt in blue instead of green Motiv Background The combin of red and blue is more color blind friend than red and green Discuss https github com rail rail pull discuss r Detail Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix rotat detect for HDR video Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Fix https github com rail rail issu Detail The video analyz was reli on the posit refer of side data to fetch the rotat metadata Howev the side data is not guarant to be in the same posit for all video For instanc HDR video shot on iOS in portrait mode have DOVI configur record side data in the first posit follow by the Display matrix side data contain the rotat valu This fix remov the posit refer and explicit search for the Display Matrix side data to retriev the rotat angl Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Video analyz doe not detect rotat of HDR video Step to reproduc Place the sampl video rotat hdr video mov besid the analyz rotat hdr video rb and run the fail test as rubi rubi analyz rotat hdr video rb analyz rotat hdr video rb rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record railti requir activ storag engin requir tmpdir class TestApp Rail Applicat config load default Rail VERSION STRING to f config root dir config host exampl org config eager load fal config session store cooki store key cooki store key config secret key base secret key base config logger Logger new stdout Rail logger config logger config activ storag servic local config activ storag servic configur local root Dir tmpdir servic Disk end ENV DATABASE URL sqlite memori Rail applic initi requir ActiveStorag Engine root join db migrat creat activ storag tabl rb to s ActiveRecord Schema defin do CreateActiveStorageT new chang creat tabl messag forc true end class Messag ActiveRecord Base has one attach video end requir minitest autorun class BugTest Minitest Test includ ActiveJob TestHelp def test analyz a rotat hdr video messag Messag creat video File open rotat hdr video mov metadata messag video blob tap analyz metadata assert equal metadata width assert equal metadata height assert equal metadata angl end end Sampl video rotat hdr video mov https github com rail rail asset d f b e c a a e bffe Expect behavior The attach video was shot on iPhon in a portrait mode Analyz the blob should detect the rotat angl valu of and return height and width as and respect Actual behavior The height is return as and width as ignor the rotat valu System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action View Fallback to exist partial when possibl Close Motiv Background A control declar in the top level modul can render a top level Active Model instanc whose partial is declar in the root view directori like articl articl html erb A control scope within a modul can render an Active Model instanc whose partial is similar scope within view directori like scope articl articl html erb A control scope within a modul cannot render an Active Model instanc whose partial is declar in the root view directori like articl articl html erb despit the absenc of a similar scope partial This is intend behavior that power by config action view prefix partial path with control namespac true prefix partial path with control namespac true by default This chang was introduc in March of as part of Detail As a consum of Action View my intuit is that the lookup would fallback in the same way that a control that inherit from ApplicationControl could defin it own view then reli on fallback to render an app view applic partial This commit modifi the behavior to grace fall back to the root level view partial Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ https github com rail rail issu prefix partial path with control namespac https guid rubyonrail org configur htmlconfig action view prefix partial path with control namespac https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update Guid AR queri english text to match code behavior ci skip Motiv Background From Active Record Queri doc Join Multipl Associat https guid rubyonrail org activ record queri htmljoin multipl associ Book join author review This produc Or in English return all book with their author The English statement is wrong English text impli it return the book and the author Howev The code will return book on and the join mean the return book will have an author with at least review Chang the text to impli it return book with an author instead of book and the author Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"belong to associ doesnt work with composit primari key option Step to reproduc I have an aggreg model that repr the same entiti from differ provid This model has a singl primari but some of the provid have a composit key So I must use column to be abl to build the reflect class Ticker ApplicationRecord this model has gvkey and iid but they are not the primari key just field to build the relat has mani co action primari key gvkey iid queri constraint gvkey iid end class CoAction this model has gvkey and iid as a foreign key belong to ticker primari key gvkey iid queri constraint gvkey iid end When I run CoAction take ticker it return activerecord lib activ record reflect rb in check valid Associat CoActiontick primari key gvkey iid doesnt match with foreign key gvkey iid Plea specifi queri constraint or primari key and foreign key valu ActiveRecord CompositePrimaryKeyMismatchError but I would expect to receiv the ticker model instead The composit primari key gem doe what expect but rail relat builder convert the primari key into a string instead So what you see in the messag is a string gvkey iid ActiveRecord Reflect BelongsToReflectionassoci primari key System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix ActionView Templat Error when past imag via Trix The asset pipelin realli shouldnt be check for remot imag regardless but this also happen to fix an issu with imag past into Trix that get serial as action text attach with blob url","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"O N oper in CollectionAssociationreplac common record in memori and anoth O N oper in ActiveStorag Attach Manyattach Step to reproduc Apolog for not follow the templat I wasnt sure how to includ my half bake fix with it I have full repro and addit inform here malavbhavsar rail https github com malavbhavsar rail pull rubi user User creat name Jason user highlight attach time map do i io StringIO new Exampl string insid text file i filenam text file i txt content type text plain end user save user reload Below oper take second Benchmark bm do x x report attach perform without fix do user highlight attach io StringIO new anoth text file wow filenam text file anoth txt content type text plain end end Expect behavior Execut time of attach should not depend on how big a collect is Actual behavior On a big has mani attach collect attach take a long time If there are exist attach it will take second to attach a new one System configur Rail version main Rubi version Explanat When we call attach on an alreadi big activestorag collect it first call record public send name blob attach flatten e g record highlight This eventu end up call CollectionAssociationreplac common record in memori which has been discov as a perform problem in It end up call Arrayindex n time and n n time In this case time For ActiveRecord has mani collect this is not a huge problem becaus in my experi post comment new comment is not a common pattern The general use case is post comment new comment which doe pretti well perform wise Unfortun for has mani attach collect call attach is a common use case and it call record thing attach under the hood Aside seem like peopl are run into this problem https discuss rubyonrail org t attach pictur get veri slow Flamegraph flamegraph https github com rail rail asset bef acf aaa b a daf a ab Possibl solut Get merg If we are concern about the increa complex of target index map in I tri the same approach with a local variabl https github com malavbhavsar rail pull filesdiff ceff ddab e e a ece eb ff f a dae d ad a a f d and it help ANOTHER problem As flamegraph show there is anoth O N in attach That one is come from Attach Chang CreateOneOfManyfind attach I havent figur out a possibl solut for it I dont understand the chang track activ storag is do but if someon can help me understand I can tri fix it I assum this will probabl need a new Attach Chang AttachMani and Attach Chang AttachOn Workaround I have found that creat blob and attach manual get rid of BOTH problem and doesnt leav highlight attach and highlight blob stale rubi user User creat name Lauren user highlight attach time map do i io StringIO new Exampl string insid text file i filenam text file i txt content type text plain end user save user reload Below oper take second ApplicationRecord transact do blob ActiveStorag Blob creat and upload io StringIO new anoth text file wow filenam text file anoth txt content type text plain user highlight attach creat blob id blob id name highlight user save end Final perform stat user system total real attach perform without fix user system total real attach perform with half ish fix user system total real attach perform manual cc jonathanhefn jeffcarb danni pflughoeft","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"perf exampl show O N in has mani attach Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus REPLACE ME Detail This Pull Request chang REPLACE ME Addition inform Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Set ActiveRecord RecordNotFoundid when rai from a call to reload a delet record Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus I am write some test for my app around record be delet by call reload and there was no easi way to assert that the record rai the ActiveRecord RecordNotFound except was the record I was expect Detail This Pull Request chang rai record not found except to find IDs base on the primari key from the where condit if no IDs are explicit pass Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix eager load of composit primari key associ Follow up for https github com rail rail pull Fix https github com rail rail issu Previous code wrong assum that key map key row key return an array of id while it actual return an identifi of a singl model For a singl column PK model it will return an array with element and for a composit primari key model it will return an array of N element where N is the number of composit primari key column It lead to a bug where the construct object were wrong popul in the cach due to cach key colli For exampl post record with composit key like post the same author and post the same author end up share the same cach entri under the the same author key This commit fix the issu by use full composit primari key valu as a whole identifi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActionView Templat Error Miss Active Model partial when render from Control declar in modul Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main end requir activ model railti requir action control railti class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger rout draw do get testindex get scope scope testindex end end class Model includ ActiveModel Model end class TestControl ActionControl Base end modul Scope class TestControl ActionControl Base end end requir minitest autorun requir rack test class BugTest Minitest Test includ Rack Test Method def setup super view Dir mktmpdir ActionControl Base prepend view path view view file model model html erb Render view file test index html erb view file scope test index html erb end PASSES def test control render unscop partial view file model model html erb Render view file test index html erb get assert predic last respon ok assert equal last respon bodi Render end PASSES def test scope control render scope partial view file scope model model html erb Render view file scope test index html erb get scope assert predic last respon ok assert equal last respon bodi Render end FAILS def test scope control render unscop partial view file model model html erb Render view file scope test index html erb get scope assert predic last respon ok assert equal last respon bodi Render end privat def app Rail applic end def view file name content path Pathnam new view join name path dirnam tap mkpath path write content end end Expect behavior A control declar in the top level modul as exerci by test control render unscop partial can render a top level Active Model instanc whose partial is declar in the root view directori like model model html erb A control scope within a modul as exerci by test scope control render scope partial can render an Active Model instanc whose partial is similar scope within view directori like scope model model html erb A control scope within a modul as exerci by test scope control render unscop partial should be abl to render an Active Model instanc whose partial is declar in the root view directori like model model html erb despit the absenc of a similar scope partial It should grace fall back to the root level view partial Actual behavior The test scope control render unscop partial test rai an Action View error ActionView Templat Error Miss partial scope model model with local en format html variant handler raw erb html builder rubi Search in var folder q q vb s x rzrgppdsz gn T d bve b It cannot resolv the model model partial sinc the render control is namespac within scope System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Upgrade to latest SDoc for perform The latest version of SDoc fix a perform regress This version is at least twice as fast https github com rail sdoc pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"How to use Azure Manag Identiti for authent and author for Rubi On Rail Active Storag Current setup yaml azur servic AzureStorag storag account name storag access key contain Given the implement of access Azure Storag use Access Token Link https github com azur azur storag rubi tree master blobaccess token rubi requir azur storag common access token Creat an instanc of Azure Storag Common Core TokenCredenti token credenti Azure Storag Common Core TokenCredenti new access token token signer Azure Storag Common Core Auth TokenSign new token credenti blob token client Azure Storag Blob BlobServ new storag account name signer token signer Given the implement of Active Storag for Rubi on Rail It use azur storag blob gem under the hood link https github com rail rail blob d eb fc d f bd ae e b fb activestorag lib activ storag servic azur storag servic rbL rubi def initi storag account name storag access key contain public fal option client Azure Storag Blob BlobServ creat storag account name storag account name storag access key storag access key option signer Azure Storag Common Core Auth SharedAccessSignatur new storag account name storag access key contain contain public public end New Setup config storag yml yaml azur servic AzureStorag storag account name contain Monkey patch to use the abov inform to use activ storag use manag ident rubi modul ActiveStorag class Servic AzureStorageServ Servic def initi storag account name contain public fal option access token AzureAd ManagedIdentityTokenProvid new https storag azur com client id ENV AKS MANAGED IDENTITi ID get authent header split last Creat an instanc of Azure Storag Common Core TokenCredenti token credenti Azure Storag Common Core TokenCredenti new access token token signer Azure Storag Common Core Auth TokenSign new token credenti client Azure Storag Blob BlobServ creat storag account name storag account name signer token signer option user deleg key client get user deleg key DateTim now minut DateTim now day hour signer Azure Storag Common Core Auth SharedAccessSignatur new storag account name storag account name user deleg key user deleg key contain contain public public rescu StandardError e rai e unless Rake respond to applic Rake applic top level task exclud asset precompil Rake applic top level task exclud sourc map upload sourc map end end end Is this approach correct I am yet to test this Also is there ani other approach on how to achiev this I have post the question on stackoverflow https stackoverflow com question can we connect activ storag in rubi on rail with azur use manag ident as well System configur Rail version Rail Rubi version rubi","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add jsonb on sqlite connect adapt tabl definit With the addit of a binari json on disk format in sqlite we sort of have a jsonb now The column type is still json howev the format in which it is store is jsonb Make all json field technic jsonb M I believ it would be a welcom addit to have an alia column helper call jsonb which creat a json column in sqlite Reason Most of the time we start off with sqlite and move to postgr Which requir chang all our json column to jsonb Adding this alia allow us to use the same migrat across sqlite and postgr success Im happi to take a stab at a PR if this is a welcom chang Refer https sqlite org forum forumpost fa f e dc a d I ad a forum topic here as well https discuss rubyonrail org t add jsonb on sqlite connect adapt tabl definit","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Credenti usag doesnt agr with the code In the credenti USAGE file it say https github com rail rail blob main railti lib rail command credenti USAGEL L If ENV RAILS MASTER KEi is present it take prece over config master key Howev in Rail Secret it appear to use config secret yml key https github com rail rail blob fe d a d b f e cbb aa c railti lib rail secret rbL L Is one of these locat wrong","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Segment Fault on Docker and rubi Step to reproduc See this repositori for a minim reproduct https github com dorianmari rail segment fault minim Run docker build t tmp trigger the crash Expect behavior Doesnt crash Actual behavior Crash System configur Rail version Rail Rubi version rubi revi f ac YJIT arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix SQLite tabl definit par bug to handl comma in default function definit Motiv Background This Pull Request fix a bug in the low level SQLite adapt introspect logic I came across the bug when work with virtual column and JSON but there are mani possibl case where this would caus problem Here is one reproduc bug script though rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t t json payload null fal default t virtual extern id type string as JSON EXTRACT payload id store true null fal index true end end class Post ActiveRecord Base end class BugTest Minitest Test def test virtual column with comma in definit is autopopul post Post creat payload id pst assert equal pst post extern id end end Detail This Pull Request more intellig par the SQL string descript of the tabl to ensur that we on split by comma that mark a new column definit In order to accomplish this the tabl par method need the list of column name for the tabl When tabl structur sql is call by tabl structur with collat these can be suppli as they are alreadi present when it is call by foreign key howev they are not present and thus must be fetch I also ad a simpl regress test as a part of the virtual column test case Addition inform This bug has exist for a long time but I most recent touch the relev code in https github com rail rail pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ cc byroot this is relat to tenderlov this is relat to https github com rail rail pull yahonda this is relat to https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ensure pre migrat use legaci index name when use renam tabl Fix https github com rail rail issu Follow up to https github com rail rail pull and https github com rail rail pull The easiest way to preserv the old behavior is to renam index back after the renam tabl was run","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Specifi RDoc method name for accessor defin on singleton class RDoc cant extract the name of accessor defin with singleton class attr accessor result in method call unknown in RDoc Befor https edgeapi rubyonrail org class ActiveJob htmlmethod c unknown After Addition Informat If the method cant be found RDoc will output a warn when the verbo option is set Id would be nice if this would rai an error instead Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":1,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveStorag FileNotFoundError ActiveStorag FileNotFoundError Step to reproduc I have upgrad my rail applic from to Sinc then when I am execut below queri rubi d Document find d page imag variant resiz to limit Document PAGE IMAGE STYLES small process I am get this error Actual behavior ActiveStorag FileNotFoundError ActiveStorag FileNotFoundError System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":1,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord Migrat s renam tabl use s new truncat index name format Step to reproduc rubi frozen string liter true requir bundler inlin gemfil do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do end class Post ActiveRecord Base end class BugTest Minitest Test def test index name after renam tabl with long tabl name long tabl name a migrat class Class new ActiveRecord Migrat do defin method migrat do x creat tabl post do t t string titl t index titl end renam tabl post long tabl name end end migrat migrat class new ActiveRecord Migrat new up migrat ActiveRecord Base connect schema migrat ActiveRecord Base connect intern metadata migrat assert equal index long tabl name on titl ActiveRecord Base connect index long tabl name first name end end Expect behavior The abov test should pass This mean that sinc the index name was renam to index aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa on titl in Rail and earlier if ActiveRecord Migrat or earlier is specifi the same name should be use even in Rail or later Actual behavior The abov test fail with the follow output F Failur BugTesttest index name after renam tabl with long tabl name exampl rb expect actual index aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa on titl idx on titl b d c b bin rail test exampl rb Finish in s run s assert s run assert failur error skip As a result if db migrat contain renam tabl the index name creat between Rail and may be differ System configur Rail version Rubi version rubi revi e f c x linux Other inform This is due to the follow chang https github com rail rail pull I think a similar chang to the follow is need for renam tabl https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Add new except when attempt to connect to MySQL run on localhost Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat to address when there is a MySQL server run on localhost and the gem translat the hostnam to a socket Detail This Pull Request chang the rai except while attempt to connect to a MySQL server run on localhost which is the case for a contain run on local machin on default port Turn out the MySQL client librari translat the hostnam localhost to a socket but there is the server up and run Addition inform The new except instruct you to use the IP address instead of the hostnam when use the MySQL adapt FYI it doesnt happen when use Trilog as the adapt to connect to MySQL server Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail log error messag with huge stack trace that I cant silenc Everi time I have a runtim error run either the rail server or test my error log includ a massiv stack trace that I havent been abl to silenc Gist of exampl develop log https gist github com bcowel b ab e f e e bd f f c Step to reproduc Run rail s Edit ani line in a method to have invalid rubi Save the file and execut so it run the method test My consol fill with the massiv stack trace Expect behavior I expect an error messag to includ a reason stack trace with a few line Actual behavior Stack trace on everi error is rough k line System configur MacBook Pro Intel macOS Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add support for ActionMail deliveri callback on and except option Step to reproduc Current ActionMail deliveri callback do not support on and except filter which are quit use becaus some callback action are requir for a subset of mailer method Technic on except can be emul via if option but anoth problem is that not clear from the document which option can be pass current on and except are simpli ignor I believ that mani develop might except ActionMail to behav just like ActionControl so current API implement might lead to unexpect bug Note that document on befor action and similar callback explicit refer to possibl option befor action name block Link https api rubyonrail org v class AbstractControl Callback ClassMethod htmlmethod i befor action Append a callback befor action See insert callback https api rubyonrail org v class AbstractControl Callback ClassMethod htmlmethod i insert callback for paramet detail Expect behavior At least some explicit info on possibl deliveri callback option or which would be better support for on and except option Actual behavior Mention option are simpli ignor no document on possibl option System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":1,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix queri refer for non hash associ where claus valu Detail This PR fix an issu where non hash where claus valu for associ would not set refer valu This could and often doe end up caus hard to debug SQL error due to associ name vs tabl name mismatch e g queri on a singular associ name while the actual join tabl is plural or vice versa due to a prior scope More detail reproduct script https gist github com ezekg eb c fb bd fac Befor rb scope Comment where post id post scope refer valu post scope Comment where post post scope refer valu Id expect these to be synonym sinc id is call on post https github com ezekg rail blob c b b cac c db a c b f activerecord lib activ record relat predic builder rbL for the second case After rb scope Comment where post id post scope refer valu post scope Comment where post post scope refer valu post With this patch theyr now more or less synonym both set refer valu Sinc this is like a break chang it broke a few test in keygen sh keygen api https github com keygen sh keygen api when test against the patch this may requir some more thought But it is worth note that all broken test were relat to various workaround for this particular bug Let me know what you guy think is the best cour of action here Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add exampl for form helper tag ci skip Detail This Pull Request add exampl for FormTagHelp method Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"System test not work on Rail run on a remot machin docker contain Step to reproduc Ive been run my system test use a remot browser on a docker contain sinc Rail without a problem with the follow set up rubi class ApplicationSystemTestCa ActionDispatch SystemTestCa driven by selenium use chrome screen size option browser remot url http chrome server do driver option driver option add argument disabl dev shm usag end It look like the problem was introduc in and relat issu fix I fix it local just monkeypatch Selenium Webdriv DriverFind path just to return nil Have a look at the code I think that it would be nice to avoid Browserpreload when browser is remot in https github com rail rail blob d f a beb a a e actionpack lib action dispatch system test driver rbL If you think it the right way to tackl it I could post a fix Actual behavior After a while an except is rai Selenium WebDriv Error SessionNotCreatedError Could not start a new session Error while creat session with the driver servic Stop driver servic Could not start a new session Respon code Messag unknown error no chrome binari at root cach selenium chrome linux chrome Host info host c b b ce ip Build info version revi c d System info os name Linux os arch aarch os version linuxkit java version Driver info driver version unknown Build info version revi c d System info os name Linux os arch aarch os version linuxkit java version Driver info driver version unknown remot server org openqa selenium grid node config DriverServiceSessionFactori DriverServiceSessionFactori java in appli remot server org openqa selenium grid node config DriverServiceSessionFactori DriverServiceSessionFactori java in appli remot server org openqa selenium grid node local SessionSlot SessionSlot java in appli remot server org openqa selenium grid node local LocalNod LocalNod java in newSess remot server org openqa selenium grid distributor local LocalDistributor LocalDistributor java in startSess remot server org openqa selenium grid distributor local LocalDistributor LocalDistributor java in newSess remot server org openqa selenium grid distributor local LocalDistributor NewSessionRunn LocalDistributor java in handleNewSessionRequest remot server org openqa selenium grid distributor local LocalDistributor NewSessionRunn LocalDistributor java in lambda run remot server java util concurr ThreadPoolExecutor ThreadPoolExecutor java in runWork remot server java util concurr ThreadPoolExecutor Worker ThreadPoolExecutor java in run remot server java lang Thread Thread java in run usr local bundl rubi gem selenium webdriv lib selenium webdriv remot respon rb in assert ok usr local bundl rubi gem selenium webdriv lib selenium webdriv remot respon rb in initi usr local bundl rubi gem selenium webdriv lib selenium webdriv remot http common rb in new usr local bundl rubi gem selenium webdriv lib selenium webdriv remot http common rb in creat respon usr local bundl rubi gem selenium webdriv lib selenium webdriv remot http default rb in request usr local bundl rubi gem selenium webdriv lib selenium webdriv remot http common rb in call usr local bundl rubi gem selenium webdriv lib selenium webdriv remot bridg rb in execut usr local bundl rubi gem selenium webdriv lib selenium webdriv remot bridg rb in creat session usr local bundl rubi gem selenium webdriv lib selenium webdriv common driver rb in block in creat bridg in tap usr local bundl rubi gem selenium webdriv lib selenium webdriv common driver rb in creat bridg usr local bundl rubi gem selenium webdriv lib selenium webdriv common driver rb in initi usr local bundl rubi gem selenium webdriv lib selenium webdriv remot driver rb in initi usr local bundl rubi gem selenium webdriv lib selenium webdriv common driver rb in new usr local bundl rubi gem selenium webdriv lib selenium webdriv common driver rb in for usr local bundl rubi gem selenium webdriv lib selenium webdriv rb in for usr local bundl rubi gem capybara lib capybara selenium driver rb in browser usr local bundl rubi gem actionpack lib action dispatch system test driver rb in block in regist selenium in tap usr local bundl rubi gem actionpack lib action dispatch system test driver rb in regist selenium usr local bundl rubi gem actionpack lib action dispatch system test driver rb in block in regist usr local bundl rubi gem capybara lib capybara session rb in driver usr local bundl rubi gem capybara lib capybara session rb in initi usr local bundl rubi gem capybara lib capybara rb in new usr local bundl rubi gem capybara lib capybara rb in block in session pool usr local bundl rubi gem capybara lib capybara rb in current session usr local bundl rubi gem capybara lib capybara dsl rb in page usr local bundl rubi gem actionpack lib action dispatch system test test helper screenshot helper rb in save imag usr local bundl rubi gem actionpack lib action dispatch system test test helper screenshot helper rb in take screenshot usr local bundl rubi gem actionpack lib action dispatch system test test helper screenshot helper rb in take fail screenshot usr local bundl rubi gem actionpack lib action dispatch system test test helper setup and teardown rb in befor teardown System configur Rail version Rubi version revi e f c aarch linux","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Add more exampl to in order of ci skip Motiv Background in order of is an excel method and make order enum column easier and mani complex order case when queri can be refactor to use it This PR was creat becaus I believ have more exampl would help peopl understand this method a bit better Also I think it use to document that this method will order result but also FILTER them exclud row in which the column doesnt match ani of the given valu So I expand the descript and ad these exampl what happen when deal with enum column what happen when pass nil as a valu for nullabl column Here a gist with some test https gist github com thdaraujo d aa ffd b bf ded e Id be happi to add other exampl for other useca you think are relev just let me know Detail This Pull Request expand the document for in order of https api rubyonrail org class ActiveRecord QueryMethod htmlmethod i in order of Addition inform n a Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur not applic x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update rail consol prompt Motiv Background This PR adopt the follow up suggest in https github com rail rail issu around Rail consol prompt Detail Instead of display env line number as the prompt show app name env will provid more valu to user For exampl if the app top level modul is MyApp it develop prompt would be my app dev Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord MySQL adapt Cant connect to local server through socket when localhost is specifi on connect set Step to reproduc Im run a local MariaDB server contain on localhost and it configur to allow root login without a password Indeed the except messag Cant connect to local server through socket is right as it not possibl to connect to the MySQL server variant through the socket on var lib mysql mysql sock and it happen as the MySQL client librari for the gem mysql translat localhost to a local UNIX socket Its fine if I use the trilog adapt to connect to it instead of the mysql one I can use the mysql adapt if I chang the host to IP address on connect set but this may not be too obvious Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git Activat the gem you are report the issu against gem rail github rail rail branch main gem mysql gem trilog end requir activ record requir minitest autorun requir logger MariaDB server is alreadi run and allow root connect without a password to localhost on default port DATABASE NAME buggi adapt test DEFAULT DATABASE OPTIONS usernam root password host localhost databa DATABASE NAME DB CONNECTION OPTIONS trilog DEFAULT DATABASE OPTIONS merg adapt trilog mysql DEFAULT DATABASE OPTIONS merg adapt mysql ActiveRecord Base logger Logger new STDOUT class BugTest ActiveSupport TestCa def trilog adapt connect set DB CONNECTION OPTIONS trilog end def mysql adapt connect set DB CONNECTION OPTIONS mysql end def recreat databa databa name ActiveRecord Base connect drop databa databa name rescu nil ActiveRecord Base connect creat databa databa name end def connect to server and creat databa for config ActiveRecord Base establish connect config except databa recreat databa config databa ActiveRecord Base establish connect config end def test databa connect use trilog adapt assert noth rai do connect to server and creat databa for trilog adapt connect set ActiveRecord Schema defin creat tabl articl forc true end end def test databa connect use mysql adapt assert noth rai do connect to server and creat databa for mysql adapt connect set ActiveRecord Schema defin creat tabl articl forc true end end end Expect behavior Contain are a realiti so Im expect at least a better error messag when use the MySQL adapt for server run on localhost I may be wrong but I didnt see anyth on doc about it Also is Trilog be advoc as the default MySQL adapt for Rail Actual behavior rubi Fetch https github com rail rail git Fetch gem metadata from https rubygem org Resolv depend Run option seed Run D T DEBUG ms DROP DATABASE IF EXISTS buggi adapt test D T DEBUG ms CREATE DATABASE buggi adapt test DEFAULT CHARACTER SET utf mb creat tabl articl forc true D T DEBUG ms DROP TABLE IF EXISTS articl D T DEBUG ms CREATE TABLE articl id bigint NOT NULL AUTO INCREMENT PRIMARi KEi s D T DEBUG ms CREATE TABLE schema migrat version varchar NOT NULL PRIMARi KEi D T DEBUG ms CREATE TABLE ar intern metadata key varchar NOT NULL PRIMARi KEi valu varchar creat at datetim NOT NULL updat at datetim NOT NULL D T DEBUG ActiveRecord InternalMetadata Load ms SELECT FROM ar intern metadata WHERE ar intern metadata key environ ORDER BY ar intern metadata key ASC LIMIT D T DEBUG ActiveRecord InternalMetadata Creat ms INSERT INTO ar intern metadata key valu creat at updat at VALUES environ develop RETURNING key D T DEBUG ms DROP DATABASE IF EXISTS buggi adapt test E Error BugTesttest databa connect use mysql adapt ActiveRecord ConnectionNotEstablish Cant connect to local server through socket var lib mysql mysql sock System configur Rail version main branch alpha Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add method to ActiveRecord Relat FinderMethod to determin if it contain exact more than less than N record Motiv Background Ive had to check in a few place if a relat had exact or less than or more than N record On top of that if the collect contain a lot of record count on the entir collect not on is slower but also unnecessari and limit the count the first N or N record is suffici and faster Detail Adds the follow method to ActiveRecord Relat FinderMethod exact return true if the relat contain exact N record fal otherwi at least return true if the relat contain at least N record fal otherwi at most return true if the relat contain at most N record fal otherwi less than return true if the relat contain less than N record fal otherwi more than return true if the relat contain more than N record fal otherwi These method perform a limit M count where M N or N under the hood Addition inform I think the name of these method is fine as is Dont know if other would prefer to prefix these with has or contain ie has exact or contain exact With regard to perform of do the count with and without the limit Without the limit when there are M record I get sql Referr Count ms SELECT COUNT FROM referr WHERE referr compani id compani id f dfa d e d b aa f ba With a limit of a sql Referr Count ms SELECT COUNT FROM SELECT AS one FROM referr WHERE referr compani id LIMIT subqueri for count compani id f dfa d e d b aa f ba LIMIT So it x faster even when do an index on scan sql explain SELECT COUNT FROM referr WHERE referr compani id f dfa d e d b aa f ba QUERi PLAN Final Aggregat cost row width Gather cost row width Worker Plan Partial Aggregat cost row width Parallel Index Onli Scan use index referr on compani id and conver state on referr cost row width Index Cond compani id f dfa d e d b aa f ba uuid Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix the CreateProduct migrat file name in the doc ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus the document under Creat New Tabl referenc the wrong migrat file Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Error applic css is not present in the asset pipelin Fresh instal Rubi Rail Fresh instal use rail new my app c tailwind j esbuild Problem with applic html erb file when use bin dev with this line web start with pid css unknown command yarn build css watch web DEBUGGER Debugg can attach via UNIX domain socket run user rdbg web Boot Puma web Rail applic start in develop web Run bin rail server help for more startup option web Puma start in singl mode web Puma version rubi p The Eagl of Durango web Min thread web Max thread web Environ develop web PID web Listen on http web Listen on http web Use Ctrl C to stop web Start GET product for at web ActiveRecord SchemaMigr Load ms SELECT schema migrat version FROM schema migrat ORDER BY schema migrat version ASC web Process by ProductsControllershow as HTML web Paramet id web Product Load ms SELECT product FROM product WHERE product id LIMIT id LIMIT web app control product control rb in show web Render layout layout applic html erb web Render product show html erb within layout applic web Render product show html erb within layout applic Durat ms Allocat web Render layout layout applic html erb Durat ms Allocat web Complet Internal Server Error in ms ActiveRecord ms Allocat web web web web ActionView Templat Error The asset applic css is not present in the asset pipelin web web web web web web web web web web app view layout applic html erb","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Update valid status base on autosav status This Pull Request has been creat to enlighten user that valid are enabl by default when autosav is True for the has one and belong to","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ci skip doc fix Entryentryabl type to Entri entryabl type Motiv Background type is class method so fix Entryentryabl type to Entri entryabl type in document Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Add exampl to compact and compact document ci skip Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Doc Add section on Queue Prioriti to ActiveJob doc Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Adds a Queue Prioriti section to activ job basic md Detail Active Job Basic https edgeguid rubyonrail org activ job basic html contain a section on queue https edgeguid rubyonrail org activ job basic htmlqueue but doesnt have one on queue prioriti use queue with prioriti or set prioriti prioriti Addition inform None Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Incomplet document on Rail guid refer rake task task name arg pre pre do t arg You can use arg from here end Which is the argument what is pre pre Whi are they in separ array Your document suck Ive been tri for year to understand the whole shit","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add format constraint for generat pwa rout Motiv Background As a followup to which ad default pwa manifest and servic worker rout and file to the new app generat Id like to associ the new rout with the expect mime type Detail We expect the pwamanifest request to be limit to json i e manifest json and we expect the pwaserv worker request to be limit to js i e servic worker js This chang add format constraint to the generat rout Addition inform I didnt see associ test with the previous chang but would be open to ad some if desir Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve Rail consol IRB autocomplet control Motiv Background This is a follow up PR for this comment https github com rail rail pull discuss r and other small refactor Detail I made small improv on Rail consol relat test and avoid use ENV to control IRBs autocomplet toggl But none of the chang should affect end user I explain each chang in their own commit I can also split them into anoth PRs if that prefer Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"document Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus REPLACE ME Detail This Pull Request chang REPLACE ME Addition inform Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Redund JOIN produc when merg relat from STI class Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report Merg relat with join to the same associ by differ class in an STI tree result in duplic redund JOINs in the emit SQL rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t t string type end creat tabl comment forc true do t t integ post id t boolean publish end end class Post ActiveRecord Base has mani comment scope with comment join comment where comment publish true end class CustomPost Post end class Comment ActiveRecord Base belong to post end class BugTest Minitest Test def test merg base case post with comment CustomPost with comment post with comment CustomPost with comment assert equal comment post with comment join valu assert equal comment post with comment join valu combin scope post with comment merg post with comment put combin scope to sql assert equal comment combin scope join valu end def test merg sti case post with comment Post with comment custom post with comment CustomPost with comment assert equal comment post with comment join valu assert equal comment custom post with comment join valu combin scope post with comment merg custom post with comment put combin scope to sql FAILS two join are generat assert equal comment combin scope join valu end end Expect behavior A queri with a singl join to the foreign tabl is produc e g sql SELECT post FROM post INNER JOIN comment ON comment post id post id WHERE post type CustomPost AND comment publish Actual behavior A queri with two redund join to the foreign tabl is produc sql SELECT post FROM post INNER JOIN comment ON comment post id post id INNER JOIN comment comment post ON comment post post id post id WHERE post type CustomPost AND comment publish This duplic join is not referenc by the rest of the queri in ani way System configur Rail version Rail Rubi version rubi revi e f c x linux","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add multipl databa AR bug templat ci skip Motiv Background This Pull Request has been creat becaus there are a few PRs wed like to open that relat to the multipl databa code in Rail but there was no exist templat for a multipl databa setup Detail This commit add a new bug report templat that base off of the exist Active Record bug report templat https github com rail rail blob main guid bug report templat activ record rb but creat a multipl databa setup The templat creat an UnshardedModel abstract ActiveRecord model that connect to a singl databa with a replica configur and a ShardedModel abstract ActiveRecord model that has two shard configur each with their own replica Each sqlite in memori databa is separ becaus open multipl databa connect each with the filenam memori will creat independ in memori databa https www sqlite org inmemorydb html Note that while replica databa are configur sqlite doe not support databa replic and therefor record written to the writer databa will not auto popul on the replica reader databa The replica configur are includ to allow for test role switch not for valid replic itself Addition inform You can test that the templat work by run rubi guid bug report templat activ record multipl databa rb Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add exampl to part document ci skip Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Freez and dedup quot column name and quot tabl name cach Ref https github com rail rail pull discuss r Avoid corrupt the cach by mutat the return valu and also sligth reduc memori usag when the quot format often return an unmodifi string FYI dkubb","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add exampl to modul for helper document ci skip Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Undocument valid enabl by autosav Valid are enabl by default when autosav is true belong to foo autosav true has one foo autosav true https github com rail rail blob c ffab c bf ba e dafdb cf a a activerecord lib activ record reflect rbL L Howev this is not document in has one or belong to https github com rail rail blob c ffab c bf ba e dafdb cf a a activerecord lib activ record associ rbL L https github com rail rail blob c ffab c bf ba e dafdb cf a a activerecord lib activ record associ rbL L","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Link to framework main page instead of README in API doc ci skip The Rail README that is shown as the homepag of https api rubyonrail org has link to the differ framework Howev these link link to the framework READMEs instead of the framework main page which result in a page that miss link to the framework method and namespac For exampl click on ActionView result in the follow page which miss ani navig to method and namespac https api rubyonrail org v file actionview README rdoc html By link to the framework main page the navig is present https api rubyonrail org v class ActionView html Addition inform The READMEs file are includ in the doc in the file directori These can now probabl be remov when generat the doc as the content of the README is alreadi inlin in the framework homepag Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update CHANGELOG md fix a spell error Fix a spell error in CHANGELOG md Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus REPLACE ME Detail This Pull Request chang REPLACE ME Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Consist rai an ArgumentError when pass an invalid argument to a nest attribut associ writer Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Fix Detail Update ActiveRecord NestedAttributesassign nest attribut for one to one associ to rai an ArgumentError when given an invalid attribut argument similar to ActiveRecord NestedAttributesassign nest attribut for collect associ https github com rail rail blob c ffab c bf ba e dafdb cf a a activerecord lib activ record nest attribut rbL L Also make a slight improv to the exist error for collect associ Addition inform None Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pass an invalid argument when assign nest attribut on rai an ArgumentError for collect associ Step to reproduc Guidelin for creat a bug report are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcreat a bug report rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end creat tabl comment forc true do t t integ post id end end class Post ActiveRecord Base has one last comment order id desc class name Comment has mani comment accept nest attribut for last comment accept nest attribut for comment end class Comment ActiveRecord Base belong to post end class BugTest Minitest Test Fail Throw NoMethodError undefin method with indiff access for foo String def test assign nest attribut for singular associ with invalid argument assert rai ArgumentError do Post creat last comment attribut foo end end Pass def test assign nest attribut for collect associ with invalid argument assert rai ArgumentError do Post creat comment attribut bar end end end Expect behavior Pass an invalid argument when assign nest attribut for both a singular and collect associ should rai a similar ArgumentError Actual behavior Pass an invalid argument when assign nest attribut for a collect associ rai an ArgumentError but it error out with a NoMethodError undefin method with indiff access for foo String for singular associ System configur Rail version Edge Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Deadlock occur in zeitwerk Step to reproduc There are the follow two class each of which caus deadlock between Thread when load from differ Thread This occur in the develop environ That is enabl reload true allow concurr nil Sampl Applicat https github com alpaca tc zeitwerk test rubi app model first rb modul First Second end app model second rb modul Second First end app control constant control rb class ConstantsControl ActionControl Base def first First head no content end def second Second head no content end end config rout rb Rail applic rout draw do get first to constantsfirst get second to constantssecond end Deadlock when request in parallel curl http first curl http second https github com alpaca tc zeitwerk test Expect behavior Each request can be execut without deadlock Actual behavior The thread deadlock and the request is stop as Process bundl exec rail server Start GET first for at Start GET second for at Process by ConstantsControllerfirst as Process by ConstantsControllersecond as Addition inform If I reproduc it minimum this issu is similar to the follow gist https gist github com alpaca tc eb ac b c c cff When a file with cyclic depend is requir autoload ed by multi thread a deadlock occur This behavior is intent for Rubi Perhap to prevent this an exclus lock should be acquir by ActiveSupport Depend load interlock dure requir by zeitwerk Howev sinc there is no API in zeitwerk to such a hook I did not know where I should acquir the lock The classic autoload took an exclus lock so this problem doe not occur https github com rail rail blob ac aa f cf ba eab c bb bcf a activesupport lib activ support depend rbL L System configur Rail Version main Rubi Version rubi revi e f c arm darwin I guess that it probabl occur in all version that use zeitwerk This did not occur with the classic autoload Same issu https github com rail rail issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Clarif on button to Default Behavior in Rail Hello Im updat to Rail and notic a chang in button to method behavior regard the HTTP verb use The Rail relea note suggest button to use PATCH for persist Active Record object contrast the Rail API document which indic POST as the default Could you clarifi this behavior specif the condit under which button to default to PATCH in Rail Step to reproduc without set method Expect behavior Expect this behavior would be PATCH as document said https github com rail rail asset bcca d e cce b c cff Actual behavior I got POST instead As rail API document said https github com rail rail asset dd e fb db ac bf e db f b System configur Rail Version Thank you","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix ActiveStorag Blob inver associ Motiv Background This is a fix need to unblock https github com rail rail pull becaus Active Storag reli on a Active Record bug Detail The problem is best understood with a small snippet rubi blob ActiveStorag Blob new ActiveStorag Attachment new blob blob ActiveStorag Attachment new blob blob Current p blob attach Once the Active Record bug is fix p blob attach Save the blob would result in tri to creat attach which fail becaus of uniqu constraint Addition inform The real code path that doe what the snippet abov doe is locat here https github com rail rail blob c ffab c bf ba e dafdb cf a a activestorag lib activ storag attach mani rbL Its basic do this rubi user imag attach photo png Initial a Blob record and an Attachment user imag attach photo png Get the Blob from abov creat anoth Attachment Initial a new Blob record and an new Attachment Rin and repeat everi time attach is call Solut Explicit set the inver of so that it behav as if is ship Dont build a new attach for blob alreadi have one Test I didnt add test the test suit is alreadi well cover ad the inver of without ani chang break the test suit alreadi You can tri by run for instanc the activestorag test model attach mani test rb Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix bin rail T when no default task is defin When Rake par an argument string with no task it set the top level task as default Prior to this commit if no default task was defin for exampl if an app was generat with skip test and didnt defin it own default task Rail Command RakeCommand would rai UnrecognizedCommandError prevent Rake from display the task list This commit chang Rail Command RakeCommand to let Rake handl the default task Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Print bin rail help on unrecogn bare option Prior to this commit bin rail would pass unrecogn bare option on to Rake consol bin rail v Rail alpha bin rail V rake version bin rail s Run test in a singl process parallel threshold is bin rail S invalid option S This commit chang bin rail to print it help messag when given an unrecogn bare option consol bin rail v Rail alpha bin rail V Usage bin rail COMMAND option You must specifi a command The most common command are bin rail s Usage bin rail COMMAND option You must specifi a command The most common command are bin rail S Usage bin rail COMMAND option You must specifi a command The most common command are Howev for backward compat an except has been made for the T task option consol bin rail T Print list of Rake task Address","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Implement Objectab in ActiveSupport core exten method Method absenc in complement exist presenc in and can be use to check for absenc on the blacklist Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Exist method Objectpr in can be use for whilelist rubi def page titl param page titl presenc in w photo video photo end Howev sometim sometim it is import to check for absenc on the blacklist rather than whilelist inclus rubi def page titl param page titl absenc in w default hidden photo end Seem like this method doe not add ani addit complex I also wasnt abl to come up with a clean short and good look altern base on exist method tell me if Im miss someth Detail This PR add implement for Objectab in ActiveSupport core exten Checklist x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add custom prompt for Rail consol Update There were more follow up PRs on this https github com rail rail pull https github com rail rail pull So the result prompt now look like this instead Screenshot at https github com rail rail asset e dc f aa e a be Motiv Background As discuss in Rail consol prompt is not easili distinguish from normal IRB consol It also doesnt provid Rail specif inform to assist develop Close Detail A new IRB prompt call RAILS PROMPT is ad which look like dev in develop prod in product test in test The RAILS PROMPT is on select when the user doesnt specifi anoth custom prompt Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Test on Expand trigger popul PK test case to run against more DBs Follow up for https github com rail rail pull I realiz that I unnecessarili limit one of the test to postgresql while the fix should be applic to ani databa that support RETURNING statement Sad I couldnt come up with a proper setup for sqlite sinc it look like there is no way of updat NEW record column befor insert in a trigger So if someon has idea on how to setup an sqlite trigger to generat id column valu befor insert the test case can be test against sqlite But for now it technic mean we will be test it on MariaDB in addit to postgresql","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"PoC Add an option to disabl connect checkout cach Context In part for perform and simplic reason and in part becaus of it histor lack of thread support Active Record reli quit heavili on ActiveRecord Base connect check out and hold a connect insid a thread of fiber local variabl Concret everi request or job lazili checkout connect when it need to perform a databa oper and then hold onto it until the request or job complet at which point the Executor hook automat check it back in the pool For the overwhelm major of Rail applic which dont do enough IOs to benefit from more than a hand of thread it a perfect adequ solut as it pretti much remov connect manag as a concern Howev for applic that spent most of their time on IOs other than the databa e g rd parti APIs and would benefit from much higher level of concurr this strategi is problemat becaus it requir about as mani databa connect as there is thread or fiber even though most connect are idl but cant be use becaus they check out of the pool and held by anoth thead or fiber Goal I believ the current model is still prefer for the vast major of Rail user and chang the way ActiveRecord Base connect behav would break a ton of code anyway So I believ it should remain the default Howev I think we could support an altern mode in which ActiveRecord Base connect doesnt hold onto the connect until the end of the request cycl but instead immedi check it back in allow it to be re use immedi Implement First noth chang unless you disabl ActiveRecord cach connect checkout Then sinc a lot of code in Rail itself in third parti librari and in privat Rail applic do reli on Model connect someth we must make it work without cach the connect To solv this when cach is disabl Model connect return a proxi object that deleg the method it receiv to a fresh check out connect and then check it back in See LazyConnectionProxi in connect pool rb for the detail That is the key to permit this featur while retain backward compat Its not perfect as code might assum that subsequ call to Model connect will return the same connect instanc but in most case it not necessari Also while the proxi hold the connect it cach in on the thread or fiber so subsequ call to Model connect will return the same connect until it check back in This solv most of the state issu like open a transact etc as long as the APIs are block base Status This is a proof of concept it nowher near readi to merg it most to explor whether it doabl with some work or just not possibl Most of the Active Record test suit pass against Sqlite except for test that do disconnect and reconnect In general all the test had to be opt out of the featur I still need to dig into whi exact I also had to disabl the featur for a few test suit that reli too much on the cach and would need a bit of refactor to pass without but at first glanc it doesnt look like a fundament incompat Concern There is a number of Active Record method that current caus more than one checkout checkin cycl and would benefit from a strateg place with connect do call to optim that But that is most a perform concern not a fundament incompat One more major concern is the queri cach As it stand it pretti much useless when checkout cach is disabl becaus when we check the connect back in we have to clear the cach so it pretti much alway empti To make it usabl again we need a substanti refactor At first glanc it look possibl just not trivial Conclus Im a bit on the fenc about this I think we can make it work but I alreadi spent most of one day on just the proof of concept and would need substanti more work to iron out all the issu The actual code chang need in Active Record itself are relat small it realli all the test suit and rd parti code that would need to be updat to proper work with this option that is the big can of worm Im worri about","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"app updat from Rail to creat new framework default rb Step to reproduc I made an updat from Rail to by chang the rail version number to in the gemfil and run bundl updat After that i ran rail app updat which produc the file config initi new framework default rb I alreadi have config load default in my config applic rb so I think this file shouldnt be generat Expect behavior The file config initi new framework default rb should not be creat if config load default is alreadi present in config applic rb Actual behavior The file config initi new framework default rb is creat after rail app updat despit config load default is alreadi present in config applic rb System configur Rail version Rubi version rubi revi e f c x mingw ucrt","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add Solid Queue refer to Rail Guid doc ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Include a refer to the Solid Queue project in the Rail Guid document can be use especi but not exclus for new develop as it allow them to becom familiar with the project and it function and decid whether they want to use it in their project just like the other suggest adapt Detail This pull request simpli add the refer link to the project README in the Rail Guid document in the section dedic to configur adapt Addition inform Provid addit inform such as benchmark refer to other repositori or altern solut Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord NotNullViol PG NotNullViol ERROR null valu in column record id of relat activ storag attach violat not null constraint Step to reproduc I have upgrad my Rail applic from to After that I am get this error Below is my activestorag rb file rubi ActiveStorag Attach Model modul eval do class method do def has one attach name depend purg later acl privat servic servic generat associ method class eval CODE FILE LINE def name activ storag attach activ storag attach name ActiveStorag Attach One new name self depend depend purg later purg later fal acl acl end def name attach attach chang name if attach nil ActiveStorag Attach Chang DeleteOn new name self depend depend purg later purg later fal acl acl el ActiveStorag Attach Chang CreateOn new name self attach depend depend purg later purg later fal acl acl end end CODE has one name attach where name name class name ActiveStorag Attachment as record inver of record depend fal has one name blob through name attach class name ActiveStorag Blob sourc blob scope with attach name includ name attach blob after save attach chang name to s save after commit on i creat updat attach chang delet name to s tri upload ActiveRecord Reflect add attach reflect self name ActiveRecord Reflect creat has one attach name nil depend depend acl acl self end def has mani attach name depend purg later acl privat servic servic generat associ method class eval CODE FILE LINE def name activ storag attach activ storag attach name ActiveStorag Attach Mani new name self depend depend purg later purg later fal acl acl end def name attach if ActiveStorag replac on assign to mani attach chang name if Array attach none ActiveStorag Attach Chang DeleteMani new name self el ActiveStorag Attach Chang CreateMani new name self attach depend depend purg later purg later fal acl acl end el if Array attach ani attach chang name ActiveStorag Attach Chang CreateMani new name self name blob attach depend depend purg later purg later fal acl acl end end end CODE has mani name attach where name name as record class name ActiveStorag Attachment inver of record depend destroy do def purg each purg reset end def purg later each purg later reset end end has mani name blob through name attach class name ActiveStorag Blob sourc blob scope with attach name includ name attach blob after save attach chang name to s save after commit on i creat updat attach chang delet name to s tri upload ActiveRecord Reflect add attach reflect self name ActiveRecord Reflect creat has mani attach name nil depend depend acl acl self end end end Expect behavior It should be abl to creat the record Actual behavior I am face this error ActiveRecord NotNullViol PG NotNullViol ERROR null valu in column record id of relat activ storag attach violat not null constraint System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":1,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use relat includ of READMEs in document ci skip The Rail document use the includ direct to inlin the README of the framework into the main document page As the READMEs arent in the root directori from where SDoc is run we need to add the framework path to the includ includ activesupport README md This result in a warn when instal the gem as generat the rdoc for the gem is run from the gem framework root Couldnt find file to includ activesupport README rdoc from lib activ support rb The includ RDoc direct support includ relat to the current file as well includ README md This make sure it work for the Rail API doc and the separ gem Addition inform Fix https github com rail rail issu Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":0,"actiontext":1,"actionview":1,"activejob":1,"activemodel":1,"activerecord":1,"activestorage":1,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"RateLimit Cleanup Followup https github com rail rail pull Some small issu I fail to address in the origin PR","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"stabl Fix Active Storag test configur for CI This is a resubmiss of on an upstream branch to test the integr secret are not avail in fork While investig I found that the servic configur were miss I think due to We should expect the S and GCS test to run here like in stabl https buildkit com rail rail build d bb d b dcab Skip Azure Storag Direct Upload test becaus no Azure Storag configur was suppli Skip Azure Storag Public Servic test becaus no Azure configur was suppli Skip Azure Storag Servic test becaus no Azure configur was suppli Skip GCS Public Servic test becaus no GCS configur was suppli usr local bundl gem googleauth lib googleauth helper connect rb warn attribut accessor as modul function usr local bundl gem googl api core lib googl api core base servic rb warn method redefin discard old client Skip S Public Servic test becaus no S configur was suppli usr local bundl gem aw sdk s lib aw sdk s endpoint provid rb warn assign but unus variabl key usr local bundl gem aw sdk s lib aw sdk s endpoint provid rb warn assign but unus variabl prefix Howev you can see in the build from that PR that all servic are skip https buildkit com rail rail build ba a de d d ab fcd Skip S Direct Upload test becaus no S configur was suppli Skip GCS Direct Upload test becaus no GCS configur was suppli Skip Azure Storag Direct Upload test becaus no Azure Storag configur was suppli Skip Azure Storag Public Servic test becaus no Azure configur was suppli Skip Azure Storag Servic test becaus no Azure configur was suppli Skip GCS Public Servic test becaus no GCS configur was suppli Skip GCS Servic test becaus no GCS configur was suppli Skip S Public Servic test becaus no S configur was suppli Skip S Servic test becaus no S configur was suppli I wasnt abl to find a previous build on stabl branch older than that so go on a hunch here Go to see if this at least get the test run in CI for this branch first sinc the work to remov the dummi applic is probabl not go to be backport","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"stabl Tri to fix Active Storag test configur for CI While investig I found that the servic configur were miss I think due to We should expect the S and GCS test to run here like in stabl https buildkit com rail rail build d bb d b dcab Skip Azure Storag Direct Upload test becaus no Azure Storag configur was suppli Skip Azure Storag Public Servic test becaus no Azure configur was suppli Skip Azure Storag Servic test becaus no Azure configur was suppli Skip GCS Public Servic test becaus no GCS configur was suppli usr local bundl gem googleauth lib googleauth helper connect rb warn attribut accessor as modul function usr local bundl gem googl api core lib googl api core base servic rb warn method redefin discard old client Skip S Public Servic test becaus no S configur was suppli usr local bundl gem aw sdk s lib aw sdk s endpoint provid rb warn assign but unus variabl key usr local bundl gem aw sdk s lib aw sdk s endpoint provid rb warn assign but unus variabl prefix Howev you can see in the build from that PR that all servic are skip https buildkit com rail rail build ba a de d d ab fcd Skip S Direct Upload test becaus no S configur was suppli Skip GCS Direct Upload test becaus no GCS configur was suppli Skip Azure Storag Direct Upload test becaus no Azure Storag configur was suppli Skip Azure Storag Public Servic test becaus no Azure configur was suppli Skip Azure Storag Servic test becaus no Azure configur was suppli Skip GCS Public Servic test becaus no GCS configur was suppli Skip GCS Servic test becaus no GCS configur was suppli Skip S Public Servic test becaus no S configur was suppli Skip S Servic test becaus no S configur was suppli I wasnt abl to find a previous build on stabl branch older than that so go on a hunch here Go to see if this at least get the test run in CI for this branch first sinc the work to remov the dummi applic is probabl not go to be backport","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add note about param hash in Action Control Overview ci skip Motiv Background Newbi tend to misunderstand param hash is a plain old Hash So I ad a note that param hash is ActionControl Paramet Detail This Pull Request chang Paramet in Action Control Overview Screenshot at https github com rail rail asset de dc d d b b ab abbac a Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"rail rout unus error for nil control I dont know how to reproduc this one but Ill describ it Run rail rout unus rai rail command unus rout unus rout command rb in action miss undefin method to sym for nil NoMethodError I seem to somehow have three instanc of ActionDispatch Journey Rout where their RouteInfo control name and action name are nil If I add a line in RouteInfounus I can get the command to work for me super help command by the way def unus return fal if control name nil This line control class miss action miss templat miss end If I comment out all my applic rout I still get this problem so Im guess the problem rout are come from gem or someth in my particular Rail configur One of the bad rout for instanc give an instanc of Sprocket Environ on app app System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Alway request primari key in RETURNING if no other column request Potenti substitut https github com rail rail pull Address https github com rail rail issu Address https github com rail rail issu Prior Rail alway includ primari key in RETURNING claus on record creation This was chang in to includ more auto popul column if such column exist This chang lead to situat where no column were request in RETURNING claus even the primari key This chang bring back the old behavior of alway request the primari key in RETURNING claus if no other column are request Test I ad two separ test to cover both report scenario Rail doesnt request PK after insert a row in a view Rail doesnt request PK if PK popul by someth Rail cant know about exampl Vitess or a trigger","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail x after destroy not trigger when a befor creat on associ model is defin Step to reproduc Prerequisit state enum https github com amatsuda state enum rspec rubi ORDER MAX ITEMS Schema Informat Tabl name order id integ not null primari key code string cart user id string status integ custom id integ invoic profil id integ creat at datetim not null updat at datetim not null expir timestamp datetim payment datetim datetim payment method id string payment method type string error info json class Order ApplicationRecord Associat has mani order item depend destroy autosav true Enum enum status expir do event expir do befor self order item transit all paid cancel expir end end def check max order item reach if order item size ORDER MAX ITEMS rai Error CustomError new order check max order item reach reach Maximum Order item reach end end end Schema Informat Tabl name order item id integ not null primari key order id integ not null status integ product code integ item type string item id integ price float creat at datetim not null updat at datetim not null is execut boolean execut datetim datetim dns setup integ appli to all boolean templat dns integ amount tax float vat integ class OrderItem ApplicationRecord deleg check max order item reach to order Associat belong to order belong to item polymorph true option true befor creat check max order item reach after destroy destroy associ record end Expect behavior It should trigger after destroy as expect Actual behavior It doesnt trigger the after destroy in OrderItem model after Ive ad the befor creat callback System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Refactor ActionControl RateLimit to use AS Cach Given that the limit implement provid by Kredi is a simpl increment with a limit all ActiveSupport Cach alreadi provid that same capabl with a wide rang of back store and not just Redi This even allow to use SolidCach has a backend if you so desir If we feel particular fanci we could also accept a more generic limit interfac to better allow user to swap the implement for better algorithm such as leaki bucket etc FYI dhh rafaelfranca","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Preserv asset pipelin propshaft when run app updat Motiv Background This Pull Request has been creat becaus skip sprocket wasnt be preserv when run app updat in a project use propshaft Help when land Detail This Pull Request set option asset pipelin in AppUpdater base on whether Sprocket Propshaft Railti is defin Without this chang app updat will suggest inject sprocket configur in a propshaft project","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix ActiveSupport Notif publish event to preserv unit Ref https github com rail rail pull Fix https github com rail rail pull Fix https github com rail rail pull When republish a an event into a start finish tupl we need to convert the timestamp back into second cc fatkodima rporrasluc To be backport in and","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix async queri to work with queri cach and other cach async queri Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"rail server rail new blog cd blog rail server Usage rail new APP PATH option Option skip namespac no skip namespac Skip namespac affect on isol engin Default fal skip colli check no skip colli check Skip colli check Default fal r rubi PATH Path to the Rubi binari of your choic Default usr local bin rubi n name NAME Name of the app m templat TEMPLATE Path to some applic templat can be a filesystem path or URL d databa DATABASE Preconfigur for select databa option mysql trilog postgresql sqlite oracl sqlserver jdbcmysql jdbcsqlite jdbcpostgresql jdbc Default sqlite G skip git no skip git Skip git init gitignor and gitattribut skip docker no skip docker Skip Dockerfil dockerignor and bin docker entrypoint skip keep no skip keep Skip sourc control keep file M skip action mailer no skip action mailer Skip Action Mailer file skip action mailbox no skip action mailbox Skip Action Mailbox gem skip action text no skip action text Skip Action Text gem O skip activ record no skip activ record Skip Active Record file skip activ job no skip activ job Skip Active Job skip activ storag no skip activ storag Skip Active Storag file C skip action cabl no skip action cabl Skip Action Cabl file A skip asset pipelin no skip asset pipelin Indicat when to generat skip asset pipelin a asset pipelin ASSET PIPELINE Choo your asset pipelin option sprocket default propshaft Default sprocket J skip js skip javascript no skip javascript Skip JavaScript file skip hotwir no skip hotwir Skip Hotwir integr skip jbuilder no skip jbuilder Skip jbuilder gem T skip test no skip test Skip test file skip system test no skip system test Skip system test file skip bootsnap no skip bootsnap Skip bootsnap gem skip dev gem no skip dev gem Skip develop gem e g web consol dev no dev Set up the applic with Gemfil point to your Rail checkout edg no edg Set up the applic with a Gemfil point to the stabl branch on the Rail repositori master main no main Set up the applic with Gemfil point to Rail repositori main branch rc RC Path to file contain extra configur option for rail command no rc Skip load of extra configur option from railsrc file api no api Preconfigur smaller stack for API on app Default fal minim no minim Preconfigur a minim rail app j js javascript JAVASCRIPT Choo JavaScript approach option importmap default bun webpack esbuild rollup Default importmap c css CSS Choo CSS processor option tailwind bootstrap bulma postcss sass check https github com rail cssbundl rail for more option B skip bundl no skip bundl Dont run bundl instal skip decrypt diff no skip decrypt diff Dont configur git to show decrypt diff of encrypt credenti Runtim option f forc Overwrit file that alreadi exist p pretend no pretend Run but do not make ani chang q quiet no quiet Suppress status output s skip no skip Skip file that alreadi exist Rail option h help no help Show this help messag and quit v version no version Show Rail version number and quit Descript The rail new command creat a new Rail applic with a default directori structur and configur at the path you specifi You can specifi extra command line argument to be use everi time rail new run in the railsrc configur file in your home directori or in XDG CONFIG HOME rail railsrc if XDG CONFIG HOME is set Note that the argument specifi in the railsrc file dont affect the default valu shown abov in this help messag You can specifi which version to use when creat a new rail applic use rail new Exampl rail new Code Rubi weblog This generat a new Rail app in Code Rubi weblog rail new weblog This generat a new Rail app with the provid version in weblog rail new weblog api This generat a new Rail app in API mode in weblog rail new weblog skip action mailer This generat a new Rail app without Action Mailer in weblog Ani part of Rail can be skip dure app generat","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail async count return a complet Promi instead of the valu Step to reproduc Follow this issu https github com rail rail issu I updat my applic to Rail and now async count return instead of the valu direct I creat a reproduct repo same as last time and updat the case https github com guillaumebriday async count bug here is the control https github com guillaumebriday async count bug blob main app control post control rbL here is the view https github com guillaumebriday async count bug blob main app view post index html erbL L ping fatkodima Actual behavior We need to use valu valu to get the actual valu instead of valu on as it was befor Screenshot at https github com rail rail asset bc f ac f d c ba a System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Fix thread issu with strict local Fix When the server boot up thread hit the same UnboundTempl instanc befor it has set up templat Both thread get past the unless templat templat local check becaus templat local isnt set yet Howev with write lock one thread wait while the other one proceed set templat to a frozen hash The second thread then get the write lock and tri to modifi templat but it has been frozen","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Thread issu with strict local in ActionView Weve been see occas error when boot up our applic come from templat with strict local enabl Its not super common and on happen on applic load FrozenError cant modifi frozen Hash GEM ROOT gem actionview lib action view unbound templat rb in block in bind local GEM ROOT gem actionview lib action view unbound templat rb in synchron GEM ROOT gem actionview lib action view unbound templat rb in bind local GEM ROOT gem actionview lib action view templat resolv rb in block in find all GEM ROOT gem actionview lib action view templat resolv rb in map GEM ROOT gem actionview lib action view templat resolv rb in find all Look at the sourc code https github com rail rail blob fd f ff a c c d fa a actionview lib action view unbound templat rbL L I think I might know what is happen When the server boot up thread hit the same UnboundTempl instanc befor it has set up templat Both thread get past the unless templat templat local check becaus templat local isnt set yet Howev with write lock one thread wait while the other one proceed set templat to a frozen hash The second thread then get the write lock and tri to modifi templat but it has been frozen It look to me like it might make sen to move the templat local dup templat bit into an el case below to prevent subsequ thread from tri to modifi the hash Step to reproduc Its a bit tricki to reproduc but I think you could do it if you put a bind just after the unless templat templat local and had two process tri to access a templat for the first time When both are there you could exit the bind and one process should caus an error Expect behavior It should not rai an error when templat are load and strict local are in use Actual behavior We get error on mani of our deploy as the server boot up System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix t refer valid option on Rail Motiv Background Option valid was ad for Migrat class and a compat layer was ad to ensur that previous Migrat version do not have their option valid Howev the t refer method was miss in the compat layer which result in pre Migrat valid option pass to t refer Detail This commit fix the issu by ad t refer to the compat layer See also a similar fix for add refer https github com rail rail commit e da ebd c af d a e f https github com rail rail commit b e d b c c df c afbf cc Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":1,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Test cant run without yarn Step to reproduc Creat a new rail app that use yarn docker build t testimag docker run it testimag bin bash bin rail test Expect behavior As the imag alreadi contain all precompil asset I would expect the test to be abl to run success even without precompil first Actual behavior bin rail test now alway run test prepar which tri to compil the asset and therefor crash becaus the default Dockerfil doesnt keep yarn in the imag I want an option to skip run test prepar when run test System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Merg pull request from rail fix video preview nplus Backport activ storag N bugfix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Request renam Rail consol as irr or someth other than irb Mayb not the right place to post this But it confus that the prompt for irb and rail consol is the same","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":1,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Use includ instead of eager load for with all rich text Motiv Background eager load perform a singl queri use a LEFT OUTER JOIN to load the associ Load the associ in a join can result in mani row that contain redund data and it perform poor at scale With includ a separ queri is perform for each associ unless a join is requir by condit includ is also use by similar method in Active Storag like with attach Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"The counter cach column method is depend of initiali order Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org gem rail github rail rail branch main gem sqlite end requir activ record requir minitest autorun requir logger ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl peopl forc true do t t integ car count default end creat tabl car forc true do t t belong to person end end class Car ActiveRecord Base belong to person counter cach true end If the Person class was defin befor the test below would work class Person ActiveRecord Base has mani car end class BugTest Minitest Test def test counter cach column assert Person counter cach column car count assert not Car counter cach column car count end end Expect behavior the Person class should identifi clear car count as a counter cach column Actual behavior Sinc Person is initi afterward when run belong to the car count column is not ad to it counter cach System configur Rail version found in present in edg as well Rubi version Note In the actual ActiveRecord test suit this test could fall if in the futur a file requir first model car is load befor the counter cach test file Also Id be so glad to work on the solut It seem to me that the issu is that this express https github com rail rail blob be d d e c activerecord lib activ record associ builder belong to rbL C L C can return nil Im just not sure how it should be solv by rai autoload warn","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix calcul of SQL runtim Motiv Background This Pull Request has been creat becaus this other PR https github com rail rail pull seem to have introduc a bug in the db runtim emit as part of sql activ record notif The time is calcul use ActiveSupport Notif monoton subscrib which use Process clock gettim Process CLOCK MONOTONIC https github com rail rail blob main activesupport lib activ support notif fanout rbL with the default unit second This be run in a Rail consol print rubi ActiveSupport Notif monoton subscrib test event do name start finish id payload put finish start end ActiveSupport Notif instrument test event do sleep second end Also when an ActiveSupport Notif Event is use it need to multipli start and end https github com rail rail blob main activesupport lib activ support notif instrument rbL by same as we are propo here Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Modern method miss implement is both simpler an more correct sinc the keyword argument separ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":1,"actionpack":1,"actiontext":0,"actionview":1,"activejob":0,"activemodel":1,"activerecord":1,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Asset Precompil Issue on CircleICi Step to reproduc I have upgrad my rail applic from to So while run the test case on CircleCi it is not abl to execut below line stylesheet link tag mailer Howev everyth is work fine on local Actual behavior Failur Error stylesheet link tag mailer ActionView Templat Error Error StringMap expect string key System configur Rail version Rubi version Is this relat to asset precompil on CircleCi Plea help me to figur out this I am get this error on rake asset precompil rake abort ExecJS ProgramError Error StringMap expect string key stringmap set","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Handl nil backtrac locat in SyntaxErrorProxi Some SyntaxError s do not have backtrac locat set Previous this would caus an error that would bubbl up to the web server e g with Puma Puma caught this error undefin method map for nil NilClass NoMethodError User eugen lib rail activesupport lib activ support syntax error proxi rb in backtrac locat User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in build backtrac User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in initi User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in new User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in block in wrap caus for User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in caus for User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in each User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in map User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in wrap caus for User eugen lib rail actionpack lib action dispatch middlewar except wrapper rb in initi User eugen lib rail actionpack lib action dispatch middlewar show except rb in new User eugen lib rail actionpack lib action dispatch middlewar show except rb in rescu in call User eugen lib rail actionpack lib action dispatch middlewar show except rb in call User eugen lib rail railti lib rail rack logger rb in call app User eugen lib rail railti lib rail rack logger rb in block in call User eugen lib rail activesupport lib activ support tag log rb in block in tag User eugen lib rail activesupport lib activ support tag log rb in tag User eugen lib rail activesupport lib activ support tag log rb in tag User eugen lib rail activesupport lib activ support broadcast logger rb in method miss User eugen lib rail railti lib rail rack logger rb in call User eugen rbenv version lib rubi gem gem sprocket rail lib sprocket rail quiet asset rb in call User eugen lib rail actionpack lib action dispatch middlewar remot ip rb in call User eugen lib rail actionpack lib action dispatch middlewar request id rb in call User eugen rbenv version lib rubi gem gem rack lib rack method overrid rb in call User eugen rbenv version lib rubi gem gem rack lib rack runtim rb in call User eugen lib rail activesupport lib activ support cach strategi local cach middlewar rb in call User eugen lib rail actionpack lib action dispatch middlewar server time rb in block in call User eugen lib rail actionpack lib action dispatch middlewar server time rb in collect event User eugen lib rail actionpack lib action dispatch middlewar server time rb in call User eugen lib rail actionpack lib action dispatch middlewar executor rb in call User eugen lib rail actionpack lib action dispatch middlewar static rb in call User eugen rbenv version lib rubi gem gem rack lib rack sendfil rb in call User eugen lib rail actionpack lib action dispatch middlewar host author rb in call User eugen lib rail railti lib rail engin rb in call User eugen rbenv version lib rubi gem gem puma lib puma configur rb in call User eugen rbenv version lib rubi gem gem puma lib puma request rb in block in handl request User eugen rbenv version lib rubi gem gem puma lib puma thread pool rb in with forc shutdown User eugen rbenv version lib rubi gem gem puma lib puma request rb in handl request User eugen rbenv version lib rubi gem gem puma lib puma server rb in process client User eugen rbenv version lib rubi gem gem puma lib puma server rb in block in run User eugen rbenv version lib rubi gem gem puma lib puma thread pool rb in block in spawn thread","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow custom domain extractor class on ActionDispatch Http URL In these last year we have been use a monkey patch at our compani that smart detect domain and subdomain accord to the Public Suffix databa https publicsuffix org There are a few gem in our ecosystem like public suffix https github com weppo publicsuffix rubi and mini suffix https github com discour mini suffix that doe exact that But Rail use an older and primit method that split the domain tld use config action dispatch tld length option This pull request chang that by allow develop to specifi a custom domain extractor class This is realli use for ani SaaS compani that offer custom domain and subdomain","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document some ActionText method ci skip Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve document of ActiveRecord Core configur Motiv Background The documen of ActiveRecord Core configur read https edgeapi rubyonrail org class ActiveRecord Core htmlmethod c configur D like the document for the getter instead of the setter It should not describ what is return but what argument are expect This chang move the document of the setter to the getter and add a new comment to the setter This commit has separ commit to make sure the diff on appli to document and not the code Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecord Deleg leak scope to inner queri on the same model Step to reproduc rubi defin a conveni wrapper so we dont alway have to use the clunki syntax def ApplicationRecord replica find each ActiveRecord Base connect to role replica do find each end end send birthday invit User where birth date Date today replica find each do user User where not birth date Date today invit to user end Expect behavior The inner queri is WHERE birth date and find some user Actual behavior The inner queri is WHERE birth date AND WHERE birth date and return an empti relat This is becaus the outer scope where birth date Date today is mix into the inner queri by this code https github com rail rail blob af bbd f ce dd a c c d c fda activerecord lib activ record relat deleg rbL Idea The automat scope usual make sen e g you would want method like this one to adapt correct to Relat rubi def User exagg count count end User exagg count User where creat at day ago exagg count When do inner queri howev the result bug can be quit subtl and hard to track down Idea Warn for access to the same model within ani given block in deleg relat method Idea Revert to the surround scope insid ani given block Idea Deprec deleg of class method non scope through relat and add new helper s to defin such method instead helper s that make it obvious whether or not scope will be appli","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Migrat Rail API doc to use Markdown instead of RDoc format NOTE We arent go to accept ani PR do this migrat From time to time we have to rememb that while document some method on Rail use foo to denot a method name or argument sometim need to chang to be foo in order to be document We also sometim receiv PRs with peopl accid introduc backtick that doesnt have ani effect in the document Our guid also use Markdown syntax so contributor need to know they need to chang syntax when writ document Text editor like VScode dont know how to highlight RDoc code so often see Rail document format like this when you hover over a class Nowaday RDoc support Markdown as syntax So we can avoid all those problem migrat all our API document to use Markdown NOTE We arent go to accept ani PR do this migrat","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Eager load preview imag N For non imag attach like video generat repres are creat as a preview imag attach instead of as normal variant and as a result arent includ in the with attach scope This add those preview imag attach to the includ of these scope to avoid an N when iter over a collect of attach and fetch the key of their repres variant Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Make schema dump queri cach replica and databa task configur via DATABASE URL Fix https github com rail rail pull I went a bit farther and handl all the boolean config not just schema cach Co Author By mscoutermarsh","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update the screenshot in the section of Get Start with Rail ci skip Motiv Background Ive been follow the get start guid https edgeguid rubyonrail org get start html Upon reach the end of section I notic sever differ between the output display in the guid screenshot and what appear on my comput rail version Rail rubi version rubi The posit of Edit Back differ While the guid provid an explan for Destroy it doesnt offer one for Back My output lack the Titl and Text element The text Rail is Awesom appear larger due to the h tag I would like to updat the exist screenshot Detail This Pull Request chang articl with comment png in guid asset imag get start Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action Mailbox mistak attach as bodi if no bodi exist I have set up a mailbox to process DMARC report This has been work fine in most case but it seem that sometim Googl doesnt includ bodi text in the email on a zip XML file as an attach When this happen Action Mailbox decod the Base encod of the attach and assign the string repres of the binari data to the bodi of the messag without ad the file as an attach I have notic that the email also isnt recogni as be multipart Step to reproduc Ive creat a gist which includ the unedit email sourc https gist github com HashNotAdam f d e e e e fa c b as copi from the EML file store by Active Storag Expect behavior The bodi of the messag should includ the Base encod of the attach and there should be attach repr a ZIP file Actual behavior Call bodi to s on the under Mail Messag will return a string repres of the binari data which can be unzip to return the XML If the EML file were to be open in an email client this would be present as an attach System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":1,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow name variant to evalu dynam transform option Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Sometim you want to build a transform base on the user input or inform persist in the databa i e add a watermark to a pictur crop base on user input Detail This PR allow the transform to be built base on user input rubi class User ApplicationRecord has one attach photo do attach attach variant default crop user user crop posit attach variant thumb crop crop posit resiz to limit end def crop posit crop x crop y crop x crop y end end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":1,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"remov deprec yarn check in bin setup Motiv Background While run a fresh Rail instal I got a bunch of warn from the command yarn check check file and dig a bit into the document https classic yarnpkg com lang en doc cli check toc yarn check This Pull Request has been creat becaus it appear the check command is deprec and will be remov in Yarn https github com yarnpkg rfcs pull Detail This Pull Request chang the generat to replac system yarn check check file system yarn instal by the recommend command system yarn instal check file Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Re word CHANGELOG entri ci skip Follow up to Replac shell word expan with full English In addit to that chang elabor on the chang with more detail explan https github com rail rail pull discuss r","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add silenc for Action View Start subscrib Motiv Background Ref Previous the render templat action view and render layout action view event would alway be handl as if they had subscrib even if the log level of it subscrib result in noth be log For regular LogSubscrib s subscrib log level could be use to optim these case but the Start subscrib is not a subclass of LogSubscrib Detail This commit implement a subscrib method for the Start subscrib so that it can also benefit from the subscrib log level optim Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport Remov codespel step from CI Backport https github com rail rail pull to stabl Note In stabl the lint is on use for check the codespel so we can complet remov the lint yml cc zzak","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix typo in ActiveSupport changelog Backport to as well becaus https github com rail rail commit f d a c cb ed f e f e e cc th for which contain this for but hasnt been merg yet","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveRecordattribut is affect immedi after migrat Summari column and column name cach the schema definit so the return valu will not chang after a migrat Howev the attribut method is alway affect by the latest DB schema This behavior can caus problem when ad new column in roll deploy This is becaus older revi of the Rail server do not support the new column Step to reproduc rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail gem sqlite end requir activ record requir minitest autorun requir logger This connect will do for databa independ bug report ActiveRecord Base establish connect adapt sqlite databa memori ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl post forc true do t end end class AddTitleToPost ActiveRecord Migrat def self up add column post titl string end end class Post ActiveRecord Base end class BugTest Minitest Test def test post attribut Post creat post Post first assert equal id post id post attribut AddTitleToPost up column and column name return column inform befor migrat assert equal Post column size assert equal id Post column name Cach is effect if the same SQL is specifi so add SQL comment to avoid it post Post annot after migrat first assert equal id post id post attribut Failur BugTesttest post attribut issu rb Expect id Actual id titl nil end end Expect behavior I think the attribut method should return a Hash that match the inform befor migrat similar to column and column name Actual behavior The attribut method includ the same column as the latest DB schema System configur Rail version v Rubi version v Addition inform Using column name allow you to use attribut safe in roll deploy rubi post attribut slice Post column name But this code is not cool","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov python setup from CI We recent remov codespel from the CI https github com rail rail pull python was configur for run the codespel","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport Remov codespel step from CI from stabl Backport https github com rail rail pull to stabl","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Allow schema dump databa config to be set via DATABASE URL In databa yml schema dump can current be set to fal nil or a file path I found that if you configur your databa via DATABASE URL the fal valu doe not work becaus it come through as a string This chang allow schema dump fal to disabl the dump via databa url Addition inform Origin PR for schema dump https github com rail rail pull Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Update FormHelp comment to use form with instead of form for ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus comment in ActionView Helper FormHelp refer to the deprec form for instead of the recommend form with This could potenti caus confus for develop consult the Rail API document such as Action View Form Builder page https api rubyonrail org class ActionView Helper FormBuild html Detail This Pull Request chang the comment in ActionView Helper FormHelp replac instanc of form for with form with Addition inform The Rail guid has alreadi document the usag of form with on the form helper page https guid rubyonrail org form helper html Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov t verbo true from Rake test task Here is an exampl of the output it generat User dorianmariefr asdf instal rubi bin rubi w Ilib User dorianmariefr asdf instal rubi lib rubi gem gem rake lib rake rake test loader rb test action error test rb test array inquir test rb test autoload test rb test benchmark test rb test broadcast logger test rb test cach cach coder test rb test cach cach entri test rb test cach cach key test rb test cach cach store logger test rb test cach cach store namespac test rb test cach cach store set test rb test cach local cach middlewar test rb test cach serial with fallback test rb test cach store file store test rb test cach store mem cach store test rb test cach store memori store test rb test cach store null store test rb test cach store redi cach store test rb test callback inherit test rb test callback test rb test clean backtrac test rb test clean logger test rb test concern test rb test concurr load interlock awar monitor test rb test configur test rb test configur file test rb test core ext array access test rb test core ext array conver test rb test core ext array extract option test rb test core ext array extract test rb test core ext array group test rb test core ext array wrap test rb test core ext bigdecim test rb test core ext class attribut test rb test core ext class test rb test core ext date and time compat test rb test core ext date ext test rb test core ext date time ext test rb test core ext digest uuid test rb test core ext durat test rb test core ext enum test rb test core ext erb util test rb test core ext file test rb test core ext hash transform valu test rb test core ext hash ext test rb test core ext integ ext test rb test core ext kernel concern test rb test core ext kernel test rb test core ext load error test rb test core ext modul anonym test rb test core ext modul attr intern test rb test core ext modul attribut accessor per thread test rb test core ext modul attribut accessor test rb test core ext modul attribut alia test rb test core ext modul concern test rb test core ext modul introspect test rb test core ext modul remov method test rb test core ext modul test rb test core ext name error test rb test core ext numer ext test rb test core ext object act like test rb test core ext object blank test rb test core ext object deep dup test rb test core ext object duplic test rb test core ext object inclus test rb test core ext object instanc variabl test rb test core ext object json cherri pick test rb test core ext object json gem encod test rb test core ext object to param test rb test core ext object to queri test rb test core ext object tri test rb test core ext object with test rb test core ext pathnam blank test rb test core ext pathnam exist test rb test core ext rang ext test rb test core ext regexp ext test rb test core ext secur random test rb test core ext string ext test rb test core ext symbol ext test rb test core ext time ext test rb test core ext time with zone test rb test current attribut test rb test deep mergeabl test rb test depend test rb test deprec deprec test rb test deprec method wrapper test rb test deprec proxi wrapper test rb test deprec test rb test descend tracker test rb test digest test rb test encrypt configur test rb test encrypt file test rb test environ inquir test rb test error report test rb test event file updat checker test rb test execut context test rb test executor test rb test file updat checker test rb test fork tracker test rb test gzip test rb test hash with indiff access test rb test i n test rb test inflector test rb test isol execut state test rb test json decod test rb test json encod test rb test key generat test rb test lazi load hook test rb test log subscrib test rb test logger test rb test messag encryptor test rb test messag encryptor test rb test messag pack cach serial test rb test messag pack serial test rb test messag verifi test rb test messag verifi test rb test messag messag encryptor metadata test rb test messag messag encryptor rotat test rb test messag messag verifi metadata test rb test messag messag verifi rotat test rb test messag rotat configur test rb test messag serial with fallback test rb test multibyt char test rb test multibyt proxi test rb test notif event notif test rb test notif instrument test rb test notif test rb test number helper i n test rb test number helper test rb test option merger test rb test order hash test rb test order option test rb test paramet filter test rb test reload test rb test rescuabl test rb test safe buffer test rb test secur compar rotat test rb test secur util test rb test share lock test rb test silenc logger test rb test string inquir test rb test subscrib test rb test tag log test rb test test case test rb test test after teardown test rb test test constant lookup test rb test test file fixtur test rb test test method call assert test rb test time travel test rb test time zone test rb test translit test rb test xml mini jdom engin test rb test xml mini libxml engin test rb test xml mini libxmlsax engin test rb test xml mini nokogiri engin test rb test xml mini nokogirisax engin test rb test xml mini rexml engin test rb test xml mini xml mini engin test rb test xml mini test rb","accepted":0,"actioncable":1,"actionmailbox":1,"actionmailer":1,"actionpack":1,"actiontext":1,"actionview":1,"activejob":1,"activemodel":1,"activerecord":1,"activestorage":1,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix IPAddr prefix inform miss when write to cach in msgpack serial Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus we notic the msgpack serial miss the prefix netmask data of IPAddr object when dump Detail This Pull Request fix the miss prefix netmask data of IPAddr object when dump by msgpack serial Addition inform to s is not contain prefix netmask data rubi IPAddr new to s So to s miss the prefix netmask data when dump load by msgpack serial rubi irb main serial ActiveSupport MessagePack CacheSeri irb main serial load serial dump IPAddr new IPAddr object assert IPAddr instanc equal assert is not accur to assert same data This is reason whi I use inspect for test rubi IPAddr new IPAddr new true irb main IPAddr new inspect IPAddr new inspect fal Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix fail test due to activ model not load Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus arel select manag test rb is faill test Detail vscode workspac rail activerecord main bin test test case arel select manag test rb I Run the abov test At that time if this requir activ model is not in activerecord lib arel rb the follow error will occur NameError unin constant Arel Node ActiveModel lib arel node cast rb in build quot test case arel select manag test rb in block level in Mayb from this chang https github com rail rail pull the test is fail Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix LOAD PATH to correct requir file Other I would get error like LoadError cannot load such file rail api generat LoadError We were load the instal rail gem and not the current subdirectori This can be reproduc by do bundl clean forc then rake Fix","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"rail rail is depend on yard rail and sdoc Step to reproduc src git clone git github com rail rail git Clone into rail remot Enumer object done remot Count object done remot Compress object done remot Total delta reus delta pack reus Receiv object MiB MiB s done Resolv delta done src cd rail s rail bundl clean forc Remov actionc Remov actionmailbox Remov actionmail Remov actionpack Remov actiontext Remov actionview Remov activejob Remov activemodel Remov activerecord Remov activestorag Remov activesupport Remov rail Remov railti Remov sdoc Remov yard s rail bundl Bundl complet Gemfil depend gem now instal Use bundl info gemnam to see where a bundl gem is instal s rail rake rake abort LoadError cannot load such file rail api generat LoadError in requir in requir User dorianmariefr src rail railti lib rail api task rb in in requir in requir User dorianmariefr src rail Rakefil in See full trace by run task with trace Expect behavior It run the test Actual behavior It is depend on yard rail and sdoc be instal System configur Rail version commit fb d f d c c dcc af a HEAD main origin main origin HEAD Author Xavier Noria Date Fri Jan Rubi version rubi revi f ac YJIT arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Improve after enqueu exampl Motiv Background This Pull Request has been creat becaus the current exampl suggest that after enqueu is on call if the enqueu is success which is not alway true Detail This Pull Request chang the exampl to highlight the introspect method https github com rail rail commit ee ce cda e b aea b bf ad in Rail Checklist Befor submit the PR make sure the follow are check X This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs X Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number X Test are ad or updat if you fix a bug or add a featur X CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":1,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Optimiz TagBuild tag generat Current there about a differ between tag generat use the TagBuild and tag generat by pass a posit argument to tag This commit optim TagBuild to reduc that differ down to The first chang is to perform less hash alloc by not splat the option twice in the TagBuild one at the tag a invoc and one at tag string The extra splat for tag string was move into method miss sinc that is the on other caller of this privat method The other chang is to on escap the content in tag string if it a non empti Benchmark requir action view requir benchmark ip class Foo includ ActionView Helper end helper Foo new Benchmark ip do x x report tag helper tag a href foo x report tag builder helper tag a href foo x compar end Befor rubi revi e f c arm darwin Warm up tag k i ms tag builder k i ms Calcul tag k i s M in s tag builder k i s M in s Comparison tag i s tag builder i s x slower After rubi revi e f c arm darwin Warm up tag k i ms tag builder k i ms Calcul tag k i s M in s tag builder k i s M in s Comparison tag i s tag builder i s x slower","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add exampl to slice and valu at document ci skip","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update deprec rail guid ci skip Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR Both gem name and deprec horizon were ad to the deprec rail event some time ago in Rail See Changelog entri Pass gem name and deprec horizon to deprec notif https github com rail rail blob stabl activesupport CHANGELOG mdrail april Detail This was ad to be document in the Rail Guid rough a year ago howev it was not back port to previous Rail Guid version such as here https github com rail rail pull file Addition inform We ran into this while upgrad an exist Rail x applic We are unsur if a PR against the stabl branch is the way to proper updat the Rail Edge Guid so plea advi if not Also plea let us know if the Rail and Rail Guid should also have this back port Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ Co author by Stefanni Brasil","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"doc Adjust composit primari key document skip ci Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus the document for composit primari key wasnt correct Detail While work on shoulda matcher I notic that the document is not correct We actual need to declar the queri constraint option in the has mani associ use the same attribut name as the one in the associ object rubi class Author ApplicationRecord self primari key first name last name This was incorrect as first name and last name dont exist on the Book model has mani book queri constraint first name last name Correct way has mani book queri constraint author first name author last name end class Book ApplicationRecord belong to author queri constraint author first name author last name end Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":1,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix singl quot escap on default generat MySQL column Close https github com rail rail issu Motiv Background MySQL support generat column which can be use to creat a column that is comput from an express If singl quot are use in the definit of a default generat column the schema dump will escap the quot twice In a scenario such as the follow rubi creat tabl peopl forc true do t t string first name t string last name t string full name default concat first name utf mb last name end We want the schema dump to look like this rubi t string full name default concat first name utf mb last name And not this which is how it now it is now rubi t string full name default concat first name utf mb last name See the relat issu for more Detail This pull request chang the schema statement generat under the elsif block for a column with DEFAULT GENERATED in the metadata In the chang we simpli gsub the escap as we do in other part of the class Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Incorrect schema dump of default generat column with singl quot Semi relat issu https github com rail rail issu MySQL support generat column which can be use to creat a column that is comput from an express If singl quot are use in the definit of a column with a default generat valu the schema dump will escap the quot twice Step to reproduc rubi requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail git https github com rail rail git branch stabl gem mysql end requir activ record requir minitest autorun requir logger ActiveRecord Base establish connect adapt mysql host databa test usernam root password ActiveRecord Base logger Logger new STDOUT ActiveRecord Schema defin do creat tabl peopl forc true do t t string first name t string last name t string full name default concat first name utf mb last name end end class BugTest Minitest Test def test schema dump stream ActiveRecord SchemaDump dump ActiveRecord Base connect StringIO new default generat definit stream string split n grep t string full name first strip assert equal t string full name default concat first name utf mb last name default generat definit end end Expect behavior The output of the schema dump for the default generat column should be the follow rubi t string full name default concat first name utf mb last name Actual behavior The output of the schema dump for the default generat column is as follow in the current iter rubi t string full name default concat first name utf mb last name This result in issu with import the Rubi schema to an empti databa ActiveRecord StatementInvalid Mysql Error syntax error at posit near ActiveRecord StatementInvalid Howev upon remov the escap and reimport the Rubi schema it succeed with the MySQL databa in the correct state System configur Rail version Rubi version rubi revi e f c arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Document pass hash as id option on creat tabl Motiv Background The id keyword argument pass to creat tabl https api rubyonrail org class ActiveRecord ConnectionAdapt SchemaStat htmlmethod i creat tabl method allow to receiv a hash with option for column creation but it not document","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Upgrade minitest from to to fix mutex m deprec When run ani test on the rail test suit e g even do rake a warn would show with User dorianmariefr asdf instal rubi lib rubi gem gem minitest lib minitest rb warn mutex m was load from the standard librari but will no longer be part of the default gem sinc Rubi Add mutex m to your Gemfil or gemspec Also contact author of minitest to add mutex m into it gemspec This is fix in the last version of minitest https github com minitest minitest issu https github com minitest minitest blob master Histori rdoc https github com minitest minitest commit f c f fd b b ce b f cf d","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Remov nest to improv readabl Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat becaus at first when I read this process I did not immedi understand the process I would like to improv readabl by do an ear return Detail This Pull Request chang Remov nest of if statement in danger class method method https github com rail rail blob main activerecord lib activ record attribut method rbL Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add test for not purg non referenc file This was probabl fix between Rail and Rail c ef current main We encount this problem on Rail Motiv Background We had a chang in sign id that affect our action text rich text mention and file So I edit the rich text content but it delet some file Detail I want to fix this on rail main but I notic it was alreadi fix not sure when or by who Addition inform See https github com rail rail issu Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":1,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Action View Test Use with rout helper Motiv Background Follow up to Detail Sinc resolv an issu with ActionDispatch IntegrationTestwith rout helper support Action View test abstract unit rb file can reli on rout be reset within the block argument This mean that the RoutedRackApp class and build app method is can be made unnecessari https github com rail rail pull","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":1,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Requir activ support core ext integ time alon rai an except Step to reproduc In the latest rail updat our CI rai with bundl exec rake db drop rake abort NoMethodError undefin method deprec for ActiveSupport Modul NoMethodError deprec to default s to s deprec ActiveSupport deprec Did you mean deprec constant home jenkin bundl rb gem activesupport lib activ support core ext array conver rb in home jenkin bundl rb gem activesupport lib activ support core ext array conver rb in in requir in requir home jenkin bundl rb gem activesupport lib activ support durat rb in in requir in requir home jenkin bundl rb gem activesupport lib activ support core ext integ time rb in in requir in requir home jenkin workspac scc multibranch PR glue Rakefil in home jenkin bundl rb gem rake exe rake in See full trace by run task with trace When call it manual irb rubi irb main requir activ support core ext integ time home jenkin bundl rb gem activesupport lib activ support core ext array conver rb in undefin method deprec for ActiveSupport Modul NoMethodError deprec to default s to s deprec ActiveSupport deprec Did you mean deprec constant from home jenkin bundl rb gem activesupport lib activ support core ext array conver rb in from in requir from in requir from home jenkin bundl rb gem activesupport lib activ support durat rb in from in requir from in requir from home jenkin bundl rb gem activesupport lib activ support core ext integ time rb in from in requir from in rescu in requir from in requir from irb in from home jenkin bundl rb gem irb exe irb in from usr bin irb rubi in load from usr bin irb rubi in in requir cannot load such file activ support core ext integ time LoadError from in requir from irb in from home jenkin bundl rb gem irb exe irb in from usr bin irb rubi in load from usr bin irb rubi in I went through the requir file chain and it goe like Rakefil requir activ support core ext integ time https github com rail rail blob v activesupport lib activ support core ext integ time rbL activ support core ext integ time requir core ext numer time https github com rail rail blob v activesupport lib activ support core ext numer time rbL core ext numer time requir activ support durat https github com rail rail blob v activesupport lib activ support durat rbL activ support durat requir activ support core ext array conver https github com rail rail blob v activesupport lib activ support core ext array conver rbL C L C where the error rai rubi deprec to default s to s deprec ActiveSupport deprec Look like ActiveSupport deprec from activ support deprec https github com rail rail blob v activesupport lib activ support deprec rb is not requir autoload anywh when requir activ support core ext integ time alon Expect behavior Should not rai as the previous version Actual behavior Rai an except System configur Rail version rail Rubi version rubi revi e c x linux gnu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail Upgrade to version I have upgrad my applic from Rail to rubi doctyp html html head meta http equiv Content Type content text html charset utf stylesheet link tag mailer bodi tabl logo width align center cellpad cellspac tr td align left img src test png yield div footer p Thank You br Power by Test br Know Your Build Inside Out TM Expect behavior It should render this Actual behavior Failur Error stylesheet link tag mailer ActionView Templat Error Error StringMap expect string key System configur Rail version Rubi version Plea help me to figur out this issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix fail test due to the relat path output of minitest at v This patch fix fail test to pass regardless of minitest version Motiv Background minitest has been updat to output relat path for failur at v https github com minitest minitest commit e bade cffb faedd cb a ec This caus test failur of test generat plugin test runner test rb Detail This patch fix the regular express to run regardless of minitest version Addition inform Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Ensure on directori exist in Rail default load path Motiv Background As comment at https github com rail rail issu issuecom file such as app README md should not be in the autoload path Detail This PR remov file from the default load path set up by the Rail framework Addition inform Although File stub exist true in exist test has been chang to File stub directori true it is obvious that this doe not break the object of the test Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Downca the model name in the system scaffold Motiv Background I notic there is an inconsist in the system test scaffold where the model name is sometim capitali This fix the two instanc where the model name is humani rb test should creat user test should updat User test should destroy User Consid all the other scaffold use lowerca text I think it right these two are downca in the same way Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Pool disabl queri cach handl Motiv Background For Solid Cach https github com rail solid cach we want to be abl to read and write from the cach databa without use the queri cach We also dont want to expir the queri cach on other connect pool when we write Write to the Rail cach shouldnt invalid the main queri cach This is an altern to https github com rail rail pull base on byroot suggest here https github com rail rail pull issuecom Detail After a databa write we clear the queri cach on all connect pool The chang here is that we will now on do that if either the connect pool or the connect itself has the queri cach enabl The queri cach is enabl on all connect pool https github com rail rail blob cff eb be cb b e caa bd ec e activerecord lib activ record queri cach rbL L by the executor hook so to take advantag of this well need to add anoth executor hook that disabl the queri cach on the Solid Cach connect pool but on when it has a dedic pool Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"config after rout load defin on config applic rb never call Step to reproduc Pass a block to config after rout load insid the config applic rb Run the applic by ani mean rail runner rail consol rail server etc The block will never get call rubi frozen string liter true requir bundler inlin gemfil true do sourc https rubygem org git sourc github repo https github com repo git gem rail If you want to test against edg Rail replac the previous line with this gem rail github rail rail branch main end requir action control railti AFTER ROUTES LOADED CALLBACK CALLED fal class TestApp Rail Applicat config root dir config host exampl org config secret key base secret key base config logger Logger new stdout Rail logger config logger config after rout load do AFTER ROUTES LOADED CALLBACK CALLED true end rout draw do get testindex end end class TestControl ActionControl Base includ Rail applic rout url helper def index render plain Home end end requir minitest autorun requir rack test class BugTest Minitest Test includ Rack Test Method def test return success get assert last respon ok end def test after rout load callback call assert AFTER ROUTES LOADED CALLBACK CALLED after rout load was never call end privat def app Rail applic end end Expect behavior The block should be call after applic rout are load includ on each possibl reload of the rout Actual behavior The block is never call System configur Rail version test against both and edg Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":1}
{"description":"Fix indent in SQLite databa yml Nitpick RE https github com rail rail pull Befor imag https github com rail rail asset dccf e ee f f ef After imag https github com rail rail asset bf fa f e b f ddfd","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Rail eager load by default disabl when one column is set to nullabl in databa schema Step to reproduc Ive got a model call Occurenc Schema rubi class CreateOccur ActiveRecord Migrat def chang creat tabl occur do t t integ state null fal t string injector null fal t string descript null true t string start employ null fal t string finish employ null true t timestamp start null fal t timestamp finish null true end add foreign key occur injector column injector add foreign key occur employ column start employ add foreign key occur employ column finish employ end end Model rubi class Occurenc ApplicationRecord belong to injector foreign key injector belong to start employ foreign key start employ class name Employ belong to end employ foreign key finish employ class name Employ option true end And a Employ model Schema rubi class CreateEmploy ActiveRecord Migrat def chang creat tabl employ id fal do t t string id null fal index uniqu true primari key true t string name null fal end end end Model rubi class Employ ApplicationRecord has mani start employ foreign key start employ has mani finish employ foreign key finish employ end On object creation finish employ is undefin on updat finish employ is be set Expect behavior The key problem here is that rail lose abil to eager load a column when it can be null whatev it goe as valu Actual behavior When I updat the occur object to provid finish employ and finish attribut as of my definit in code finish employ expect instanc of Employ so under occur finish employ goe queri with find function to find the actual employ To my supri when I tri to save updat occur rail tri to save rubi object id Employ x f as a string not it actual id as it was in start employ Despit of write Employ object itself under occur start employ it been save as employ id The same happen when I fetch this start employ is be return as eager load object not on employ id finish employ is load with load on with pure id Hope you get my problem Here is exampl of one fetch occur after the initi creation and updat with finish valu In this exampl I was forc to pass on the id of fetch Employ to the finish employ attribut caus it otherwi tri to save rubi object id problem is I dont have ani employ with such an ID data id state injector id ST locat id Locat name durat ip descript start employ id name Surnam Name finish employ start T Z finish T Z System configur Rail version Rubi version","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Expand document for ActiveRecord Core dup and clone Split the exampl for clone into separ section for easier scanabl Adds exampl to dup to clarifi the differ with clone Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix assert method call Follow up to assert queri was renam to assert queri count in","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Fix Do not trigger load of ActiveJob Base in ActiveJob TestHelp Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background Describ whi this Pull Request need to be merg What bug have you fix What featur have you ad Whi is it import If you are fix a specif issu includ Fix ISSUE replac with the issu number remov the quot and the issu will be link to this PR This Pull Request has been creat to avoid the immedi load of ActiveJob Base when load ActiveJob TestHelp Fix https github com rail rail issu Detail This Pull Request wrap a modif on ActiveJob Base in an ActiveSupport on load activ job hook to defer load until absolut necessari Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":1,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Prevent CurrentAttribut default from leak Follow up to Prior to this commit all ActiveSupport CurrentAttribut subclass store their default valu in the same Hash caus default valu to leak between class This commit ensur each subclass maintain a separ Hash This commit also simplifi the resolut of default valu replac the merg default method with resolv default","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":1,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"ActiveJob TestHelp should not trigger the immedi load of ActiveJob Base Descript ActiveJob TestHelp trigger the immedi load of ActiveJob Base becaus of the follow line in it implement https github com rail rail blob d d be e c f a debe cf d d activejob lib activ job test helper rbL This is unexpect as other part of ActiveJob take great care of defer the load of ActiveJob Base thank to the follow construct rubi ActiveSupport on load activ job do Do someth with ActiveJob Base end Unfortun this can lead to situat in which ActiveJob configur are not appli becaus defin after the load of ActiveJob Base Exampl of such a situat Have a gem in the Gemfil that most like inadvert trigger the load of ActiveJob TestHelp Have ActiveJob configur a in config initi activ job rb file load after the gem from the applic Step to reproduc In a termin set up this demo applic shell rail new activ job issu cd activ job issu cat Gemfil gem api auth group test do gem minitest spec rail end RUBi bundl instal cat config initi activ job rb Rail applic config activ job default queue name custom default queue RUBi mkdir p test job cat test job applic job test rb requir test helper class ApplicationJobTest ActiveSupport TestCa test default queue configur do assert equal custom default queue ApplicationJob default queue name end end RUBi Then run this test shell bin rail test test job applic job test rb Expect behavior The test should pass i e ActiveJob TestHelp should not trigger the immedi load of ActiveJob Base and let the the process load it lazili or eager when actual need Actual behavior The test doe not pass sinc ActiveJob TestHelp trigger the immedi load of ActiveJob Base System configur Rail version main Rubi version Detail explan about the test failur A legaci version of the api auth gem is referenc in the Gemfil which trigger the load of ActionControl Base here https github com mgome api auth blob v lib api auth railti rbL L note that latest version of the gem fix that undesir behavior In turn load ActionControl Base trigger the load of ActionDispatch IntegrationTest in minitest spec rail anoth gem use in test see https github com metaskil minitest spec rail blob v lib minitest spec rail railti rbL https github com metaskil minitest spec rail blob v lib minitest spec rail init action dispatch rbL In turn load ActionDispatch IntegrationTest trigger the load of ActionMail TestHelp here https github com rail rail blob v actionmail lib action mailer railti rbL In turn load ActionMail TestHelp trigger the load of ActiveJob TestHelp here https github com rail rail blob v actionmail lib action mailer test helper rbL Final ActiveJob TestHelp trigger the eager load of ActiveJob Base here https github com rail rail blob v activejob lib activ job test helper rbL This code could should be wrap in a load hook instead diff ActiveJob Base includ TestQueueAdapt ActiveSupport on load activ job do ActiveJob Base includ TestQueueAdapt end Now sinc ActiveJob Base is eager load dure the load of the gem it is befor our initi get a chanc to run and modifi the config which trigger the issu","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"parallel threshold is yesterday I was run the App without a problem but today I cant run This should be simpl but sinc I m new I dont know how to correct this issu Expect behavior The App should just start Actual behavior I receiv this rail s Run test in a singl process parallel threshold is Run option seed Run Finish in s run s assert s run assert failur error skip System configur Rail version Rubi version rubi p revi bb a arm darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update Dockerfil templat to includ work code Motiv Background When make a new rail applic with asset pipelin the Dockerfil generat doe not work out of box Dockerfil requir manual edit to get it to work as should in product environ by pass RAILS MASTER KEi dure build process as ARG When use kamal to deploy this ARG is pass to the docker build command and should be the default pattern unless develop want someth el This Pull Request has been creat becaus the default Dockerfil templat that generat the Dockerfil doe not work in product env and should be updat Detail This Pull Request chang Dockerfil tt Addition inform I use kamal to deploy and this default generat file doe not work when tri to deploy Docker contain to Product Checklist Befor submit the PR make sure the follow are check This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Update ActionDispatch Rout Mapper Scopingconstraint document Thank for contribut to Rail Plea do not make Draft pull request as they still send notif to everyon watch the Rail repo Creat a pull request when it is readi for review and feedback from the Rail team If your pull request affect document or ani non code chang guidelin for those chang are avail here https edgeguid rubyonrail org contribut to rubi on rail htmlcontribut to the rail document About this templat The follow templat aim to help contributor write a good descript for their pull request Wed like you to provid a descript of the chang in your pull request i e bug fix or featur ad motiv behind the chang and complet the checklist below befor open a pull request Feel free to discard it if you need to e g when you just fix a typo Motiv Background The previous recommend to place constraint in lib constraint did not work in practic on a default Rail instal as it will rai the follow unin constant Iphone NameError Instead recommend place constraint in app constraint such that they will be eager load Addition inform Alternat we could updat the document to elabor that lib constraint would need to be explicit eager load rubi config eager load path Rail root join lib constraint Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":1,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Test fail to load Prism proper in Rubi Rubi support Prism out of the box so Rail applic with depend that requir Prism dont need to explicit defin the prism gem in their Gemfil gemspec anymor Howev when updat to Rubi requir prism invok this way wont work when run test Step to reproduc rail new prism issu cd prism issu Gener a model to test against rail g model Foo bar string invok activ record creat db migrat creat foo rb creat app model foo rb invok test unit creat test model foo test rb creat test fixtur foo yml rail db migrat CreateFoo migrat creat tabl foo s CreateFoo migrat s Add requir prism in config applic to emul requir from a depend rubi requir relat boot requir rail all requir prism put Constant is defin Prism Requir the gem list in Gemfil includ ani gem youv limit to test develop or product Bundler requir Rail group Run test bundl exec rail test Expect behavior Test should run without ani issu Actual behavior There is a LoadError for prism prism and Rail act as if the migrat that was run earlier hasnt been run yet Note that Constant is defin Prism is output onc and then the requir line fail bundl exec rail test Constant is defin Prism bin rail abort LoadError cannot load such file prism prism LoadError home gazaya ror prism issu config applic rb in home gazaya ror prism issu Rakefil in requir relat home gazaya ror prism issu Rakefil in bin rail in See full trace by run task with trace Migrat are pend To resolv this issu run bin rail db migrat You have pend migrat db migrat creat foo rb System configur Rail version Rubi version rubi revi f ac x linux rubi revi f ac x darwin","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Prevent unnecessari applic reload in develop Motiv Background As comment in https github com rail rail issu issuecom previous chang in some file outsid the autoload path trigger reload applic For instanc edit app README md would trigger a reload even though the reload class and modul which were under autoload path were ident to those load previous Detail This PR fix this issu by ensur the applic reload correct accord to Rail autoload main dir therebi prevent unnecessari reload Addition inform I have fix the issu accord to the abov comment Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number x Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Would it be possibl to pass depend fal to ActionText RichText We had an issu where we were edit ActionText RichText bodi and it start to purg file imag for instanc Would it be possibl to configur global a has mani attach emb depend fal to not call purg later that call servic delet https github com rail rail blob main actiontext app model action text rich text rbL rubi modul ActionText class RichText Record serial bodi coder ActionText Content deleg to s nil to bodi belong to record polymorph true touch true has mani attach emb end end Im go to tri if a patch work Rubi version not relev but share in case rubi revi f ac YJIT arm darwin Rail version Rail and main Thank Im go to tri to come up with a pull request","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Handl altern base class in defin attribut method Ref https github com rail rail commit d bfb b fd f d b e dee d fr cc ghiculescu rafaelfranca Befor merg Id like a repro so I can includ a test case though","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":1,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Backport Defin miss attribut method from method miss Ref https github com rail rail pull Opene a PR becaus the backport is non trivial so I want CI coverag Also ghiculescu point a possibl issu in https github com rail rail commit d bfb b fd f d b e dee d f so Id like to get to the bottom of that befor merg the backport cc rafaelfranca","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":1,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Introduc Consolid Method for Common Check Operat Problem In our current Rail codeba we frequent encount situat where we need to check the presenc absenc or other condit of multipl variabl which often result in long and repetit code like this if a present b present c present d present e present Do someth end Read and maintain such code can becom cumbersom and error prone especi as the number of variabl increa Propo To address this issu and enhanc the readabl and maintain of our code I think we can introduc consolid method for common check oper These method will simplifi condit check on multipl variabl and promot more eleg and DRi Dont Repeat Yourself code practic Expect behavior New Method all present ani present all nil ani nil all balnk ani blank all true ani true all fal ani fal We can introduc these new method which will accept multipl variabl as argument and return true if all or ani of the variabl are present respect This would allow us to rewrit the previous exampl as follow if all present a b c d e Do someth end if ani present a b c d e Do someth end if all nil a b c d e Do someth end if ani nil a b c d e Do someth end all true all blank etc Gener Method Alternat we can creat more general method that accept both the oper e g present nil blank true fal and the variabl to check For instanc a method signatur might look like check all oper variabl if check all present a b c d e Do someth end if check all nil a b c d e Do someth end This approach would provid flexibl for various type of check beyond just presenc","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":0,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
{"description":"Add warn for non exist directori in autoload path for Zeitwerk Motiv Background This Pull Request has been creat becaus I notic that Rail doe not warn the user when they specifi a non exist directori in the config autoload path or config autoload onc path set This can lead to confus and hard to debug error when the user expect some file to be load but they are not Detail This Pull Request add a warn messag when specifi path for config autoload path and config autoload onc path are not exist directori Below is the exampl messag config autoload path must be exist directori wrong path to load is not an exist directori Addition inform Sinc this PR doe not chang the behavior itself I believ exist test cover this PR The warn messag has been inspir by the follow code https github com rail rail blob e a b b c a b railti lib rail applic bootstrap rbL L Checklist Befor submit the PR make sure the follow are check x This Pull Request is relat to one chang Chang that are unrel should be open in separ PRs x Commit messag has a detail descript of what chang and whi If this PR fix a relat issu includ it in the commit messag Ex Fix issu number Test are ad or updat if you fix a bug or add a featur x CHANGELOG file are updat for the chang librari if there is a behavior chang or addit featur Minor bug fix and document chang should not be includ","accepted":0,"actioncable":0,"actionmailbox":0,"actionmailer":0,"actionpack":0,"actiontext":0,"actionview":0,"activejob":0,"activemodel":0,"activerecord":0,"activestorage":0,"activesupport":0,"asset pipeline":0,"attached PR":0,"autoloading":0,"ci issues":0,"docs":0,"duplicate":0,"encryption":0,"engines":0,"enum":0,"good first issue":0,"i18n":0,"implementation welcome":0,"JRuby":0,"Missing changelog":0,"more-information-needed":0,"MySQL":0,"need rebase":0,"needs backport":0,"needs feedback":0,"needs work":0,"onboarding":0,"onhold":0,"openacademy":0,"parallel testing":0,"pinned":0,"PostgreSQL":0,"rails foundation":0,"rails-ujs":0,"railties":1,"ready":0,"regression":0,"rejected":0,"release blocker":0,"routing":0,"security":0,"SQLite":0,"stale":0,"third party issue":0,"With reproduction steps":0}
